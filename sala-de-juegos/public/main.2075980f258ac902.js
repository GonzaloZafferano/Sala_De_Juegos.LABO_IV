"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{2313:(an,at,W)=>{W.d(at,{nm:()=>On});var p=W(1157),Se=(W(4650),W(3692),W(259),W(5861)),we=W(6881),je=W(4859),Oe=W(2090),Ze=W(1877);const de=new Map,he={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function ht(Ne){return de.get(Ne)||Object.assign({},he)}function At(){return Ce}const Rt="https://content-firebaseappcheck.googleapis.com/v1",Ct="exchangeDebugToken",bt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _e{constructor(Ie,Ae,gt,xt,yn){if(this.operation=Ie,this.retryPolicy=Ae,this.getWaitDuration=gt,this.lowerBound=xt,this.upperBound=yn,this.pending=null,this.nextErrorWaitInterval=xt,xt>yn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ie){var Ae=this;return(0,Se.Z)(function*(){Ae.stop();try{Ae.pending=new Oe.BH,yield function Xe(Ne){return new Promise(Ie=>{setTimeout(Ie,Ne)})}(Ae.getNextRun(Ie)),Ae.pending.resolve(),yield Ae.pending.promise,Ae.pending=new Oe.BH,yield Ae.operation(),Ae.pending.resolve(),yield Ae.pending.promise,Ae.process(!0).catch(()=>{})}catch(gt){Ae.retryPolicy(gt)?Ae.process(!1).catch(()=>{}):Ae.stop()}})()}getNextRun(Ie){if(Ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ae=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ae}}}const st=new Oe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n(Ne,Ie){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,Se.Z)(function*({url:Ne,body:Ie},Ae){const gt={"Content-Type":"application/json"},xt=Ae.getImmediate({optional:!0});if(xt){const Yr=yield xt.getHeartbeatsHeader();Yr&&(gt["X-Firebase-Client"]=Yr)}const yn={method:"POST",body:JSON.stringify(Ie),headers:gt};let Pn,vn;try{Pn=yield fetch(Ne,yn)}catch(Yr){throw st.create("fetch-network-error",{originalErrorMessage:Yr?.message})}if(200!==Pn.status)throw st.create("fetch-status-error",{httpStatus:Pn.status});try{vn=yield Pn.json()}catch(Yr){throw st.create("fetch-parse-error",{originalErrorMessage:Yr?.message})}const kn=vn.ttl.match(/^([\d.]+)(s)$/);if(!kn||!kn[2]||isNaN(Number(kn[1])))throw st.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vn.ttl}`});const _i=1e3*Number(kn[1]),$r=Date.now();return{token:vn.token,expireTimeMillis:$r+_i,issuedAtTimeMillis:$r}})).apply(this,arguments)}const lt="firebase-app-check-database",wt=1,ct="firebase-app-check-store";let Te=null;function Zn(Ne,Ie){return jn.apply(this,arguments)}function jn(){return(jn=(0,Se.Z)(function*(Ne,Ie){const gt=(yield function qe(){return Te||(Te=new Promise((Ne,Ie)=>{try{const Ae=indexedDB.open(lt,wt);Ae.onsuccess=gt=>{Ne(gt.target.result)},Ae.onerror=gt=>{var xt;Ie(st.create("storage-open",{originalErrorMessage:null===(xt=gt.target.error)||void 0===xt?void 0:xt.message}))},Ae.onupgradeneeded=gt=>{0===gt.oldVersion&&gt.target.result.createObjectStore(ct,{keyPath:"compositeKey"})}}catch(Ae){Ie(st.create("storage-open",{originalErrorMessage:Ae?.message}))}}),Te)}()).transaction(ct,"readwrite"),yn=gt.objectStore(ct).put({compositeKey:Ne,value:Ie});return new Promise((Pn,vn)=>{yn.onsuccess=kn=>{Pn()},gt.onerror=kn=>{var _i;vn(st.create("storage-set",{originalErrorMessage:null===(_i=kn.target.error)||void 0===_i?void 0:_i.message}))}})})).apply(this,arguments)}const cr=new Ze.Yd("@firebase/app-check");function Gr(Ne,Ie){return(0,Oe.hl)()?function Le(Ne,Ie){return Zn(function mr(Ne){return`${Ne.options.appId}-${Ne.name}`}(Ne),Ie)}(Ne,Ie).catch(Ae=>{cr.warn(`Failed to write token to IndexedDB. Error: ${Ae}`)}):Promise.resolve()}function Pr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,Se.Z)(function*(){const Ne=At();if(Ne.enabled&&Ne.token)return Ne.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vi={error:"UNKNOWN_ERROR"};function Yn(Ne){return Oe.US.encodeString(JSON.stringify(Ne),!1)}function gn(Ne){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Se.Z)(function*(Ne,Ie=!1){const Ae=Ne.app;!function Ot(Ne){if(!ht(Ne).activated)throw st.create("use-before-activation",{appName:Ne.name})}(Ae);const gt=ht(Ae);let yn,xt=gt.token;if(xt&&!lr(xt)&&(gt.token=void 0,xt=void 0),!xt){const kn=yield gt.cachedTokenPromise;kn&&(lr(kn)?xt=kn:yield Gr(Ae,void 0))}if(!Ie&&xt&&lr(xt))return{token:xt.token};let vn,Pn=!1;if(function Hn(){return At().enabled}()){gt.exchangeTokenPromise||(gt.exchangeTokenPromise=_n(function Ke(Ne,Ie){const{projectId:Ae,appId:gt,apiKey:xt}=Ne.options;return{url:`${Rt}/projects/${Ae}/apps/${gt}:${Ct}?key=${xt}`,body:{debug_token:Ie}}}(Ae,yield Pr()),Ne.heartbeatServiceProvider).finally(()=>{gt.exchangeTokenPromise=void 0}),Pn=!0);const kn=yield gt.exchangeTokenPromise;return yield Gr(Ae,kn),gt.token=kn,{token:kn.token}}try{gt.exchangeTokenPromise||(gt.exchangeTokenPromise=gt.provider.getToken().finally(()=>{gt.exchangeTokenPromise=void 0}),Pn=!0),xt=yield ht(Ae).exchangeTokenPromise}catch(kn){"appCheck/throttled"===kn.code?cr.warn(kn.message):cr.error(kn),yn=kn}return xt?yn?vn=lr(xt)?{token:xt.token,internalError:yn}:$i(yn):(vn={token:xt.token},gt.token=xt,yield Gr(Ae,xt)):vn=$i(yn),Pn&&function kr(Ne,Ie){const Ae=ht(Ne).tokenObservers;for(const gt of Ae)try{"EXTERNAL"===gt.type&&null!=Ie.error?gt.error(Ie.error):gt.next(Ie)}catch{}}(Ae,vn),vn})).apply(this,arguments)}function yr(Ne,Ie){const Ae=ht(Ne),gt=Ae.tokenObservers.filter(xt=>xt.next!==Ie);0===gt.length&&Ae.tokenRefresher&&Ae.tokenRefresher.isRunning()&&Ae.tokenRefresher.stop(),Ae.tokenObservers=gt}function li(Ne){const{app:Ie}=Ne,Ae=ht(Ie);let gt=Ae.tokenRefresher;gt||(gt=function Wr(Ne){const{app:Ie}=Ne;return new _e((0,Se.Z)(function*(){let gt;if(gt=ht(Ie).token?yield gn(Ne,!0):yield gn(Ne),gt.error)throw gt.error;if(gt.internalError)throw gt.internalError}),()=>!0,()=>{const Ae=ht(Ie);if(Ae.token){let gt=Ae.token.issuedAtTimeMillis+.5*(Ae.token.expireTimeMillis-Ae.token.issuedAtTimeMillis)+3e5;return gt=Math.min(gt,Ae.token.expireTimeMillis-3e5),Math.max(0,gt-Date.now())}return 0},bt.RETRIAL_MIN_WAIT,bt.RETRIAL_MAX_WAIT)}(Ne),Ae.tokenRefresher=gt),!gt.isRunning()&&Ae.isTokenAutoRefreshEnabled&&gt.start()}function lr(Ne){return Ne.expireTimeMillis-Date.now()>0}function $i(Ne){return{token:Yn(vi),error:Ne}}class Xn{constructor(Ie,Ae){this.app=Ie,this.heartbeatServiceProvider=Ae}_delete(){const{tokenObservers:Ie}=ht(this.app);for(const Ae of Ie)yr(this.app,Ae.next);return Promise.resolve()}}const Qt="app-check-internal";!function fn(){(0,we._registerComponent)(new je.wA("app-check",Ne=>function Ti(Ne,Ie){return new Xn(Ne,Ie)}(Ne.getProvider("app").getImmediate(),Ne.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ne,Ie,Ae)=>{Ne.getProvider(Qt).initialize()})),(0,we._registerComponent)(new je.wA(Qt,Ne=>function Rn(Ne){return{getToken:Ie=>gn(Ne,Ie),addTokenListener:Ie=>function Ur(Ne,Ie,Ae,gt){const{app:xt}=Ne,yn=ht(xt);if(yn.tokenObservers=[...yn.tokenObservers,{next:Ae,error:gt,type:Ie}],yn.token&&lr(yn.token)){const vn=yn.token;Promise.resolve().then(()=>{Ae({token:vn.token}),li(Ne)}).catch(()=>{})}yn.cachedTokenPromise.then(()=>li(Ne))}(Ne,"INTERNAL",Ie),removeTokenListener:Ie=>yr(Ne.app,Ie)}}(Ne.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.7.0")}();class On{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(an,at,W)=>{W.d(at,{Ot:()=>De,ZF:()=>tt,hX:()=>ht,z6:()=>Se});var p=W(259),G=W(4650),q=W(1157);class De{constructor(_e){return _e}}class Se{constructor(){return(0,p.C6)()}}const Oe=new G.OlP("angularfire2._apps"),Ze={provide:De,useFactory:function je(Be){return Be&&1===Be.length?Be[0]:new De((0,p.Mq)())},deps:[[new G.FiY,Oe]]},de={provide:Se,deps:[[new G.FiY,Oe]]};function he(Be){return(_e,Xe)=>{const Dt=_e.runOutsideAngular(()=>Be(Xe));return new De(Dt)}}let Ce=(()=>{class Be{constructor(Xe){(0,p.KN)("angularfire",q.q4.full,"core"),(0,p.KN)("angularfire",q.q4.full,"app"),(0,p.KN)("angular",G.q4F.full,Xe.toString())}}return Be.\u0275fac=function(Xe){return new(Xe||Be)(G.LFG(G.Lbi))},Be.\u0275mod=G.oAB({type:Be}),Be.\u0275inj=G.cJS({providers:[Ze,de]}),Be})();function ht(Be,..._e){return{ngModule:Ce,providers:[{provide:Oe,useFactory:he(Be),multi:!0,deps:[G.R0b,G.zs3,q.HU,..._e]}]}}const tt=(0,q.u3)(p.ZF,!0)},1205:(an,at,W)=>{W.d(at,{zQ:()=>Ue,ww:()=>nt});var p=W(4650),G=W(7579),q=W(9646),De=W(9751),Se=W(8996),we=W(6451),je=W(5363),Oe=W(3900),Ze=W(4004),de=W(6063);class he extends G.x{constructor(lt=1/0,wt=1/0,ct=de.l){super(),this._bufferSize=lt,this._windowTime=wt,this._timestampProvider=ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,wt)}next(lt){const{isStopped:wt,_buffer:ct,_infiniteTimeWindow:kt,_timestampProvider:Te,_windowTime:qe}=this;wt||(ct.push(lt),!kt&&ct.push(Te.now()+qe)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(lt),{_infiniteTimeWindow:ct,_buffer:kt}=this,Te=kt.slice();for(let qe=0;qe<Te.length&&!lt.closed;qe+=ct?1:2)lt.next(Te[qe]);return this._checkFinalizedStatuses(lt),wt}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:wt,_buffer:ct,_infiniteTimeWindow:kt}=this,Te=(kt?1:2)*lt;if(lt<1/0&&Te<ct.length&&ct.splice(0,ct.length-Te),!kt){const qe=wt.now();let ye=0;for(let Le=1;Le<ct.length&&ct[Le]<=qe;Le+=2)ye=Le;ye&&ct.splice(0,ye+1)}}}var Ce=W(3099);function ht(Ke,lt,wt){let ct,kt=!1;return Ke&&"object"==typeof Ke?({bufferSize:ct=1/0,windowTime:lt=1/0,refCount:kt=!1,scheduler:wt}=Ke):ct=Ke??1/0,(0,Ce.B)({connector:()=>new he(ct,lt,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:kt})}var dt=W(590),At=W(576);function Rt(Ke,lt){return(0,At.m)(lt)?(0,Oe.w)(()=>Ke,lt):(0,Oe.w)(()=>Ke)}var tt=W(9468),pt=W(9300),Ct=W(1157),bt=W(2011),Be=W(6895),_e=W(2313),Xe=W(9260);const st=new p.OlP("angularfire2.auth.use-emulator"),ke=new p.OlP("angularfire2.auth.settings"),Ot=new p.OlP("angularfire2.auth.tenant-id"),sn=new p.OlP("angularfire2.auth.langugage-code"),zt=new p.OlP("angularfire2.auth.use-device-language"),_n=new p.OlP("angularfire.auth.persistence");let Ue=(()=>{class Ke{constructor(wt,ct,kt,Te,qe,ye,Le,It,jt,Zn,jn,wr){const gr=new G.x,mr=(0,q.of)(void 0).pipe((0,je.Q)(qe.outsideAngular),(0,Oe.w)(()=>Te.runOutsideAngular(()=>W.e(568).then(W.bind(W,9568)))),(0,Ze.U)(()=>(0,bt.on)(wt,Te,ct)),(0,Ze.U)(cr=>((Ke,lt,wt,ct,kt,Te,qe,ye)=>(0,bt.cc)(`${Ke.name}.auth`,"AngularFireAuth",Ke.name,()=>{const Le=lt.runOutsideAngular(()=>Ke.auth());if(wt&&Le.useEmulator(...wt),ct&&(Le.tenantId=ct),Le.languageCode=kt,Te&&Le.useDeviceLanguage(),qe)for(const[It,jt]of Object.entries(qe))Le.settings[It]=jt;return ye&&Le.setPersistence(ye),Le},[wt,ct,kt,Te,qe,ye]))(cr,Te,ye,It,jt,Zn,Le,jn)),ht({bufferSize:1,refCount:!1}));if((0,Be.PM)(kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{mr.pipe((0,dt.P)()).subscribe();const zr=mr.pipe((0,Oe.w)(Mn=>Mn.getRedirectResult().then(Ft=>Ft,()=>null)),Ct.iC,ht({bufferSize:1,refCount:!1})),ln=mr.pipe((0,Oe.w)(Mn=>new De.y(Ft=>({unsubscribe:Te.runOutsideAngular(()=>Mn.onAuthStateChanged(Hn=>Ft.next(Hn),Hn=>Ft.error(Hn),()=>Ft.complete()))})))),Gr=mr.pipe((0,Oe.w)(Mn=>new De.y(Ft=>({unsubscribe:Te.runOutsideAngular(()=>Mn.onIdTokenChanged(Hn=>Ft.next(Hn),Hn=>Ft.error(Hn),()=>Ft.complete()))}))));this.authState=zr.pipe(Rt(ln),(0,tt.R)(qe.outsideAngular),(0,je.Q)(qe.insideAngular)),this.user=zr.pipe(Rt(Gr),(0,tt.R)(qe.outsideAngular),(0,je.Q)(qe.insideAngular)),this.idToken=this.user.pipe((0,Oe.w)(Mn=>Mn?(0,Se.D)(Mn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Oe.w)(Mn=>Mn?(0,Se.D)(Mn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,we.T)(zr,gr,this.authState.pipe((0,pt.h)(Mn=>!Mn))).pipe((0,Ze.U)(Mn=>Mn?.user?Mn:null),(0,tt.R)(qe.outsideAngular),(0,je.Q)(qe.insideAngular))}return(0,bt.pX)(this,mr,Te,{spy:{apply:(cr,zr,ln)=>{(cr.startsWith("signIn")||cr.startsWith("createUser"))&&ln.then(Gr=>gr.next(Gr))}}})}}return Ke.\u0275fac=function(wt){return new(wt||Ke)(p.LFG(bt.Dh),p.LFG(bt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Ct.HU),p.LFG(st,8),p.LFG(ke,8),p.LFG(Ot,8),p.LFG(sn,8),p.LFG(zt,8),p.LFG(_n,8),p.LFG(_e.nm,8))},Ke.\u0275prov=p.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"any"}),Ke})(),nt=(()=>{class Ke{constructor(){Xe.Z.registerVersion("angularfire",Ct.q4.full,"auth-compat")}}return Ke.\u0275fac=function(wt){return new(wt||Ke)},Ke.\u0275mod=p.oAB({type:Ke}),Ke.\u0275inj=p.cJS({providers:[Ue]}),Ke})()},2011:(an,at,W)=>{W.d(at,{Dh:()=>Oe,GT:()=>we,cc:()=>dt,hO:()=>ht,on:()=>de,pX:()=>Se,xv:()=>Ze});var p=W(4650),G=W(9260),q=W(1157);an=W.hmd(an);const De=["ngOnDestroy"],Se=(pt,Ct,bt,Be={})=>new Proxy(pt,{get:(_e,Xe)=>bt.runOutsideAngular(()=>{var Dt;if(pt[Xe])return!(null===(Dt=Be?.spy)||void 0===Dt)&&Dt.get&&Be.spy.get(Xe,pt[Xe]),pt[Xe];if(De.indexOf(Xe)>-1)return()=>{};const st=Ct.toPromise().then(ke=>{const Ot=ke&&ke[Xe];return"function"==typeof Ot?Ot.bind(ke):Ot&&Ot.then?Ot.then(sn=>bt.run(()=>sn)):bt.run(()=>Ot)});return new Proxy(()=>{},{get:(ke,Ot)=>st[Ot],apply:(ke,Ot,sn)=>st.then(zt=>{var _n;const Ut=zt&&zt(...sn);return!(null===(_n=Be?.spy)||void 0===_n)&&_n.apply&&Be.spy.apply(Xe,sn,Ut),Ut})})})}),we=(pt,Ct)=>{Ct.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(Be=>{Object.defineProperty(pt.prototype,Be,Object.getOwnPropertyDescriptor(bt.prototype||bt,Be))})})};class je{constructor(Ct){return Ct}}const Oe=new p.OlP("angularfire2.app.options"),Ze=new p.OlP("angularfire2.app.name");function de(pt,Ct,bt){const _e="object"==typeof bt&&bt||{};_e.name=_e.name||"string"==typeof bt&&bt||"[DEFAULT]";const Dt=G.Z.apps.filter(st=>st&&st.name===_e.name)[0]||Ct.runOutsideAngular(()=>G.Z.initializeApp(pt,_e));try{JSON.stringify(pt)!==JSON.stringify(Dt.options)&&he("error",`${Dt.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(Dt)}const he=(pt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[pt](...Ct)},Ce={provide:je,useFactory:de,deps:[Oe,p.R0b,[new p.FiY,Ze]]};let ht=(()=>{class pt{constructor(bt){G.Z.registerVersion("angularfire",q.q4.full,"core"),G.Z.registerVersion("angularfire",q.q4.full,"app-compat"),G.Z.registerVersion("angular",p.q4F.full,bt.toString())}static initializeApp(bt,Be){return{ngModule:pt,providers:[{provide:Oe,useValue:bt},{provide:Ze,useValue:Be}]}}}return pt.\u0275fac=function(bt){return new(bt||pt)(p.LFG(p.Lbi))},pt.\u0275mod=p.oAB({type:pt}),pt.\u0275inj=p.cJS({providers:[Ce]}),pt})();function dt(pt,Ct,bt,Be,_e){const[,Xe,Dt]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===pt)||[];if(Xe)return function At(pt,Ct){try{return pt.toString()===Ct.toString()}catch{return pt===Ct}}(_e,Dt)||(tt("error",`${Ct} was already initialized on the ${bt} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:_e,was:Dt})),Xe;{const st=Be();return globalThis.\u0275AngularfireInstanceCache.push([pt,st,_e]),st}}const Rt=!!an.hot,tt=(pt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[pt](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9313:(an,at,W)=>{W.d(at,{gg:()=>zf,Um:()=>Gf,hJ:()=>Rv,BS:()=>um,oe:()=>Pv,JU:()=>Nv,PL:()=>Sh,ad:()=>G0,Xo:()=>cm,Cm:()=>bv,IO:()=>gw,pl:()=>Q0,r7:()=>X0,ar:()=>eE});var p=W(1157),G=W(4650),q=W(3692),De=W(259),we=(W(8502),W(2090)),je=W(6881),Oe=W(1877),Ze=W(4859);class Ce{constructor(){return(0,p.vb)("auth")}}var re,Rn=W(2313),_t=W(5861),Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},it={},be=be||{},We=Mr||self;function ft(){}function oe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function se(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var $e="closure_uid_"+(1e9*Math.random()>>>0),Re=0;function Mt(r,e,t){return r.call.apply(r.bind,arguments)}function me(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function le(r,e,t){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:me).apply(null,arguments)}function ne(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function fe(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function Ye(){this.s=this.s,this.o=this.o}Ye.prototype.s=!1,Ye.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function pe(r){Object.prototype.hasOwnProperty.call(r,$e)&&r[$e]||(r[$e]=++Re)}(this)},Ye.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const on=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Ln(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function sr(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(oe(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function er(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}er.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!We.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{We.addEventListener("test",ft,e),We.removeEventListener("test",ft,e)}catch{}return r}();function Ve(r){return/^[\s\xa0]*$/.test(r)}var St=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Qt(r,e){return r<e?-1:r>e?1:0}function fn(){var r=We.navigator;return r&&(r=r.userAgent)?r:""}function In(r){return-1!=fn().indexOf(r)}function Xt(r){return Xt[" "](r),r}function On(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Xt[" "]=ft;var Wt,r,qn=In("Opera"),Nr=In("Trident")||In("MSIE"),Br=In("Edge"),$s=Br||Nr,js=In("Gecko")&&!(-1!=fn().toLowerCase().indexOf("webkit")&&!In("Edge"))&&!(In("Trident")||In("MSIE"))&&!In("Edge"),ji=-1!=fn().toLowerCase().indexOf("webkit")&&!In("Edge");function tr(){var r=We.document;return r?r.documentMode:void 0}e:{var Cn="",vr=(r=fn(),js?/rv:([^\);]+)(\)|;)/.exec(r):Br?/Edge\/([\d\.]+)/.exec(r):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):ji?/WebKit\/(\S+)/.exec(r):qn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(vr&&(Cn=vr?vr[1]:""),Nr){var Qn=tr();if(null!=Qn&&Qn>parseFloat(Cn)){Wt=String(Qn);break e}}Wt=Cn}var ns={},Ne=We.document&&Nr&&(tr()||parseInt(Wt,10))||void 0;function Ie(r,e){if(er.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(js){e:{try{Xt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ae[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ie.$.h.call(this)}}fe(Ie,er);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function yn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++xt,this.fa=this.ia=!1}function Pn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function vn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function kn(r){const e={};for(const t in r)e[t]=r[t];return e}const _i="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<_i.length;c++)t=_i[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Yr(r){this.src=r,this.g={},this.h=0}function si(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=on(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Pn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ir(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Yr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Ir(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new yn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Hi="closure_lm_"+(1e6*Math.random()|0),Do={};function eo(r,e,t,s,a){if(s&&s.once)return Ji(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)eo(r,e[c],t,s,a);return null}return t=Ms(t),r&&r[gt]?r.O(e,t,se(s)?!!s.capture:!!s,a):zi(r,e,t,!1,s,a)}function zi(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=se(a)?!!a.capture:!!a,b=Hs(r);if(b||(r[Hi]=b=new Yr(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function rs(){const e=is;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)ot||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Ci(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ji(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ji(r,e[c],t,s,a);return null}return t=Ms(t),r&&r[gt]?r.P(e,t,se(s)?!!s.capture:!!s,a):zi(r,e,t,!0,s,a)}function Qr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Qr(r,e[c],t,s,a);else s=se(s)?!!s.capture:!!s,t=Ms(t),r&&r[gt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ir(c=r.g[e],t,s,a))&&(Pn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Hs(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ir(e,t,s,a)),(t=-1<r?e[r]:null)&&$o(t))}function $o(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[gt])si(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Ci(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Hs(e))?(si(t,r),0==t.h&&(t.src=null,e[Hi]=null)):Pn(r)}}}function Ci(r){return r in Do?Do[r]:Do[r]="on"+r}function is(r,e){if(r.fa)r=!0;else{e=new Ie(e,this);var t=r.listener,s=r.la||r.src;r.ia&&$o(r),r=t.call(s,e)}return r}function Hs(r){return(r=r[Hi])instanceof Yr?r:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(r){return"function"==typeof r?r:(r[zs]||(r[zs]=function(e){return r.handleEvent(e)}),r[zs])}function dr(){Ye.call(this),this.i=new Yr(this),this.S=this,this.J=null}function xr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new er(e,r);else if(e instanceof er)e.target=e.target||r;else{var a=e;$r(e=new er(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=ss(f,s,!0,e)&&a}if(a=ss(f=e.g=r,s,!0,e)&&a,a=ss(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ss(f=e.g=t[c],s,!1,e)&&a}function ss(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,L=f.la||f.src;f.ia&&si(r.i,f),a=!1!==b.call(L,s)&&a}}return a&&!s.defaultPrevented}fe(dr,Ye),dr.prototype[gt]=!0,dr.prototype.removeEventListener=function(r,e,t,s){Qr(this,r,e,t,s)},dr.prototype.N=function(){if(dr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Pn(t[s]);delete r.g[e],r.h--}}this.J=null},dr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},dr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var to=We.JSON.stringify;function os(){var r=bo;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Co,To=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new as,r=>r.reset());class as{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xs(r){We.setTimeout(()=>{throw r},0)}function oa(r,e){Co||function Ho(){var r=We.Promise.resolve(void 0);Co=function(){r.then(ls)}}(),us||(Co(),us=!0),bo.add(r,e)}var us=!1,bo=new class jo{constructor(){this.h=this.g=null}add(e,t){const s=To.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ls(){for(var r;r=os();){try{r.h.call(r.g)}catch(t){xs(t)}var e=To;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}us=!1}function cs(r,e){dr.call(this),this.h=r||1,this.g=e||We,this.j=le(this.qb,this),this.l=Date.now()}function So(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Es(r,e,t){if("function"==typeof r)t&&(r=le(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=le(r.handleEvent,r)}return 2147483647<Number(e)?-1:We.setTimeout(r,e||0)}function Ao(r){r.g=Es(()=>{r.g=null,r.i&&(r.i=!1,Ao(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}fe(cs,dr),(re=cs.prototype).ga=!1,re.T=null,re.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xr(this,"tick"),this.ga&&(So(this),this.start()))}},re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.N=function(){cs.$.N.call(this),So(this),delete this.g};class zo extends Ye{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ao(this)}N(){super.N(),this.g&&(We.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(r){Ye.call(this),this.h=r,this.g={}}fe(Gi,Ye);var no=[];function Ni(r,e,t,s){Array.isArray(t)||(t&&(no[0]=t.toString()),t=no);for(var a=0;a<t.length;a++){var c=eo(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Ea(r){vn(r.g,function(e,t){this.g.hasOwnProperty(t)&&$o(e)},r),r.g={}}function ro(){this.g=!0}function bi(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mo(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return to(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Gi.prototype.N=function(){Gi.$.N.call(this),Ea(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ro.prototype.Ea=function(){this.g=!1},ro.prototype.info=function(){};var Gs={},ds=null;function Oi(){return ds=ds||new dr}function Or(r){er.call(this,Gs.Ta,r)}function oi(r){const e=Oi();xr(e,new Or(e))}function Rs(r,e){er.call(this,Gs.STAT_EVENT,r),this.stat=e}function zn(r){const e=Oi();xr(e,new Rs(e,r))}function hs(r,e){er.call(this,Gs.Ua,r),this.size=e}function fs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return We.setTimeout(function(){r()},e)}Gs.Ta="serverreachability",fe(Or,er),Gs.STAT_EVENT="statevent",fe(Rs,er),Gs.Ua="timingevent",fe(hs,er);var di={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Go={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xo(){}function Jr(){}xo.prototype.h=null;var Xr,Is={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ds(){er.call(this,"d")}function vo(){er.call(this,"c")}function ni(){}function fi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Gi(this),this.P=ua,this.V=new cs(r=$s?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}fe(Ds,er),fe(vo,er),fe(ni,xo),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},Xr=new ni;var ua=45e3,Wo={},Ws={};function Ro(r,e,t){r.L=1,r.v=ps(Si(e)),r.s=t,r.S=!0,_o(r,null)}function _o(r,e){r.G=Date.now(),R(r),r.A=Si(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Ko(t.i,"t",s),r.C=0,t=r.l.I,r.h=new xn,r.g=Ui(r.l,t?e:null,!r.s),0<r.O&&(r.M=new zo(le(r.Pa,r,r.g),r.O)),Ni(r.U,r.g,"readystatechange",r.nb),e=r.I?kn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),oi(),function io(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),L=0;L<b.length;L++){var z=b[L].split("=");if(1<z.length){var Q=z[0];z=z[1];var ge=Q.split("_");f=2<=ge.length&&"type"==ge[1]?f+(Q+"=")+z+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function so(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function oo(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=wa(r,t),a==Ws){4==e&&(r.o=4,zn(14),s=!1),bi(r.j,r.m,null,"[Incomplete Response]");break}if(a==Wo){r.o=4,zn(15),bi(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}bi(r.j,r.m,a,null),pn(r,a)}so(r)&&a!=Ws&&a!=Wo&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,zn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wu(e),e.L=!0,zn(11))):(bi(r.j,r.m,t,"[Invalid Chunked Response]"),He(r),X(r))}function wa(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Ws:(t=Number(e.substring(t,s)),isNaN(t)?Wo:(s+=1)+t>e.length?Ws:(e=e.substr(s,t),r.C=s+t,e))}function R(r){r.Y=Date.now()+r.P,O(r,r.P)}function O(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=fs(le(r.lb,r),e)}function k(r){r.B&&(We.clearTimeout(r.B),r.B=null)}function X(r){0==r.l.H||r.J||La(r.l,r)}function He(r){k(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,So(r.V),Ea(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function pn(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ce(t.h,r)))if(!r.K&&ce(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;da(t),Xi(t)}Os(t),zn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=fs(le(t.ib,t),6e3));if(1>=te(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Zo(t,11)}else if((r.K||t.g==r)&&da(t),!Ve(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const Q=z[3];null!=Q&&(t.qa=Q,t.j.info("VER="+t.qa));const ge=z[4];null!=ge&&(t.Ga=ge,t.j.info("SVER="+t.Ga));const ze=z[5];null!=ze&&"number"==typeof ze&&0<ze&&(t.K=s=1.5*ze,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const Ht=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var c=s.h;c.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(ve(c,c.h),c.h=null))}if(s.F){const rn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(s.Da=rn,Dr(s.G,s.F,rn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=cu(s,s.I?s.oa:null,s.Y),f.K){Ge(s.h,f);var b=f,L=s.K;L&&b.setTimeout(L),b.B&&(k(b),R(b)),s.g=f}else ca(s);0<t.i.length&&qo(t)}else"stop"!=z[0]&&"close"!=z[0]||Zo(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Zo(t,7):wi(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}oi()}catch{}}function Vi(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(oe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Lr(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(oe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Cr(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(oe(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(re=fi.prototype).setTimeout=function(r){this.P=r},re.nb=function(r){r=r.target;const e=this.M;e&&3==Gt(r)?e.l():this.Pa(r)},re.Pa=function(r){try{if(r==this.g)e:{const Q=Gt(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||$s||this.g&&(this.h.h||this.g.ja()||mn(this.g)))){this.J||4!=Q||7==e||oi(),k(this);var t=this.g.da();this.aa=t;t:if(so(this)){var s=mn(this.g);r="";var a=s.length,c=4==Gt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){He(this),X(this);var f="";break t}this.h.i=new We.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function aa(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ve(b)){var z=b;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,zn(12),He(this),X(this);break e}bi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,t)}this.S?(oo(this,Q,f),$s&&this.i&&3==Q&&(Ni(this.U,this.V,"tick",this.mb),this.V.start())):(bi(this.j,this.m,f,null),pn(this,f)),4==Q&&He(this),this.i&&!this.J&&(4==Q?La(this.l,this):(this.i=!1,R(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,zn(12)):(this.o=0,zn(13)),He(this),X(this)}}}catch{}},re.mb=function(){if(this.g){var r=Gt(this.g),e=this.g.ja();this.C<e.length&&(k(this),oo(this,r,e),this.i&&4!=r&&R(this))}},re.cancel=function(){this.J=!0,He(this)},re.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ws(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(oi(),zn(17)),He(this),this.o=2,X(this)):O(this,this.Y-r)};var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof pi){this.h=void 0!==e?e:r.h,Kr(this,r.j),this.s=r.s,this.g=r.g,ki(this,r.m),this.l=r.l,e=r.i;var t=new uo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ao(this,t),this.o=r.o}else r&&(t=String(r).match(Ks))?(this.h=!!e,Kr(this,t[1]||"",!0),this.s=No(t[2]||""),this.g=No(t[3]||"",!0),ki(this,t[4]),this.l=No(t[5]||"",!0),ao(this,t[6]||"",!0),this.o=No(t[7]||"")):(this.h=!!e,this.i=new uo(null,this.h))}function Si(r){return new pi(r)}function Kr(r,e,t){r.j=t?No(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ki(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ao(r,e,t){e instanceof uo?(r.i=e,function $(r,e){e&&!r.j&&(Ps(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Ts(this,s),Ko(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=gs(e,Da)),r.i=new uo(e,r.h))}function Dr(r,e,t){r.i.set(e,t)}function ps(r){return Dr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function No(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function gs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Fa),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Fa(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}pi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(gs(e,uu,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(gs(e,uu,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(gs(t,"/"==t.charAt(0)?Ia:Ei,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",gs(t,Ta)),r.join("")};var uu=/[#\/\?@]/g,Ei=/[#\?:]/g,Ia=/[#\?]/g,Da=/[#\?@]/g,Ta=/#/g;function uo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Ps(r){r.g||(r.g=new Map,r.h=0,r.i&&function Po(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ts(r,e){Ps(r),e=Eo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function la(r,e){return Ps(r),e=Eo(r,e),r.g.has(e)}function Ko(r,e,t){Ts(r,e),0<t.length&&(r.i=null,r.g.set(Eo(r,e),Ln(t)),r.h+=t.length)}function Eo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function w(r){this.l=r||F,r=We.PerformanceNavigationTiming?0<(r=We.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(We.g&&We.g.Ka&&We.g.Ka()&&We.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=uo.prototype).add=function(r,e){Ps(this),this.i=null,r=Eo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},re.forEach=function(r,e){Ps(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},re.sa=function(){Ps(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},re.Z=function(r){Ps(this);let e=[];if("string"==typeof r)la(this,r)&&(e=e.concat(this.g.get(Eo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},re.set=function(r,e){return Ps(this),this.i=null,la(this,r=Eo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},re.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var F=10;function K(r){return!!r.h||!!r.g&&r.g.size>=r.j}function te(r){return r.h?1:r.g?r.g.size:0}function ce(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ve(r,e){r.g?r.g.add(e):r.h=e}function Ge(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function vt(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Ln(r.i)}function Jt(){}function un(){this.g=new Jt}function ur(r,e,t){const s=t||"";try{Vi(r,function(a,c){let f=a;se(a)&&(f=to(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Dn(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function An(r){this.l=r.fc||null,this.j=r.ob||!1}function A(r,e){dr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=U,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Jt.prototype.stringify=function(r){return We.JSON.stringify(r,void 0)},Jt.prototype.parse=function(r){return We.JSON.parse(r,void 0)},fe(An,xo),An.prototype.g=function(){return new A(this.l,this.j)},An.prototype.i=function(r){return function(){return r}}({}),fe(A,dr);var U=0;function P(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Z(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ae(r)}function ae(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(re=A.prototype).open=function(r,e){if(this.readyState!=U)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ae(this)},re.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||We).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z(this)),this.readyState=U},re.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ae(this)),this.g&&(this.readyState=3,ae(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof We.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},re.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Z(this):ae(this),3==this.readyState&&P(this)}},re.Za=function(r){this.g&&(this.response=this.responseText=r,Z(this))},re.Ya=function(r){this.g&&(this.response=r,Z(this))},re.ka=function(){this.g&&Z(this)},re.setRequestHeader=function(r,e){this.v.append(r,e)},re.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(A.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var rt=We.JSON.parse;function et(r){dr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qt,this.L=this.M=!1}fe(et,dr);var qt="",or=/^https?$/i,Vn=["POST","PUT"];function Gn(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Vr(r),ai(r)}function Vr(r){r.F||(r.F=!0,xr(r,"complete"),xr(r,"error"))}function ar(r){if(r.h&&typeof be<"u"&&(!r.C[1]||4!=Gt(r)||2!=r.da()))if(r.v&&4==Gt(r))Es(r.La,0,r);else if(xr(r,"readystatechange"),4==Gt(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.I).match(Ks)[1]||null;if(!a&&We.self&&We.self.location){var c=We.self.location.protocol;a=c.substr(0,c.length-1)}s=!or.test(a?a.toLowerCase():"")}t=s}if(t)xr(r,"complete"),xr(r,"success");else{r.m=6;try{var f=2<Gt(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",Vr(r)}}finally{ai(r)}}}function ai(r,e){if(r.g){ms(r);const t=r.g,s=r.C[0]?ft:null;r.g=null,r.C=null,e||xr(r,"ready");try{t.onreadystatechange=s}catch{}}}function ms(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(We.clearTimeout(r.A),r.A=null)}function Gt(r){return r.g?r.g.readyState:0}function mn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case qt:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function dn(r){let e="";return vn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Fn(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=dn(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Dr(r,e,t))}function hr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function gi(r){this.Ga=0,this.i=[],this.j=new ro,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hr("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hr("baseRetryDelayMs",5e3,r),this.hb=hr("retryDelaySeedMs",1e4,r),this.eb=hr("forwardChannelMaxRetries",2,r),this.xa=hr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new w(r&&r.concurrentRequestLimit),this.Ja=new un,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function wi(r){if(ui(r),3==r.H){var e=r.W++,t=Si(r.G);Dr(t,"SID",r.J),Dr(t,"RID",e),Dr(t,"TYPE","terminate"),mi(r,t),(e=new fi(r,r.j,e,void 0)).L=2,e.v=ps(Si(t)),t=!1,We.navigator&&We.navigator.sendBeacon&&(t=We.navigator.sendBeacon(e.v.toString(),"")),!t&&We.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ui(e.l,null),e.g.ha(e.v)),e.G=Date.now(),R(e)}lu(r)}function Xi(r){r.g&&(Wu(r),r.g.cancel(),r.g=null)}function ui(r){Xi(r),r.u&&(We.clearTimeout(r.u),r.u=null),da(r),r.h.cancel(),r.m&&("number"==typeof r.m&&We.clearTimeout(r.m),r.m=null)}function qo(r){K(r.h)||r.m||(r.m=!0,oa(r.Na,r),r.C=0)}function Ai(r,e){var t;t=e?e.m:r.W++;const s=Si(r.G);Dr(s,"SID",r.J),Dr(s,"RID",t),Dr(s,"AID",r.V),mi(r,s),r.o&&r.s&&Fn(s,r.o,r.s),t=new fi(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Ns(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ve(r.h,t),Ro(t,s,e)}function mi(r,e){r.ma&&vn(r.ma,function(t,s){Dr(e,s,t)}),r.l&&Vi({},function(t,s){Dr(e,s,t)})}function Ns(r,e,t){t=Math.min(r.i.length,t);var s=r.l?le(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let L=0;L<t;L++){let z=a[L].h;const Q=a[L].g;if(z-=c,0>z)c=Math.max(0,a[L].h-100),b=!1;else try{ur(Q,f,"req"+z+"_")}catch{s&&s(Q)}}if(b){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function ca(r){r.g||r.u||(r.ba=1,oa(r.Ma,r),r.A=0)}function Os(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=fs(le(r.Ma,r),Ku(r,r.A)),r.A++,0))}function Wu(r){null!=r.B&&(We.clearTimeout(r.B),r.B=null)}function Ri(r){r.g=new fi(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Si(r.wa);Dr(e,"RID","rpc"),Dr(e,"SID",r.J),Dr(e,"CI",r.M?"0":"1"),Dr(e,"AID",r.V),Dr(e,"TYPE","xmlhttp"),mi(r,e),r.o&&r.s&&Fn(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=ps(Si(e)),t.s=null,t.S=!0,_o(t,r)}function da(r){null!=r.v&&(We.clearTimeout(r.v),r.v=null)}function La(r,e){var t=null;if(r.g==e){da(r),Wu(r),r.g=null;var s=2}else{if(!ce(r.h,e))return;t=e.F,Ge(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;xr(s=Oi(),new hs(s,t)),qo(r)}else ca(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function Ca(r,e){return!(te(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=fs(le(r.Na,r,e),Ku(r,r.C)),r.C++,0)))}(r,e)||2==s&&Os(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Zo(r,5);break;case 4:Zo(r,10);break;case 3:Zo(r,6);break;default:Zo(r,2)}}function Ku(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Zo(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=le(r.pb,r);t||(t=new pi("//www.google.com/images/cleardot.gif"),We.location&&"http"==We.location.protocol||Kr(t,"https"),ps(t)),function Bn(r,e){const t=new ro;if(We.Image){const s=new Image;s.onload=ne(Dn,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ne(Dn,t,s,"TestLoadImage: error",!1,e),s.onabort=ne(Dn,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ne(Dn,t,s,"TestLoadImage: timeout",!1,e),We.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else zn(2);r.H=0,r.l&&r.l.za(e),lu(r),ui(r)}function lu(r){if(r.H=0,r.pa=[],r.l){const e=vt(r.h);(0!=e.length||0!=r.i.length)&&(sr(r.pa,e),sr(r.pa,r.i),r.h.i.length=0,Ln(r.i),r.i.length=0),r.l.ya()}}function cu(r,e,t){var s=t instanceof pi?Si(t):new pi(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ki(s,s.m);else{var a=We.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new pi(null,void 0);s&&Kr(c,s),e&&(c.g=e),a&&ki(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Dr(s,t,e),Dr(s,"VER",r.qa),mi(r,s),s}function Ui(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(t&&r.Ha&&!r.va?new An({ob:!0}):r.va)).Oa(r.I),e}function du(){}function ri(){if(Nr&&!(10<=Number(Ne)))throw Error("Environmental error: no available transport.")}function ii(r,e){dr.call(this),this.g=new gi(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Ve(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ve(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Oo(this)}function ba(r){Ds.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ha(){vo.call(this),this.status=1}function Oo(r){this.g=r}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sa(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function ei(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(re=et.prototype).Oa=function(r){this.M=r},re.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Xr.g(),this.C=function hi(r){return r.h||(r.h=r.i())}(this.u?this.u:Xr),this.g.onreadystatechange=le(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Gn(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=We.FormData&&r instanceof We.FormData,!(0<=on(Vn,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ms(this),0<this.B&&((this.L=function nr(r){return Nr&&function ci(){return On(ns,9,function(){let r=0;const e=St(String(Wt)).split("."),t=St("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=Qt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Qt(0==a[2].length,0==c[2].length)||Qt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=le(this.ua,this)):this.A=Es(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Gn(this,c)}},re.ua=function(){typeof be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},re.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,xr(this,"complete"),xr(this,"abort"),ai(this))},re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ai(this,!0)),et.$.N.call(this)},re.La=function(){this.s||(this.G||this.v||this.l?ar(this):this.kb())},re.kb=function(){ar(this)},re.da=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},re.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),rt(e)}},re.Ia=function(){return this.m},re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=gi.prototype).qa=8,re.H=1,re.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new fi(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=kn(c),$r(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ns(this,a,e),Dr(t=Si(this.G),"RID",r),Dr(t,"CVER",22),this.F&&Dr(t,"X-HTTP-Session-Id",this.F),mi(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(dn(c)))+"&"+e:this.o&&Fn(t,this.o,c)),ve(this.h,a),this.bb&&Dr(t,"TYPE","init"),this.P?(Dr(t,"$req",e),Dr(t,"SID","null"),a.ba=!0,Ro(a,t,null)):Ro(a,t,e),this.H=2}}else 3==this.H&&(r?Ai(this,r):0==this.i.length||K(this.h)||Ai(this))},re.Ma=function(){if(this.u=null,Ri(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=fs(le(this.jb,this),r)}},re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,zn(10),Xi(this),Ri(this))},re.ib=function(){null!=this.v&&(this.v=null,Xi(this),Os(this),zn(19))},re.pb=function(r){r?(this.j.info("Successfully pinged google.com"),zn(2)):(this.j.info("Failed to ping google.com"),zn(1))},(re=du.prototype).Ba=function(){},re.Aa=function(){},re.za=function(){},re.ya=function(){},re.Va=function(){},ri.prototype.g=function(r,e){return new ii(r,e)},fe(ii,dr),ii.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;zn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=cu(r,null,r.Y),qo(r)},ii.prototype.close=function(){wi(this.g)},ii.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=to(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&qo(e)},ii.prototype.N=function(){this.g.l=null,delete this.j,wi(this.g),delete this.g,ii.$.N.call(this)},fe(ba,Ds),fe(ha,vo),fe(Oo,du),Oo.prototype.Ba=function(){xr(this.g,"a")},Oo.prototype.Aa=function(r){xr(this.g,new ba(r))},Oo.prototype.za=function(r){xr(this.g,new ha)},Oo.prototype.ya=function(){xr(this.g,"b")},fe(qs,function qu(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Sa(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Sa(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Sa(this,s),a=0;break}}this.h=a,this.i+=e},qs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Qa={};function Aa(r){return-128<=r&&128>r?On(Qa,r,function(e){return new ei([0|e],0>e?-1:0)}):new ei([0|r],0>r?-1:0)}function Cs(r){if(isNaN(r)||!isFinite(r))return lo;if(0>r)return Jn(Cs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Va;return new ei(e,0)}var Va=4294967296,lo=Aa(0),Su=Aa(1),fa=Aa(16777216);function ks(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Zs(r){return-1==r.h}function Jn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new ei(t,~r.h).add(Su)}function hu(r,e){return r.add(Jn(e))}function Au(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Ja(r,e){this.g=r,this.h=e}function Xa(r,e){if(ks(e))throw Error("division by zero");if(ks(r))return new Ja(lo,lo);if(Zs(r))return e=Xa(Jn(r),e),new Ja(Jn(e.g),Jn(e.h));if(Zs(e))return e=Xa(r,Jn(e)),new Ja(Jn(e.g),e.h);if(30<r.g.length){if(Zs(r)||Zs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Su,s=e;0>=s.X(r);)t=fu(t),s=fu(s);var a=pu(t,1),c=pu(s,1);for(s=pu(s,2),t=pu(t,2);!ks(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=pu(s,1),t=pu(t,1)}return e=hu(r,a.R(e)),new Ja(a,e)}for(a=lo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Cs(t)).R(e);Zs(f)||0<f.X(r);)f=(c=Cs(t-=s)).R(e);ks(c)&&(c=Su),a=a.add(c),r=hu(r,f)}return new Ja(a,r)}function fu(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new ei(t,r.h)}function pu(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new ei(a,r.h)}(re=ei.prototype).ea=function(){if(Zs(this))return-Jn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Va+s)*e,e*=Va}return r},re.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ks(this))return"0";if(Zs(this))return"-"+Jn(this).toString(r);for(var e=Cs(Math.pow(r,6)),t=this,s="";;){var a=Xa(t,e).g,c=((0<(t=hu(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ks(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},re.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},re.X=function(r){return Zs(r=hu(this,r))?-1:ks(r)?0:1},re.abs=function(){return Zs(this)?Jn(this):this},re.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new ei(t,-2147483648&t[t.length-1]?-1:0)},re.R=function(r){if(ks(this)||ks(r))return lo;if(Zs(this))return Zs(r)?Jn(this).R(Jn(r)):Jn(Jn(this).R(r));if(Zs(r))return Jn(this.R(Jn(r)));if(0>this.X(fa)&&0>r.X(fa))return Cs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=f*L,Au(t,2*s+2*a),t[2*s+2*a+1]+=c*L,Au(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,Au(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,Au(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new ei(t,0)},re.gb=function(r){return Xa(this,r).h},re.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new ei(t,this.h&r.h)},re.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new ei(t,this.h|r.h)},re.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new ei(t,this.h^r.h)},ri.prototype.createWebChannel=ri.prototype.g,ii.prototype.send=ii.prototype.u,ii.prototype.open=ii.prototype.m,ii.prototype.close=ii.prototype.close,di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,Go.COMPLETE="complete",Jr.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",dr.prototype.listen=dr.prototype.O,et.prototype.listenOnce=et.prototype.P,et.prototype.getLastError=et.prototype.Sa,et.prototype.getLastErrorCode=et.prototype.Ia,et.prototype.getStatus=et.prototype.da,et.prototype.getResponseJson=et.prototype.Wa,et.prototype.getResponseText=et.prototype.ja,et.prototype.send=et.prototype.ha,et.prototype.setWithCredentials=et.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,ei.prototype.add=ei.prototype.add,ei.prototype.multiply=ei.prototype.R,ei.prototype.modulo=ei.prototype.gb,ei.prototype.compare=ei.prototype.X,ei.prototype.toNumber=ei.prototype.ea,ei.prototype.toString=ei.prototype.toString,ei.prototype.getBits=ei.prototype.D,ei.fromNumber=Cs,ei.fromString=function Wi(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Jn(Wi(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Cs(Math.pow(e,8)),s=lo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=Cs(Math.pow(e,c)),s=s.R(c).add(Cs(f))):s=(s=s.R(t)).add(Cs(f))}return s};var jc=it.createWebChannelTransport=function(){return new ri},Ua=it.getStatEventTarget=function(){return Oi()},Zu=it.ErrorCode=di,vl=it.EventType=Go,Ki=it.Event=Gs,gu=it.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mu=it.FetchXmlHttpFactory=An,Yo=it.WebChannel=Jr,co=it.XhrIo=et,Qo=it.Md5=qs,pa=it.Integer=ei;const Ba="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Ma="9.21.0";const ko=new Oe.Yd("@firebase/firestore");function $a(){return ko.logLevel}function Nt(r,...e){if(ko.logLevel<=Oe.in.DEBUG){const t=e.map(ga);ko.debug(`Firestore (${Ma}): ${r}`,...t)}}function ti(r,...e){if(ko.logLevel<=Oe.in.ERROR){const t=e.map(ga);ko.error(`Firestore (${Ma}): ${r}`,...t)}}function bs(r,...e){if(ko.logLevel<=Oe.in.WARN){const t=e.map(ga);ko.warn(`Firestore (${Ma}): ${r}`,...t)}}function ga(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function y(r="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+r;throw ti(e),new Error(e)}function E(r,e){r||y()}function T(r,e){return r}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends we.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Me{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class tn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zt{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let f=new Y;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Y,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const z=f;e.enqueueRetryable((0,_t.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},L=z=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Y)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(E("string"==typeof s.accessToken),new Me(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return E(null===e||"string"==typeof e),new Ii(e)}}class _r{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mi{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new _r(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Nt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(E("string"==typeof t.token),this.T=t.token,new Fo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ho(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class sc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ho(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Nn(r,e){return r<e?-1:r>e?1:0}function ja(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nn(this.nanoseconds,e.nanoseconds):Nn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Di(0,0))}static max(){return new bn(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yu{constructor(e,t,s){void 0===t?t=0:t>e.length&&y(),void 0===s?s=e.length-t:s>e.length-t&&y(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Yu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rr extends Yu{construct(e,t,s){return new Rr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rr(t)}static emptyPath(){return new Rr([])}}const Hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends Yu{construct(e,t,s){return new qi(e,t,s)}static isValidIdentifier(e){return Hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qi(t)}static emptyPath(){return new qi([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Rr.fromString(e))}static fromName(e){return new nn(Rr.fromString(e).popFirst(5))}static empty(){return new nn(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Rr(e.slice()))}}function Dl(r){return new po(r.readTime,r.key,-1)}class po{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new po(bn.min(),nn.empty(),-1)}static max(){return new po(bn.max(),nn.empty(),-1)}}function Tl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=nn.comparator(r.documentKey,e.documentKey),0!==t?t:Nn(r.largestBatchId,e.largestBatchId))}const Ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mu(r){return yu.apply(this,arguments)}function yu(){return yu=(0,_t.Z)(function*(r){if(r.code!==M.FAILED_PRECONDITION||r.message!==Ju)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}),yu.apply(this,arguments)}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,s)=>{t(e)})}static reject(e){return new Je((t,s)=>{s(e)})}static waitFor(e){return new Je((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},L=>s(L))}),f=!0,c===a&&t()})}static or(e){let t=Je.resolve(!1);for(const s of e)t=t.next(a=>a?Je.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Je((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let L=0;L<c;L++){const z=L;t(e[z]).next(Q=>{f[z]=Q,++b,b===c&&s(f)},Q=>a(Q))}})}static doWhile(e,t){return new Je((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function xa(r){return"IndexedDbTransactionError"===r.name}let go=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Sl(r){return null==r}function tl(r){return 0===r&&1/r==-1/0}function ma(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Yi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ya(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class jr{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new jr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new jr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ys.RED,this.left=a??Ys.EMPTY,this.right=c??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ys(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ys.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ys(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(e){this.comparator=e,this.data=new jr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zc(this.data.getIterator())}getIteratorFrom(e){return new Zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Li(this.comparator);return t.data=e,t}}class Zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ea{constructor(e){this.fields=e,e.sort(qi.comparator)}static empty(){return new ea([])}unionWith(e){let t=new Li(qi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ea(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Wf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wf("Invalid base64 string: "+a):a}}(e);return new d(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}d.EMPTY_BYTE_STRING=new d("");const g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(r){if(E(!!r),"string"==typeof r){let e=0;const t=g.exec(r);if(E(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:H(r.seconds),nanos:H(r.nanos)}}function H(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ee(r){return"string"==typeof r?d.fromBase64String(r):d.fromUint8Array(r)}function Pe(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ut(r){const e=r.mapValue.fields.__previous_value__;return Pe(e)?ut(e):e}function $t(r){const e=C(r.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class cn{constructor(e,t,s,a,c,f,b,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class wn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wn&&e.projectId===this.projectId&&e.database===this.database}}const Kn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pe(r)?4:Rh(r)?9007199254740991:10:y()}function va(r,e){if(r===e)return!0;const t=wo(r);if(t!==wo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $t(r).isEqual($t(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=C(s.timestampValue),f=C(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ee(r.bytesValue).isEqual(ee(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return H(s.geoPointValue.latitude)===H(a.geoPointValue.latitude)&&H(s.geoPointValue.longitude)===H(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return H(s.integerValue)===H(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=H(s.doubleValue),f=H(a.doubleValue);return c===f?tl(c)===tl(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return ja(r.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(ma(c)!==ma(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!va(c[b],f[b])))return!1;return!0}(r,e);default:return y()}var a}function cc(r,e){return void 0!==(r.values||[]).find(t=>va(t,e))}function _a(r,e){if(r===e)return 0;const t=wo(r),s=wo(e);if(t!==s)return Nn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=H(a.integerValue||a.doubleValue),b=H(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Rd(r.timestampValue,e.timestampValue);case 4:return Rd($t(r),$t(e));case 5:return Nn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=ee(a),b=ee(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let L=0;L<f.length&&L<b.length;L++){const z=Nn(f[L],b[L]);if(0!==z)return z}return Nn(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Nn(H(a.latitude),H(c.latitude));return 0!==f?f:Nn(H(a.longitude),H(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let L=0;L<f.length&&L<b.length;++L){const z=_a(f[L],b[L]);if(z)return z}return Nn(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Kn.mapValue&&c===Kn.mapValue)return 0;if(a===Kn.mapValue)return 1;if(c===Kn.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),L=c.fields||{},z=Object.keys(L);b.sort(),z.sort();for(let Q=0;Q<b.length&&Q<z.length;++Q){const ge=Nn(b[Q],z[Q]);if(0!==ge)return ge;const ze=_a(f[b[Q]],L[z[Q]]);if(0!==ze)return ze}return Nn(b.length,z.length)}(r.mapValue,e.mapValue);default:throw y()}}function Rd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Nn(r,e);const t=C(r),s=C(e),a=Nn(t.seconds,s.seconds);return 0!==a?a:Nn(t.nanos,s.nanos)}function Nu(r){return Ml(r)}function Ml(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=C(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ee(r.bytesValue).toBase64():"referenceValue"in r?nn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Ml(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Ml(s.fields[b])}`;return c+"}"}(r.mapValue):y();var e}function ru(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rl(r){return!!r&&"integerValue"in r}function vu(r){return!!r&&"arrayValue"in r}function dc(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pl(r){return!!r&&"mapValue"in r}function fc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Rh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bo{constructor(e){this.value=e}static empty(){return new Bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=qi.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=fc(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Pl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Pl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Yi(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Bo(fc(this.value))}}function hm(r){const e=[];return Yi(r.fields,(t,s)=>{const a=new qi([t]);if(Pl(s)){const c=hm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new ea(e)}class Bi{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new Bi(e,0,bn.min(),bn.min(),bn.min(),Bo.empty(),0)}static newFoundDocument(e,t,s,a){return new Bi(e,1,t,bn.min(),s,a,0)}static newNoDocument(e,t){return new Bi(e,2,t,bn.min(),bn.min(),Bo.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,bn.min(),bn.min(),Bo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class il{constructor(e,t){this.position=e,this.inclusive=t}}function Nd(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?nn.comparator(nn.fromName(f.referenceValue),t.key):_a(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Ph(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!va(r.position[t],e.position[t]))return!1;return!0}class _u{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gv(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class fm{}class qr extends fm{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new pc(e,t,s):"array-contains"===t?new qv(e,s):"in"===t?new gm(e,s):"not-in"===t?new sl(e,s):"array-contains-any"===t?new Yc(e,s):new qr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Wv(e,s):new Kv(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_a(t,this.value)):null!==t&&wo(this.value)===wo(t)&&this.matchesComparison(_a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xi extends fm{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new xi(e,t)}matches(e){return Nl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nl(r){return"and"===r.op}function Nh(r){return function Od(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}(r)&&Nl(r)}function kd(r){if(r instanceof qr)return r.field.canonicalString()+r.op.toString()+Nu(r.value);if(Nh(r))return r.filters.map(e=>kd(e)).join(",");{const e=r.filters.map(t=>kd(t)).join(",");return`${r.op}(${e})`}}function Zf(r,e){return r instanceof qr?(t=r,(s=e)instanceof qr&&t.op===s.op&&t.field.isEqual(s.field)&&va(t.value,s.value)):r instanceof xi?function(t,s){return s instanceof xi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Zf(c,s.filters[f]),!0)}(r,e):void y();var t,s}function Qf(r){return r instanceof qr?`${(e=r).field.canonicalString()} ${e.op} ${Nu(e.value)}`:r instanceof xi?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class pc extends qr{constructor(e,t,s){super(e,t,s),this.key=nn.fromName(s.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wv extends qr{constructor(e,t){super(e,"in",t),this.keys=pm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kv extends qr{constructor(e,t){super(e,"not-in",t),this.keys=pm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nn.fromName(s.referenceValue))}class qv extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vu(t)&&cc(t.arrayValue,this.value)}}class gm extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cc(this.value.arrayValue,t)}}class sl extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cc(this.value.arrayValue,t)}}class Yc extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cc(this.value.arrayValue,s))}}class Zv{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.ft=null}}function Jf(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Zv(r,e,t,s,a,c,f)}function gc(r){const e=T(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),e.ft=t}return e.ft}function Fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Gv(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zf(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ph(r.startAt,e.startAt)&&Ph(r.endAt,e.endAt)}function Oh(r){return nn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ol{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=L,this.dt=null,this._t=null}}function Qc(r){return new ol(r)}function Ld(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Eu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Ol(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fh(r){return null!==r.collectionGroup}function kl(r){const e=T(r);if(null===e.dt){e.dt=[];const t=Ol(e),s=Eu(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new _u(t)),e.dt.push(new _u(qi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new _u(qi.keyField(),c))}}}return e.dt}function ta(r){const e=T(r);if(!e._t)if("F"===e.limitType)e._t=Jf(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of kl(e))t.push(new _u(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new il(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new il(e.startAt.position,e.startAt.inclusive):null;e._t=Jf(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function vm(r,e){e.getFirstInequalityField(),Ol(r);const t=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,t){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lh(r,e){return Fd(ta(r),ta(e))&&r.limitType===e.limitType}function Vh(r){return`${gc(ta(r))}|lt:${r.limitType}`}function Vd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),Sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),`Target(${t})`}(ta(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of kl(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,kl(t),s)||t.endAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,kl(t),s)));var t,s}function tp(r){return(e,t)=>{let s=!1;for(const a of kl(r)){const c=Qv(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Qv(r,e,t){const s=r.field.isKeyField()?nn.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),L=f.data.field(a);return null!==b&&null!==L?_a(b,L):y()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return y()}}class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Yi(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ya(this.inner)}size(){return this.innerSize}}const Jv=new jr(nn.comparator);function Pa(){return Jv}const np=new jr(nn.comparator);function Fl(...r){let e=np;for(const t of r)e=e.insert(t.key,t);return e}function rp(r){let e=np;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function iu(){return Qi()}function _m(){return Qi()}function Qi(){return new al(r=>r.toString(),(r,e)=>r.isEqual(e))}const Em=new jr(nn.comparator),Xv=new Li(nn.comparator);function fr(...r){let e=Xv;for(const t of r)e=e.add(t);return e}const wm=new Li(Nn);function Im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function Dm(r){return{integerValue:""+r}}function Tm(r,e){return function ac(r){return"number"==typeof r&&Number.isInteger(r)&&!tl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Dm(e):Im(r,e)}class Ud{constructor(){this._=void 0}}function gE(r,e,t){return r instanceof Ll?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Pe(a)&&(a=ut(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Vl?sp(r,e):r instanceof Ul?Cm(r,e):function(s,a){const c=Jc(s,a),f=op(c)+op(s.wt);return Rl(c)&&Rl(s.wt)?Dm(f):Im(s.serializer,f)}(r,e)}function mE(r,e,t){return r instanceof Vl?sp(r,e):r instanceof Ul?Cm(r,e):t}function Jc(r,e){return r instanceof Xc?Rl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ll extends Ud{}class Vl extends Ud{constructor(e){super(),this.elements=e}}function sp(r,e){const t=ap(e);for(const s of r.elements)t.some(a=>va(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ul extends Ud{constructor(e){super(),this.elements=e}}function Cm(r,e){let t=ap(e);for(const s of r.elements)t=t.filter(a=>!va(a,s));return{arrayValue:{values:t}}}class Xc extends Ud{constructor(e,t){super(),this.serializer=e,this.wt=t}}function op(r){return H(r.integerValue||r.doubleValue)}function ap(r){return vu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class up{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Bd{}function lp(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new $l(r.key,ts.none()):new td(r.key,r.data,ts.none());{const t=r.data,s=Bo.empty();let a=new Li(qi.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new wu(r.key,s,new ea(a.toArray()),ts.none())}}function yc(r,e,t){r instanceof td?function(s,a,c){const f=s.value.clone(),b=Bl(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof wu?function(s,a,c){if(!ed(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Bl(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Hd(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $d(r,e,t,s){return r instanceof td?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=a.value.clone(),z=dp(a.fieldTransforms,b,c);return L.setAll(z),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof wu?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=dp(a.fieldTransforms,b,c),z=c.data;return z.setAll(Hd(a)),z.setAll(L),c.convertToFoundDocument(c.version,z).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(r,e,t,s):(f=t,ed(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function cp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Jc(s.transform,a||null);null!=c&&(null===t&&(t=Bo.empty()),t.set(s.field,c))}return t||null}function jd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&ja(t,s,(a,c)=>function yE(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Vl&&s instanceof Vl||t instanceof Ul&&s instanceof Ul?ja(t.elements,s.elements,va):t instanceof Xc&&s instanceof Xc?va(t.wt,s.wt):t instanceof Ll&&s instanceof Ll);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class td extends Bd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class wu extends Bd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Hd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Bl(r,e,t){const s=new Map;E(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,mE(f,b,t[a]))}return s}function dp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,gE(c,f,e))}return s}class $l extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hp extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fp{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&yc(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_m();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const L=lp(f,b);null!==L&&s.set(a.key,L),f.isValidDocument()||f.convertToNoDocument(bn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fr())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(t,s)=>jd(t,s))&&ja(this.baseMutations,e.baseMutations,(t,s)=>jd(t,s))}}class Bh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){E(e.mutations.length===s.length);let a=Em;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Bh(e,t,s,a)}}class jl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class t_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,Hr;function pp(r){if(void 0===r)return ti("GRPC error has no .code"),M.UNKNOWN;switch(r){case Js.OK:return M.OK;case Js.CANCELLED:return M.CANCELLED;case Js.UNKNOWN:return M.UNKNOWN;case Js.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Js.INTERNAL:return M.INTERNAL;case Js.UNAVAILABLE:return M.UNAVAILABLE;case Js.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Js.NOT_FOUND:return M.NOT_FOUND;case Js.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Js.ABORTED:return M.ABORTED;case Js.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Js.DATA_LOSS:return M.DATA_LOSS;default:return y()}}(Hr=Js||(Js={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";class gp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zd}static getOrCreateInstance(){return null===zd&&(zd=new gp),zd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zd=null;const r_=new pa([4294967295,4294967295],0);function nd(r){const e=function n_(){return new TextEncoder}().encode(r),t=new Qo;return t.update(e),new Uint8Array(t.digest())}function Sm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pa([t,s],0),new pa([a,c],0)]}class Hl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(s<0)throw new ul(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ul(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=pa.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(pa.fromNumber(s)));return 1===a.compare(r_)&&(a=new pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=nd(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Hl(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.yt)return;const t=nd(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gd(bn.min(),a,new jr(Nn),Pa(),fr())}}class rd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rd(s,t,fr(),fr(),fr())}}class $h{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Am{constructor(e,t){this.targetId=e,this.bt=t}}class Mm{constructor(e,t,s=d.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class mp{constructor(){this.Vt=0,this.St=Hh(),this.Dt=d.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=fr(),t=fr(),s=fr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:y()}}),new rd(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Hh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class xm{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Pa(),this.jt=jh(),this.zt=new jr(Nn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(Oh(f))if(0===a){const b=new nn(f.path);this.Jt(s,b,Bi.newNoDocument(b,bn.min()))}else E(1===a);else{const b=this.se(s);if(b!==a){const L=this.ie(e,b);0!==L&&(this.te(s),this.zt=this.zt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,Q,ge){var ze,Et,Ht,rn,Tn,Tr;const yi={localCacheCount:Q,existenceFilterCount:ge.count},Sr=ge.unchangedNames;return Sr&&(yi.bloomFilter={applied:0===z,hashCount:null!==(ze=Sr?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(rn=null===(Ht=null===(Et=Sr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===Ht?void 0:Ht.length)&&void 0!==rn?rn:0,padding:null!==(Tr=null===(Tn=Sr?.bits)||void 0===Tn?void 0:Tn.padding)&&void 0!==Tr?Tr:0}),yi}(L,b,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let L,z;try{L=ee(c).toUint8Array()}catch(Q){if(Q instanceof Wf)return bs("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{z=new Hl(L,f,b)}catch(Q){return bs(Q instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===z.yt?1:a!==t-this.re(e.targetId,z)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(b)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const b=this.ne(f);if(b){if(c.current&&Oh(b.target)){const L=new nn(b.target.path);null!==this.Qt.get(L)||this.ce(f,L)||this.Jt(f,L,Bi.newNoDocument(L,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=fr();this.jt.forEach((c,f)=>{let b=!0;f.forEachWhile(L=>{const z=this.ne(L);return!z||"TargetPurposeLimboResolution"===z.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new Gd(e,t,this.zt,this.Qt,s);return this.Qt=Pa(),this.jt=jh(),this.zt=new jr(Nn),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new mp,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Li(Nn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Nt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new mp),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function jh(){return new jr(nn.comparator)}function Hh(){return new jr(nn.comparator)}const i_={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wd={and:"AND",or:"OR"};class s_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||Sl(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function o_(r,e){return id(r,e.toTimestamp())}function Ls(r){return E(!!r),bn.fromTimestamp(function(e){const t=C(e);return new Di(t.seconds,t.nanos)}(r))}function _p(r,e){return(t=r,new Rr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vc(r){const e=Rr.fromString(r);return E(bp(e)),e}function Wa(r,e){return _p(r.databaseId,e.path)}function Ou(r,e){const t=vc(e);if(t.get(1)!==r.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new nn(wp(t))}function Ep(r,e){return _p(r.databaseId,e)}function zh(r){return new Rr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wp(r){return E(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function u_(r,e,t){return{name:Wa(r,e),fields:t.value.mapValue.fields}}function su(r,e){return{documents:[Ep(r,e.path)]}}function Tp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ep(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ep(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return km(xi.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(L){if(0!==L.length)return L.map(z=>{return{field:zl((Q=z).field),direction:h_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=vp(r,e.limit);var b,L;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Cp(r){let e=function a_(r){const e=vc(r);return 4===e.length?Rr.emptyPath():wp(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){E(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const ge=Nm(Q);return ge instanceof xi&&Nh(ge)?ge.getFilters():[ge]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new _u(od((ge=Q).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let b=null;t.limit&&(b=function(Q){let ge;return ge="object"==typeof Q?Q.value:Q,Sl(ge)?null:ge}(t.limit));let L=null;var Q;t.startAt&&(L=new il((Q=t.startAt).values||[],!!Q.before));let z=null;return t.endAt&&(z=function(Q){return new il(Q.values||[],!Q.before)}(t.endAt)),function ym(r,e,t,s,a,c,f,b){return new ol(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",L,z)}function Nm(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=od(e.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=od(e.unaryFilter.field);return qr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=od(e.unaryFilter.field);return qr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=od(e.unaryFilter.field);return qr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(r):void 0!==r.fieldFilter?qr.create(od((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return xi.create(e.compositeFilter.filters.map(t=>Nm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(r):y();var e}function h_(r){return i_[r]}function f_(r){return yp[r]}function Om(r){return Wd[r]}function zl(r){return{fieldPath:r.canonicalString()}}function od(r){return qi.fromServerFormat(r.fieldPath)}function km(r){return r instanceof qr?function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:f_(e.op),value:e.value}}}(r):r instanceof xi?function(e){const t=e.getFilters().map(s=>km(s));return 1===t.length?t[0]:{compositeFilter:{op:Om(e.op),filters:t}}}(r):y()}function pr(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class ku{constructor(e,t,s,a,c=bn.min(),f=bn.min(),b=d.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=L}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.le=e}}function Gh(r){const e=Cp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ep(e,e.limit,"L"):e}class ad{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(H(e.integerValue));else if("doubleValue"in e){const s=H(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),tl(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ee(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Rh(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):y()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),nn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}ad.be=new ad;class kp{constructor(){this.sn=new Hm}addToCollectionParentIndex(e,t){return this.sn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(po.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(po.min())}updateCollectionGroup(e,t,s){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class Hm{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Li(Rr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Li(Rr.comparator)).toArray()}}new Uint8Array(0);class na{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class dl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new dl(0)}static kn(){return new dl(-1)}}class D_{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Je.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&$d(s.mutation,a,ea.empty(),Di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=fr()){const a=iu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Fl();return c.forEach((b,L)=>{f=f.insert(b,L.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=iu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,fr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Pa();const f=Qi(),b=Qi();return t.forEach((L,z)=>{const Q=s.get(z.key);a.has(z.key)&&(void 0===Q||Q.mutation instanceof wu)?c=c.insert(z.key,z):void 0!==Q?(f.set(z.key,Q.mutation.getFieldMask()),$d(Q.mutation,z,Q.mutation.getFieldMask(),Di.now())):f.set(z.key,ea.empty())}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((z,Q)=>f.set(z,Q)),t.forEach((z,Q)=>{var ge;return b.set(z,new b_(Q,null!==(ge=f.get(z))&&void 0!==ge?ge:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Qi();let a=new jr((f,b)=>f-b),c=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(L=>{const z=t.get(L);if(null===z)return;let Q=s.get(L)||ea.empty();Q=b.applyToLocalView(z,Q),s.set(L,Q);const ge=(a.get(b.batchId)||fr()).add(L);a=a.insert(b.batchId,ge)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const L=b.getNext(),z=L.key,Q=L.value,ge=_m();Q.forEach(ze=>{if(!c.has(ze)){const Et=lp(t.get(ze),s.get(ze));null!==Et&&ge.set(ze,Et),c=c.add(ze)}}),f.push(this.documentOverlayCache.saveOverlays(e,z,ge))}return Je.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return nn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Je.resolve(iu());let b=-1,L=c;return f.next(z=>Je.forEach(z,(Q,ge)=>(b<ge.largestBatchId&&(b=ge.largestBatchId),c.get(Q)?Je.resolve():this.remoteDocumentCache.getEntry(e,Q).next(ze=>{L=L.insert(Q,ze)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,L,z,fr())).next(Q=>({batchId:b,changes:rp(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(s=>{let a=Fl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Fl();return this.indexManager.getCollectionParents(e,a).next(f=>Je.forEach(f,b=>{const L=(z=t,Q=b.child(a),new ol(Q,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,Q;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(z=>{z.forEach((Q,ge)=>{c=c.insert(Q,ge)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,L)=>{const z=L.getKey();null===c.get(z)&&(c=c.insert(z,Bi.newInvalidDocument(z)))});let f=Fl();return c.forEach((b,L)=>{const z=a.get(b);void 0!==z&&$d(z.mutation,L,ea.empty(),Di.now()),Uh(t,L)&&(f=f.insert(b,L))}),f})}}class S_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Je.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Ls(s.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Gh(s.bundledQuery),readTime:Ls(s.readTime)}),Je.resolve();var s}}class A_{constructor(){this.overlays=new jr(nn.comparator),this.hs=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const s=iu();return Je.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Je.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Je.resolve()}getOverlaysForCollection(e,t,s){const a=iu(),c=t.length+1,f=new nn(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const L=b.getNext().value,z=L.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===c&&L.largestBatchId>s&&a.set(L.getKey(),L)}return Je.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new jr((z,Q)=>z-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const z=f.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>s){let Q=c.get(z.largestBatchId);null===Q&&(Q=iu(),c=c.insert(z.largestBatchId,Q)),Q.set(z.getKey(),z)}}const b=iu(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((z,Q)=>b.set(z,Q)),!(b.size()>=a)););return Je.resolve(b)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new jl(t,s));let c=this.hs.get(t);void 0===c&&(c=fr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class eh{constructor(){this.ls=new Li(Io.fs),this.ds=new Li(Io._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Io(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Io(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new nn(new Rr([])),s=new Io(t,e),a=new Io(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new nn(new Rr([])),s=new Io(t,e),a=new Io(t,e+1);let c=fr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Io(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Io{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return nn.comparator(e.key,t.key)||Nn(e.Es,t.Es)}static _s(e,t){return Nn(e.Es,t.Es)||nn.comparator(e.key,t.key)}}class M_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Li(Io.fs)}checkEmpty(e){return Je.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new fp(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new Io(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Je.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Io(t,0),a=new Io(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.vs(f.Es);c.push(b)}),Je.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Li(Nn);return t.forEach(a=>{const c=new Io(a,0),f=new Io(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.Es)})}),Je.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;nn.isDocumentKey(c)||(c=c.child(""));const f=new Io(new nn(c),0);let b=new Li(Nn);return this.Rs.forEachWhile(L=>{const z=L.key.path;return!!s.isPrefixOf(z)&&(z.length===a&&(b=b.add(L.Es)),!0)},f),Je.resolve(this.bs(b))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){E(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Je.forEach(t.mutations,a=>{const c=new Io(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Io(t,0),a=this.Rs.firstAfterOrEqual(s);return Je.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Je.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x_{constructor(e){this.Ss=e,this.docs=new jr(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Je.resolve(s?s.document.mutableCopy():Bi.newInvalidDocument(t))}getEntries(e,t){let s=Pa();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Bi.newInvalidDocument(a))}),Je.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Pa();const f=t.path,b=new nn(f.child("")),L=this.docs.getIteratorFrom(b);for(;L.hasNext();){const{key:z,value:{document:Q}}=L.getNext();if(!f.isPrefixOf(z.path))break;z.path.length>f.length+1||Tl(Dl(Q),s)<=0||(a.has(Q.key)||Uh(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return Je.resolve(c)}getAllFromCollectionGroup(e,t,s,a){y()}Ds(e,t){return Je.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new R_(this)}getSize(e){return Je.resolve(this.size)}}class R_ extends D_{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Je.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class P_{constructor(e){this.persistence=e,this.Cs=new al(t=>gc(t),Fd),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new eh,this.targetCount=0,this.ks=dl.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Je.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.$n(t),Je.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),Je.waitFor(c).next(()=>a)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Je.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Je.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Je.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Je.resolve(s)}containsKey(e,t){return Je.resolve(this.Ns.containsKey(t))}}class ou{constructor(e,t){this.Ms={},this.overlays={},this.Os=new go(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new P_(this),this.indexManager=new kp,this.remoteDocumentCache=new x_(s=>this.referenceDelegate.Bs(s)),this.serializer=new Sp(t),this.Ls=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new M_(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Nt("MemoryPersistence","Starting transaction:",e);const a=new Hp(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Je.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class Hp extends xh{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Gs=new eh,this.Qs=null}static js(e){return new Qh(e)}get zs(){if(this.Qs)return this.Qs;throw y()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Je.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.zs,s=>{const a=nn.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,bn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Je.or([()=>Je.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class fd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=fr(),a=fr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new fd(e,t.fromCache,s,a)}}class th{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(Ld(t))return Je.resolve(null);let s=ta(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ep(t,null,"F"),s=ta(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=fr(...c);return this.qi.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(L=>{const z=this.Qi(t,b);return this.ji(t,z,f,L.readTime)?this.Ui(e,ep(t,null,"F")):this.zi(e,z,t,L)}))})))}Ki(e,t,s,a){return Ld(t)||a.isEqual(bn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):($a()<=Oe.in.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vd(t)),this.zi(e,f,t,function Ha(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=bn.fromTimestamp(1e9===s?new Di(t+1,0):new Di(t,s));return new po(a,nn.empty(),e)}(a,-1)))})}Qi(e,t){let s=new Li(tp(e));return t.forEach((a,c)=>{Uh(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return $a()<=Oe.in.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",Vd(t)),this.qi.getDocumentsMatchingQuery(e,t,po.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class ef{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new jr(Nn),this.Ji=new al(c=>gc(c),Fd),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function tf(r,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,_t.Z)(function*(r,e){const t=T(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let L=fr();for(const z of a){f.push(z.batchId);for(const Q of z.mutations)L=L.add(Q.key)}for(const z of c){b.push(z.batchId);for(const Q of z.mutations)L=L.add(Q.key)}return t.localDocuments.getDocuments(s,L).next(z=>({tr:z,removedBatchIds:f,addedBatchIds:b}))})})}),Jm.apply(this,arguments)}function Kp(r){const e=T(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Zp(r,e){const t=T(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fl(r,e,t){return pd.apply(this,arguments)}function pd(){return pd=(0,_t.Z)(function*(r,e,t){const s=T(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!xa(f))throw f;Nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),pd.apply(this,arguments)}function Zl(r,e,t){const s=T(r);let a=bn.min(),c=fr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,L,z){const Q=T(b),ge=Q.Ji.get(z);return void 0!==ge?Je.resolve(Q.Hi.get(ge)):Q.Fs.getTargetData(L,z)}(s,f,ta(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,b.targetId).next(L=>{c=L})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:bn.min(),t?c:fr())).next(b=>(function Qp(r,e,t){let s=r.Yi.get(e)||bn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function Yv(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,sr:c})))}class ng{constructor(){this.activeTargetIds=function ip(){return wm}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(){this.Wr=new ng,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new ng,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F_{Jr(e){}shutdown(){}}class uf{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function rg(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const L_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ra="WebChannelConnection";class U_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=rg(),b=this.Io(e,t);Nt("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const L={};return this.To(L,a,c),this.Eo(e,b,L,s).then(z=>(Nt("RestConnection",`Received RPC '${e}' ${f}: `,z),z),z=>{throw bs("RestConnection",`RPC '${e}' ${f} failed with error: `,z,"url: ",b,"request:",s),z})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${L_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=rg();return new Promise((f,b)=>{const L=new co;L.setWithCredentials(!0),L.listenOnce(vl.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Zu.NO_ERROR:const Q=L.getResponseJson();Nt(ra,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case Zu.TIMEOUT:Nt(ra,`RPC '${e}' ${c} timed out`),b(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const ge=L.getStatus();if(Nt(ra,`RPC '${e}' ${c} failed with status:`,ge,"response text:",L.getResponseText()),ge>0){let ze=L.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const Et=ze?.error;if(Et&&Et.status&&Et.message){const Ht=function(rn){const Tn=rn.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(Tn)>=0?Tn:M.UNKNOWN}(Et.status);b(new V(Ht,Et.message))}else b(new V(M.UNKNOWN,"Server responded with status "+L.getStatus()))}else b(new V(M.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{Nt(ra,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(a);Nt(ra,`RPC '${e}' ${c} sending request:`,a),L.send(t,"POST",z,s,15)})}Ro(e,t,s){const a=rg(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jc(),b=Ua(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Mu({})),this.To(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const z=c.join("");Nt(ra,`Creating RPC '${e}' stream ${a}: ${z}`,L);const Q=f.createWebChannel(z,L);let ge=!1,ze=!1;const Et=new V_({io:rn=>{ze?Nt(ra,`Not sending because RPC '${e}' stream ${a} is closed:`,rn):(ge||(Nt(ra,`Opening RPC '${e}' stream ${a} transport.`),Q.open(),ge=!0),Nt(ra,`RPC '${e}' stream ${a} sending:`,rn),Q.send(rn))},ro:()=>Q.close()}),Ht=(rn,Tn,Tr)=>{rn.listen(Tn,yi=>{try{Tr(yi)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return Ht(Q,Yo.EventType.OPEN,()=>{ze||Nt(ra,`RPC '${e}' stream ${a} transport opened.`)}),Ht(Q,Yo.EventType.CLOSE,()=>{ze||(ze=!0,Nt(ra,`RPC '${e}' stream ${a} transport closed`),Et.fo())}),Ht(Q,Yo.EventType.ERROR,rn=>{ze||(ze=!0,bs(ra,`RPC '${e}' stream ${a} transport errored:`,rn),Et.fo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),Ht(Q,Yo.EventType.MESSAGE,rn=>{var Tn;if(!ze){const Tr=rn.data[0];E(!!Tr);const Sr=Tr.error||(null===(Tn=Tr[0])||void 0===Tn?void 0:Tn.error);if(Sr){Nt(ra,`RPC '${e}' stream ${a} received error:`,Sr);const Ya=Sr.status;let Xs=function(au){const bu=Js[au];if(void 0!==bu)return pp(bu)}(Ya),vs=Sr.message;void 0===Xs&&(Xs=M.INTERNAL,vs="Unknown error status: "+Ya+" with message "+Sr.message),ze=!0,Et.fo(new V(Xs,vs)),Q.close()}else Nt(ra,`RPC '${e}' stream ${a} received:`,Tr),Et._o(Tr)}}),Ht(b,Ki.STAT_EVENT,rn=>{rn.stat===gu.PROXY?Nt(ra,`RPC '${e}' stream ${a} detected buffering proxy`):rn.stat===gu.NOPROXY&&Nt(ra,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Et.lo()},0),Et}}function ih(){return typeof document<"u"?document:null}function gd(r){return new s_(r,!0)}class ig{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Nt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class B_{constructor(e,t,s,a,c,f,b,L){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ig(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,_t.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,_t.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,_t.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(ti(t.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===M.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new V(M.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,_t.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iy extends B_{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function l_(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:y(),a=e.targetChange.targetIds||[],c=function(L,z){return L.useProto3Json?(E(void 0===z||"string"==typeof z),d.fromBase64String(z||"")):(E(void 0===z||z instanceof Uint8Array),d.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(L){const z=void 0===L.code?M.UNKNOWN:pp(L.code);return new V(z,L.message||"")}(f);t=new Mm(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Ou(r,s.document.name),c=Ls(s.document.updateTime),f=s.document.createTime?Ls(s.document.createTime):bn.min(),b=new Bo({mapValue:{fields:s.document.fields}}),L=Bi.newFoundDocument(a,c,f,b);t=new $h(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=Ou(r,s.document),c=s.readTime?Ls(s.readTime):bn.min(),f=Bi.newNoDocument(a,c);t=new $h([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Ou(r,s.document);t=new $h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return y();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new t_(a,c);t=new Am(s.targetId,f)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return bn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?bn.min():c.readTime?Ls(c.readTime):bn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=zh(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=Oh(b)?{documents:su(a,b)}:{query:Tp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Rm(a,c.resumeToken);const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}else if(c.snapshotVersion.compareTo(bn.min())>0){f.readTime=id(a,c.snapshotVersion.toTimestamp());const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}return f}(this.serializer,e);const s=function d_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=zh(this.serializer),t.removeTarget=e,this.zo(t)}}class _E extends B_{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(E(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function c_(r,e){return r&&r.length>0?(E(void 0!==e),r.map(t=>function(s,a){let c=Ls(s.updateTime?s.updateTime:a);return c.isEqual(bn.min())&&(c=Ls(a)),new up(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.uu(s,t)}return E(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=zh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function sd(r,e){let t;if(e instanceof td)t={update:u_(r,e.key,e.value)};else if(e instanceof $l)t={delete:Wa(r,e.key)};else if(e instanceof wu)t={update:u_(r,e.key,e.data),updateMask:pr(e.fieldMask)};else{if(!(e instanceof hp))return y();t={verify:Wa(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Ll)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ul)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw y()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:o_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:y()),t;var a}(this.serializer,s))};this.zo(t)}}class cf extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(M.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new V(M.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class og{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ti(t),this.wu=!1):Nt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class j_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(b=>{s.enqueueAndForget((0,_t.Z)(function*(){var L;qa(f)&&(Nt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,_t.Z)(function*(z){const Q=T(z);Q.Au.add(4),yield Vs(Q),Q.Pu.set("Unknown"),Q.Au.delete(4),yield Oa(Q)}),function(z){return L.apply(this,arguments)})(f))}))}),this.Pu=new og(s,a)}}function Oa(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,_t.Z)(function*(r){if(qa(r))for(const e of r.Ru)yield e(!0)}),Ic.apply(this,arguments)}function Vs(r){return pl.apply(this,arguments)}function pl(){return pl=(0,_t.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pl.apply(this,arguments)}function Dc(r,e){const t=T(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Ql(t)?Yl(t):Sc(t).Uo()&&sh(t,e))}function ia(r,e){const t=T(r),s=Sc(t);t.Eu.delete(e),s.Uo()&&Tc(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():qa(t)&&t.Pu.set("Unknown"))}function sh(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(r).nu(e)}function Tc(r,e){r.bu.Lt(e),Sc(r).su(e)}function Yl(r){r.bu=new xm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Sc(r).start(),r.Pu.mu()}function Ql(r){return qa(r)&&!Sc(r).qo()&&r.Eu.size>0}function qa(r){return 0===T(r).Au.size}function Cc(r){r.bu=void 0}function md(r){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,_t.Z)(function*(r){r.Eu.forEach((e,t)=>{sh(r,e)})}),Jl.apply(this,arguments)}function yd(r,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,_t.Z)(function*(r,e){Cc(r),Ql(r)?(r.Pu.pu(e),Yl(r)):r.Pu.set("Unknown")}),Xl.apply(this,arguments)}function sy(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,_t.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof Mm&&2===e.state&&e.cause)try{yield(s=(0,_t.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Eu.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Eu.delete(b),a.bu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield oh(r,s)}else if(e instanceof $h?r.bu.Wt(e):e instanceof Am?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(bn.min()))try{const s=yield Kp(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const z=a.Eu.get(L);z&&a.Eu.set(L,z.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,L)=>{const z=a.Eu.get(b);if(!z)return;a.Eu.set(b,z.withResumeToken(d.EMPTY_BYTE_STRING,z.snapshotVersion)),Tc(a,b);const Q=new ku(z.target,b,L,z.sequenceNumber);sh(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Nt("RemoteStore","Failed to raise snapshot:",s),yield oh(r,s)}var s}),df.apply(this,arguments)}function oh(r,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,_t.Z)(function*(r,e,t){if(!xa(e))throw e;r.Au.add(1),yield Vs(r),r.Pu.set("Offline"),t||(t=()=>Kp(r.localStore)),r.asyncQueue.enqueueRetryable((0,_t.Z)(function*(){Nt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Oa(r)}))}),hf.apply(this,arguments)}function ag(r,e){return e().catch(t=>oh(r,t,e))}function bc(r){return ff.apply(this,arguments)}function ff(){return ff=(0,_t.Z)(function*(r){const e=T(r),t=gl(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;oy(e);)try{const a=yield Zp(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,ay(e,a)}catch(a){yield oh(e,a)}uy(e)&&ly(e)}),ff.apply(this,arguments)}function oy(r){return qa(r)&&r.Tu.length<10}function ay(r,e){r.Tu.push(e);const t=gl(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function uy(r){return qa(r)&&!gl(r).qo()&&r.Tu.length>0}function ly(r){gl(r).start()}function cy(r){return ug.apply(this,arguments)}function ug(){return ug=(0,_t.Z)(function*(r){gl(r).au()}),ug.apply(this,arguments)}function dy(r){return ah.apply(this,arguments)}function ah(){return ah=(0,_t.Z)(function*(r){const e=gl(r);for(const t of r.Tu)e.ou(t.mutations)}),ah.apply(this,arguments)}function lg(r,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,_t.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Bh.from(s,e,t);yield ag(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield bc(r)}),cg.apply(this,arguments)}function pf(r,e){return vd.apply(this,arguments)}function vd(){return vd=(0,_t.Z)(function*(r,e){var t;e&&gl(r).ru&&(yield(t=(0,_t.Z)(function*(s,a){if(function bm(r){switch(r){default:return y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(c=a.code)&&c!==M.ABORTED){const f=s.Tu.shift();gl(s).Go(),yield ag(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield bc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),uy(r)&&ly(r)}),vd.apply(this,arguments)}function gf(r,e){return dg.apply(this,arguments)}function dg(){return dg=(0,_t.Z)(function*(r,e){const t=T(r);t.asyncQueue.verifyOperationInProgress(),Nt("RemoteStore","RemoteStore received new credentials");const s=qa(t);t.Au.add(3),yield Vs(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Oa(t)}),dg.apply(this,arguments)}function Ed(){return Ed=(0,_t.Z)(function*(r,e){const t=T(r);e?(t.Au.delete(2),yield Oa(t)):e||(t.Au.add(2),yield Vs(t),t.Pu.set("Unknown"))}),Ed.apply(this,arguments)}function Sc(r){return r.Vu||(r.Vu=function(e,t,s){const a=T(e);return a.lu(),new iy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:md.bind(null,r),co:yd.bind(null,r),eu:sy.bind(null,r)}),r.Ru.push(function(){var e=(0,_t.Z)(function*(t){t?(r.Vu.Go(),Ql(r)?Yl(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),Cc(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function gl(r){return r.Su||(r.Su=function(e,t,s){const a=T(e);return a.lu(),new _E(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:cy.bind(null,r),co:pf.bind(null,r),cu:dy.bind(null,r),uu:lg.bind(null,r)}),r.Ru.push(function(){var e=(0,_t.Z)(function*(t){t?(r.Su.Go(),yield bc(r)):(yield r.Su.stop(),r.Tu.length>0&&(Nt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class uh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new uh(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(r,e){if(ti("AsyncQueue",`${e}: ${r}`),xa(r))return new V(M.UNAVAILABLE,`${e}: ${r}`);throw r}class Mc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nn.comparator(t.key,s.key):(t,s)=>nn.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new jr(this.comparator)}static emptySet(e){return new Mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mf{constructor(){this.Du=new jr(nn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):y():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class xc{constructor(e,t,s,a,c,f,b,L,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=L,this.hasCachedResults=z}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new xc(e,t,Mc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class H_{constructor(){this.xu=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new al(e=>Vh(e),Lh),this.onlineState="Unknown",this.Nu=new Set}}function yf(r,e){return vf.apply(this,arguments)}function vf(){return vf=(0,_t.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new H_),a)try{c.xu=yield t.onListen(s)}catch(f){const b=Ac(f,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&Ef(t)}),vf.apply(this,arguments)}function _f(r,e){return hg.apply(this,arguments)}function hg(){return hg=(0,_t.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),hg.apply(this,arguments)}function z_(r,e){const t=T(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.Mu(a)&&(s=!0);f.xu=a}}s&&Ef(t)}function G_(r,e,t){const s=T(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ef(r){r.Nu.forEach(e=>{e.next()})}class lh{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class gg{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class yg{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=fr(),this.mutatedKeys=fr(),this.Zu=tp(e),this.tc=new Mc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new mf,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,ge)=>{const ze=a.get(Q),Et=Uh(this.query,ge)?ge:null,Ht=!!ze&&this.mutatedKeys.has(ze.key),rn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let Tn=!1;ze&&Et?ze.data.isEqual(Et.data)?Ht!==rn&&(s.track({type:3,doc:Et}),Tn=!0):this.ic(ze,Et)||(s.track({type:2,doc:Et}),Tn=!0,(L&&this.Zu(Et,L)>0||z&&this.Zu(Et,z)<0)&&(b=!0)):!ze&&Et?(s.track({type:0,doc:Et}),Tn=!0):ze&&!Et&&(s.track({type:1,doc:ze}),Tn=!0,(L||z)&&(b=!0)),Tn&&(Et?(f=f.add(Et),c=rn?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{tc:f,sc:s,ji:b,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((z,Q)=>function(ge,ze){const Et=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return Et(ge)-Et(ze)}(z.type,Q.type)||this.Zu(z.doc,Q.doc)),this.rc(s);const f=t?this.oc():[],b=0===this.Xu.size&&this.current?1:0,L=b!==this.Yu;return this.Yu=b,0!==c.length||L?{snapshot:new xc(this.query,e.tc,a,c,e.mutatedKeys,0===b,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new mf,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=fr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new mg(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new gg(s))}),t}ac(e){this.Ju=e.sr,this.Xu=fr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class gy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wf{constructor(e){this.key=e,this.lc=!1}}class ec{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new al(b=>Vh(b),Lh),this._c=new Map,this.wc=new Set,this.mc=new jr(nn.comparator),this.gc=new Map,this.yc=new eh,this.Ic={},this.Tc=new Map,this.Ec=dl.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function W_(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,_t.Z)(function*(r,e){const t=function Og(r){const e=T(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vy.bind(null,e),e.fc.eu=z_.bind(null,e.eventManager),e.fc.vc=G_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield function Na(r,e){const t=T(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Je.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new ku(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,ta(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function ch(r,e,t,s,a){return ml.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Dc(t.remoteStore,f)}return a}),vg.apply(this,arguments)}function ml(){return ml=(0,_t.Z)(function*(r,e,t,s,a){r.Rc=(ge,ze,Et)=>{return(Ht=(0,_t.Z)(function*(rn,Tn,Tr,yi){let Sr=Tn.view.nc(Tr);Sr.ji&&(Sr=yield Zl(rn.localStore,Tn.query,!1).then(({documents:vs})=>Tn.view.nc(vs,Sr)));const Ya=yi&&yi.targetChanges.get(Tn.targetId),Xs=Tn.view.applyChanges(Sr,rn.isPrimaryClient,Ya);return bg(rn,Tn.targetId,Xs.uc),Xs.snapshot}),function(rn,Tn,Tr,yi){return Ht.apply(this,arguments)})(r,ge,ze,Et);var Ht};const c=yield Zl(r.localStore,e,!0),f=new yg(e,c.sr),b=f.nc(c.documents),L=rd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),z=f.applyChanges(b,r.isPrimaryClient,L);bg(r,t,z.uc);const Q=new gy(e,t,f);return r.dc.set(e,Q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),ml.apply(this,arguments)}function _g(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,_t.Z)(function*(r,e){const t=T(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Lh(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield fl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ia(t.remoteStore,s.targetId),Du(t,s.targetId)}).catch(mu))):(Du(t,s.targetId),yield fl(t.localStore,s.targetId,!0))}),Eg.apply(this,arguments)}function my(){return my=(0,_t.Z)(function*(r,e,t){const s=function Sf(r){const e=T(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mo.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q_.bind(null,e),e}(r);try{const a=yield function(c,f){const b=T(c),L=Di.now(),z=f.reduce((ze,Et)=>ze.add(Et.key),fr());let Q,ge;return b.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let Et=Pa(),Ht=fr();return b.Xi.getEntries(ze,z).next(rn=>{Et=rn,Et.forEach((Tn,Tr)=>{Tr.isValidDocument()||(Ht=Ht.add(Tn))})}).next(()=>b.localDocuments.getOverlayedDocuments(ze,Et)).next(rn=>{Q=rn;const Tn=[];for(const Tr of f){const yi=cp(Tr,Q.get(Tr.key).overlayedDocument);null!=yi&&Tn.push(new wu(Tr.key,yi,hm(yi.value.mapValue),ts.exists(!0)))}return b.mutationQueue.addMutationBatch(ze,L,Tn,f)}).next(rn=>{ge=rn;const Tn=rn.applyToLocalDocumentSet(Q,Ht);return b.documentOverlayCache.saveOverlays(ze,rn.batchId,Tn)})}).then(()=>({batchId:ge.batchId,changes:rp(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let L=c.Ic[c.currentUser.toKey()];L||(L=new jr(Nn)),L=L.insert(f,b),c.Ic[c.currentUser.toKey()]=L}(s,a.batchId,t),yield Uu(s,a.changes),yield bc(s.remoteStore)}catch(a){const c=Ac(a,"Failed to persist write");t.reject(c)}}),my.apply(this,arguments)}function K_(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,_t.Z)(function*(r,e){const t=T(r);try{const s=yield function ey(r,e){const t=T(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const b=[];e.targetChanges.forEach((Q,ge)=>{const ze=a.get(ge);if(!ze)return;b.push(t.Fs.removeMatchingKeys(c,Q.removedDocuments,ge).next(()=>t.Fs.addMatchingKeys(c,Q.addedDocuments,ge)));let Et=ze.withSequenceNumber(c.currentSequenceNumber);var Ht,rn,Tn;null!==e.targetMismatches.get(ge)?Et=Et.withResumeToken(d.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):Q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(Q.resumeToken,s)),a=a.insert(ge,Et),rn=Et,Tn=Q,(0===(Ht=ze).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&b.push(t.Fs.updateTargetData(c,Et))});let L=Pa(),z=fr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),b.push(function qp(r,e,t){let s=fr(),a=fr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Pa();return t.forEach((b,L)=>{const z=c.get(b);L.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(b)),L.isNoDocument()&&L.version.isEqual(bn.min())?(e.removeEntry(b,L.readTime),f=f.insert(b,L)):!z.isValidDocument()||L.version.compareTo(z.version)>0||0===L.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(L),f=f.insert(b,L)):Nt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",L.version)}),{er:f,nr:a}})}(c,f,e.documentUpdates).next(Q=>{L=Q.er,z=Q.nr})),!s.isEqual(bn.min())){const Q=t.Fs.getLastRemoteSnapshotVersion(c).next(ge=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(Q)}return Je.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,z)).next(()=>L)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(E(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?E(f.lc):a.removedDocuments.size>0&&(E(f.lc),f.lc=!1))}),yield Uu(t,s,e)}catch(s){yield mu(s)}}),Ig.apply(this,arguments)}function yy(r,e,t){const s=T(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const b=f.view.ku(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=T(c);b.onlineState=f;let L=!1;b.queries.forEach((z,Q)=>{for(const ge of Q.listeners)ge.ku(f)&&(L=!0)}),L&&Ef(b)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function vy(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,_t.Z)(function*(r,e,t){const s=T(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new jr(nn.comparator);f=f.insert(c,Bi.newNoDocument(c,bn.min()));const b=fr().add(c),L=new Gd(bn.min(),new Map,new jr(Nn),f,b);yield K_(s,L),s.mc=s.mc.remove(c),s.gc.delete(e),Sg(s)}else yield fl(s.localStore,e,!1).then(()=>Du(s,e,t)).catch(mu)}),Dg.apply(this,arguments)}function mo(r,e){return If.apply(this,arguments)}function If(){return If=(0,_t.Z)(function*(r,e){const t=T(r),s=e.batch.batchId;try{const a=yield function Xm(r,e){const t=T(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,b,L,z){const Q=L.batch,ge=Q.keys();let ze=Je.resolve();return ge.forEach(Et=>{ze=ze.next(()=>z.getEntry(b,Et)).next(Ht=>{const rn=L.docVersions.get(Et);E(null!==rn),Ht.version.compareTo(rn)<0&&(Q.applyToRemoteDocument(Ht,L),Ht.isValidDocument()&&(Ht.setReadTime(L.commitVersion),z.addEntry(Ht)))})}),ze.next(()=>f.mutationQueue.removeMutationBatch(b,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=fr();for(let L=0;L<f.mutationResults.length;++L)f.mutationResults[L].transformResults.length>0&&(b=b.add(f.batch.mutations[L].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tf(t,s,null),Df(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Uu(t,a)}catch(a){yield mu(a)}}),If.apply(this,arguments)}function q_(r,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,_t.Z)(function*(r,e,t){const s=T(r);try{const a=yield function(c,f){const b=T(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let z;return b.mutationQueue.lookupMutationBatch(L,f).next(Q=>(E(null!==Q),z=Q.keys(),b.mutationQueue.removeMutationBatch(L,Q))).next(()=>b.mutationQueue.performConsistencyCheck(L)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(L,z,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,z)).next(()=>b.localDocuments.getDocuments(L,z))})}(s.localStore,e);Tf(s,e,t),Df(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(s,a)}catch(a){yield mu(a)}}),Tg.apply(this,arguments)}function Df(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Tf(r,e,t){const s=T(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function Du(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||Ey(r,s)})}function Ey(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(ia(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Sg(r))}function bg(r,e,t){for(const s of t)s instanceof gg?(r.yc.addReference(s.key,e),wy(r,s)):s instanceof mg?(Nt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||Ey(r,s.key)):y()}function wy(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Nt("SyncEngine","New document in limbo: "+t),r.wc.add(s),Sg(r))}function Sg(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new nn(Rr.fromString(e)),s=r.Ec.next();r.gc.set(s,new wf(t)),r.mc=r.mc.insert(t,s),Dc(r.remoteStore,new ku(ta(Qc(t.path)),s,"TargetPurposeLimboResolution",go.ct))}}function Uu(r,e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,_t.Z)(function*(r,e,t){const s=T(r),a=[],c=[],f=[];var b;s.dc.isEmpty()||(s.dc.forEach((b,L)=>{f.push(s.Rc(L,e,t).then(z=>{if((z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,z?.fromCache?"not-current":"current"),z){a.push(z);const Q=fd.Bi(L.targetId,z);c.push(Q)}}))}),yield Promise.all(f),s.fc.eu(a),yield(b=(0,_t.Z)(function*(L,z){const Q=T(L);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Je.forEach(z,ze=>Je.forEach(ze.$i,Et=>Q.persistence.referenceDelegate.addReference(ge,ze.targetId,Et)).next(()=>Je.forEach(ze.Fi,Et=>Q.persistence.referenceDelegate.removeReference(ge,ze.targetId,Et)))))}catch(ge){if(!xa(ge))throw ge;Nt("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of z){const ze=ge.targetId;if(!ge.fromCache){const Et=Q.Hi.get(ze),rn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);Q.Hi=Q.Hi.insert(ze,rn)}}}),function(L,z){return b.apply(this,arguments)})(s.localStore,c))}),Iy.apply(this,arguments)}function Ag(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,_t.Z)(function*(r,e){const t=T(r);if(!t.currentUser.isEqual(e)){Nt("SyncEngine","User change. New user:",e.toKey());const s=yield tf(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(b=>{b.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uu(t,s.tr)}var a}),dh.apply(this,arguments)}function Bu(r,e){const t=T(r),s=t.gc.get(e);if(s&&s.lc)return fr().add(s.key);{let a=fr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.dc.get(f);a=a.unionWith(b.view.ec)}return a}}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_t.Z)(function*(){t.serializer=gd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function N_(r,e,t,s){return new ef(r,e,t,s)}(this.persistence,new th,e.initialUser,this.serializer)}createPersistence(e){return new ou(Qh.js,this.serializer)}createSharedClientState(e){return new af}terminate(){var e=this;return(0,_t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tc{initialize(e,t){var s=this;return(0,_t.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>yy(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ag.bind(null,s.syncEngine),yield function _d(r,e){return Ed.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=gd(e.databaseInfo.databaseId),s=new U_(e.databaseInfo);return new cf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>yy(this.syncEngine,b,0),f=uf.D()?new uf:new F_,new j_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,L,z){const Q=new ec(s,a,c,f,b,L);return z&&(Q.Ac=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_t.Z)(function*(t){const s=T(t);Nt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield Vs(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ph{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ry{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ii.UNAUTHENTICATED,this.clientId=sc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,_t.Z)(function*(b){Nt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Nt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,_t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ac(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function gh(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,_t.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Nt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,_t.Z)(function*(c){s.isEqual(c)||(yield tf(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Af.apply(this,arguments)}function Mf(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,_t.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Vg(r){return Ug.apply(this,arguments)}(r);Nt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>gf(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>gf(e.remoteStore,c)),r._onlineComponents=e}),Lg.apply(this,arguments)}function Ug(){return Ug=(0,_t.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Nt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Py(r){return"FirebaseError"===r.name?r.code===M.FAILED_PRECONDITION||r.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield gh(r,new Rc)}}else Nt("FirestoreClient","Using default OfflineComponentProvider"),yield gh(r,new Rc);return r._offlineComponents}),Ug.apply(this,arguments)}function xf(r){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,_t.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Nt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mf(r,r._uninitializedComponentsProvider._online)):(Nt("FirestoreClient","Using default OnlineComponentProvider"),yield Mf(r,new tc))),r._onlineComponents}),Bg.apply(this,arguments)}function wd(r){return jg.apply(this,arguments)}function jg(){return jg=(0,_t.Z)(function*(r){const e=yield xf(r),t=e.eventManager;return t.onListen=W_.bind(null,e.syncEngine),t.onUnlisten=_g.bind(null,e.syncEngine),t}),jg.apply(this,arguments)}const zg=new Map;function Pf(r,e,t){if(!t)throw new V(M.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Gg(r){if(!nn.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wg(r){if(nn.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":y()}function br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Id(r);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Hy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $y(r,e,t,s){if(!0===e&&!0===s)throw new V(M.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yt;switch(t.type){case"firstParty":return new Mi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zg.get(e);t&&(Nt("ComponentProvider","Removing Datastore"),zg.delete(e),t.terminate())}(this),Promise.resolve()}}class ys{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class sa{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sa(this.firestore,e,this._query)}}class Cu extends sa{constructor(e,t,s){super(e,t,Qc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new nn(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function zy(r,e,...t){if(r=(0,we.m9)(r),Pf("collection","path",e),r instanceof ju){const s=Rr.fromString(e,...t);return Wg(s),new Cu(r,null,s)}{if(!(r instanceof ys||r instanceof Cu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rr.fromString(e,...t));return Wg(s),new Cu(r.firestore,null,s)}}function $n(r,e,...t){if(r=(0,we.m9)(r),1===arguments.length&&(e=sc.A()),Pf("doc","path",e),r instanceof ju){const s=Rr.fromString(e,...t);return Gg(s),new ys(r,null,new nn(s))}{if(!(r instanceof ys||r instanceof Cu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rr.fromString(e,...t));return Gg(s),new ys(r.firestore,r instanceof Cu?r.converter:null,new nn(s))}}class t0{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ig(this,"async_queue_retry"),this.Yc=()=>{const t=ih();t&&Nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Y;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,_t.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!xa(t))throw t;Nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,ti("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=uh.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&y()}verifyOperationInProgress(){}na(){var e=this;return(0,_t.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function nc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Pi extends ju{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new t0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qg(this),this._firestoreClient.terminate()}}function IE(r,e){const t="object"==typeof r?r:(0,je.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,je._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,we.P0)("firestore");c&&function EE(r,e,t,s={}){var a;const c=(r=br(r,ju))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=Ii.MOCK_USER;else{f=(0,we.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ii(L)}r._authCredentials=new tn(new Me(f,b))}}(a,...c)}return a}function Bs(r){return r._firestoreClient||qg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function qg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new cn(r._databaseId,b,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,z.useFetchStreams));var b,z;r._firestoreClient=new Ry(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rc(d.fromBase64String(e))}catch(t){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rc(d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class Nc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nn(this._lat,e._lat)||Nn(this._long,e._long)}}const yh=/^__.*__$/;class u0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}class Ky{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class vh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qy(this.ua)&&yh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Zy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gd(e)}ga(e,t,s,a=!1){return new vh({ua:e,methodName:t,ma:s,path:qi.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),t=gd(r._databaseId);return new Zy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qg(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Fc("Data must be an object, but it was:",f,s);const b=Qy(s,f);let L,z;if(c.merge)L=new ea(f.fieldMask),z=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const ge of c.mergeFields){const ze=Eh(e,ge,t);if(!f.contains(ze))throw new V(M.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);d0(Q,ze)||Q.push(ze)}L=new ea(Q),z=f.fieldTransforms.filter(ge=>L.covers(ge.field))}else L=null,z=f.fieldTransforms;return new u0(new Bo(b),L,z)}class Dd extends Yg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function kc(r,e){if(em(r=(0,we.m9)(r)))return Fc("Unsupported field value:",e,r),Qy(r,e);if(r instanceof Yg)return function(t,s){if(!qy(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=kc(f,s.da(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,we.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Di.fromDate(t);return{timestampValue:id(s.serializer,a)}}if(t instanceof Di){const a=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:id(s.serializer,a)}}if(t instanceof Nc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rc)return{bytesValue:Rm(s.serializer,t._byteString)};if(t instanceof ys){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_p(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Id(t)}`)}(r,e)}function Qy(r,e){const t={};return ya(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yi(r,(s,a)=>{const c=kc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function em(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Di||r instanceof Nc||r instanceof rc||r instanceof ys||r instanceof Yg)}function Fc(r,e,t){if(!em(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Id(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Eh(r,e,t){if((e=(0,we.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return kf(r,e);throw Ff("Field path arguments must be of type string or ",r,!1,void 0,t)}const c0=new RegExp("[~\\*/\\[\\]]");function kf(r,e,t){if(e.search(c0)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ff(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(c||f)&&(L+=" (found",c&&(L+=` in field ${s}`),f&&(L+=` in document ${a}`),L+=")"),new V(M.INVALID_ARGUMENT,b+r+L)}function d0(r,e){return r.some(t=>t.isEqual(e))}class tm{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jy extends tm{data(){return super.data()}}function Lf(r,e){return"string"==typeof e?kf(r,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function Xy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}class ev extends Lc{}function tv(r,e,...t){let s=[];e instanceof Lc&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Td).length,f=a.filter(b=>b instanceof wh).length;if(c>1||c>0&&f>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class wh extends ev{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new wh(e,t,s)}_apply(e){const t=this._parse(e);return av(e._query,t),new sa(e.firestore,e.converter,vm(e._query,t))}_parse(e){const t=Oc(e.firestore);return function(a,c,f,b,L,z,Q){let ge;if(L.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){ov(Q,z);const ze=[];for(const Et of Q)ze.push(sv(b,a,Et));ge={arrayValue:{values:ze}}}else ge=sv(b,a,Q)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||ov(Q,z),ge=function _h(r,e,t,s=!1){return kc(t,r.ga(s?4:3,e))}(f,"where",Q,"in"===z||"not-in"===z);return qr.create(L,z,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function nv(r,e,t){const s=e,a=Lf("where",r);return wh._create(a,s,t)}class Td extends Lc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)av(c,b),c=vm(c,b)}(e._query,t),new sa(e.firestore,e.converter,vm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ih extends ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ih(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new _u(a,c);return function(b,L){if(null===Eu(b)){const z=Ol(b);null!==z&&uv(0,z,L.field)}}(s,f),f}(e._query,this._field,this._direction);return new sa(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new ol(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function f0(r,e="asc"){const t=e,s=Lf("orderBy",r);return Ih._create(s,t)}function sv(r,e,t){if("string"==typeof(t=(0,we.m9)(t))){if(""===t)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fh(e)&&-1!==t.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rr.fromString(t));if(!nn.isDocumentKey(s))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ru(r,new nn(s))}if(t instanceof ys)return ru(r,t._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(t)}.`)}function ov(r,e){if(!Array.isArray(r)||0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function av(r,e){if(e.isInequality()){const s=Ol(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=Eu(r);null!==c&&uv(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new V(M.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function uv(r,e,t){if(!t.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class m0{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return H(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ee(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Yi(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Nc(H(e.latitude),H(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ut(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($t(e));default:return null}}convertTimestamp(e){const t=C(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rr.fromString(e);E(bp(s));const a=new wn(s.get(1),s.get(3)),c=new nn(s.popFirst(5));return a.isEqual(t)||ti(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends tm{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Cd extends ic{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Cd(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,z=-1;return 0!==f.type&&(L=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),z=c.indexOf(f.doc.key)),{type:nm(f.type),doc:b,oldIndex:L,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class Hu extends m0{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,t)}}function bd(r){r=br(r,sa);const e=br(r.firestore,Pi),t=Bs(e),s=new Hu(e);return Xy(r._query),function Hg(r,e,t={}){const s=new Y;return r.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(a,c,f,b,L){const z=new ph({next:ge=>{c.enqueueAndForget(()=>_f(a,Q)),ge.fromCache&&"server"===b.source?L.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(ge)},error:ge=>L.reject(ge)}),Q=new lh(f,z,{includeMetadataChanges:!0,Uu:!0});return yf(a,Q)}(yield wd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Uc(e,s,r,a))}function HE(r,e,t){r=br(r,ys);const s=br(r.firestore,Pi),a=function Bf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Sd(s,[Qg(Oc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ts.none())])}function dv(r,e,t,...s){r=br(r,ys);const a=br(r.firestore,Pi),c=Oc(a);let f;return f="string"==typeof(e=(0,we.m9)(e))||e instanceof Pc?function Xg(r,e,t,s,a,c){const f=r.ga(1,e,t),b=[Eh(e,s,t)],L=[a];if(c.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<c.length;ze+=2)b.push(Eh(e,c[ze])),L.push(c[ze+1]);const z=[],Q=Bo.empty();for(let ze=b.length-1;ze>=0;--ze)if(!d0(z,b[ze])){const Et=b[ze];let Ht=L[ze];Ht=(0,we.m9)(Ht);const rn=f.fa(Et);if(Ht instanceof Dd)z.push(Et);else{const Tn=kc(Ht,rn);null!=Tn&&(z.push(Et),Q.set(Et,Tn))}}const ge=new ea(z);return new Ky(Q,ge,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function l0(r,e,t,s){const a=r.ga(1,e,t);Fc("Data must be an object, but it was:",a,s);const c=[],f=Bo.empty();Yi(s,(L,z)=>{const Q=kf(e,L,t);z=(0,we.m9)(z);const ge=a.fa(Q);if(z instanceof Dd)c.push(Q);else{const ze=kc(z,ge);null!=ze&&(c.push(Q),f.set(Q,ze))}});const b=new ea(c);return new Ky(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),Sd(a,[f.toMutation(r._key,ts.exists(!0))])}function rm(r){return Sd(br(r.firestore,Pi),[new $l(r._key,ts.none())])}function Sd(r,e){return function(t,s){const a=new Y;return t.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function wg(r,e,t){return my.apply(this,arguments)}(yield function $g(r){return xf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Bs(r),e)}!function(r,e=!0){Ma=je.SDK_VERSION,(0,je._registerComponent)(new Ze.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Pi(new Zt(t.getProvider("auth-internal")),new Jo(t.getProvider("app-check-internal")),function(b,L){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wn(b.options.projectId,L)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(Ba,"3.11.0",r),(0,je.registerVersion)(Ba,"3.11.0","esm2017")}();var yv=W(9751),sm=W(4004),vv={includeMetadataChanges:!1};function jf(r,e){return void 0===e&&(e=vv),new yv.y(function(t){var s=function im(r,...e){var t,s,a;r=(0,we.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||nc(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(nc(e[f])){const ge=e[f];e[f]=null===(t=ge.next)||void 0===t?void 0:t.bind(ge),e[f+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[f+2]=null===(a=ge.complete)||void 0===a?void 0:a.bind(ge)}let L,z,Q;if(r instanceof ys)z=br(r.firestore,Pi),Q=Qc(r._key.path),L={next:ge=>{e[f]&&e[f](function Th(r,e,t){const s=t.docs.get(e._key),a=new Hu(r);return new ic(r,a,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}(z,r,ge))},error:e[f+1],complete:e[f+2]};else{const ge=br(r,sa);z=br(ge.firestore,Pi),Q=ge._query;const ze=new Hu(z);L={next:Et=>{e[f]&&e[f](new Uc(z,ze,ge,Et))},error:e[f+1],complete:e[f+2]},Xy(r._query)}return function(ge,ze,Et,Ht){const rn=new ph(Ht),Tn=new lh(ze,rn,Et);return ge.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return yf(yield wd(ge),Tn)})),()=>{rn.Sc(),ge.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return _f(yield wd(ge),Tn)}))}}(Bs(z),Q,b,L)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Ch(r,e){return void 0===e&&(e={}),function zu(r){return jf(r,{includeMetadataChanges:!0}).pipe((0,sm.U)(function(e){return e.docs}))}(r).pipe((0,sm.U)(function(t){return t.map(function(s){return function Ev(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class zf{constructor(e){return e}}const Dv="firestore",Md=new G.OlP("angularfire2.firestore-instances");function F0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new zf(s)}}const Tv={provide:class O0{constructor(){return(0,p.vb)(Dv)}},deps:[[new G.FiY,Md]]},Cv={provide:zf,useFactory:function k0(r,e){const t=(0,p.JM)(Dv,r,e);return t&&new zf(t)},deps:[[new G.FiY,Md],q.Ot]};let Gf=(()=>{class r{constructor(){(0,De.KN)("angularfire",p.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=G.oAB({type:r}),r.\u0275inj=G.cJS({providers:[Cv,Tv]}),r})();function bv(r,...e){return{ngModule:Gf,providers:[{provide:Md,useFactory:F0(r),multi:!0,deps:[G.R0b,G.zs3,p.HU,q.z6,[new G.FiY,Ce],[new G.FiY,Rn.nm],...e]}]}}const um=(0,p.u3)(Ch,!0),Rv=(0,p.u3)(zy,!0),Pv=(0,p.u3)(rm,!0),Nv=(0,p.u3)($n,!0),Sh=(0,p.u3)(bd,!0),G0=(0,p.u3)(IE,!0),cm=(0,p.u3)(f0,!0),gw=(0,p.u3)(tv,!0),Q0=(0,p.u3)(HE,!0),X0=(0,p.u3)(dv,!0),eE=(0,p.u3)(nv,!0)},1157:(an,at,W)=>{W.d(at,{q4:()=>Gc,iC:()=>uc,HU:()=>Ra,vb:()=>ac,JM:()=>tl,u3:()=>nl});var p=W(4650),G=W(259),q=W(5861),De=W(6881),Se=W(2090),we=W(4859),je=W(1877);const Oe=(D,x)=>x.some(B=>D instanceof B);let Ze,de;const ht=new WeakMap,dt=new WeakMap,At=new WeakMap,Rt=new WeakMap,tt=new WeakMap;let bt={get(D,x,B){if(D instanceof IDBTransaction){if("done"===x)return dt.get(D);if("objectStoreNames"===x)return D.objectStoreNames||At.get(D);if("store"===x)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return Dt(D[x])},set:(D,x,B)=>(D[x]=B,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function Xe(D){return"function"==typeof D?function _e(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(st(this),x),Dt(ht.get(this))}:function(...x){return Dt(D.apply(st(this),x))}:function(x,...B){const ie=D.call(st(this),x,...B);return At.set(ie,x.sort?x.sort():[x]),Dt(ie)}}(D):(D instanceof IDBTransaction&&function Ct(D){if(dt.has(D))return;const x=new Promise((B,ie)=>{const Ee=()=>{D.removeEventListener("complete",Fe),D.removeEventListener("error",mt),D.removeEventListener("abort",mt)},Fe=()=>{B(),Ee()},mt=()=>{ie(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Fe),D.addEventListener("error",mt),D.addEventListener("abort",mt)});dt.set(D,x)}(D),Oe(D,function he(){return Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,bt):D)}function Dt(D){if(D instanceof IDBRequest)return function pt(D){const x=new Promise((B,ie)=>{const Ee=()=>{D.removeEventListener("success",Fe),D.removeEventListener("error",mt)},Fe=()=>{B(Dt(D.result)),Ee()},mt=()=>{ie(D.error),Ee()};D.addEventListener("success",Fe),D.addEventListener("error",mt)});return x.then(B=>{B instanceof IDBCursor&&ht.set(B,D)}).catch(()=>{}),tt.set(x,D),x}(D);if(Rt.has(D))return Rt.get(D);const x=Xe(D);return x!==D&&(Rt.set(D,x),tt.set(x,D)),x}const st=D=>tt.get(D),sn=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],_n=new Map;function Ut(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(_n.get(x))return _n.get(x);const B=x.replace(/FromIndex$/,""),ie=x!==B,Ee=zt.includes(B);if(!(B in(ie?IDBIndex:IDBObjectStore).prototype)||!Ee&&!sn.includes(B))return;const Fe=function(){var mt=(0,q.Z)(function*(en,...Yt){const En=this.transaction(en,Ee?"readwrite":"readonly");let Wn=En.store;return ie&&(Wn=Wn.index(Yt.shift())),(yield Promise.all([Wn[B](...Yt),Ee&&En.done]))[0]});return function(Yt){return mt.apply(this,arguments)}}();return _n.set(x,Fe),Fe}!function Be(D){bt=D(bt)}(D=>({...D,get:(x,B,ie)=>Ut(x,B)||D.get(x,B,ie),has:(x,B)=>!!Ut(x,B)||D.has(x,B)}));const Ue="@firebase/installations",nt="0.6.4",Ke=1e4,lt=`w:${nt}`,wt="FIS_v2",ct="https://firebaseinstallations.googleapis.com/v1",kt=36e5,Le=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(D){return D instanceof Se.ZR&&D.code.includes("request-failed")}function jt({projectId:D}){return`${ct}/projects/${D}/installations`}function Zn(D){return{token:D.token,requestStatus:2,expiresIn:ln(D.expiresIn),creationTime:Date.now()}}function jn(D,x){return wr.apply(this,arguments)}function wr(){return(wr=(0,q.Z)(function*(D,x){const ie=(yield x.json()).error;return Le.create("request-failed",{requestName:D,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function gr({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function cr(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,q.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function ln(D){return Number(D.replace("s","000"))}function Ft(){return(Ft=(0,q.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:B}){const ie=jt(D),Ee=gr(D),Fe=x.getImmediate({optional:!0});if(Fe){const En=yield Fe.getHeartbeatsHeader();En&&Ee.append("x-firebase-client",En)}const en={method:"POST",headers:Ee,body:JSON.stringify({fid:B,authVersion:wt,appId:D.appId,sdkVersion:lt})},Yt=yield cr(()=>fetch(ie,en));if(Yt.ok){const En=yield Yt.json();return{fid:En.fid||B,registrationStatus:2,refreshToken:En.refreshToken,authToken:Zn(En.authToken)}}throw yield jn("Create Installation",Yt)})).apply(this,arguments)}function Hn(D){return new Promise(x=>{setTimeout(x,D)})}const ir=/^[cdef][\w-]{21}$/,Zr="";function vi(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const B=function Yn(D){return function Pr(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ir.test(B)?B:Zr}catch{return Zr}}function gn(D){return`${D.appName}!${D.appId}`}const Bt=new Map;function Vt(D,x){const B=gn(D);yr(B,x),function li(D,x){const B=function kr(){return!Wr&&"BroadcastChannel"in self&&(Wr=new BroadcastChannel("[Firebase] FID Change"),Wr.onmessage=D=>{yr(D.data.key,D.data.fid)}),Wr}();B&&B.postMessage({key:D,fid:x}),function lr(){0===Bt.size&&Wr&&(Wr.close(),Wr=null)}()}(B,x)}function yr(D,x){const B=Bt.get(D);if(B)for(const ie of B)ie(x)}let Wr=null;const $i="firebase-installations-database",Xn=1,Ti="firebase-installations-store";let Rn=null;function _t(){return Rn||(Rn=function ke(D,x,{blocked:B,upgrade:ie,blocking:Ee,terminated:Fe}={}){const mt=indexedDB.open(D,x),en=Dt(mt);return ie&&mt.addEventListener("upgradeneeded",Yt=>{ie(Dt(mt.result),Yt.oldVersion,Yt.newVersion,Dt(mt.transaction))}),B&&mt.addEventListener("blocked",()=>B()),en.then(Yt=>{Fe&&Yt.addEventListener("close",()=>Fe()),Ee&&Yt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),en}($i,Xn,{upgrade:(D,x)=>{0===x&&D.createObjectStore(Ti)}})),Rn}function Mr(D,x){return it.apply(this,arguments)}function it(){return(it=(0,q.Z)(function*(D,x){const B=gn(D),Ee=(yield _t()).transaction(Ti,"readwrite"),Fe=Ee.objectStore(Ti),mt=yield Fe.get(B);return yield Fe.put(x,B),yield Ee.done,(!mt||mt.fid!==x.fid)&&Vt(D,x.fid),x})).apply(this,arguments)}function re(D){return be.apply(this,arguments)}function be(){return(be=(0,q.Z)(function*(D){const x=gn(D),ie=(yield _t()).transaction(Ti,"readwrite");yield ie.objectStore(Ti).delete(x),yield ie.done})).apply(this,arguments)}function We(D,x){return ft.apply(this,arguments)}function ft(){return(ft=(0,q.Z)(function*(D,x){const B=gn(D),Ee=(yield _t()).transaction(Ti,"readwrite"),Fe=Ee.objectStore(Ti),mt=yield Fe.get(B),en=x(mt);return void 0===en?yield Fe.delete(B):yield Fe.put(en,B),yield Ee.done,en&&(!mt||mt.fid!==en.fid)&&Vt(D,en.fid),en})).apply(this,arguments)}function oe(D){return se.apply(this,arguments)}function se(){return se=(0,q.Z)(function*(D){let x;const B=yield We(D.appConfig,ie=>{const Ee=function pe(D){return fe(D||{fid:vi(),registrationStatus:0})}(ie),Fe=function $e(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Le.create("app-offline"))};const B={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ie=function Re(D,x){return Mt.apply(this,arguments)}(D,B);return{installationEntry:B,registrationPromise:ie}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:me(D)}:{installationEntry:x}}(D,Ee);return x=Fe.registrationPromise,Fe.installationEntry});return B.fid===Zr?{installationEntry:yield x}:{installationEntry:B,registrationPromise:x}}),se.apply(this,arguments)}function Mt(){return Mt=(0,q.Z)(function*(D,x){try{const B=yield function Mn(D,x){return Ft.apply(this,arguments)}(D,x);return Mr(D.appConfig,B)}catch(B){throw It(B)&&409===B.customData.serverCode?yield re(D.appConfig):yield Mr(D.appConfig,{fid:x.fid,registrationStatus:0}),B}}),Mt.apply(this,arguments)}function me(D){return le.apply(this,arguments)}function le(){return(le=(0,q.Z)(function*(D){let x=yield ne(D.appConfig);for(;1===x.registrationStatus;)yield Hn(100),x=yield ne(D.appConfig);if(0===x.registrationStatus){const{installationEntry:B,registrationPromise:ie}=yield oe(D);return ie||B}return x})).apply(this,arguments)}function ne(D){return We(D,x=>{if(!x)throw Le.create("installation-not-found");return fe(x)})}function fe(D){return function Ye(D){return 1===D.registrationStatus&&D.registrationTime+Ke<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function on(){return(on=(0,q.Z)(function*({appConfig:D,heartbeatServiceProvider:x},B){const ie=function Ln(D,{fid:x}){return`${jt(D)}/${x}/authTokens:generate`}(D,B),Ee=function mr(D,{refreshToken:x}){const B=gr(D);return B.append("Authorization",function Gr(D){return`${wt} ${D}`}(x)),B}(D,B),Fe=x.getImmediate({optional:!0});if(Fe){const En=yield Fe.getHeartbeatsHeader();En&&Ee.append("x-firebase-client",En)}const en={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:lt,appId:D.appId}})},Yt=yield cr(()=>fetch(ie,en));if(Yt.ok)return Zn(yield Yt.json());throw yield jn("Generate Auth Token",Yt)})).apply(this,arguments)}function sr(D){return er.apply(this,arguments)}function er(){return er=(0,q.Z)(function*(D,x=!1){let B;const ie=yield We(D.appConfig,Fe=>{if(!In(Fe))throw Le.create("not-registered");const mt=Fe.authToken;if(!x&&function Xt(D){return 2===D.requestStatus&&!function On(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+kt}(D)}(mt))return Fe;if(1===mt.requestStatus)return B=function ot(D,x){return Ve.apply(this,arguments)}(D,x),Fe;{if(!navigator.onLine)throw Le.create("app-offline");const en=function qn(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}(Fe);return B=function Qt(D,x){return fn.apply(this,arguments)}(D,en),en}});return B?yield B:ie.authToken}),er.apply(this,arguments)}function Ve(){return(Ve=(0,q.Z)(function*(D,x){let B=yield St(D.appConfig);for(;1===B.authToken.requestStatus;)yield Hn(100),B=yield St(D.appConfig);const ie=B.authToken;return 0===ie.requestStatus?sr(D,x):ie})).apply(this,arguments)}function St(D){return We(D,x=>{if(!In(x))throw Le.create("not-registered");return function Nr(D){return 1===D.requestStatus&&D.requestTime+Ke<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function fn(){return fn=(0,q.Z)(function*(D,x){try{const B=yield function Pt(D,x){return on.apply(this,arguments)}(D,x),ie=Object.assign(Object.assign({},x),{authToken:B});return yield Mr(D.appConfig,ie),B}catch(B){if(!It(B)||401!==B.customData.serverCode&&404!==B.customData.serverCode){const ie=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Mr(D.appConfig,ie)}else yield re(D.appConfig);throw B}}),fn.apply(this,arguments)}function In(D){return void 0!==D&&2===D.registrationStatus}function $s(){return($s=(0,q.Z)(function*(D){const x=D,{installationEntry:B,registrationPromise:ie}=yield oe(x);return ie?ie.catch(console.error):sr(x).catch(console.error),B.fid})).apply(this,arguments)}function ji(){return ji=(0,q.Z)(function*(D,x=!1){const B=D;return yield function tr(D){return Wt.apply(this,arguments)}(B),(yield sr(B,x)).token}),ji.apply(this,arguments)}function Wt(){return(Wt=(0,q.Z)(function*(D){const{registrationPromise:x}=yield oe(D);x&&(yield x)})).apply(this,arguments)}function Ie(D){return Le.create("missing-app-config-values",{valueName:D})}const Ae="installations",xt=D=>{const x=D.getProvider("app").getImmediate(),B=function Ne(D){if(!D||!D.options)throw Ie("App Configuration");if(!D.name)throw Ie("App Name");const x=["projectId","apiKey","appId"];for(const B of x)if(!D.options[B])throw Ie(B);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:B,heartbeatServiceProvider:(0,De._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},yn=D=>{const x=D.getProvider("app").getImmediate(),B=(0,De._getProvider)(x,Ae).getImmediate();return{getId:()=>function Br(D){return $s.apply(this,arguments)}(B),getToken:Ee=>function js(D){return ji.apply(this,arguments)}(B,Ee)}};(function Pn(){(0,De._registerComponent)(new we.wA(Ae,xt,"PUBLIC")),(0,De._registerComponent)(new we.wA("installations-internal",yn,"PRIVATE"))})(),(0,De.registerVersion)(Ue,nt),(0,De.registerVersion)(Ue,nt,"esm2017");const vn="@firebase/remote-config",si=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jo{constructor(x,B,ie,Ee){this.client=x,this.storage=B,this.storageCache=ie,this.logger=Ee}isCachedDataFresh(x,B){if(!B)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-B,Ee=ie<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Ee}.`),Ee}fetch(x){var B=this;return(0,q.Z)(function*(){const[ie,Ee]=yield Promise.all([B.storage.getLastSuccessfulFetchTimestampMillis(),B.storage.getLastSuccessfulFetchResponse()]);if(Ee&&B.isCachedDataFresh(x.cacheMaxAgeMillis,ie))return Ee;x.eTag=Ee&&Ee.eTag;const Fe=yield B.client.fetch(x),mt=[B.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&mt.push(B.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(mt),Fe})()}}function To(D=navigator){return D.languages&&D.languages[0]||D.language}class as{constructor(x,B,ie,Ee,Fe,mt){this.firebaseInstallations=x,this.sdkVersion=B,this.namespace=ie,this.projectId=Ee,this.apiKey=Fe,this.appId=mt}fetch(x){var B=this;return(0,q.Z)(function*(){const[ie,Ee]=yield Promise.all([B.firebaseInstallations.getId(),B.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${B.projectId}/namespaces/${B.namespace}:fetch?key=${B.apiKey}`,en={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Yt={sdk_version:B.sdkVersion,app_instance_id:ie,app_instance_id_token:Ee,app_id:B.appId,language_code:To()},En={method:"POST",headers:en,body:JSON.stringify(Yt)},Wn=fetch(mt,En),Un=new Promise((Yi,ya)=>{x.signal.addEventListener(()=>{const jr=new Error("The operation was aborted.");jr.name="AbortError",ya(jr)})});let Uo;try{yield Promise.race([Wn,Un]),Uo=yield Wn}catch(Yi){let ya="fetch-client-network";throw"AbortError"===Yi?.name&&(ya="fetch-timeout"),si.create(ya,{originalErrorMessage:Yi?.message})}let es=Uo.status;const nu=Uo.headers.get("ETag")||void 0;let Zi,ma;if(200===Uo.status){let Yi;try{Yi=yield Uo.json()}catch(ya){throw si.create("fetch-client-parse",{originalErrorMessage:ya?.message})}Zi=Yi.entries,ma=Yi.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?es=500:"NO_CHANGE"===ma?es=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(Zi={}),304!==es&&200!==es)throw si.create("fetch-status",{httpStatus:es});return{status:es,eTag:nu,config:Zi}})()}}class Co{constructor(x,B){this.client=x,this.storage=B}fetch(x){var B=this;return(0,q.Z)(function*(){const ie=(yield B.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return B.attemptFetch(x,ie)})()}attemptFetch(x,{throttleEndTimeMillis:B,backoffCount:ie}){var Ee=this;return(0,q.Z)(function*(){yield function xs(D,x){return new Promise((B,ie)=>{const Ee=Math.max(x-Date.now(),0),Fe=setTimeout(B,Ee);D.addEventListener(()=>{clearTimeout(Fe),ie(si.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,B);try{const Fe=yield Ee.client.fetch(x);return yield Ee.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function oa(D){if(!(D instanceof Se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Fe))throw Fe;const mt={throttleEndTimeMillis:Date.now()+(0,Se.$s)(ie),backoffCount:ie+1};return yield Ee.storage.setThrottleMetadata(mt),Ee.attemptFetch(x,mt)}})()}}class bo{constructor(x,B,ie,Ee,Fe){this.app=x,this._client=B,this._storageCache=ie,this._storage=Ee,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ls(D,x){const B=D.target.error||void 0;return si.create(x,{originalErrorMessage:B&&B?.message})}const cs="app_namespace_store";class zo{constructor(x,B,ie,Ee=function Ao(){return new Promise((D,x)=>{try{const B=indexedDB.open("firebase_remote_config",1);B.onerror=ie=>{x(ls(ie,"storage-open"))},B.onsuccess=ie=>{D(ie.target.result)},B.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(cs,{keyPath:"compositeKey"})}}catch(B){x(si.create("storage-open",{originalErrorMessage:B?.message}))}})}()){this.appId=x,this.appName=B,this.namespace=ie,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var B=this;return(0,q.Z)(function*(){const ie=yield B.openDbPromise;return new Promise((Ee,Fe)=>{const en=ie.transaction([cs],"readonly").objectStore(cs),Yt=B.createCompositeKey(x);try{const En=en.get(Yt);En.onerror=Wn=>{Fe(ls(Wn,"storage-get"))},En.onsuccess=Wn=>{const Un=Wn.target.result;Ee(Un?Un.value:void 0)}}catch(En){Fe(si.create("storage-get",{originalErrorMessage:En?.message}))}})})()}set(x,B){var ie=this;return(0,q.Z)(function*(){const Ee=yield ie.openDbPromise;return new Promise((Fe,mt)=>{const Yt=Ee.transaction([cs],"readwrite").objectStore(cs),En=ie.createCompositeKey(x);try{const Wn=Yt.put({compositeKey:En,value:B});Wn.onerror=Un=>{mt(ls(Un,"storage-set"))},Wn.onsuccess=()=>{Fe()}}catch(Wn){mt(si.create("storage-set",{originalErrorMessage:Wn?.message}))}})})()}delete(x){var B=this;return(0,q.Z)(function*(){const ie=yield B.openDbPromise;return new Promise((Ee,Fe)=>{const en=ie.transaction([cs],"readwrite").objectStore(cs),Yt=B.createCompositeKey(x);try{const En=en.delete(Yt);En.onerror=Wn=>{Fe(ls(Wn,"storage-delete"))},En.onsuccess=()=>{Ee()}}catch(En){Fe(si.create("storage-delete",{originalErrorMessage:En?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Gi{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,q.Z)(function*(){const B=x.storage.getLastFetchStatus(),ie=x.storage.getLastSuccessfulFetchTimestampMillis(),Ee=x.storage.getActiveConfig(),Fe=yield B;Fe&&(x.lastFetchStatus=Fe);const mt=yield ie;mt&&(x.lastSuccessfulFetchTimestampMillis=mt);const en=yield Ee;en&&(x.activeConfig=en)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ro(){return io.apply(this,arguments)}function io(){return(io=(0,q.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,De._registerComponent)(new we.wA("remote-config",function D(x,{instanceIdentifier:B}){const ie=x.getProvider("app").getImmediate(),Ee=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw si.create("registration-window");if(!(0,Se.hl)())throw si.create("indexed-db-unavailable");const{projectId:Fe,apiKey:mt,appId:en}=ie.options;if(!Fe)throw si.create("registration-project-id");if(!mt)throw si.create("registration-api-key");if(!en)throw si.create("registration-app-id");const Yt=new zo(en,ie.name,B=B||"firebase"),En=new Gi(Yt),Wn=new je.Yd(vn);Wn.logLevel=je.in.ERROR;const Un=new as(Ee,De.SDK_VERSION,B,Fe,mt,en),Uo=new Co(Un,Yt),es=new jo(Uo,Yt,En,Wn),nu=new bo(ie,es,En,Yt,Wn);return function Ci(D){const x=(0,Se.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(nu),nu},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(vn,"0.4.4"),(0,De.registerVersion)(vn,"0.4.4","esm2017")}();const aa=(D,x)=>x.some(B=>D instanceof B);let bi,ws;const ds=new WeakMap,Oi=new WeakMap,Or=new WeakMap,oi=new WeakMap,Rs=new WeakMap;let fs={get(D,x,B){if(D instanceof IDBTransaction){if("done"===x)return Oi.get(D);if("objectStoreNames"===x)return D.objectStoreNames||Or.get(D);if("store"===x)return B.objectStoreNames[1]?void 0:B.objectStore(B.objectStoreNames[0])}return hi(D[x])},set:(D,x,B)=>(D[x]=B,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function xo(D){return"function"==typeof D?function Go(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gs(){return ws||(ws=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(Jr(this),x),hi(ds.get(this))}:function(...x){return hi(D.apply(Jr(this),x))}:function(x,...B){const ie=D.call(Jr(this),x,...B);return Or.set(ie,x.sort?x.sort():[x]),hi(ie)}}(D):(D instanceof IDBTransaction&&function hs(D){if(Oi.has(D))return;const x=new Promise((B,ie)=>{const Ee=()=>{D.removeEventListener("complete",Fe),D.removeEventListener("error",mt),D.removeEventListener("abort",mt)},Fe=()=>{B(),Ee()},mt=()=>{ie(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Fe),D.addEventListener("error",mt),D.addEventListener("abort",mt)});Oi.set(D,x)}(D),aa(D,function Mo(){return bi||(bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,fs):D)}function hi(D){if(D instanceof IDBRequest)return function zn(D){const x=new Promise((B,ie)=>{const Ee=()=>{D.removeEventListener("success",Fe),D.removeEventListener("error",mt)},Fe=()=>{B(hi(D.result)),Ee()},mt=()=>{ie(D.error),Ee()};D.addEventListener("success",Fe),D.addEventListener("error",mt)});return x.then(B=>{B instanceof IDBCursor&&ds.set(B,D)}).catch(()=>{}),Rs.set(x,D),x}(D);if(oi.has(D))return oi.get(D);const x=xo(D);return x!==D&&(oi.set(D,x),Rs.set(x,D)),x}const Jr=D=>Rs.get(D);function Is(D,x,{blocked:B,upgrade:ie,blocking:Ee,terminated:Fe}={}){const mt=indexedDB.open(D,x),en=hi(mt);return ie&&mt.addEventListener("upgradeneeded",Yt=>{ie(hi(mt.result),Yt.oldVersion,Yt.newVersion,hi(mt.transaction))}),B&&mt.addEventListener("blocked",()=>B()),en.then(Yt=>{Fe&&Yt.addEventListener("close",()=>Fe()),Ee&&Yt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),en}function Ds(D,{blocked:x}={}){const B=indexedDB.deleteDatabase(D);return x&&B.addEventListener("blocked",()=>x()),hi(B).then(()=>{})}const vo=["get","getKey","getAll","getAllKeys","count"],Xr=["put","add","delete","clear"],ni=new Map;function fi(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(ni.get(x))return ni.get(x);const B=x.replace(/FromIndex$/,""),ie=x!==B,Ee=Xr.includes(B);if(!(B in(ie?IDBIndex:IDBObjectStore).prototype)||!Ee&&!vo.includes(B))return;const Fe=function(){var mt=(0,q.Z)(function*(en,...Yt){const En=this.transaction(en,Ee?"readwrite":"readonly");let Wn=En.store;return ie&&(Wn=Wn.index(Yt.shift())),(yield Promise.all([Wn[B](...Yt),Ee&&En.done]))[0]});return function(Yt){return mt.apply(this,arguments)}}();return ni.set(x,Fe),Fe}!function di(D){fs=D(fs)}(D=>({...D,get:(x,B,ie)=>fi(x,B)||D.get(x,B,ie),has:(x,B)=>!!fi(x,B)||D.has(x,B)}));const xn="/firebase-messaging-sw.js",ua="/firebase-cloud-messaging-push-scope",Wo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ws="https://fcmregistrations.googleapis.com/v1",Ro="google.c.a.c_id",_o="google.c.a.c_l",so="google.c.a.ts",oo="google.c.a.e";var R=(()=>{return(D=R||(R={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",R;var D})();function O(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(D){const B=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(B),Ee=new Uint8Array(ie.length);for(let Fe=0;Fe<ie.length;++Fe)Ee[Fe]=ie.charCodeAt(Fe);return Ee}const X="fcm_token_details_db",He=5,pn="fcm_token_object_Store";function Lr(){return Lr=(0,q.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(X))return null;let x=null;return(yield Is(X,He,{upgrade:(ie=(0,q.Z)(function*(Ee,Fe,mt,en){var Yt;if(Fe<2||!Ee.objectStoreNames.contains(pn))return;const En=en.objectStore(pn),Wn=yield En.index("fcmSenderId").get(D);if(yield En.clear(),Wn)if(2===Fe){const Un=Wn;if(!Un.auth||!Un.p256dh||!Un.endpoint)return;x={token:Un.fcmToken,createTime:null!==(Yt=Un.createTime)&&void 0!==Yt?Yt:Date.now(),subscriptionOptions:{auth:Un.auth,p256dh:Un.p256dh,endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:"string"==typeof Un.vapidKey?Un.vapidKey:O(Un.vapidKey)}}}else if(3===Fe){const Un=Wn;x={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:O(Un.auth),p256dh:O(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:O(Un.vapidKey)}}}else if(4===Fe){const Un=Wn;x={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:O(Un.auth),p256dh:O(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:O(Un.vapidKey)}}}}),function(Fe,mt,en,Yt){return ie.apply(this,arguments)})})).close(),yield Ds(X),yield Ds("fcm_vapid_details_db"),yield Ds("undefined"),function Vi(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ie}),Lr.apply(this,arguments)}const Ks="firebase-messaging-database",Po=1,pi="firebase-messaging-store";let Si=null;function Kr(){return Si||(Si=Is(Ks,Po,{upgrade:(D,x)=>{0===x&&D.createObjectStore(pi)}})),Si}function ki(D){return ao.apply(this,arguments)}function ao(){return ao=(0,q.Z)(function*(D){const x=Fa(D),ie=yield(yield Kr()).transaction(pi).objectStore(pi).get(x);if(ie)return ie;{const Ee=yield function Cr(D){return Lr.apply(this,arguments)}(D.appConfig.senderId);if(Ee)return yield Dr(D,Ee),Ee}}),ao.apply(this,arguments)}function Dr(D,x){return ps.apply(this,arguments)}function ps(){return(ps=(0,q.Z)(function*(D,x){const B=Fa(D),Ee=(yield Kr()).transaction(pi,"readwrite");return yield Ee.objectStore(pi).put(x,B),yield Ee.done,x})).apply(this,arguments)}function gs(){return(gs=(0,q.Z)(function*(D){const x=Fa(D),ie=(yield Kr()).transaction(pi,"readwrite");yield ie.objectStore(pi).delete(x),yield ie.done})).apply(this,arguments)}function Fa({appConfig:D}){return D.appId}const Ei=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ia(D,x){return Da.apply(this,arguments)}function Da(){return(Da=(0,q.Z)(function*(D,x){const B=yield Ko(D),ie=$(x),Ee={method:"POST",headers:B,body:JSON.stringify(ie)};let Fe;try{Fe=yield(yield fetch(la(D.appConfig),Ee)).json()}catch(mt){throw Ei.create("token-subscribe-failed",{errorInfo:mt?.toString()})}if(Fe.error)throw Ei.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function uo(){return(uo=(0,q.Z)(function*(D,x){const B=yield Ko(D),ie=$(x.subscriptionOptions),Ee={method:"PATCH",headers:B,body:JSON.stringify(ie)};let Fe;try{Fe=yield(yield fetch(`${la(D.appConfig)}/${x.token}`,Ee)).json()}catch(mt){throw Ei.create("token-update-failed",{errorInfo:mt?.toString()})}if(Fe.error)throw Ei.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function Ps(D,x){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,q.Z)(function*(D,x){const ie={method:"DELETE",headers:yield Ko(D)};try{const Fe=yield(yield fetch(`${la(D.appConfig)}/${x}`,ie)).json();if(Fe.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ee){throw Ei.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function la({projectId:D}){return`${Ws}/projects/${D}/registrations`}function Ko(D){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,q.Z)(function*({appConfig:D,installations:x}){const B=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${B}`})})).apply(this,arguments)}function $({p256dh:D,auth:x,endpoint:B,vapidKey:ie}){const Ee={web:{endpoint:B,auth:x,p256dh:D}};return ie!==Wo&&(Ee.web.applicationPubKey=ie),Ee}const _=6048e5;function F(){return F=(0,q.Z)(function*(D){const x=yield function Jt(D,x){return un.apply(this,arguments)}(D.swRegistration,D.vapidKey),B={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:O(x.getKey("auth")),p256dh:O(x.getKey("p256dh"))},ie=yield ki(D.firebaseDependencies);if(ie){if(function ur(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}(ie.subscriptionOptions,B))return Date.now()>=ie.createTime+_?function ce(D,x){return ve.apply(this,arguments)}(D,{token:ie.token,createTime:Date.now(),subscriptionOptions:B}):ie.token;try{yield Ps(D.firebaseDependencies,ie.token)}catch(Ee){console.warn(Ee)}return Ge(D.firebaseDependencies,B)}return Ge(D.firebaseDependencies,B)}),F.apply(this,arguments)}function te(){return te=(0,q.Z)(function*(D){const x=yield ki(D.firebaseDependencies);x&&(yield Ps(D.firebaseDependencies,x.token),yield function No(D){return gs.apply(this,arguments)}(D.firebaseDependencies));const B=yield D.swRegistration.pushManager.getSubscription();return!B||B.unsubscribe()}),te.apply(this,arguments)}function ve(){return ve=(0,q.Z)(function*(D,x){try{const B=yield function Ta(D,x){return uo.apply(this,arguments)}(D.firebaseDependencies,x),ie=Object.assign(Object.assign({},x),{token:B,createTime:Date.now()});return yield Dr(D.firebaseDependencies,ie),B}catch(B){throw yield function K(D){return te.apply(this,arguments)}(D),B}}),ve.apply(this,arguments)}function Ge(D,x){return vt.apply(this,arguments)}function vt(){return(vt=(0,q.Z)(function*(D,x){const ie={token:yield Ia(D,x),createTime:Date.now(),subscriptionOptions:x};return yield Dr(D,ie),ie.token})).apply(this,arguments)}function un(){return(un=(0,q.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(x)})})).apply(this,arguments)}function Bn(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Dn(D,x){if(!x.notification)return;D.notification={};const B=x.notification.title;B&&(D.notification.title=B);const ie=x.notification.body;ie&&(D.notification.body=ie);const Ee=x.notification.image;Ee&&(D.notification.image=Ee);const Fe=x.notification.icon;Fe&&(D.notification.icon=Fe)}(x,D),function An(D,x){x.data&&(D.data=x.data)}(x,D),function A(D,x){var B,ie,Ee,Fe,mt;if(!(x.fcmOptions||null!==(B=x.notification)&&void 0!==B&&B.click_action))return;D.fcmOptions={};const en=null!==(Ee=null===(ie=x.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==Ee?Ee:null===(Fe=x.notification)||void 0===Fe?void 0:Fe.click_action;en&&(D.fcmOptions.link=en);const Yt=null===(mt=x.fcmOptions)||void 0===mt?void 0:mt.analytics_label;Yt&&(D.fcmOptions.analyticsLabel=Yt)}(x,D),x}function P(D,x){const B=[];for(let ie=0;ie<D.length;ie++)B.push(D.charAt(ie)),ie<x.length&&B.push(x.charAt(ie));return B.join("")}function ae(D){return Ei.create("missing-app-config-values",{valueName:D})}P("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),P("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class rt{constructor(x,B,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function Z(D){if(!D||!D.options)throw ae("App Configuration Object");if(!D.name)throw ae("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:B}=D;for(const ie of x)if(!B[ie])throw ae(ie);return{appName:D.name,projectId:B.projectId,apiKey:B.apiKey,appId:B.appId,senderId:B.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Ee,installations:B,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function et(D){return qt.apply(this,arguments)}function qt(){return(qt=(0,q.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(xn,{scope:ua}),D.swRegistration.update().catch(()=>{})}catch(x){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function Vn(){return(Vn=(0,q.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield et(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function Gn(){return(Gn=(0,q.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=Wo)})).apply(this,arguments)}function ar(){return ar=(0,q.Z)(function*(D,x){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield function nr(D,x){return Gn.apply(this,arguments)}(D,x?.vapidKey),yield function or(D,x){return Vn.apply(this,arguments)}(D,x?.serviceWorkerRegistration),function w(D){return F.apply(this,arguments)}(D)}),ar.apply(this,arguments)}function ms(){return(ms=(0,q.Z)(function*(D,x,B){const ie=function Gt(D){switch(D){case R.NOTIFICATION_CLICKED:return"notification_open";case R.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:B[Ro],message_name:B[_o],message_time:B[so],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dn(){return dn=(0,q.Z)(function*(D,x){const B=x.data;if(!B.isFirebaseMessaging)return;D.onMessageHandler&&B.messageType===R.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Bn(B)):D.onMessageHandler.next(Bn(B)));const ie=B.data;(function U(D){return"object"==typeof D&&!!D&&Ro in D})(ie)&&"1"===ie[oo]&&(yield function ai(D,x,B){return ms.apply(this,arguments)}(D,B.messageType,ie))}),dn.apply(this,arguments)}const Fn="@firebase/messaging",gi=D=>{const x=new rt(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",B=>function mn(D,x){return dn.apply(this,arguments)}(x,B)),x},wi=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:ie=>function Vr(D,x){return ar.apply(this,arguments)}(x,ie)}};function ui(){return qo.apply(this,arguments)}function qo(){return(qo=(0,q.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xi(){(0,De._registerComponent)(new we.wA("messaging",gi,"PUBLIC")),(0,De._registerComponent)(new we.wA("messaging-internal",wi,"PRIVATE")),(0,De.registerVersion)(Fn,"0.12.4"),(0,De.registerVersion)(Fn,"0.12.4","esm2017")}();const da="analytics",La="firebase_id",Ku="origin",Zo=6e4,lu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cu="https://www.googletagmanager.com/gtag/js",Ui=new je.Yd("@firebase/analytics"),ri=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ii(D){if(!D.startsWith(cu)){const x=ri.create("invalid-gtag-resource",{gtagURL:D});return Ui.warn(x.message),""}return D}function ba(D){return Promise.all(D.map(x=>x.catch(B=>B)))}function Sa(){return(Sa=(0,q.Z)(function*(D,x,B,ie,Ee,Fe){const mt=ie[Ee];try{if(mt)yield x[mt];else{const Yt=(yield ba(B)).find(En=>En.measurementId===Ee);Yt&&(yield x[Yt.appId])}}catch(en){Ui.error(en)}D("config",Ee,Fe)})).apply(this,arguments)}function Qa(){return(Qa=(0,q.Z)(function*(D,x,B,ie,Ee){try{let Fe=[];if(Ee&&Ee.send_to){let mt=Ee.send_to;Array.isArray(mt)||(mt=[mt]);const en=yield ba(B);for(const Yt of mt){const En=en.find(Un=>Un.measurementId===Yt),Wn=En&&x[En.appId];if(!Wn){Fe=[];break}Fe.push(Wn)}}0===Fe.length&&(Fe=Object.values(x)),yield Promise.all(Fe),D("event",ie,Ee||{})}catch(Fe){Ui.error(Fe)}})).apply(this,arguments)}const Va=30,fa=new class Su{constructor(x={},B=1e3){this.throttleMetadata=x,this.intervalMillis=B}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,B){this.throttleMetadata[x]=B}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function ks(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Jn(){return(Jn=(0,q.Z)(function*(D){var x;const{appId:B,apiKey:ie}=D,Ee={method:"GET",headers:ks(ie)},Fe=lu.replace("{app-id}",B),mt=yield fetch(Fe,Ee);if(200!==mt.status&&304!==mt.status){let en="";try{const Yt=yield mt.json();null!==(x=Yt.error)&&void 0!==x&&x.message&&(en=Yt.error.message)}catch{}throw ri.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:en})}return mt.json()})).apply(this,arguments)}function Au(){return(Au=(0,q.Z)(function*(D,x=fa,B){const{appId:ie,apiKey:Ee,measurementId:Fe}=D.options;if(!ie)throw ri.create("no-app-id");if(!Ee){if(Fe)return{measurementId:Fe,appId:ie};throw ri.create("no-api-key")}const mt=x.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},en=new jc;return setTimeout((0,q.Z)(function*(){en.abort()}),void 0!==B?B:Zo),Ja({appId:ie,apiKey:Ee,measurementId:Fe},mt,en,x)})).apply(this,arguments)}function Ja(D,x,B){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,q.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:B},ie,Ee=fa){var Fe;const{appId:mt,measurementId:en}=D;try{yield function fu(D,x){return new Promise((B,ie)=>{const Ee=Math.max(x-Date.now(),0),Fe=setTimeout(B,Ee);D.addEventListener(()=>{clearTimeout(Fe),ie(ri.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ie,x)}catch(Yt){if(en)return Ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${Yt?.message}]`),{appId:mt,measurementId:en};throw Yt}try{const Yt=yield function Zs(D){return Jn.apply(this,arguments)}(D);return Ee.deleteThrottleMetadata(mt),Yt}catch(Yt){const En=Yt;if(!function pu(D){if(!(D instanceof Se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(En)){if(Ee.deleteThrottleMetadata(mt),en)return Ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${en} provided in the "measurementId" field in the local Firebase config. [${En?.message}]`),{appId:mt,measurementId:en};throw Yt}const Wn=503===Number(null===(Fe=En?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,Se.$s)(B,Ee.intervalMillis,Va):(0,Se.$s)(B,Ee.intervalMillis),Un={throttleEndTimeMillis:Date.now()+Wn,backoffCount:B+1};return Ee.setThrottleMetadata(mt,Un),Ui.debug(`Calling attemptFetch again in ${Wn} millis`),Ja(D,Un,ie,Ee)}}),Xa.apply(this,arguments)}class jc{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ua,ko;function vl(){return(vl=(0,q.Z)(function*(D,x,B,ie,Ee){if(Ee&&Ee.global)D("event",B,ie);else{const Fe=yield x;D("event",B,Object.assign(Object.assign({},ie),{send_to:Fe}))}})).apply(this,arguments)}function ti(){return(ti=(0,q.Z)(function*(){if(!(0,Se.hl)())return Ui.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(D){return Ui.warn(ri.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ga(){return ga=(0,q.Z)(function*(D,x,B,ie,Ee,Fe,mt){var en;const Yt=function hu(D){return Au.apply(this,arguments)}(D);Yt.then(es=>{B[es.measurementId]=es.appId,D.options.measurementId&&es.measurementId!==D.options.measurementId&&Ui.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${es.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(es=>Ui.error(es)),x.push(Yt);const En=function Nt(){return ti.apply(this,arguments)}().then(es=>{if(es)return ie.getId()}),[Wn,Un]=yield Promise.all([Yt,En]);(function Wi(D){const x=window.document.getElementsByTagName("script");for(const B of Object.values(x))if(B.src&&B.src.includes(cu)&&B.src.includes(D))return B;return null})(Fe)||function Oo(D,x){const B=function ha(D,x){let B;return window.trustedTypes&&(B=window.trustedTypes.createPolicy(D,x)),B}("firebase-js-sdk-policy",{createScriptURL:ii}),ie=document.createElement("script"),Ee=`${cu}?l=${D}&id=${x}`;ie.src=B?B?.createScriptURL(Ee):Ee,ie.async=!0,document.head.appendChild(ie)}(Fe,Wn.measurementId),ko&&(Ee("consent","default",ko),function $a(D){ko=D}(void 0)),Ee("js",new Date);const Uo=null!==(en=mt?.config)&&void 0!==en?en:{};return Uo[Ku]="firebase",Uo.update=!0,null!=Un&&(Uo[La]=Un),Ee("config",Wn.measurementId,Uo),Ua&&(Ee("set",Ua),function _l(D){Ua=D}(void 0)),Wn.measurementId}),ga.apply(this,arguments)}class y{constructor(x){this.app=x}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},m=[];const T={};let Y,Me,M="dataLayer",V="gtag",yt=!1;function _r(D,x,B){!function Zt(){const D=[];if((0,Se.ru)()&&D.push("This is a browser extension environment."),(0,Se.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((ie,Ee)=>`(${Ee+1}) ${ie}`).join(" "),B=ri.create("invalid-analytics-context",{errorInfo:x});Ui.warn(B.message)}}();const ie=D.options.appId;if(!ie)throw ri.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ri.create("no-api-key");Ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[ie])throw ri.create("already-exists",{id:ie});if(!yt){!function qu(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(M);const{wrappedGtag:Fe,gtagCore:mt}=function Cs(D,x,B,ie,Ee){let Fe=function(...mt){window[ie].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Fe=window[Ee]),window[Ee]=function Aa(D,x,B,ie){function Fe(){return Fe=(0,q.Z)(function*(mt,...en){try{if("event"===mt){const[Yt,En]=en;yield function ei(D,x,B,ie,Ee){return Qa.apply(this,arguments)}(D,x,B,Yt,En)}else if("config"===mt){const[Yt,En]=en;yield function qs(D,x,B,ie,Ee,Fe){return Sa.apply(this,arguments)}(D,x,B,ie,Yt,En)}else if("consent"===mt){const[Yt]=en;D("consent","update",Yt)}else if("get"===mt){const[Yt,En,Wn]=en;D("get",Yt,En,Wn)}else if("set"===mt){const[Yt]=en;D("set",Yt)}else D(mt,...en)}catch(Yt){Ui.error(Yt)}}),Fe.apply(this,arguments)}return function Ee(mt){return Fe.apply(this,arguments)}}(Fe,D,x,B),{gtagCore:Fe,wrappedGtag:window[Ee]}}(E,m,T,M,V);Me=Fe,Y=mt,yt=!0}return E[ie]=function bs(D,x,B,ie,Ee,Fe,mt){return ga.apply(this,arguments)}(D,m,T,x,Y,M,B),new y(D)}function Jo(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,q.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Hc="@firebase/analytics";!function nn(){(0,De._registerComponent)(new we.wA(da,(x,{options:B})=>_r(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),B),"PUBLIC")),(0,De._registerComponent)(new we.wA("analytics-internal",function D(x){try{const B=x.getProvider(da).getImmediate();return{logEvent:(ie,Ee,Fe)=>function Yu(D,x,B,ie){D=(0,Se.m9)(D),function Zu(D,x,B,ie,Ee){return vl.apply(this,arguments)}(Me,E[D.app.options.appId],x,B,ie).catch(Ee=>Ui.error(Ee))}(B,ie,Ee,Fe)}}catch(B){throw ri.create("interop-component-reg-failed",{reason:B})}},"PRIVATE")),(0,De.registerVersion)(Hc,"0.10.0"),(0,De.registerVersion)(Hc,"0.10.0","esm2017")}();var El=W(727);class oc extends El.w0{constructor(x,B){super()}schedule(x,B=0){return this}}const fo={setInterval(D,x,...B){const{delegate:ie}=fo;return ie?.setInterval?ie.setInterval(D,x,...B):setInterval(D,x,...B)},clearInterval(D){const{delegate:x}=fo;return(x?.clearInterval||clearInterval)(D)},delegate:void 0};var zc=W(8737);class Qu extends oc{constructor(x,B){super(x,B),this.scheduler=x,this.work=B,this.pending=!1}schedule(x,B=0){var ie;if(this.closed)return this;this.state=x;const Ee=this.id,Fe=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Fe,Ee,B)),this.pending=!0,this.delay=B,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Fe,this.id,B),this}requestAsyncId(x,B,ie=0){return fo.setInterval(x.flush.bind(x,this),ie)}recycleAsyncId(x,B,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return B;null!=B&&fo.clearInterval(B)}execute(x,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(x,B);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,B){let Ee,ie=!1;try{this.work(x)}catch(Fe){ie=!0,Ee=Fe||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:x,scheduler:B}=this,{actions:ie}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,zc.P)(ie,this),null!=x&&(this.id=this.recycleAsyncId(B,x,null)),this.delay=null,super.unsubscribe()}}}var Il=W(6063);class Ha{constructor(x,B=Ha.now){this.schedulerActionCtor=x,this.now=B}schedule(x,B=0,ie){return new this.schedulerActionCtor(this,x).schedule(ie,B)}}Ha.now=Il.l.now;class Dl extends Ha{constructor(x,B=Ha.now){super(x,B),this.actions=[],this._active=!1}flush(x){const{actions:B}=this;if(this._active)return void B.push(x);let ie;this._active=!0;do{if(ie=x.execute(x.state,x.delay))break}while(x=B.shift());if(this._active=!1,ie){for(;x=B.shift();)x.unsubscribe();throw ie}}}const Tl=new class po extends Dl{}(class wl extends Qu{constructor(x,B){super(x,B),this.scheduler=x,this.work=B}schedule(x,B=0){return B>0?super.schedule(x,B):(this.delay=B,this.state=x,this.scheduler.flush(this),this)}execute(x,B){return B>0||this.closed?super.execute(x,B):this._execute(x,B)}requestAsyncId(x,B,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(x,B,ie):(x.flush(this),0)}}),xh=new Dl(Qu);var yu=W(9751),Je=W(8505),Cl=W(9468),Xo=W(5363);const Gc=new p.GfV("7.5.0"),xu="__angularfire_symbol__analyticsIsSupportedValue",xa="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",Lo="__angularfire_symbol__remoteConfigIsSupported",Xu="__angularfire_symbol__messagingIsSupportedValue",Ru="__angularfire_symbol__messagingIsSupported";function tl(D,x,B){if(x){if(1===x.length)return x[0];const Fe=x.filter(mt=>mt.app===B);if(1===Fe.length)return Fe[0]}return B.container.getProvider(D).getImmediate({optional:!0})}globalThis[xa]||(globalThis[xa]=Jo().then(D=>globalThis[xu]=D).catch(()=>globalThis[xu]=!1)),globalThis[Ru]||(globalThis[Ru]=ui().then(D=>globalThis[Xu]=D).catch(()=>globalThis[Xu]=!1)),globalThis[Lo]||(globalThis[Lo]=ro().then(D=>globalThis[bl]=D).catch(()=>globalThis[bl]=!1));const ac=(D,x)=>{const B=x?[x]:(0,G.C6)(),ie=[];return B.forEach(Ee=>{Ee.container.getProvider(D).instances.forEach(mt=>{ie.includes(mt)||ie.push(mt)})}),ie};function Fi(){}class Wc{constructor(x,B=Tl){this.zone=x,this.delegate=B}now(){return this.delegate.now()}schedule(x,B,ie){const Ee=this.zone;return this.delegate.schedule(function(mt){Ee.runGuarded(()=>{x.apply(this,[mt])})},B,ie)}}class Kc{constructor(x){this.zone=x,this.task=null}call(x,B){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fi,{},Fi,Fi)),B.pipe((0,Je.b)({next:ie,complete:ie,error:ie})).subscribe(x).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ra=(()=>{class D{constructor(B){this.ngZone=B,this.outsideAngular=B.runOutsideAngular(()=>new Wc(Zone.current)),this.insideAngular=B.run(()=>new Wc(Zone.current,xh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(B){return new(B||D)(p.LFG(p.R0b))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Ga(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function tu(D){return Ga().ngZone.run(()=>D())}function uc(D){return Ga(),function lc(D){return function(B){return(B=B.lift(new Kc(D.ngZone))).pipe((0,Cl.R)(D.outsideAngular),(0,Xo.Q)(D.insideAngular))}}(Ga())(D)}const Fs=(D,x)=>function(){const ie=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),tu(()=>D.apply(void 0,ie))},nl=(D,x)=>function(){let B;const ie=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof ie[Fe]&&(x&&(B||(B=tu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fi,{},Fi,Fi)))),ie[Fe]=Fs(ie[Fe],B));const Ee=function Pu(D){return Ga().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,ie));if(!x){if(Ee instanceof yu.y){const Fe=Ga();return Ee.pipe((0,Cl.R)(Fe.outsideAngular),(0,Xo.Q)(Fe.insideAngular))}return tu(()=>Ee)}return Ee instanceof yu.y?Ee.pipe(uc):Ee instanceof Promise?tu(()=>new Promise((Fe,mt)=>Ee.then(en=>tu(()=>Fe(en)),en=>tu(()=>mt(en))))):"function"==typeof Ee&&B?function(){return setTimeout(()=>{B&&"scheduled"===B.state&&B.invoke()},10),Ee.apply(this,arguments)}:tu(()=>Ee)}},8502:(an,at,W)=>{W.d(at,{$:()=>xn,A:()=>he,D:()=>dt,I:()=>Fr,J:()=>xt,L:()=>os,N:()=>We,P:()=>bs,Q:()=>zo,R:()=>Mu,U:()=>Ea,V:()=>ro,W:()=>io,X:()=>Ni,Y:()=>Mo,Z:()=>Gs,_:()=>Rs,a:()=>mi,a0:()=>Wo,a1:()=>Ro,a2:()=>wa,a3:()=>pn,a4:()=>Lr,a5:()=>Ks,a6:()=>pi,a7:()=>Kr,a8:()=>ao,a9:()=>ps,aA:()=>ke,aB:()=>mu,aC:()=>re,aD:()=>ft,aE:()=>Dl,aF:()=>bn,aG:()=>Di,aH:()=>Qn,aL:()=>Os,aO:()=>bi,aa:()=>No,ab:()=>Fa,ac:()=>uu,ad:()=>Ta,ae:()=>Ps,af:()=>la,ai:()=>_,aj:()=>F,ak:()=>K,an:()=>Go,ao:()=>Dn,aq:()=>Gn,ar:()=>Fn,as:()=>sn,at:()=>fe,au:()=>me,av:()=>Be,aw:()=>Ee,ax:()=>Xo,ay:()=>Ye,az:()=>_e,b:()=>Ca,c:()=>Me,d:()=>_r,e:()=>tn,f:()=>Hc,g:()=>zc,h:()=>El,i:()=>lo,j:()=>Il,k:()=>En,l:()=>Ba,m:()=>Uo,p:()=>Oe,r:()=>Ma,s:()=>Qo,u:()=>Nt});var p=W(5861),G=W(2090),q=W(6881),De=W(655),Se=W(1877),we=W(4859);const Oe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const dt=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},At=function ht(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pt=new Se.Yd("@firebase/auth");function bt(I,...d){pt.logLevel<=Se.in.ERROR&&pt.error(`Auth (${q.SDK_VERSION}): ${I}`,...d)}function Be(I,...d){throw st(I,...d)}function _e(I,...d){return st(I,...d)}function Xe(I,d,g){const C=Object.assign(Object.assign({},At()),{[d]:g});return new G.LL("auth","Firebase",C).create(d,{appName:I.name})}function Dt(I,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Be(I,"argument-error"),Xe(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(I,...d){if("string"!=typeof I){const g=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(g,...C)}return Rt.create(I,...d)}function ke(I,d,...g){if(!I)throw st(d,...g)}function Ot(I){const d="INTERNAL ASSERTION FAILED: "+I;throw bt(d),new Error(d)}function sn(I,d){I||Ot(d)}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function _n(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Ke{constructor(d,g){this.shortDelay=d,this.longDelay=g,sn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Ue(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(I,d){sn(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class wt{static initialize(d,g,C){this.fetchImpl=d,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kt=new Ke(3e4,6e4);function Te(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function qe(I,d,g,C){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(I,d,g,C,H={}){return Le(I,H,(0,p.Z)(function*(){let ee={},Pe={};C&&("GET"===d?Pe=C:ee={body:JSON.stringify(C)});const ut=(0,G.xO)(Object.assign({key:I.config.apiKey},Pe)).slice(1),$t=yield I._getAdditionalHeaders();return $t["Content-Type"]="application/json",I.languageCode&&($t["X-Firebase-Locale"]=I.languageCode),wt.fetch()(jn(I,I.config.apiHost,g,ut),Object.assign({method:d,headers:$t,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Le(I,d,g){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(I,d,g){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},ct),d);try{const H=new wr(I),ee=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Pe=yield ee.json();if("needConfirmation"in Pe)throw gr(I,"account-exists-with-different-credential",Pe);if(ee.ok&&!("errorMessage"in Pe))return Pe;{const ut=ee.ok?Pe.errorMessage:Pe.error.message,[$t,cn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw gr(I,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===$t)throw gr(I,"email-already-in-use",Pe);if("USER_DISABLED"===$t)throw gr(I,"user-disabled",Pe);const wn=C[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw Xe(I,wn,cn);Be(I,wn)}}catch(H){if(H instanceof G.ZR)throw H;Be(I,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function jt(I,d,g,C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(I,d,g,C,H={}){const ee=yield qe(I,d,g,C,H);return"mfaPendingCredential"in ee&&Be(I,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function jn(I,d,g,C){const H=`${d}${g}?${C}`;return I.config.emulator?lt(I.config,H):`${I.config.apiScheme}://${H}`}class wr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(_e(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(I,d,g){const C={appName:I.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const H=_e(I,d,C);return H.customData._tokenResponse=g,H}function cr(){return(cr=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Ft(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ir(){return(ir=(0,p.Z)(function*(I,d=!1){const g=(0,G.m9)(I),C=yield g.getIdToken(d),H=vi(C);ke(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ee="object"==typeof H.firebase?H.firebase:void 0,Pe=ee?.sign_in_provider;return{claims:H,token:C,authTime:Ft(Zr(H.auth_time)),issuedAtTime:Ft(Zr(H.iat)),expirationTime:Ft(Zr(H.exp)),signInProvider:Pe||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Zr(I){return 1e3*Number(I)}function vi(I){const[d,g,C]=I.split(".");if(void 0===d||void 0===g||void 0===C)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,G.tV)(g);return H?JSON.parse(H):(bt("Failed to decode base64 JWT payload"),null)}catch(H){return bt("Caught error parsing JWT payload as JSON",H?.toString()),null}}function gn(I,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(C){throw C instanceof G.ZR&&function Vt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class Ar{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),C)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Ur{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(I){return li.apply(this,arguments)}function li(){return li=(0,p.Z)(function*(I){var d;const g=I.auth,C=yield I.getIdToken(),H=yield gn(I,function Gr(I,d){return Mn.apply(this,arguments)}(g,{idToken:C}));ke(H?.users.length,g,"internal-error");const ee=H.users[0];I._notifyReloadListener(ee);const Pe=null!==(d=ee.providerUserInfo)&&void 0!==d&&d.length?function $i(I){return I.map(d=>{var{providerId:g}=d,C=(0,De._T)(d,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ee.providerUserInfo):[],ut=function lr(I,d){return[...I.filter(C=>!d.some(H=>H.providerId===C.providerId)),...d]}(I.providerData,Pe),wn=!!I.isAnonymous&&!(I.email&&ee.passwordHash||ut?.length),Kn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:ut,metadata:new Ur(ee.createdAt,ee.lastLoginAt),isAnonymous:wn};Object.assign(I,Kn)}),li.apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(I){const d=(0,G.m9)(I);yield yr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(I,d){const g=yield Le(I,{},(0,p.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:H,apiKey:ee}=I.config,Pe=jn(I,H,"/v1/token",`key=${ee}`),ut=yield I._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(Pe,{method:"POST",headers:ut,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ke(d.idToken,"internal-error"),ke(typeof d.idToken<"u","internal-error"),ke(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Yn(I){const d=vi(I);return ke(d,"internal-error"),ke(typeof d.exp<"u","internal-error"),ke(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var C=this;return(0,p.Z)(function*(){return ke(!C.accessToken||C.refreshToken,d,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var C=this;return(0,p.Z)(function*(){const{accessToken:H,refreshToken:ee,expiresIn:Pe}=yield function Xn(I,d){return Ti.apply(this,arguments)}(d,g);C.updateTokensAndExpiration(H,ee,Number(Pe))})()}updateTokensAndExpiration(d,g,C){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,g){const{refreshToken:C,accessToken:H,expirationTime:ee}=g,Pe=new Rn;return C&&(ke("string"==typeof C,"internal-error",{appName:d}),Pe.refreshToken=C),H&&(ke("string"==typeof H,"internal-error",{appName:d}),Pe.accessToken=H),ee&&(ke("number"==typeof ee,"internal-error",{appName:d}),Pe.expirationTime=ee),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Rn,this.toJSON())}_performRefresh(){return Ot("not implemented")}}function _t(I,d){ke("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Mr{constructor(d){var{uid:g,auth:C,stsTokenManager:H}=d,ee=(0,De._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Ur(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const C=yield gn(g,g.stsTokenManager.getToken(g.auth,d));return ke(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(d){return function Pr(I){return ir.apply(this,arguments)}(this,d)}reload(){return function Wr(I){return kr.apply(this,arguments)}(this)}_assign(d){this!==d&&(ke(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Mr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var C=this;return(0,p.Z)(function*(){let H=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),H=!0),g&&(yield yr(C)),yield C.auth._persistUserIfCurrent(C),H&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield gn(d,function mr(I,d){return cr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var C,H,ee,Pe,ut,$t,cn,wn;const Kn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Qs=null!==(H=g.email)&&void 0!==H?H:void 0,wo=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,va=null!==(Pe=g.photoURL)&&void 0!==Pe?Pe:void 0,cc=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,_a=null!==($t=g._redirectEventId)&&void 0!==$t?$t:void 0,Rd=null!==(cn=g.createdAt)&&void 0!==cn?cn:void 0,Nu=null!==(wn=g.lastLoginAt)&&void 0!==wn?wn:void 0,{uid:Ml,emailVerified:xl,isAnonymous:ru,providerData:Rl,stsTokenManager:vu}=g;ke(Ml&&vu,d,"internal-error");const dc=Rn.fromJSON(this.name,vu);ke("string"==typeof Ml,d,"internal-error"),_t(Kn,d.name),_t(Qs,d.name),ke("boolean"==typeof xl,d,"internal-error"),ke("boolean"==typeof ru,d,"internal-error"),_t(wo,d.name),_t(va,d.name),_t(cc,d.name),_t(_a,d.name),_t(Rd,d.name),_t(Nu,d.name);const hc=new Mr({uid:Ml,auth:d,email:Qs,emailVerified:xl,displayName:Kn,isAnonymous:ru,photoURL:va,phoneNumber:wo,tenantId:cc,stsTokenManager:dc,createdAt:Rd,lastLoginAt:Nu});return Rl&&Array.isArray(Rl)&&(hc.providerData=Rl.map(Pl=>Object.assign({},Pl))),_a&&(hc._redirectEventId=_a),hc}static _fromIdTokenResponse(d,g,C=!1){return(0,p.Z)(function*(){const H=new Rn;H.updateFromServerResponse(g);const ee=new Mr({uid:g.localId,auth:d,stsTokenManager:H,isAnonymous:C});return yield yr(ee),ee})()}}const it=new Map;function re(I){sn(I instanceof Function,"Expected a class definition");let d=it.get(I);return d?(sn(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,it.set(I,d),d)}const We=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,C){var H=this;return(0,p.Z)(function*(){H.storage[g]=C})()}_get(g){var C=this;return(0,p.Z)(function*(){const H=C.storage[g];return void 0===H?null:H})()}_remove(g){var C=this;return(0,p.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return I.type="NONE",I})();function ft(I,d,g){return`firebase:${I}:${d}:${g}`}class oe{constructor(d,g,C){this.persistence=d,this.auth=g,this.userKey=C;const{config:H,name:ee}=this.auth;this.fullUserKey=ft(this.userKey,H.apiKey,ee),this.fullPersistenceKey=ft("persistence",H.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Mr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,C="authUser"){return(0,p.Z)(function*(){if(!g.length)return new oe(re(We),d,C);const H=(yield Promise.all(g.map(function(){var cn=(0,p.Z)(function*(wn){if(yield wn._isAvailable())return wn});return function(wn){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let ee=H[0]||re(We);const Pe=ft(C,d.config.apiKey,d.name);let ut=null;for(const cn of g)try{const wn=yield cn._get(Pe);if(wn){const Kn=Mr._fromJSON(d,wn);cn!==ee&&(ut=Kn),ee=cn;break}}catch{}const $t=H.filter(cn=>cn._shouldAllowMigration);return ee._shouldAllowMigration&&$t.length?(ee=$t[0],ut&&(yield ee._set(Pe,ut.toJSON())),yield Promise.all(g.map(function(){var cn=(0,p.Z)(function*(wn){if(wn!==ee)try{yield wn._remove(Pe)}catch{}});return function(wn){return cn.apply(this,arguments)}}())),new oe(ee,d,C)):new oe(ee,d,C)})()}}function se(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Mt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(pe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(ne(d))return"Webos";if($e(d))return"Safari";if((d.includes("chrome/")||Re(d))&&!d.includes("edge/"))return"Chrome";if(me(d))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function pe(I=(0,G.z$)()){return/firefox\//i.test(I)}function $e(I=(0,G.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Re(I=(0,G.z$)()){return/crios\//i.test(I)}function Mt(I=(0,G.z$)()){return/iemobile/i.test(I)}function me(I=(0,G.z$)()){return/android/i.test(I)}function le(I=(0,G.z$)()){return/blackberry/i.test(I)}function ne(I=(0,G.z$)()){return/webos/i.test(I)}function fe(I=(0,G.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Ye(I=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Ln(I=(0,G.z$)()){return fe(I)||me(I)||ne(I)||le(I)||/windows phone/i.test(I)||Mt(I)}function er(I,d=[]){let g;switch(I){case"Browser":g=se((0,G.z$)());break;case"Worker":g=`${se((0,G.z$)())}-${I}`;break;default:g=I}const C=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${q.SDK_VERSION}/${C}`}function Ve(){return(Ve=(0,p.Z)(function*(I){return(yield qe(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(I,d){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*(I,d){return qe(I,"GET","/v2/recaptchaConfig",Te(I,d))})).apply(this,arguments)}function fn(I){return void 0!==I&&void 0!==I.getResponse}function In(I){return void 0!==I&&void 0!==I.enterprise}class Xt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function qn(I){return new Promise((d,g)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=d,C.onerror=H=>{const ee=_e("internal-error");ee.customData=H,g(ee)},C.type="text/javascript",C.charset="UTF-8",function On(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(C)})}function Nr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const js="NO_RECAPTCHA";class ji{constructor(d){this.type="recaptcha-enterprise",this.auth=Qn(d)}verify(d="verify",g=!1){var C=this;return(0,p.Z)(function*(){function ee(){return ee=(0,p.Z)(function*(ut){if(!g){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var $t=(0,p.Z)(function*(cn,wn){St(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Kn=>{if(void 0!==Kn.recaptchaKey){const Qs=new Xt(Kn);return null==ut.tenantId?ut._agentRecaptchaConfig=Qs:ut._tenantRecaptchaConfigs[ut.tenantId]=Qs,cn(Qs.siteKey)}wn(new Error("recaptcha Enterprise site key undefined"))}).catch(Kn=>{wn(Kn)})});return function(cn,wn){return $t.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Pe(ut,$t,cn){const wn=window.grecaptcha;In(wn)?wn.enterprise.ready(()=>{wn.enterprise.execute(ut,{action:d}).then(Kn=>{$t(Kn)}).catch(()=>{$t(js)})}):cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,$t)=>{(function H(ut){return ee.apply(this,arguments)})(C.auth).then(cn=>{if(!g&&In(window.grecaptcha))Pe(cn,ut,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));qn("https://www.google.com/recaptcha/enterprise.js?render="+cn).then(()=>{Pe(cn,ut,$t)}).catch(wn=>{$t(wn)})}}).catch(cn=>{$t(cn)})})})()}}function tr(I,d,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(I,d,g,C=!1){const H=new ji(I);let ee;try{ee=yield H.verify(g)}catch{ee=yield H.verify(g,!0)}const Pe=Object.assign({},d);return Object.assign(Pe,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Pe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pe})).apply(this,arguments)}class Cn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const C=ee=>new Promise((Pe,ut)=>{try{Pe(d(ee))}catch($t){ut($t)}});C.onAbort=g,this.queue.push(C);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const C=[];try{for(const H of g.queue)yield H(d),H.onAbort&&C.push(H.onAbort)}catch(H){C.reverse();for(const ee of C)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class vr{constructor(d,g,C,H){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ns(this),this.idTokenSubscription=new ns(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(d,g){var C=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var H,ee;if(!C._deleted&&(C.persistenceManager=yield oe.create(C,d),!C._deleted)){if(null!==(H=C._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var C;const H=yield g.assertedPersistence.getCurrentUser();let ee=H,Pe=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,$t=ee?._redirectEventId,cn=yield g.tryRedirectSignIn(d);(!ut||ut===$t)&&cn?.user&&(ee=cn.user,Pe=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Pe)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(ut){ee=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield yr(d)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function nt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const C=d?(0,G.m9)(d):null;return C&&ke(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(d,g=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return d&&ke(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(re(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield St(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Xt(g);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new ji(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new G.LL("auth","Firebase",d())}onAuthStateChanged(d,g,C){return this.registerStateListener(this.authStateSubscription,d,g,C)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,C){return this.registerStateListener(this.idTokenSubscription,d,g,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var C=this;return(0,p.Z)(function*(){const H=yield C.getOrInitRedirectPersistenceManager(g);return null===d?H.removeCurrentUser():H.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const C=d&&re(d)||g._popupRedirectResolver;ke(C,g,"argument-error"),g.redirectPersistenceManager=yield oe.create(g,[re(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var C,H;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===d?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,C,H){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Pe,this,"internal-error"),Pe.then(()=>ee(this.currentUser)),"function"==typeof g?d.addObserver(g,C,H):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const H=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(C["X-Firebase-Client"]=H);const ee=yield d._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const C=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function Ct(I,...d){pt.logLevel<=Se.in.WARN&&pt.warn(`Auth (${q.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Qn(I){return(0,G.m9)(I)}class ns{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,G.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fr(I,d,g){const C=Qn(I);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const H=!!g?.disableWarnings,ee=Ne(d),{host:Pe,port:ut}=function Ie(I){const d=Ne(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(C);if(H){const ee=H[1];return{host:ee,port:Ae(C.substr(ee.length+1))}}{const[ee,Pe]=C.split(":");return{host:ee,port:Ae(Pe)}}}(d);C.config.emulator={url:`${ee}//${Pe}${null===ut?"":`:${ut}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Pe,port:ut,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function gt(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ne(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function Ae(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class xt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Ot("not implemented")}_getIdTokenResponse(d){return Ot("not implemented")}_linkToIdToken(d,g){return Ot("not implemented")}_getReauthenticationResolver(d){return Ot("not implemented")}}function yn(I,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:resetPassword",Te(I,d))})).apply(this,arguments)}function vn(I,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $r(){return($r=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",Te(I,d))})).apply(this,arguments)}function Yr(I,d){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPassword",Te(I,d))})).apply(this,arguments)}function Ir(I,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:sendOobCode",Te(I,d))})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function zi(I,d){return rs.apply(this,arguments)}function rs(){return(rs=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Ji(I,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,d))})).apply(this,arguments)}function Ms(){return(Ms=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,d))})).apply(this,arguments)}class dr extends xt{constructor(d,g,C,H=null){super("password",C),this._email=d,this._password=g,this._tenantId=H}static _fromEmailAndPassword(d,g){return new dr(d,g,"password")}static _fromEmailAndCode(d,g,C=null){return new dr(d,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var C;switch(g.signInMethod){case"password":const H={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield tr(d,H,"signInWithPassword");return Yr(d,ee)}return Yr(d,H).catch(function(){var ee=(0,p.Z)(function*(Pe){if("auth/missing-recaptcha-token"===Pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield tr(d,H,"signInWithPassword");return Yr(d,ut)}return Promise.reject(Pe)});return function(Pe){return ee.apply(this,arguments)}}());case"emailLink":return function is(I,d){return Hs.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Be(d,"internal-error")}})()}_linkToIdToken(d,g){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return vn(d,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function zs(I,d){return Ms.apply(this,arguments)}(d,{idToken:g,email:C._email,oobCode:C._password});default:Be(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function xr(I,d){return ss.apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithIdp",Te(I,d))})).apply(this,arguments)}class os extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new os(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:H}=g,ee=(0,De._T)(g,["providerId","signInMethod"]);if(!C||!H)return null;const Pe=new os(C,H);return Pe.idToken=ee.idToken||void 0,Pe.accessToken=ee.accessToken||void 0,Pe.secret=ee.secret,Pe.nonce=ee.nonce,Pe.pendingToken=ee.pendingToken||null,Pe}_getIdTokenResponse(d){return xr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,xr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,xr(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,G.xO)(g)}return d}}function To(){return(To=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:sendVerificationCode",Te(I,d))})).apply(this,arguments)}function xs(){return(xs=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,d))})).apply(this,arguments)}function Co(){return(Co=(0,p.Z)(function*(I,d){const g=yield jt(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,d));if(g.temporaryProof)throw gr(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ho={USER_NOT_FOUND:"user-not-found"};function bo(){return(bo=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),Ho)})).apply(this,arguments)}class ls extends xt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new ls({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new ls({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function as(I,d){return xs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function oa(I,d){return Co.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function us(I,d){return bo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:C,verificationCode:H}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:C,code:H}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}=d;return C||g||H||ee?new ls({verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}):null}}class Es{constructor(d){var g,C,H,ee,Pe,ut;const $t=(0,G.zd)((0,G.pd)(d)),cn=null!==(g=$t.apiKey)&&void 0!==g?g:null,wn=null!==(C=$t.oobCode)&&void 0!==C?C:null,Kn=function cs(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=$t.mode)&&void 0!==H?H:null);ke(cn&&wn&&Kn,"argument-error"),this.apiKey=cn,this.operation=Kn,this.code=wn,this.continueUrl=null!==(ee=$t.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Pe=$t.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(ut=$t.tenantId)&&void 0!==ut?ut:null}static parseLink(d){const g=function So(I){const d=(0,G.zd)((0,G.pd)(I)).link,g=d?(0,G.zd)((0,G.pd)(d)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(I)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||g||d||I}(d);try{return new Es(g)}catch{return null}}}let zo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,C){return dr._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const H=Es.parseLink(C);return ke(H,"argument-error"),dr._fromEmailAndCode(g,H.code,H.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Gi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class no extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ni extends no{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),os._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ke(d.idToken||d.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ni.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ni.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:H,pendingToken:ee,nonce:Pe,providerId:ut}=d;if(!C&&!H&&!g&&!ee||!ut)return null;try{return new Ni(ut)._credential({idToken:g,accessToken:C,nonce:Pe,pendingToken:ee})}catch{return null}}}let Ea=(()=>{class I extends no{constructor(){super("facebook.com")}static credential(g){return os._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ro=(()=>{class I extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return os._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:H}=g;if(!C&&!H)return null;try{return I.credential(C,H)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),io=(()=>{class I extends no{constructor(){super("github.com")}static credential(g){return os._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class bi extends xt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return xr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,xr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,xr(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:H,pendingToken:ee}=g;return C&&H&&ee&&C===H?new bi(C,ee):null}static _create(d,g){return new bi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends Gi{constructor(d){ke(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Mo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Mo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=bi.fromJSON(d);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:C}=d;if(!g||!C)return null;try{return bi._create(C,g)}catch{return null}}}let Gs=(()=>{class I extends no{constructor(){super("twitter.com")}static credential(g,C){return os._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:H}=g;if(!C||!H)return null;try{return I.credential(C,H)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function ds(I,d){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signUp",Te(I,d))})).apply(this,arguments)}class Or{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,C,H=!1){return(0,p.Z)(function*(){const ee=yield Mr._fromIdTokenResponse(d,C,H),Pe=oi(C);return new Or({user:ee,providerId:Pe,_tokenResponse:C,operationType:g})})()}static _forOperation(d,g,C){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const H=oi(C);return new Or({user:d,providerId:H,_tokenResponse:C,operationType:g})})()}}function oi(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Rs(I){return zn.apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(I){var d;const g=Qn(I);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new Or({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield ds(g,{returnSecureToken:!0}),H=yield Or._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class hs extends G.ZR{constructor(d,g,C,H){var ee;super(g.code,g.message),this.operationType=C,this.user=H,Object.setPrototypeOf(this,hs.prototype),this.customData={appName:d.name,tenantId:null!==(ee=d.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,g,C,H){return new hs(d,g,C,H)}}function fs(I,d,g,C){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?hs._fromErrorAndOperation(I,ee,d,C):ee})}function di(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function Go(I,d){return xo.apply(this,arguments)}function xo(){return xo=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I);yield Is(!0,g,d);const{providerUserInfo:C}=yield function zr(I,d){return ln.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),H=di(C||[]);return g.providerData=g.providerData.filter(ee=>H.has(ee.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),xo.apply(this,arguments)}function hi(I,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(I,d,g=!1){const C=yield gn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return Or._forOperation(I,"link",C)})).apply(this,arguments)}function Is(I,d,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(I,d,g){yield yr(d);const H=!1===I?"provider-already-linked":"no-such-provider";ke(di(d.providerData).has(g)===I,d.auth,H)})).apply(this,arguments)}function vo(I,d){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(I,d,g=!1){const{auth:C}=I,H="reauthenticate";try{const ee=yield gn(I,fs(C,H,d,I),g);ke(ee.idToken,C,"internal-error");const Pe=vi(ee.idToken);ke(Pe,C,"internal-error");const{sub:ut}=Pe;return ke(I.uid===ut,C,"user-mismatch"),Or._forOperation(I,H,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&Be(C,"user-mismatch"),ee}})).apply(this,arguments)}function ni(I,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(I,d,g=!1){const C="signIn",H=yield fs(I,C,d),ee=yield Or._fromIdTokenResponse(I,C,H);return g||(yield I._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function xn(I,d){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(I,d){return ni(Qn(I),d)})).apply(this,arguments)}function Wo(I,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I);return yield Is(!1,g,d.providerId),hi(g,d)})).apply(this,arguments)}function Ro(I,d){return _o.apply(this,arguments)}function _o(){return(_o=(0,p.Z)(function*(I,d){return vo((0,G.m9)(I),d)})).apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithCustomToken",Te(I,d))})).apply(this,arguments)}function wa(I,d){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(function*(I,d){const g=Qn(I),C=yield function so(I,d){return oo.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),H=yield Or._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(H.user),H}),R.apply(this,arguments)}class O{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?k._fromServerResponse(d,g):"totpInfo"in g?X._fromServerResponse(d,g):Be(d,"internal-error")}}class k extends O{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new k(g)}}class X extends O{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new X(g)}}function He(I,d,g){var C;ke((null===(C=g.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),ke(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function pn(I,d,g){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,p.Z)(function*(I,d,g){var C;const H=Qn(I),ee={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Pe=yield tr(H,ee,"getOobCode",!0);g&&He(H,Pe,g),yield zi(H,Pe)}else g&&He(H,ee,g),yield zi(H,ee).catch(function(){var Pe=(0,p.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $t=yield tr(H,ee,"getOobCode",!0);g&&He(H,$t,g),yield zi(H,$t)}});return function(ut){return Pe.apply(this,arguments)}}())}),Cr.apply(this,arguments)}function Lr(I,d,g){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(I,d,g){yield yn((0,G.m9)(I),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Ks(I,d){return Po.apply(this,arguments)}function Po(){return Po=(0,p.Z)(function*(I,d){yield function _i(I,d){return $r.apply(this,arguments)}((0,G.m9)(I),{oobCode:d})}),Po.apply(this,arguments)}function pi(I,d){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I),C=yield yn(g,{oobCode:d}),H=C.requestType;switch(ke(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,g,"internal-error");default:ke(C.email,g,"internal-error")}let ee=null;return C.mfaInfo&&(ee=O._fromServerResponse(Qn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:H}})).apply(this,arguments)}function Kr(I,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(I,d){const{data:g}=yield pi((0,G.m9)(I),d);return g.email})).apply(this,arguments)}function ao(I,d,g){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,p.Z)(function*(I,d,g){var C;const H=Qn(I),ee={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Pe;if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const cn=yield tr(H,ee,"signUpPassword");Pe=ds(H,cn)}else Pe=ds(H,ee).catch(function(){var cn=(0,p.Z)(function*(wn){if("auth/missing-recaptcha-token"===wn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Kn=yield tr(H,ee,"signUpPassword");return ds(H,Kn)}return Promise.reject(wn)});return function(wn){return cn.apply(this,arguments)}}());const ut=yield Pe.catch(cn=>Promise.reject(cn)),$t=yield Or._fromIdTokenResponse(H,"signIn",ut);return yield H._updateCurrentUser($t.user),$t}),Dr.apply(this,arguments)}function ps(I,d,g){return xn((0,G.m9)(I),zo.credential(d,g))}function No(I,d,g){return gs.apply(this,arguments)}function gs(){return gs=(0,p.Z)(function*(I,d,g){var C;const H=Qn(I),ee={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Pe(ut,$t){ke($t.handleCodeInApp,H,"argument-error"),$t&&He(H,ut,$t)}if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ut=yield tr(H,ee,"getOobCode",!0);Pe(ut,g),yield Ji(H,ut)}else Pe(ee,g),yield Ji(H,ee).catch(function(){var ut=(0,p.Z)(function*($t){if("auth/missing-recaptcha-token"!==$t.code)return Promise.reject($t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const cn=yield tr(H,ee,"getOobCode",!0);Pe(cn,g),yield Ji(H,cn)}});return function($t){return ut.apply(this,arguments)}}())}),gs.apply(this,arguments)}function Fa(I,d){return"EMAIL_SIGNIN"===Es.parseLink(d)?.operation}function uu(I,d,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),H=zo.credentialWithLink(d,g||zt());return ke(H._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),xn(C,H)})).apply(this,arguments)}function Da(){return(Da=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:createAuthUri",Te(I,d))})).apply(this,arguments)}function Ta(I,d){return uo.apply(this,arguments)}function uo(){return uo=(0,p.Z)(function*(I,d){const C={identifier:d,continueUri:_n()?zt():"http://localhost"},{signinMethods:H}=yield function Ia(I,d){return Da.apply(this,arguments)}((0,G.m9)(I),C);return H||[]}),uo.apply(this,arguments)}function Ps(I,d){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I),H={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&He(g.auth,H,d);const{email:ee}=yield function Do(I,d){return eo.apply(this,arguments)}(g.auth,H);ee!==I.email&&(yield I.reload())}),Ts.apply(this,arguments)}function la(I,d,g){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};g&&He(C.auth,ee,g);const{email:Pe}=yield function $o(I,d){return Ci.apply(this,arguments)}(C.auth,ee);Pe!==I.email&&(yield I.reload())}),Ko.apply(this,arguments)}function $(){return($=(0,p.Z)(function*(I,d){return qe(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _(I,d){return w.apply(this,arguments)}function w(){return w=(0,p.Z)(function*(I,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const C=(0,G.m9)(I),ee={idToken:yield C.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Pe=yield gn(C,function Eo(I,d){return $.apply(this,arguments)}(C.auth,ee));C.displayName=Pe.displayName||null,C.photoURL=Pe.photoUrl||null;const ut=C.providerData.find(({providerId:$t})=>"password"===$t);ut&&(ut.displayName=C.displayName,ut.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Pe)}),w.apply(this,arguments)}function F(I,d){return te((0,G.m9)(I),d,null)}function K(I,d){return te((0,G.m9)(I),null,d)}function te(I,d,g){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(I,d,g){const{auth:C}=I,ee={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(ee.email=d),g&&(ee.password=g);const Pe=yield gn(I,vn(C,ee));yield I._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class Ge{constructor(d,g,C={}){this.isNewUser=d,this.providerId=g,this.profile=C}}class vt extends Ge{constructor(d,g,C,H){super(d,g,C),this.username=H}}class Jt extends Ge{constructor(d,g){super(d,"facebook.com",g)}}class un extends vt{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ur extends Ge{constructor(d,g){super(d,"google.com",g)}}class Bn extends vt{constructor(d,g,C){super(d,"twitter.com",g,C)}}function Dn(I){const{user:d,_tokenResponse:g}=I;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ve(I){var d,g;if(!I)return null;const{providerId:C}=I,H=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ee=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Pe=null===(g=null===(d=vi(I.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Pe)return new Ge(ee,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!C)return null;switch(C){case"facebook.com":return new Jt(ee,H);case"github.com":return new un(ee,H);case"google.com":return new ur(ee,H);case"twitter.com":return new Bn(ee,H,I.screenName||null);case"custom":case"anonymous":return new Ge(ee,null);default:return new Ge(ee,C,H)}}(g)}class Vn{constructor(d,g,C){this.type=d,this.credential=g,this.auth=C}static _fromIdtoken(d,g){return new Vn("enroll",d,g)}static _fromMfaPendingCredential(d){return new Vn("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,C;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Vn._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return Vn._fromIdtoken(d.multiFactorSession.idToken)}return null}}class nr{constructor(d,g,C){this.session=d,this.hints=g,this.signInResolver=C}static _fromError(d,g){const C=Qn(d),H=g.customData._serverResponse,ee=(H.mfaInfo||[]).map(ut=>O._fromServerResponse(C,ut));ke(H.mfaPendingCredential,C,"internal-error");const Pe=Vn._fromMfaPendingCredential(H.mfaPendingCredential);return new nr(Pe,ee,function(){var ut=(0,p.Z)(function*($t){const cn=yield $t._process(C,Pe);delete H.mfaInfo,delete H.mfaPendingCredential;const wn=Object.assign(Object.assign({},H),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(g.operationType){case"signIn":const Kn=yield Or._fromIdTokenResponse(C,g.operationType,wn);return yield C._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return ke(g.user,C,"internal-error"),Or._forOperation(g.user,g.operationType,wn);default:Be(C,"internal-error")}});return function($t){return ut.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function Gn(I,d){var g;const C=(0,G.m9)(I),H=d;return ke(d.customData.operationType,C,"argument-error"),ke(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),nr._fromError(C,H)}class mn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>O._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new mn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return Vn._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var C=this;return(0,p.Z)(function*(){const H=d,ee=yield C.getSession(),Pe=yield gn(C.user,H._process(C.user.auth,ee,g));return yield C.user._updateTokensIfNecessary(Pe),C.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const C="string"==typeof d?d:d.uid,H=yield g.user.getIdToken();try{const ee=yield gn(g.user,function Gt(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(I,d))}(g.user.auth,{idToken:H,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Pe})=>Pe!==C),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const dn=new WeakMap;function Fn(I){const d=(0,G.m9)(I);return dn.has(d)||dn.set(d,mn._fromUser(d)),dn.get(d)}const hr="__sak";class gi{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(hr,"1"),this.storage.removeItem(hr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ca=(()=>{class I extends gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wi(){const I=(0,G.z$)();return $e(I)||fe(I)}()&&function sr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ln(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const H=this.storage.getItem(C),ee=this.localCache[C];H!==ee&&g(C,ee,H)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((ut,$t,cn)=>{this.notifyListeners(ut,cn)});const H=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(H);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!C)return}const ee=()=>{const ut=this.storage.getItem(H);!C&&this.localCache[H]===ut||this.notifyListeners(H,ut)},Pe=this.storage.getItem(H);!function on(){return(0,G.w1)()&&10===document.documentMode}()||Pe===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var H=()=>super._set,ee=this;return(0,p.Z)(function*(){yield H().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,H=this;return(0,p.Z)(function*(){const ee=yield C().call(H,g);return H.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,H=this;return(0,p.Z)(function*(){yield C().call(H,g),delete H.localCache[g]})()}}return I.type="LOCAL",I})(),mi=(()=>{class I extends gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return I.type="SESSION",I})();let ca=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const H=new I(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,p.Z)(function*(){const H=g,{eventId:ee,eventType:Pe,data:ut}=H.data,$t=C.handlersMap[Pe];if(!$t?.size)return;H.ports[0].postMessage({status:"ack",eventId:ee,eventType:Pe});const cn=Array.from($t).map(function(){var Kn=(0,p.Z)(function*(Qs){return Qs(H.origin,ut)});return function(Qs){return Kn.apply(this,arguments)}}()),wn=yield function Ns(I){return Promise.all(I.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return d.apply(this,arguments)}}()))}(cn);H.ports[0].postMessage({status:"done",eventId:ee,eventType:Pe,response:wn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Os(I="",d=10){let g="";for(let C=0;C<d;C++)g+=Math.floor(10*Math.random());return I+g}class Wu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,C=50){var H=this;return(0,p.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Pe,ut;return new Promise(($t,cn)=>{const wn=Os("",20);ee.port1.start();const Kn=setTimeout(()=>{cn(new Error("unsupported_event"))},C);ut={messageChannel:ee,onMessage(Qs){const wo=Qs;if(wo.data.eventId===wn)switch(wo.data.status){case"ack":clearTimeout(Kn),Pe=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),$t(wo.data.response);break;default:clearTimeout(Kn),clearTimeout(Pe),cn(new Error("invalid_response"))}}},H.handlers.add(ut),ee.port1.addEventListener("message",ut.onMessage),H.target.postMessage({eventType:d,eventId:wn,data:g},[ee.port2])}).finally(()=>{ut&&H.removeMessageHandler(ut)})})()}}function Ri(){return window}function La(){return typeof Ri().WorkerGlobalScope<"u"&&"function"==typeof Ri().importScripts}function Zo(){return(Zo=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ui="firebaseLocalStorageDb",du=1,ri="firebaseLocalStorage",ii="fbase_key";class ba{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ha(I,d){return I.transaction([ri],d?"readwrite":"readonly").objectStore(ri)}function qu(){const I=indexedDB.open(Ui,du);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(ri,{keyPath:ii})}catch(H){g(H)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(ri)?d(C):(C.close(),yield function Oo(){const I=indexedDB.deleteDatabase(Ui);return new ba(I).toPromise()}(),d(yield qu()))}))})}function qs(I,d,g){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,p.Z)(function*(I,d,g){const C=ha(I,!0).put({[ii]:d,value:g});return new ba(C).toPromise()})).apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(I,d){const g=ha(I,!1).get(d),C=yield new ba(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Aa(I,d){const g=ha(I,!0).delete(d);return new ba(g).toPromise()}const lo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield qu()),g.db})()}_withRetries(g){var C=this;return(0,p.Z)(function*(){let H=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(H++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return La()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=ca._getInstance(function cu(){return La()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(H,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(H,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(H,ee){return["keyChanged"]});return function(H,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var C,H;if(g.activeServiceWorker=yield function Ku(){return Zo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wu(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==(H=ee[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function lu(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield qu();return yield qs(g,hr,"1"),yield Aa(g,hr),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var H=this;return(0,p.Z)(function*(){return H._withPendingWrite((0,p.Z)(function*(){return yield H._withRetries(ee=>qs(ee,g,C)),H.localCache[g]=C,H.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,p.Z)(function*(){const H=yield C._withRetries(ee=>function ei(I,d){return Qa.apply(this,arguments)}(ee,g));return C.localCache[g]=H,H})()}_remove(g){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(H=>Aa(H,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const C=yield g._withRetries(Pe=>{const ut=ha(Pe,!1).getAll();return new ba(ut).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const H=[],ee=new Set;for(const{fbase_key:Pe,value:ut}of C)ee.add(Pe),JSON.stringify(g.localCache[Pe])!==JSON.stringify(ut)&&(g.notifyListeners(Pe,ut),H.push(Pe));for(const Pe of Object.keys(g.localCache))g.localCache[Pe]&&!ee.has(Pe)&&(g.notifyListeners(Pe,null),H.push(Pe));return H})()}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),hu=1e12;class Au{constructor(d){this.auth=d,this.counter=hu,this._widgets=new Map}render(d,g){const C=this.counter;return this._widgets.set(C,new Ja(d,this.auth.name,g||{})),this.counter++,C}reset(d){var g;const C=d||hu;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(d){var g;return(null===(g=this._widgets.get(d||hu))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var C;return null===(C=g._widgets.get(d||hu))||void 0===C||C.execute(),""})()}}class Ja{constructor(d,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof d?document.getElementById(d):d;ke(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xa(I){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fu=Nr("rcb"),pu=new Ke(3e4,6e4);class Ua{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Ri().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return ke(function Zu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&fn(Ri().grecaptcha)?Promise.resolve(Ri().grecaptcha):new Promise((C,H)=>{const ee=Ri().setTimeout(()=>{H(_e(d,"network-request-failed"))},pu.get());Ri()[fu]=()=>{Ri().clearTimeout(ee),delete Ri()[fu];const ut=Ri().grecaptcha;if(!ut||!fn(ut))return void H(_e(d,"internal-error"));const $t=ut.render;ut.render=(cn,wn)=>{const Kn=$t(cn,wn);return this.counter++,Kn},this.hostLanguage=g,C(ut)},qn(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:fu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),H(_e(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Ri().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vl{load(d){return(0,p.Z)(function*(){return new Au(d)})()}clearedOneInstance(){}}const Ki="recaptcha",gu={theme:"light",type:"image"};class Mu{constructor(d,g=Object.assign({},gu),C){this.parameters=g,this.type=Ki,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(C),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof d?document.getElementById(d):d;ke(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vl:new Ua,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ee=>{const Pe=ut=>{ut&&(d.tokenChangeListeners.delete(Pe),ee(ut))};d.tokenChangeListeners.add(Pe),d.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof d)d(g);else if("string"==typeof d){const C=Ri()[d];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){ke(_n()&&!La(),d.auth,"internal-error"),yield function Yo(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function ot(I){return Ve.apply(this,arguments)}(d.auth);ke(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class co{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=ls._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Qo(I,d,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,p.Z)(function*(I,d,g){const C=Qn(I),H=yield $a(C,d,(0,G.m9)(g));return new co(H,ee=>xn(C,ee))})).apply(this,arguments)}function Ba(I,d,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);yield Is(!1,C,"phone");const H=yield $a(C.auth,d,(0,G.m9)(g));return new co(H,ee=>Wo(C,ee))})).apply(this,arguments)}function Ma(I,d,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),H=yield $a(C.auth,d,(0,G.m9)(g));return new co(H,ee=>Ro(C,ee))})).apply(this,arguments)}function $a(I,d,g){return _l.apply(this,arguments)}function _l(){return _l=(0,p.Z)(function*(I,d,g){var C;const H=yield g.verify();try{let ee;if(ke("string"==typeof H,I,"argument-error"),ke(g.type===Ki,I,"argument-error"),ee="string"==typeof d?{phoneNumber:d}:d,"session"in ee){const Pe=ee.session;if("phoneNumber"in ee)return ke("enroll"===Pe.type,I,"internal-error"),(yield function Vr(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:start",Te(I,d))}(I,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ke("signin"===Pe.type,I,"internal-error");const ut=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return ke(ut,I,"missing-multi-factor-info"),(yield function Su(I,d){return qe(I,"POST","/v2/accounts/mfaSignIn:start",Te(I,d))}(I,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield function jo(I,d){return To.apply(this,arguments)}(I,{phoneNumber:ee.phoneNumber,recaptchaToken:H});return Pe}}finally{g._reset()}}),_l.apply(this,arguments)}function Nt(I,d){return ti.apply(this,arguments)}function ti(){return(ti=(0,p.Z)(function*(I,d){yield hi((0,G.m9)(I),d)})).apply(this,arguments)}let bs=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Qn(g)}verifyPhoneNumber(g,C){return $a(this.auth,g,(0,G.m9)(C))}static credential(g,C){return ls._fromVerification(g,C)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:H}=g;return C&&H?ls._fromTokenResponse(C,H):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ga(I,d){return d?re(d):(ke(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class y extends xt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return xr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return xr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return xr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function E(I){return ni(I.auth,new y(I),I.bypassAuthState)}function m(I){const{auth:d,user:g}=I;return ke(g,d,"internal-error"),vo(g,new y(I),I.bypassAuthState)}function T(I){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(function*(I){const{auth:d,user:g}=I;return ke(g,d,"internal-error"),hi(g,new y(I),I.bypassAuthState)})).apply(this,arguments)}class V{constructor(d,g,C,H,ee=!1){this.auth=d,this.resolver=C,this.user=H,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(C,H){d.pendingPromise={resolve:C,reject:H};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ee){d.reject(ee)}});return function(C,H){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:H,postBody:ee,tenantId:Pe,error:ut,type:$t}=d;if(ut)return void g.reject(ut);const cn={auth:g.auth,requestUri:C,sessionId:H,tenantId:Pe||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($t)(cn))}catch(wn){g.reject(wn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return T;case"reauthViaPopup":case"reauthViaRedirect":return m;default:Be(this.auth,"internal-error")}}resolve(d){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y=new Ke(2e3,1e4);function Me(I,d,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(I,d,g){const C=Qn(I);Dt(I,d,Gi);const H=ga(C,g);return new Fo(C,"signInViaPopup",d,H).executeNotNull()})).apply(this,arguments)}function tn(I,d,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Dt(C.auth,d,Gi);const H=ga(C.auth,g);return new Fo(C.auth,"reauthViaPopup",d,H,C).executeNotNull()})).apply(this,arguments)}function _r(I,d,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Dt(C.auth,d,Gi);const H=ga(C.auth,g);return new Fo(C.auth,"linkViaPopup",d,H,C).executeNotNull()})).apply(this,arguments)}let Fo=(()=>{class I extends V{constructor(g,C,H,ee,Pe){super(g,C,ee,Pe),this.provider=H,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const C=yield g.execute();return ke(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,p.Z)(function*(){sn(1===g.filter.length,"Popup operations only handle one event");const C=Os();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,H;this.pollId=null!==(H=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Y.get())};g()}}return I.currentPopupAction=null,I})();const Jo="pendingRedirect",Ss=new Map;class ho extends V{constructor(d,g,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let C=Ss.get(g.auth._key());if(!C){try{const ee=(yield function sc(I,d){return Nn.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;C=()=>Promise.resolve(ee)}catch(H){C=()=>Promise.reject(H)}Ss.set(g.auth._key(),C)}return g.bypassAuthState||Ss.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(C,d);if("unknown"!==d.type){if(d.eventId){const H=yield C.auth._redirectUserForId(d.eventId);if(H)return C.user=H,g().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Nn(){return(Nn=(0,p.Z)(function*(I,d){const g=Rr(d),C=Yu(I);if(!(yield C._isAvailable()))return!1;const H="true"===(yield C._get(g));return yield C._remove(g),H})).apply(this,arguments)}function ja(I,d){return eu.apply(this,arguments)}function eu(){return(eu=(0,p.Z)(function*(I,d){return Yu(I)._set(Rr(d),"true")})).apply(this,arguments)}function Di(){Ss.clear()}function bn(I,d){Ss.set(I._key(),d)}function Yu(I){return re(I._redirectPersistence)}function Rr(I){return ft(Jo,I.config.apiKey,I.name)}function Hc(I,d,g){return function qi(I,d,g){return nn.apply(this,arguments)}(I,d,g)}function nn(){return(nn=(0,p.Z)(function*(I,d,g){const C=Qn(I);Dt(I,d,Gi),yield C._initializationPromise;const H=ga(C,g);return yield ja(H,C),H._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function El(I,d,g){return function oc(I,d,g){return fo.apply(this,arguments)}(I,d,g)}function fo(){return(fo=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Dt(C.auth,d,Gi),yield C.auth._initializationPromise;const H=ga(C.auth,g);yield ja(H,C.auth);const ee=yield Tl(C);return H._openRedirect(C.auth,d,"reauthViaRedirect",ee)})).apply(this,arguments)}function zc(I,d,g){return function Qu(I,d,g){return wl.apply(this,arguments)}(I,d,g)}function wl(){return(wl=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Dt(C.auth,d,Gi),yield C.auth._initializationPromise;const H=ga(C.auth,g);yield Is(!1,C,d.providerId),yield ja(H,C.auth);const ee=yield Tl(C);return H._openRedirect(C.auth,d,"linkViaRedirect",ee)})).apply(this,arguments)}function Il(I,d){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,p.Z)(function*(I,d){return yield Qn(I)._initializationPromise,Dl(I,d,!1)})).apply(this,arguments)}function Dl(I,d){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(I,d,g=!1){const C=Qn(I),H=ga(C,d),Pe=yield new ho(C,H,g).execute();return Pe&&!g&&(delete Pe.user._redirectEventId,yield C._persistUserIfCurrent(Pe.user),yield C._setRedirectUser(null,d)),Pe})).apply(this,arguments)}function Tl(I){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,p.Z)(function*(I){const d=Os(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class mu{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(g=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Cl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Je(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var C;if(d.error&&!Je(d)){const H=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,H))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const C=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yu(d))}saveEventToCache(d){this.cachedEventUids.add(yu(d)),this.lastProcessedEventTime=Date.now()}}function yu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function Je({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function Xo(I){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,p.Z)(function*(I,d={}){return qe(I,"GET","/v1/projects",d)})).apply(this,arguments)}const xu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xa=/^https?/;function Lo(){return(Lo=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Xo(I);for(const g of d)try{if(Xu(g))return}catch{}Be(I,"unauthorized-domain")})).apply(this,arguments)}function Xu(I){const d=zt(),{protocol:g,hostname:C}=new URL(d);if(I.startsWith("chrome-extension://")){const Pe=new URL(I);return""===Pe.hostname&&""===C?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Pe.hostname===C}if(!xa.test(g))return!1;if(xu.test(I))return C===I;const H=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(C)}const Ru=new Ke(3e4,6e4);function el(){const I=Ri().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let go=null;const tl=new Ke(5e3,15e3),ac="__/auth/iframe",Fi="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ra(I){const d=I.config;ke(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?lt(d,Fi):`https://${I.config.authDomain}/${ac}`,C={apiKey:d.apiKey,appName:I.name,v:q.SDK_VERSION},H=Kc.get(I.config.apiHost);H&&(C.eid=H);const ee=I._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,G.xO)(C).slice(1)}`}function Pu(){return Pu=(0,p.Z)(function*(I){const d=yield function Sl(I){return go=go||function za(I){return new Promise((d,g)=>{var C,H,ee;function Pe(){el(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{el(),g(_e(I,"network-request-failed"))},timeout:Ru.get()})}if(null!==(H=null===(C=Ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==H&&H.Iframe)d(gapi.iframes.getContext());else{if(null===(ee=Ri().gapi)||void 0===ee||!ee.load){const ut=Nr("iframefcb");return Ri()[ut]=()=>{gapi.load?Pe():g(_e(I,"network-request-failed"))},qn(`https://apis.google.com/js/api.js?onload=${ut}`).catch($t=>g($t))}Pe()}}).catch(d=>{throw go=null,d})}(I),go}(I),g=Ri().gapi;return ke(g,I,"internal-error"),d.open({where:document.body,url:Ra(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},C=>new Promise(function(){var H=(0,p.Z)(function*(ee,Pe){yield C.restyle({setHideOnLeave:!1});const ut=_e(I,"network-request-failed"),$t=Ri().setTimeout(()=>{Pe(ut)},tl.get());function cn(){Ri().clearTimeout($t),ee(C)}C.ping(cn).then(cn,()=>{Pe(ut)})});return function(ee,Pe){return H.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const tu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vo=500,qc=600,uc="_blank",lc="http://localhost";class Fs{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x="__/auth/handler",B="emulator/auth/handler",ie=encodeURIComponent("fac");function Ee(I,d,g,C,H,ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,p.Z)(function*(I,d,g,C,H,ee){ke(I.config.authDomain,I,"auth-domain-config-required"),ke(I.config.apiKey,I,"invalid-api-key");const Pe={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:C,v:q.SDK_VERSION,eventId:H};if(d instanceof Gi){d.setDefaultLanguage(I.languageCode),Pe.providerId=d.providerId||"",(0,G.xb)(d.getCustomParameters())||(Pe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[wn,Kn]of Object.entries(ee||{}))Pe[wn]=Kn}if(d instanceof no){const wn=d.getScopes().filter(Kn=>""!==Kn);wn.length>0&&(Pe.scopes=wn.join(","))}I.tenantId&&(Pe.tid=I.tenantId);const ut=Pe;for(const wn of Object.keys(ut))void 0===ut[wn]&&delete ut[wn];const $t=yield I._getAppCheckToken(),cn=$t?`#${ie}=${encodeURIComponent($t)}`:"";return`${function mt({config:I}){return I.emulator?lt(I,B):`https://${I.authDomain}/${x}`}(I)}?${(0,G.xO)(ut).slice(1)}${cn}`})).apply(this,arguments)}const en="webStorageSupport",En=class Yt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mi,this._completeRedirectFn=Dl,this._overrideRedirectResult=bn}_openPopup(d,g,C,H){var ee=this;return(0,p.Z)(function*(){var Pe;sn(null===(Pe=ee.eventManagers[d._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const ut=yield Ee(d,g,C,zt(),H);return function nl(I,d,g,C=Vo,H=qc){const ee=Math.max((window.screen.availHeight-H)/2,0).toString(),Pe=Math.max((window.screen.availWidth-C)/2,0).toString();let ut="";const $t=Object.assign(Object.assign({},tu),{width:C.toString(),height:H.toString(),top:ee,left:Pe}),cn=(0,G.z$)().toLowerCase();g&&(ut=Re(cn)?uc:g),pe(cn)&&(d=d||lc,$t.scrollbars="yes");const wn=Object.entries($t).reduce((Qs,[wo,va])=>`${Qs}${wo}=${va},`,"");if(function Pt(I=(0,G.z$)()){var d;return fe(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(cn)&&"_self"!==ut)return function D(I,d){const g=document.createElement("a");g.href=I,g.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(d||"",ut),new Fs(null);const Kn=window.open(d||"",ut,wn);ke(Kn,I,"popup-blocked");try{Kn.focus()}catch{}return new Fs(Kn)}(d,ut,Os())})()}_openRedirect(d,g,C,H){var ee=this;return(0,p.Z)(function*(){return yield ee._originValidation(d),function da(I){Ri().location.href=I}(yield Ee(d,g,C,zt(),H)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:H,promise:ee}=this.eventManagers[g];return H?Promise.resolve(H):(sn(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(d);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const C=yield function Ga(I){return Pu.apply(this,arguments)}(d),H=new mu(d);return C.register("authEvent",ee=>(ke(ee?.authEvent,d,"invalid-auth-event"),{status:H.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:H},g.iframes[d._key()]=C,H})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(en,{type:en},H=>{var ee;const Pe=null===(ee=H?.[0])||void 0===ee?void 0:ee[en];void 0!==Pe&&g(!!Pe),Be(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bl(I){return Lo.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ln()||$e()||fe()}};class Wn{constructor(d){this.factorId=d}_process(d,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,C);case"signin":return this._finalizeSignIn(d,g.credential);default:return Ot("unexpected MultiFactorSessionType")}}}class Un extends Wn{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Un(d)}_finalizeEnroll(d,g,C){return function ar(I,d){return qe(I,"POST","/v2/accounts/mfaEnrollment:finalize",Te(I,d))}(d,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function fa(I,d){return qe(I,"POST","/v2/accounts/mfaSignIn:finalize",Te(I,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uo=(()=>{class I{constructor(){}static assertion(g){return Un._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var Yi="@firebase/auth";class jr{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function Ys(I){(0,q._registerComponent)(new we.wA("auth",(d,{options:g})=>{const C=d.getProvider("app").getImmediate(),H=d.getProvider("heartbeat"),ee=d.getProvider("app-check-internal"),{apiKey:Pe,authDomain:ut}=C.options;ke(Pe&&!Pe.includes(":"),"invalid-api-key",{appName:C.name}),ke(!ut?.includes(":"),"argument-error",{appName:C.name});const $t={apiKey:Pe,authDomain:ut,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(I)},cn=new vr(C,H,ee,$t);return function _s(I,d){const g=d?.persistence||[],C=(Array.isArray(g)?g:[g]).map(re);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(C,d?.popupRedirectResolver)}(cn,g),cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,C)=>{d.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new we.wA("auth-internal",d=>{const g=Qn(d.getProvider("auth").getImmediate());return new jr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(Yi,"0.23.1",function Al(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,q.registerVersion)(Yi,"0.23.1","esm2017")}("Browser")},2090:(an,at,W)=>{W.d(at,{$s:()=>re,BH:()=>Xe,L:()=>Ze,LL:()=>ye,P0:()=>bt,Pz:()=>_e,Sg:()=>Dt,UG:()=>Ot,US:()=>we,ZB:()=>Ce,ZR:()=>qe,aH:()=>Be,b$:()=>_n,eu:()=>ct,hl:()=>wt,jU:()=>sn,m9:()=>ft,ne:()=>gn,pd:()=>vi,r3:()=>zr,ru:()=>zt,tV:()=>de,uI:()=>ke,vZ:()=>Ft,w1:()=>Ue,xO:()=>ir,xb:()=>Gr,z$:()=>st,zI:()=>kt,zd:()=>Zr});const De=function(oe){const se=[];let pe=0;for(let $e=0;$e<oe.length;$e++){let Re=oe.charCodeAt($e);Re<128?se[pe++]=Re:Re<2048?(se[pe++]=Re>>6|192,se[pe++]=63&Re|128):55296==(64512&Re)&&$e+1<oe.length&&56320==(64512&oe.charCodeAt($e+1))?(Re=65536+((1023&Re)<<10)+(1023&oe.charCodeAt(++$e)),se[pe++]=Re>>18|240,se[pe++]=Re>>12&63|128,se[pe++]=Re>>6&63|128,se[pe++]=63&Re|128):(se[pe++]=Re>>12|224,se[pe++]=Re>>6&63|128,se[pe++]=63&Re|128)}return se},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,se){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[];for(let Re=0;Re<oe.length;Re+=3){const Mt=oe[Re],me=Re+1<oe.length,le=me?oe[Re+1]:0,ne=Re+2<oe.length,fe=ne?oe[Re+2]:0;let on=(15&le)<<2|fe>>6,Ln=63&fe;ne||(Ln=64,me||(on=64)),$e.push(pe[Mt>>2],pe[(3&Mt)<<4|le>>4],pe[on],pe[Ln])}return $e.join("")},encodeString(oe,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(oe):this.encodeByteArray(De(oe),se)},decodeString(oe,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(oe):function(oe){const se=[];let pe=0,$e=0;for(;pe<oe.length;){const Re=oe[pe++];if(Re<128)se[$e++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const Mt=oe[pe++];se[$e++]=String.fromCharCode((31&Re)<<6|63&Mt)}else if(Re>239&&Re<365){const ne=((7&Re)<<18|(63&oe[pe++])<<12|(63&oe[pe++])<<6|63&oe[pe++])-65536;se[$e++]=String.fromCharCode(55296+(ne>>10)),se[$e++]=String.fromCharCode(56320+(1023&ne))}else{const Mt=oe[pe++],me=oe[pe++];se[$e++]=String.fromCharCode((15&Re)<<12|(63&Mt)<<6|63&me)}}return se.join("")}(this.decodeStringToByteArray(oe,se))},decodeStringToByteArray(oe,se){this.init_();const pe=se?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[];for(let Re=0;Re<oe.length;){const Mt=pe[oe.charAt(Re++)],le=Re<oe.length?pe[oe.charAt(Re)]:0;++Re;const fe=Re<oe.length?pe[oe.charAt(Re)]:64;++Re;const Pt=Re<oe.length?pe[oe.charAt(Re)]:64;if(++Re,null==Mt||null==le||null==fe||null==Pt)throw new je;$e.push(Mt<<2|le>>4),64!==fe&&($e.push(le<<4&240|fe>>2),64!==Pt&&$e.push(fe<<6&192|Pt))}return $e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(oe){return function(oe){const se=De(oe);return we.encodeByteArray(se,!0)}(oe).replace(/\./g,"")},de=function(oe){try{return we.decodeString(oe,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function Ce(oe,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return se}for(const pe in se)!se.hasOwnProperty(pe)||!ht(pe)||(oe[pe]=Ce(oe[pe],se[pe]));return oe}function ht(oe){return"__proto__"!==oe}const pt=()=>{try{return function dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=oe&&de(oe[1]);return se&&JSON.parse(se)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},bt=oe=>{const se=(oe=>{var se,pe;return null===(pe=null===(se=pt())||void 0===se?void 0:se.emulatorHosts)||void 0===pe?void 0:pe[oe]})(oe);if(!se)return;const pe=se.lastIndexOf(":");if(pe<=0||pe+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const $e=parseInt(se.substring(pe+1),10);return"["===se[0]?[se.substring(1,pe-1),$e]:[se.substring(0,pe),$e]},Be=()=>{var oe;return null===(oe=pt())||void 0===oe?void 0:oe.config},_e=oe=>{var se;return null===(se=pt())||void 0===se?void 0:se[`_${oe}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,pe)=>{this.resolve=se,this.reject=pe})}wrapCallback(se){return(pe,$e)=>{pe?this.reject(pe):this.resolve($e),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(pe):se(pe,$e))}}}function Dt(oe,se){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $e=se||"demo-project",Re=oe.iat||0,Mt=oe.sub||oe.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${$e}`,aud:$e,iat:Re,exp:Re+3600,auth_time:Re,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(me)),""].join(".")}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function Ot(){var oe;const se=null===(oe=pt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sn(){return"object"==typeof self&&self.self===self}function zt(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const oe=st();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function ct(){return new Promise((oe,se)=>{try{let pe=!0;const $e="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open($e);Re.onsuccess=()=>{Re.result.close(),pe||self.indexedDB.deleteDatabase($e),oe(!0)},Re.onupgradeneeded=()=>{pe=!1},Re.onerror=()=>{var Mt;se((null===(Mt=Re.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(pe){se(pe)}})}function kt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qe extends Error{constructor(se,pe,$e){super(pe),this.code=se,this.customData=$e,this.name="FirebaseError",Object.setPrototypeOf(this,qe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(se,pe,$e){this.service=se,this.serviceName=pe,this.errors=$e}create(se,...pe){const $e=pe[0]||{},Re=`${this.service}/${se}`,Mt=this.errors[se],me=Mt?function Le(oe,se){return oe.replace(It,(pe,$e)=>{const Re=se[$e];return null!=Re?String(Re):`<${$e}?>`})}(Mt,$e):"Error";return new qe(Re,`${this.serviceName}: ${me} (${Re}).`,$e)}}const It=/\{\$([^}]+)}/g;function zr(oe,se){return Object.prototype.hasOwnProperty.call(oe,se)}function Gr(oe){for(const se in oe)if(Object.prototype.hasOwnProperty.call(oe,se))return!1;return!0}function Ft(oe,se){if(oe===se)return!0;const pe=Object.keys(oe),$e=Object.keys(se);for(const Re of pe){if(!$e.includes(Re))return!1;const Mt=oe[Re],me=se[Re];if(Hn(Mt)&&Hn(me)){if(!Ft(Mt,me))return!1}else if(Mt!==me)return!1}for(const Re of $e)if(!pe.includes(Re))return!1;return!0}function Hn(oe){return null!==oe&&"object"==typeof oe}function ir(oe){const se=[];for(const[pe,$e]of Object.entries(oe))Array.isArray($e)?$e.forEach(Re=>{se.push(encodeURIComponent(pe)+"="+encodeURIComponent(Re))}):se.push(encodeURIComponent(pe)+"="+encodeURIComponent($e));return se.length?"&"+se.join("&"):""}function Zr(oe){const se={};return oe.replace(/^\?/,"").split("&").forEach($e=>{if($e){const[Re,Mt]=$e.split("=");se[decodeURIComponent(Re)]=decodeURIComponent(Mt)}}),se}function vi(oe){const se=oe.indexOf("?");if(!se)return"";const pe=oe.indexOf("#",se);return oe.substring(se,pe>0?pe:void 0)}function gn(oe,se){const pe=new Bt(oe,se);return pe.subscribe.bind(pe)}class Bt{constructor(se,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{se(this)}).catch($e=>{this.error($e)})}next(se){this.forEachObserver(pe=>{pe.next(se)})}error(se){this.forEachObserver(pe=>{pe.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,pe,$e){let Re;if(void 0===se&&void 0===pe&&void 0===$e)throw new Error("Missing Observer.");Re=function Ar(oe,se){if("object"!=typeof oe||null===oe)return!1;for(const pe of se)if(pe in oe&&"function"==typeof oe[pe])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:pe,complete:$e},void 0===Re.next&&(Re.next=Ur),void 0===Re.error&&(Re.error=Ur),void 0===Re.complete&&(Re.complete=Ur);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch{}}),this.observers.push(Re),Mt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,se)}sendOne(se,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{pe(this.observers[se])}catch($e){typeof console<"u"&&console.error&&console.error($e)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}const Rn=1e3,_t=2,Mr=144e5,it=.5;function re(oe,se=Rn,pe=_t){const $e=se*Math.pow(pe,oe),Re=Math.round(it*$e*(Math.random()-.5)*2);return Math.min(Mr,$e+Re)}function ft(oe){return oe&&oe._delegate?oe._delegate:oe}},7677:(an,at,W)=>{W.d(at,{I:()=>Se});var p=W(4650),G=W(1205);let q=(()=>{class we{constructor(){}guardarItem(Oe,Ze){localStorage.setItem(Oe,JSON.stringify(Ze))}obtenerItem(Oe){const Ze=localStorage.getItem(Oe);return null!=Ze?JSON.parse(Ze):Ze}eliminarItem(Oe){localStorage.removeItem(Oe)}}return we.\u0275fac=function(Oe){return new(Oe||we)},we.\u0275prov=p.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();var De=W(6647);let Se=(()=>{class we{constructor(Oe,Ze,de){this.auth=Oe,this.localStorage=Ze,this.route=de,this.usuarioEstaLogueado=!1,this.suscripcion=this.auth.authState.subscribe(he=>{he?(this.usuarioActual=he,this.localStorage.guardarItem("usuario",{id:he.uid,mail:he.email}),this.usuarioEstaLogueado=!0):this.route.navigateByUrl("login")})}get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuario"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuario")}get getUsuarioActualCompleto(){return this.usuarioActual}registrarUsuario(Oe,Ze){return this.auth.createUserWithEmailAndPassword(Oe,Ze)}loguearUsuario(Oe,Ze){return this.auth.signInWithEmailAndPassword(Oe,Ze)}desloguear(){return this.localStorage.eliminarItem("usuario"),this.usuarioEstaLogueado=!1,this.auth.signOut()}ObtenerCambiosDeEstado(){return this.auth.authState}}return we.\u0275fac=function(Oe){return new(Oe||we)(p.LFG(G.zQ),p.LFG(q),p.LFG(De.F0))},we.\u0275prov=p.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},4443:(an,at,W)=>{W.d(at,{j:()=>q});var p=W(4650),G=W(7185);let q=(()=>{class De{constructor(we){this.toastr=we}exito(we="",je=""){this.toastr.success(""!=we?we:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=je?je:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(we="",je=""){this.toastr.error(""!=we?we:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=je?je:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}perdio(we="",je=""){this.toastr.error(""!=we?we:"HA PERDIDO!!!.",""!=je?je:"Ha perdido.",{toastClass:"toast-custom-perdio",timeOut:2e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position"})}gano(we="",je=""){this.toastr.success(""!=we?we:"HA GANADO!!!.",""!=je?je:"Ha ganado.",{toastClass:"toast-custom-gano",timeOut:2e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}empate(we="",je=""){this.toastr.success(""!=we?we:"HA GANADO!!!.",""!=je?je:"Ha ganado.",{toastClass:"toast-custom-empate",timeOut:3e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}}return De.\u0275fac=function(we){return new(we||De)(p.LFG(G._W))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},8535:(an,at,W)=>{var p=W(1481),G=W(6647),q=W(4650),De=W(7677);let Se=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),we=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canDeactivate(w,F,K,te){return!0}canLoad(w,F){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Ze=[{path:"home",loadChildren:()=>Promise.all([W.e(592),W.e(929)]).then(W.bind(W,929)).then($=>$.HomeModule),canActivate:[we]},{path:"",loadChildren:()=>Promise.all([W.e(592),W.e(929)]).then(W.bind(W,929)).then($=>$.HomeModule),canActivate:[we]},{path:"quien-soy",loadChildren:()=>W.e(937).then(W.bind(W,937)).then($=>$.QuienSoyModule),canActivate:[(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"registro",loadChildren:()=>Promise.all([W.e(592),W.e(856)]).then(W.bind(W,7856)).then($=>$.RegistroModule),canActivate:[(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"login",loadChildren:()=>Promise.all([W.e(592),W.e(633)]).then(W.bind(W,7633)).then($=>$.LoginModule),canActivate:[Se]}];let de=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({imports:[G.Bz.forRoot(Ze),G.Bz]}),$})();var he=W(4443);let Ce=(()=>{class ${constructor(w,F,K){this.router=w,this.firestoreLogin=F,this.toast=K,this.usuarioEstaLogueado=!1}ngOnInit(){}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe()}desloguear(){this.firestoreLogin.desloguear(),this.toast.exito("Sesi\xf3n cerrada con exito."," "),this.router.navigate(["../login"])}verificarEstadoDeUsuario(){return this.firestoreLogin.getUsuarioEstaLogueado}}return $.\u0275fac=function(w){return new(w||$)(q.Y36(G.F0),q.Y36(De.I),q.Y36(he.j))},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-header"]],decls:14,vars:5,consts:[[1,"navbar","bg-dark","navbar-expand-lg","text-light","m-0","p-1","fw-bold","d-flex","justify-content-between",2,"z-index","10"],[1,"mx-2"],["src","assets/logo/logo.jpg",1,"logo"],[1,"mx-5"],["routerLink","../home",1,"btn","fw-bold","fs-5","btn-warning","mx-2",3,"hidden"],["routerLink","../quien-soy",1,"btn","fw-bold","fs-5","btn-warning","mx-2",3,"hidden"],["routerLink","../login",1,"btn","fw-bold","fs-5","btn-outline-primary","mx-2",3,"hidden"],["routerLink","../registro",1,"btn","fw-bold","fs-5","btn-outline-primary","mx-2",3,"hidden"],[1,"btn","fw-bold","fs-5","btn-outline-danger","mx-2",3,"hidden","click"]],template:function(w,F){1&w&&(q.TgZ(0,"nav",0)(1,"div",1),q._UZ(2,"img",2),q.qZA(),q.TgZ(3,"div",3)(4,"button",4),q._uU(5," Home "),q.qZA(),q.TgZ(6,"button",5),q._uU(7," Quien Soy "),q.qZA(),q.TgZ(8,"button",6),q._uU(9," Login "),q.qZA(),q.TgZ(10,"button",7),q._uU(11," Registro "),q.qZA(),q.TgZ(12,"button",8),q.NdJ("click",function(){return F.desloguear()}),q._uU(13," Logout "),q.qZA()()()),2&w&&(q.xp6(4),q.Q6J("hidden",!F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",!F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",!F.verificarEstadoDeUsuario()))},dependencies:[G.rH],styles:[".logo[_ngcontent-%COMP%]{height:55px;border-radius:30px}"]}),$})(),ht=(()=>{class ${constructor(){this.title="sala-de-juego"}ngOnInit(){}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(w,F){1&w&&(q.TgZ(0,"div",0),q._UZ(1,"app-header")(2,"router-outlet"),q.qZA())},dependencies:[G.lC,Ce]}),$})();const dt_firebase={projectId:"sala-de-juegos-6b9fd",appId:"1:280462303398:web:5727a83fec375e25341467",storageBucket:"sala-de-juegos-6b9fd.appspot.com",apiKey:"AIzaSyC6gK6WUsBf6Wom0zU2TrOOtXkWCkxs1qI",authDomain:"sala-de-juegos-6b9fd.firebaseapp.com",messagingSenderId:"280462303398"};var At=W(433),Rt=W(7340);function pt($){return new q.vHH(3e3,!1)}function Ft(){return typeof window<"u"&&typeof window.document<"u"}function Hn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pr($){switch($.length){case 0:return new Rt.ZN;case 1:return $[0];default:return new Rt.ZE($)}}function ir($,_,w,F,K=new Map,te=new Map){const ce=[],ve=[];let Ge=-1,vt=null;if(F.forEach(Jt=>{const un=Jt.get("offset"),ur=un==Ge,Bn=ur&&vt||new Map;Jt.forEach((Dn,An)=>{let A=An,U=Dn;if("offset"!==An)switch(A=_.normalizePropertyName(A,ce),U){case Rt.k1:U=K.get(An);break;case Rt.l3:U=te.get(An);break;default:U=_.normalizeStyleValue(An,A,U,ce)}Bn.set(A,U)}),ur||ve.push(Bn),vt=Bn,Ge=un}),ce.length)throw function Le($){return new q.vHH(3502,!1)}();return ve}function Zr($,_,w,F){switch(_){case"start":$.onStart(()=>F(w&&vi(w,"start",$)));break;case"done":$.onDone(()=>F(w&&vi(w,"done",$)));break;case"destroy":$.onDestroy(()=>F(w&&vi(w,"destroy",$)))}}function vi($,_,w){const te=Yn($.element,$.triggerName,$.fromState,$.toState,_||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),ce=$._data;return null!=ce&&(te._data=ce),te}function Yn($,_,w,F,K="",te=0,ce){return{element:$,triggerName:_,fromState:w,toState:F,phaseName:K,totalTime:te,disabled:!!ce}}function gn($,_,w){let F=$.get(_);return F||$.set(_,F=w),F}function Bt($){const _=$.indexOf(":");return[$.substring(1,_),$.slice(_+1)]}let Vt=($,_)=>!1,Ar=($,_,w)=>[],Ur=null;function yr($){const _=$.parentNode||$.host;return _===Ur?null:_}(Hn()||typeof Element<"u")&&(Ft()?(Ur=(()=>document.documentElement)(),Vt=($,_)=>{for(;_;){if(_===$)return!0;_=yr(_)}return!1}):Vt=($,_)=>$.contains(_),Ar=($,_,w)=>{if(w)return Array.from($.querySelectorAll(_));const F=$.querySelector(_);return F?[F]:[]});let kr=null,lr=!1;const Rn=Vt,_t=Ar;let it=(()=>{class ${validateStyleProperty(w){return function $i($){kr||(kr=function Ti(){return typeof document<"u"?document.body:null}()||{},lr=!!kr.style&&"WebkitAppearance"in kr.style);let _=!0;return kr.style&&!function Wr($){return"ebkit"==$.substring(1,6)}($)&&(_=$ in kr.style,!_&&lr&&(_="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in kr.style)),_}(w)}matchesElement(w,F){return!1}containsElement(w,F){return Rn(w,F)}getParentElement(w){return yr(w)}query(w,F,K){return _t(w,F,K)}computeStyle(w,F,K){return K||""}animate(w,F,K,te,ce,ve=[],Ge){return new Rt.ZN(K,te)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})(),re=(()=>{class ${}return $.NOOP=new it,$})();const be=1e3,oe="ng-enter",se="ng-leave",pe="ng-trigger",$e=".ng-trigger",Re="ng-animating",Mt=".ng-animating";function me($){if("number"==typeof $)return $;const _=$.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:le(parseFloat(_[1]),_[2])}function le($,_){return"s"===_?$*be:$}function ne($,_,w){return $.hasOwnProperty("duration")?$:function fe($,_,w){let K,te=0,ce="";if("string"==typeof $){const ve=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return _.push(pt()),{duration:0,delay:0,easing:""};K=le(parseFloat(ve[1]),ve[2]);const Ge=ve[3];null!=Ge&&(te=le(parseFloat(Ge),ve[4]));const vt=ve[5];vt&&(ce=vt)}else K=$;if(!w){let ve=!1,Ge=_.length;K<0&&(_.push(function Ct(){return new q.vHH(3100,!1)}()),ve=!0),te<0&&(_.push(function bt(){return new q.vHH(3101,!1)}()),ve=!0),ve&&_.splice(Ge,0,pt())}return{duration:K,delay:te,easing:ce}}($,_,w)}function Ye($,_={}){return Object.keys($).forEach(w=>{_[w]=$[w]}),_}function Pt($){const _=new Map;return Object.keys($).forEach(w=>{_.set(w,$[w])}),_}function sr($,_=new Map,w){if(w)for(let[F,K]of w)_.set(F,K);for(let[F,K]of $)_.set(F,K);return _}function er($,_,w){return w?_+":"+w+";":""}function ot($){let _="";for(let w=0;w<$.style.length;w++){const F=$.style.item(w);_+=er(0,F,$.style.getPropertyValue(F))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(_+=er(0,$s(w),$.style[w]));$.setAttribute("style",_)}function Ve($,_,w){$.style&&(_.forEach((F,K)=>{const te=Br(K);w&&!w.has(K)&&w.set(K,$.style[te]),$.style[te]=F}),Hn()&&ot($))}function St($,_){$.style&&(_.forEach((w,F)=>{const K=Br(F);$.style[K]=""}),Hn()&&ot($))}function Qt($){return Array.isArray($)?1==$.length?$[0]:(0,Rt.vP)($):$}const In=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xt($){let _=[];if("string"==typeof $){let w;for(;w=In.exec($);)_.push(w[1]);In.lastIndex=0}return _}function On($,_,w){const F=$.toString(),K=F.replace(In,(te,ce)=>{let ve=_[ce];return null==ve&&(w.push(function _e($){return new q.vHH(3003,!1)}()),ve=""),ve.toString()});return K==F?$:K}function qn($){const _=[];let w=$.next();for(;!w.done;)_.push(w.value),w=$.next();return _}const Nr=/-+([a-z0-9])/g;function Br($){return $.replace(Nr,(..._)=>_[1].toUpperCase())}function $s($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr($,_,w){switch(_.type){case 7:return $.visitTrigger(_,w);case 0:return $.visitState(_,w);case 1:return $.visitTransition(_,w);case 2:return $.visitSequence(_,w);case 3:return $.visitGroup(_,w);case 4:return $.visitAnimate(_,w);case 5:return $.visitKeyframes(_,w);case 6:return $.visitStyle(_,w);case 8:return $.visitReference(_,w);case 9:return $.visitAnimateChild(_,w);case 10:return $.visitAnimateRef(_,w);case 11:return $.visitQuery(_,w);case 12:return $.visitStagger(_,w);default:throw function Xe($){return new q.vHH(3004,!1)}()}}function Wt($,_){return window.getComputedStyle($)[_]}const Ne="*";function Ie($,_){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(F=>function Ae($,_,w){if(":"==$[0]){const Ge=function gt($,_){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,F)=>parseFloat(F)>parseFloat(w);case":decrement":return(w,F)=>parseFloat(F)<parseFloat(w);default:return _.push(function kt($){return new q.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof Ge)return void _.push(Ge);$=Ge}const F=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return w.push(function ct($){return new q.vHH(3015,!1)}()),_;const K=F[1],te=F[2],ce=F[3];_.push(Pn(K,ce));"<"==te[0]&&!(K==Ne&&ce==Ne)&&_.push(Pn(ce,K))}(F,w,_)):w.push($),w}const xt=new Set(["true","1"]),yn=new Set(["false","0"]);function Pn($,_){const w=xt.has($)||yn.has($),F=xt.has(_)||yn.has(_);return(K,te)=>{let ce=$==Ne||$==K,ve=_==Ne||_==te;return!ce&&w&&"boolean"==typeof K&&(ce=K?xt.has($):yn.has($)),!ve&&F&&"boolean"==typeof te&&(ve=te?xt.has(_):yn.has(_)),ce&&ve}}const kn=new RegExp("s*:selfs*,?","g");function _i($,_,w,F){return new Yr($).build(_,w,F)}class Yr{constructor(_){this._driver=_}build(_,w,F){const K=new Hi(w);return this._resetContextStyleTimingState(K),tr(this,Qt(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,w){let F=w.queryCount=0,K=w.depCount=0;const te=[],ce=[];return"@"==_.name.charAt(0)&&w.errors.push(function st(){return new q.vHH(3006,!1)}()),_.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(w),0==ve.type){const Ge=ve,vt=Ge.name;vt.toString().split(/\s*,\s*/).forEach(Jt=>{Ge.name=Jt,te.push(this.visitState(Ge,w))}),Ge.name=vt}else if(1==ve.type){const Ge=this.visitTransition(ve,w);F+=Ge.queryCount,K+=Ge.depCount,ce.push(Ge)}else w.errors.push(function ke(){return new q.vHH(3007,!1)}())}),{type:7,name:_.name,states:te,transitions:ce,queryCount:F,depCount:K,options:null}}visitState(_,w){const F=this.visitStyle(_.styles,w),K=_.options&&_.options.params||null;if(F.containsDynamicStyles){const te=new Set,ce=K||{};F.styles.forEach(ve=>{ve instanceof Map&&ve.forEach(Ge=>{Xt(Ge).forEach(vt=>{ce.hasOwnProperty(vt)||te.add(vt)})})}),te.size&&(qn(te.values()),w.errors.push(function Ot($,_){return new q.vHH(3008,!1)}()))}return{type:0,name:_.name,style:F,options:K?{params:K}:null}}visitTransition(_,w){w.queryCount=0,w.depCount=0;const F=tr(this,Qt(_.animation),w);return{type:1,matchers:Ie(_.expr,w.errors),animation:F,queryCount:w.queryCount,depCount:w.depCount,options:zi(_.options)}}visitSequence(_,w){return{type:2,steps:_.steps.map(F=>tr(this,F,w)),options:zi(_.options)}}visitGroup(_,w){const F=w.currentTime;let K=0;const te=_.steps.map(ce=>{w.currentTime=F;const ve=tr(this,ce,w);return K=Math.max(K,w.currentTime),ve});return w.currentTime=K,{type:3,steps:te,options:zi(_.options)}}visitAnimate(_,w){const F=function eo($,_){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return rs(ne($,_).duration,0,"");const w=$;if(w.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=rs(0,0,"");return te.dynamic=!0,te.strValue=w,te}const K=ne(w,_);return rs(K.duration,K.delay,K.easing)}(_.timings,w.errors);w.currentAnimateTimings=F;let K,te=_.styles?_.styles:(0,Rt.oB)({});if(5==te.type)K=this.visitKeyframes(te,w);else{let ce=_.styles,ve=!1;if(!ce){ve=!0;const vt={};F.easing&&(vt.easing=F.easing),ce=(0,Rt.oB)(vt)}w.currentTime+=F.duration+F.delay;const Ge=this.visitStyle(ce,w);Ge.isEmptyStep=ve,K=Ge}return w.currentAnimateTimings=null,{type:4,timings:F,style:K,options:null}}visitStyle(_,w){const F=this._makeStyleAst(_,w);return this._validateStyleAst(F,w),F}_makeStyleAst(_,w){const F=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let ve of K)"string"==typeof ve?ve===Rt.l3?F.push(ve):w.errors.push(new q.vHH(3002,!1)):F.push(Pt(ve));let te=!1,ce=null;return F.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(ce=ve.get("easing"),ve.delete("easing")),!te))for(let Ge of ve.values())if(Ge.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:F,easing:ce,offset:_.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(_,w){const F=w.currentAnimateTimings;let K=w.currentTime,te=w.currentTime;F&&te>0&&(te-=F.duration+F.delay),_.styles.forEach(ce=>{"string"!=typeof ce&&ce.forEach((ve,Ge)=>{const vt=w.collectedStyles.get(w.currentQuerySelector),Jt=vt.get(Ge);let un=!0;Jt&&(te!=K&&te>=Jt.startTime&&K<=Jt.endTime&&(w.errors.push(function _n($,_,w,F,K){return new q.vHH(3010,!1)}()),un=!1),te=Jt.startTime),un&&vt.set(Ge,{startTime:te,endTime:K}),w.options&&function fn($,_,w){const F=_.params||{},K=Xt($);K.length&&K.forEach(te=>{F.hasOwnProperty(te)||w.push(function Be($){return new q.vHH(3001,!1)}())})}(ve,w.options,w.errors)})})}visitKeyframes(_,w){const F={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Ut(){return new q.vHH(3011,!1)}()),F;let te=0;const ce=[];let ve=!1,Ge=!1,vt=0;const Jt=_.steps.map(U=>{const P=this._makeStyleAst(U,w);let Z=null!=P.offset?P.offset:function Do($){if("string"==typeof $)return null;let _=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const F=w;_=parseFloat(F.get("offset")),F.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;_=parseFloat(w.get("offset")),w.delete("offset")}return _}(P.styles),ae=0;return null!=Z&&(te++,ae=P.offset=Z),Ge=Ge||ae<0||ae>1,ve=ve||ae<vt,vt=ae,ce.push(ae),P});Ge&&w.errors.push(function Ue(){return new q.vHH(3012,!1)}()),ve&&w.errors.push(function nt(){return new q.vHH(3200,!1)}());const un=_.steps.length;let ur=0;te>0&&te<un?w.errors.push(function Ke(){return new q.vHH(3202,!1)}()):0==te&&(ur=1/(un-1));const Bn=un-1,Dn=w.currentTime,An=w.currentAnimateTimings,A=An.duration;return Jt.forEach((U,P)=>{const Z=ur>0?P==Bn?1:ur*P:ce[P],ae=Z*A;w.currentTime=Dn+An.delay+ae,An.duration=ae,this._validateStyleAst(U,w),U.offset=Z,F.styles.push(U)}),F}visitReference(_,w){return{type:8,animation:tr(this,Qt(_.animation),w),options:zi(_.options)}}visitAnimateChild(_,w){return w.depCount++,{type:9,options:zi(_.options)}}visitAnimateRef(_,w){return{type:10,animation:this.visitReference(_.animation,w),options:zi(_.options)}}visitQuery(_,w){const F=w.currentQuerySelector,K=_.options||{};w.queryCount++,w.currentQuery=_;const[te,ce]=function si($){const _=!!$.split(/\s*,\s*/).find(w=>":self"==w);return _&&($=$.replace(kn,"")),$=$.replace(/@\*/g,$e).replace(/@\w+/g,w=>$e+"-"+w.slice(1)).replace(/:animating/g,Mt),[$,_]}(_.selector);w.currentQuerySelector=F.length?F+" "+te:te,gn(w.collectedStyles,w.currentQuerySelector,new Map);const ve=tr(this,Qt(_.animation),w);return w.currentQuery=null,w.currentQuerySelector=F,{type:11,selector:te,limit:K.limit||0,optional:!!K.optional,includeSelf:ce,animation:ve,originalSelector:_.selector,options:zi(_.options)}}visitStagger(_,w){w.currentQuery||w.errors.push(function lt(){return new q.vHH(3013,!1)}());const F="full"===_.timings?{duration:0,delay:0,easing:"full"}:ne(_.timings,w.errors,!0);return{type:12,animation:tr(this,Qt(_.animation),w),timings:F,options:null}}}class Hi{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function zi($){return $?($=Ye($)).params&&($.params=function Ir($){return $?Ye($):null}($.params)):$={},$}function rs($,_,w){return{duration:$,delay:_,easing:w}}function Ji($,_,w,F,K,te,ce=null,ve=!1){return{type:1,element:$,keyframes:_,preStyleProps:w,postStyleProps:F,duration:K,delay:te,totalTime:K+te,easing:ce,subTimeline:ve}}class Qr{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,w){let F=this._map.get(_);F||this._map.set(_,F=[]),F.push(...w)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const is=new RegExp(":enter","g"),zs=new RegExp(":leave","g");function Ms($,_,w,F,K,te=new Map,ce=new Map,ve,Ge,vt=[]){return(new dr).buildKeyframes($,_,w,F,K,te,ce,ve,Ge,vt)}class dr{buildKeyframes(_,w,F,K,te,ce,ve,Ge,vt,Jt=[]){vt=vt||new Qr;const un=new ss(_,w,vt,K,te,Jt,[]);un.options=Ge;const ur=Ge.delay?me(Ge.delay):0;un.currentTimeline.delayNextStep(ur),un.currentTimeline.setStyles([ce],null,un.errors,Ge),tr(this,F,un);const Bn=un.timelines.filter(Dn=>Dn.containsAnimation());if(Bn.length&&ve.size){let Dn;for(let An=Bn.length-1;An>=0;An--){const A=Bn[An];if(A.element===w){Dn=A;break}}Dn&&!Dn.allowOnlyTimelineStyles()&&Dn.setStyles([ve],null,un.errors,Ge)}return Bn.length?Bn.map(Dn=>Dn.buildKeyframes()):[Ji(w,[],[],[],0,ur,"",!1)]}visitTrigger(_,w){}visitState(_,w){}visitTransition(_,w){}visitAnimateChild(_,w){const F=w.subInstructions.get(w.element);if(F){const K=w.createSubContext(_.options),te=w.currentTimeline.currentTime,ce=this._visitSubInstructions(F,K,K.options);te!=ce&&w.transformIntoNewTimeline(ce)}w.previousNode=_}visitAnimateRef(_,w){const F=w.createSubContext(_.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],w,F),this.visitReference(_.animation,F),w.transformIntoNewTimeline(F.currentTimeline.currentTime),w.previousNode=_}_applyAnimationRefDelays(_,w,F){for(const K of _){const te=K?.delay;if(te){const ce="number"==typeof te?te:me(On(te,K?.params??{},w.errors));F.delayNextStep(ce)}}}_visitSubInstructions(_,w,F){let te=w.currentTimeline.currentTime;const ce=null!=F.duration?me(F.duration):null,ve=null!=F.delay?me(F.delay):null;return 0!==ce&&_.forEach(Ge=>{const vt=w.appendInstructionToTimeline(Ge,ce,ve);te=Math.max(te,vt.duration+vt.delay)}),te}visitReference(_,w){w.updateOptions(_.options,!0),tr(this,_.animation,w),w.previousNode=_}visitSequence(_,w){const F=w.subContextCount;let K=w;const te=_.options;if(te&&(te.params||te.delay)&&(K=w.createSubContext(te),K.transformIntoNewTimeline(),null!=te.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=xr);const ce=me(te.delay);K.delayNextStep(ce)}_.steps.length&&(_.steps.forEach(ce=>tr(this,ce,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>F&&K.transformIntoNewTimeline()),w.previousNode=_}visitGroup(_,w){const F=[];let K=w.currentTimeline.currentTime;const te=_.options&&_.options.delay?me(_.options.delay):0;_.steps.forEach(ce=>{const ve=w.createSubContext(_.options);te&&ve.delayNextStep(te),tr(this,ce,ve),K=Math.max(K,ve.currentTimeline.currentTime),F.push(ve.currentTimeline)}),F.forEach(ce=>w.currentTimeline.mergeTimelineCollectedStyles(ce)),w.transformIntoNewTimeline(K),w.previousNode=_}_visitTiming(_,w){if(_.dynamic){const F=_.strValue;return ne(w.params?On(F,w.params,w.errors):F,w.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,w){const F=w.currentAnimateTimings=this._visitTiming(_.timings,w),K=w.currentTimeline;F.delay&&(w.incrementTime(F.delay),K.snapshotCurrentStyles());const te=_.style;5==te.type?this.visitKeyframes(te,w):(w.incrementTime(F.duration),this.visitStyle(te,w),K.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=_}visitStyle(_,w){const F=w.currentTimeline,K=w.currentAnimateTimings;!K&&F.hasCurrentStyleProperties()&&F.forwardFrame();const te=K&&K.easing||_.easing;_.isEmptyStep?F.applyEmptyStep(te):F.setStyles(_.styles,te,w.errors,w.options),w.previousNode=_}visitKeyframes(_,w){const F=w.currentAnimateTimings,K=w.currentTimeline.duration,te=F.duration,ve=w.createSubContext().currentTimeline;ve.easing=F.easing,_.styles.forEach(Ge=>{ve.forwardTime((Ge.offset||0)*te),ve.setStyles(Ge.styles,Ge.easing,w.errors,w.options),ve.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(ve),w.transformIntoNewTimeline(K+te),w.previousNode=_}visitQuery(_,w){const F=w.currentTimeline.currentTime,K=_.options||{},te=K.delay?me(K.delay):0;te&&(6===w.previousNode.type||0==F&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=xr);let ce=F;const ve=w.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,w.errors);w.currentQueryTotal=ve.length;let Ge=null;ve.forEach((vt,Jt)=>{w.currentQueryIndex=Jt;const un=w.createSubContext(_.options,vt);te&&un.delayNextStep(te),vt===w.element&&(Ge=un.currentTimeline),tr(this,_.animation,un),un.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,un.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(ce),Ge&&(w.currentTimeline.mergeTimelineCollectedStyles(Ge),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=_}visitStagger(_,w){const F=w.parentContext,K=w.currentTimeline,te=_.timings,ce=Math.abs(te.duration),ve=ce*(w.currentQueryTotal-1);let Ge=ce*w.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Ge=ve-Ge;break;case"full":Ge=F.currentStaggerTime}const Jt=w.currentTimeline;Ge&&Jt.delayNextStep(Ge);const un=Jt.currentTime;tr(this,_.animation,w),w.previousNode=_,F.currentStaggerTime=K.currentTime-un+(K.startTime-F.currentTimeline.startTime)}}const xr={};class ss{constructor(_,w,F,K,te,ce,ve,Ge){this._driver=_,this.element=w,this.subInstructions=F,this._enterClassName=K,this._leaveClassName=te,this.errors=ce,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new to(this._driver,w,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,w){if(!_)return;const F=_;let K=this.options;null!=F.duration&&(K.duration=me(F.duration)),null!=F.delay&&(K.delay=me(F.delay));const te=F.params;if(te){let ce=K.params;ce||(ce=this.options.params={}),Object.keys(te).forEach(ve=>{(!w||!ce.hasOwnProperty(ve))&&(ce[ve]=On(te[ve],ce,this.errors))})}}_copyOptions(){const _={};if(this.options){const w=this.options.params;if(w){const F=_.params={};Object.keys(w).forEach(K=>{F[K]=w[K]})}}return _}createSubContext(_=null,w,F){const K=w||this.element,te=new ss(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,F||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(_),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(_){return this.previousNode=xr,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,w,F){const K={duration:w??_.duration,delay:this.currentTimeline.currentTime+(F??0)+_.delay,easing:""},te=new os(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(te),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,w,F,K,te,ce){let ve=[];if(K&&ve.push(this.element),_.length>0){_=(_=_.replace(is,"."+this._enterClassName)).replace(zs,"."+this._leaveClassName);let vt=this._driver.query(this.element,_,1!=F);0!==F&&(vt=F<0?vt.slice(vt.length+F,vt.length):vt.slice(0,F)),ve.push(...vt)}return!te&&0==ve.length&&ce.push(function wt($){return new q.vHH(3014,!1)}()),ve}}class to{constructor(_,w,F,K){this._driver=_,this.element=w,this.startTime=F,this._elementTimelineStylesLookup=K,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+_),w&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,w){return this.applyStylesToKeyframe(),new to(this._driver,_,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,w){this._localTimelineStyles.set(_,w),this._globalTimelineStyles.set(_,w),this._styleSummary.set(_,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[w,F]of this._globalTimelineStyles)this._backFill.set(w,F||Rt.l3),this._currentKeyframe.set(w,Rt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,w,F,K){w&&this._previousKeyframe.set("easing",w);const te=K&&K.params||{},ce=function To($,_){const w=new Map;let F;return $.forEach(K=>{if("*"===K){F=F||_.keys();for(let te of F)w.set(te,Rt.l3)}else sr(K,w)}),w}(_,this._globalTimelineStyles);for(let[ve,Ge]of ce){const vt=On(Ge,te,F);this._pendingStyles.set(ve,vt),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??Rt.l3),this._updateStyle(ve,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,w)=>{this._currentKeyframe.set(w,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,_)}))}snapshotCurrentStyles(){for(let[_,w]of this._localTimelineStyles)this._pendingStyles.set(_,w),this._updateStyle(_,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let w in this._currentKeyframe)_.push(w);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((w,F)=>{const K=this._styleSummary.get(F);(!K||w.time>K.time)&&this._updateStyle(F,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,w=new Set,F=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((ve,Ge)=>{const vt=sr(ve,new Map,this._backFill);vt.forEach((Jt,un)=>{Jt===Rt.k1?_.add(un):Jt===Rt.l3&&w.add(un)}),F||vt.set("offset",Ge/this.duration),K.push(vt)});const te=_.size?qn(_.values()):[],ce=w.size?qn(w.values()):[];if(F){const ve=K[0],Ge=new Map(ve);ve.set("offset",0),Ge.set("offset",1),K=[ve,Ge]}return Ji(this.element,K,te,ce,this.duration,this.startTime,this.easing,!1)}}class os extends to{constructor(_,w,F,K,te,ce,ve=!1){super(_,w,ce.delay),this.keyframes=F,this.preStyleProps=K,this.postStyleProps=te,this._stretchStartingKeyframe=ve,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:w,duration:F,easing:K}=this.timings;if(this._stretchStartingKeyframe&&w){const te=[],ce=F+w,ve=w/ce,Ge=sr(_[0]);Ge.set("offset",0),te.push(Ge);const vt=sr(_[0]);vt.set("offset",jo(ve)),te.push(vt);const Jt=_.length-1;for(let un=1;un<=Jt;un++){let ur=sr(_[un]);const Bn=ur.get("offset");ur.set("offset",jo((w+Bn*F)/ce)),te.push(ur)}F=ce,w=0,K="",_=te}return Ji(this.element,_,this.preStyleProps,this.postStyleProps,F,w,K,!0)}}function jo($,_=3){const w=Math.pow(10,_-1);return Math.round($*w)/w}class xs{}const Co=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ho extends xs{normalizePropertyName(_,w){return Br(_)}normalizeStyleValue(_,w,F,K){let te="";const ce=F.toString().trim();if(Co.has(w)&&0!==F&&"0"!==F)if("number"==typeof F)te="px";else{const ve=F.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&K.push(function Dt($,_){return new q.vHH(3005,!1)}())}return ce+te}}function us($,_,w,F,K,te,ce,ve,Ge,vt,Jt,un,ur){return{type:0,element:$,triggerName:_,isRemovalTransition:K,fromState:w,fromStyles:te,toState:F,toStyles:ce,timelines:ve,queriedElements:Ge,preStyleProps:vt,postStyleProps:Jt,totalTime:un,errors:ur}}const bo={};class ls{constructor(_,w,F){this._triggerName=_,this.ast=w,this._stateStyles=F}match(_,w,F,K){return function So($,_,w,F,K){return $.some(te=>te(_,w,F,K))}(this.ast.matchers,_,w,F,K)}buildStyles(_,w,F){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(w,F):new Map}build(_,w,F,K,te,ce,ve,Ge,vt,Jt){const un=[],ur=this.ast.options&&this.ast.options.params||bo,Dn=this.buildStyles(F,ve&&ve.params||bo,un),An=Ge&&Ge.params||bo,A=this.buildStyles(K,An,un),U=new Set,P=new Map,Z=new Map,ae="void"===K,rt={params:Es(An,ur),delay:this.ast.options?.delay},et=Jt?[]:Ms(_,w,this.ast.animation,te,ce,Dn,A,rt,vt,un);let qt=0;if(et.forEach(Vn=>{qt=Math.max(Vn.duration+Vn.delay,qt)}),un.length)return us(w,this._triggerName,F,K,ae,Dn,A,[],[],P,Z,qt,un);et.forEach(Vn=>{const nr=Vn.element,Gn=gn(P,nr,new Set);Vn.preStyleProps.forEach(ar=>Gn.add(ar));const Vr=gn(Z,nr,new Set);Vn.postStyleProps.forEach(ar=>Vr.add(ar)),nr!==w&&U.add(nr)});const or=qn(U.values());return us(w,this._triggerName,F,K,ae,Dn,A,et,or,P,Z,qt)}}function Es($,_){const w=Ye(_);for(const F in $)$.hasOwnProperty(F)&&null!=$[F]&&(w[F]=$[F]);return w}class Ao{constructor(_,w,F){this.styles=_,this.defaultParams=w,this.normalizer=F}buildStyles(_,w){const F=new Map,K=Ye(this.defaultParams);return Object.keys(_).forEach(te=>{const ce=_[te];null!==ce&&(K[te]=ce)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ce,ve)=>{ce&&(ce=On(ce,K,w));const Ge=this.normalizer.normalizePropertyName(ve,w);ce=this.normalizer.normalizeStyleValue(ve,Ge,ce,w),F.set(ve,ce)})}),F}}class Gi{constructor(_,w,F){this.name=_,this.ast=w,this._normalizer=F,this.transitionFactories=[],this.states=new Map,w.states.forEach(K=>{this.states.set(K.name,new Ao(K.style,K.options&&K.options.params||{},F))}),Ni(this.states,"true","1"),Ni(this.states,"false","0"),w.transitions.forEach(K=>{this.transitionFactories.push(new ls(_,K,this.states))}),this.fallbackTransition=function no($,_,w){return new ls($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,ve)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,w,F,K){return this.transitionFactories.find(ce=>ce.match(_,w,F,K))||null}matchStyles(_,w,F){return this.fallbackTransition.buildStyles(_,w,F)}}function Ni($,_,w){$.has(_)?$.has(w)||$.set(w,$.get(_)):$.has(w)&&$.set(_,$.get(w))}const Ea=new Qr;class ro{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,w){const F=[],K=[],te=_i(this._driver,w,F,K);if(F.length)throw function It($){return new q.vHH(3503,!1)}();this._animations.set(_,te)}_buildPlayer(_,w,F){const K=_.element,te=ir(0,this._normalizer,0,_.keyframes,w,F);return this._driver.animate(K,te,_.duration,_.delay,_.easing,[],!0)}create(_,w,F={}){const K=[],te=this._animations.get(_);let ce;const ve=new Map;if(te?(ce=Ms(this._driver,w,te,oe,se,new Map,new Map,F,Ea,K),ce.forEach(Jt=>{const un=gn(ve,Jt.element,new Map);Jt.postStyleProps.forEach(ur=>un.set(ur,null))})):(K.push(function jt(){return new q.vHH(3300,!1)}()),ce=[]),K.length)throw function Zn($){return new q.vHH(3504,!1)}();ve.forEach((Jt,un)=>{Jt.forEach((ur,Bn)=>{Jt.set(Bn,this._driver.computeStyle(un,Bn,Rt.l3))})});const vt=Pr(ce.map(Jt=>{const un=ve.get(Jt.element);return this._buildPlayer(Jt,new Map,un)}));return this._playersById.set(_,vt),vt.onDestroy(()=>this.destroy(_)),this.players.push(vt),vt}destroy(_){const w=this._getPlayer(_);w.destroy(),this._playersById.delete(_);const F=this.players.indexOf(w);F>=0&&this.players.splice(F,1)}_getPlayer(_){const w=this._playersById.get(_);if(!w)throw function jn($){return new q.vHH(3301,!1)}();return w}listen(_,w,F,K){const te=Yn(w,"","","");return Zr(this._getPlayer(_),F,te,K),()=>{}}command(_,w,F,K){if("register"==F)return void this.register(_,K[0]);if("create"==F)return void this.create(_,w,K[0]||{});const te=this._getPlayer(_);switch(F){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const io="ng-animate-queued",bi="ng-animate-disabled",ds=[],Oi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed";class Rs{get params(){return this.options.params}constructor(_,w=""){this.namespaceId=w;const F=_&&_.hasOwnProperty("value");if(this.value=function hi($){return $??null}(F?_.value:_),F){const te=Ye(_);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const w=_.params;if(w){const F=this.options.params;Object.keys(w).forEach(K=>{null==F[K]&&(F[K]=w[K])})}}}const zn="void",hs=new Rs(zn);class fs{constructor(_,w,F){this.id=_,this.hostElement=w,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,ni(w,this._hostClassName)}listen(_,w,F,K){if(!this._triggers.has(w))throw function wr($,_){return new q.vHH(3302,!1)}();if(null==F||0==F.length)throw function gr($){return new q.vHH(3303,!1)}();if(!function Is($){return"start"==$||"done"==$}(F))throw function mr($,_){return new q.vHH(3400,!1)}();const te=gn(this._elementListeners,_,[]),ce={name:w,phase:F,callback:K};te.push(ce);const ve=gn(this._engine.statesByElement,_,new Map);return ve.has(w)||(ni(_,pe),ni(_,pe+"-"+w),ve.set(w,hs)),()=>{this._engine.afterFlush(()=>{const Ge=te.indexOf(ce);Ge>=0&&te.splice(Ge,1),this._triggers.has(w)||ve.delete(w)})}}register(_,w){return!this._triggers.has(_)&&(this._triggers.set(_,w),!0)}_getTrigger(_){const w=this._triggers.get(_);if(!w)throw function cr($){return new q.vHH(3401,!1)}();return w}trigger(_,w,F,K=!0){const te=this._getTrigger(w),ce=new Go(this.id,w,_);let ve=this._engine.statesByElement.get(_);ve||(ni(_,pe),ni(_,pe+"-"+w),this._engine.statesByElement.set(_,ve=new Map));let Ge=ve.get(w);const vt=new Rs(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&Ge&&vt.absorbOptions(Ge.options),ve.set(w,vt),Ge||(Ge=hs),vt.value!==zn&&Ge.value===vt.value){if(!function Ws($,_){const w=Object.keys($),F=Object.keys(_);if(w.length!=F.length)return!1;for(let K=0;K<w.length;K++){const te=w[K];if(!_.hasOwnProperty(te)||$[te]!==_[te])return!1}return!0}(Ge.params,vt.params)){const An=[],A=te.matchStyles(Ge.value,Ge.params,An),U=te.matchStyles(vt.value,vt.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{St(_,A),Ve(_,U)})}return}const ur=gn(this._engine.playersByElement,_,[]);ur.forEach(An=>{An.namespaceId==this.id&&An.triggerName==w&&An.queued&&An.destroy()});let Bn=te.matchTransition(Ge.value,vt.value,_,vt.params),Dn=!1;if(!Bn){if(!K)return;Bn=te.fallbackTransition,Dn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:w,transition:Bn,fromState:Ge,toState:vt,player:ce,isFallbackTransition:Dn}),Dn||(ni(_,io),ce.onStart(()=>{fi(_,io)})),ce.onDone(()=>{let An=this.players.indexOf(ce);An>=0&&this.players.splice(An,1);const A=this._engine.playersByElement.get(_);if(A){let U=A.indexOf(ce);U>=0&&A.splice(U,1)}}),this.players.push(ce),ur.push(ce),ce}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(w=>w.delete(_)),this._elementListeners.forEach((w,F)=>{this._elementListeners.set(F,w.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const w=this._engine.playersByElement.get(_);w&&(w.forEach(F=>F.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,w){const F=this._engine.driver.query(_,$e,!0);F.forEach(K=>{if(K[oi])return;const te=this._engine.fetchNamespacesByElement(K);te.size?te.forEach(ce=>ce.triggerLeaveAnimation(K,w,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,w,F,K){const te=this._engine.statesByElement.get(_),ce=new Map;if(te){const ve=[];if(te.forEach((Ge,vt)=>{if(ce.set(vt,Ge.value),this._triggers.has(vt)){const Jt=this.trigger(_,vt,zn,K);Jt&&ve.push(Jt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,_,!0,w,ce),F&&Pr(ve).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const w=this._elementListeners.get(_),F=this._engine.statesByElement.get(_);if(w&&F){const K=new Set;w.forEach(te=>{const ce=te.name;if(K.has(ce))return;K.add(ce);const Ge=this._triggers.get(ce).fallbackTransition,vt=F.get(ce)||hs,Jt=new Rs(zn),un=new Go(this.id,ce,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ce,transition:Ge,fromState:vt,toState:Jt,player:un,isFallbackTransition:!0})})}}removeNode(_,w){const F=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,w),this.triggerLeaveAnimation(_,w,!0))return;let K=!1;if(F.totalAnimations){const te=F.players.length?F.playersByQueriedElement.get(_):[];if(te&&te.length)K=!0;else{let ce=_;for(;ce=ce.parentNode;)if(F.statesByElement.get(ce)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)F.markElementAsRemoved(this.id,_,!1,w);else{const te=_[oi];(!te||te===Oi)&&(F.afterFlush(()=>this.clearElementCache(_)),F.destroyInnerAnimations(_),F._onRemovalComplete(_,w))}}insertNode(_,w){ni(_,this._hostClassName)}drainQueuedTransitions(_){const w=[];return this._queue.forEach(F=>{const K=F.player;if(K.destroyed)return;const te=F.element,ce=this._elementListeners.get(te);ce&&ce.forEach(ve=>{if(ve.name==F.triggerName){const Ge=Yn(te,F.triggerName,F.fromState.value,F.toState.value);Ge._data=_,Zr(F.player,ve.phase,Ge,ve.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):w.push(F)}),this._queue=[],w.sort((F,K)=>{const te=F.transition.ast.depCount,ce=K.transition.ast.depCount;return 0==te||0==ce?te-ce:this._engine.driver.containsElement(F.element,K.element)?1:-1})}destroy(_){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let w=!1;return this._elementListeners.has(_)&&(w=!0),w=!!this._queue.find(F=>F.element===_)||w,w}}class di{_onRemovalComplete(_,w){this.onRemovalComplete(_,w)}constructor(_,w,F){this.bodyNode=_,this.driver=w,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,te)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(w=>{w.players.forEach(F=>{F.queued&&_.push(F)})}),_}createNamespace(_,w){const F=new fs(_,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(F,w):(this.newHostElements.set(w,F),this.collectEnterElement(w)),this._namespaceLookup[_]=F}_balanceNamespaceList(_,w){const F=this._namespaceList,K=this.namespacesByHostElement;if(F.length-1>=0){let ce=!1,ve=this.driver.getParentElement(w);for(;ve;){const Ge=K.get(ve);if(Ge){const vt=F.indexOf(Ge);F.splice(vt+1,0,_),ce=!0;break}ve=this.driver.getParentElement(ve)}ce||F.unshift(_)}else F.push(_);return K.set(w,_),_}register(_,w){let F=this._namespaceLookup[_];return F||(F=this.createNamespace(_,w)),F}registerTrigger(_,w,F){let K=this._namespaceLookup[_];K&&K.register(w,F)&&this.totalAnimations++}destroy(_,w){if(!_)return;const F=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(F);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>F.destroy(w))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const w=new Set,F=this.statesByElement.get(_);if(F)for(let K of F.values())if(K.namespaceId){const te=this._fetchNamespace(K.namespaceId);te&&w.add(te)}return w}trigger(_,w,F,K){if(Jr(w)){const te=this._fetchNamespace(_);if(te)return te.trigger(w,F,K),!0}return!1}insertNode(_,w,F,K){if(!Jr(w))return;const te=w[oi];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(w);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(_){const ce=this._fetchNamespace(_);ce&&ce.insertNode(w,F)}K&&this.collectEnterElement(w)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,w){w?this.disabledNodes.has(_)||(this.disabledNodes.add(_),ni(_,bi)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),fi(_,bi))}removeNode(_,w,F,K){if(Jr(w)){const te=_?this._fetchNamespace(_):null;if(te?te.removeNode(w,K):this.markElementAsRemoved(_,w,!1,K),F){const ce=this.namespacesByHostElement.get(w);ce&&ce.id!==_&&ce.removeNode(w,K)}}else this._onRemovalComplete(w,K)}markElementAsRemoved(_,w,F,K,te){this.collectedLeaveElements.push(w),w[oi]={namespaceId:_,setForRemoval:K,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:te}}listen(_,w,F,K,te){return Jr(w)?this._fetchNamespace(_).listen(w,F,K,te):()=>{}}_buildInstruction(_,w,F,K,te){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,F,K,_.fromState.options,_.toState.options,w,te)}destroyInnerAnimations(_){let w=this.driver.query(_,$e,!0);w.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(_,Mt,!0),w.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(_){const w=this.playersByElement.get(_);w&&w.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(_){const w=this.playersByQueriedElement.get(_);w&&w.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Pr(this.players).onDone(()=>_());_()})}processLeaveNode(_){const w=_[oi];if(w&&w.setForRemoval){if(_[oi]=Oi,w.namespaceId){this.destroyInnerAnimations(_);const F=this._fetchNamespace(w.namespaceId);F&&F.clearElementCache(_)}this._onRemovalComplete(_,w.setForRemoval)}_.classList?.contains(bi)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(_=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,K)=>this._balanceNamespaceList(F,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)ni(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{w=this._flushAnimations(F,_)}finally{for(let K=0;K<F.length;K++)F[K]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],w.length?Pr(w).onDone(()=>{F.forEach(K=>K())}):F.forEach(K=>K())}}reportError(_){throw function zr($){return new q.vHH(3402,!1)}()}_flushAnimations(_,w){const F=new Qr,K=[],te=new Map,ce=[],ve=new Map,Ge=new Map,vt=new Map,Jt=new Set;this.disabledNodes.forEach(Gt=>{Jt.add(Gt);const mn=this.driver.query(Gt,".ng-animate-queued",!0);for(let dn=0;dn<mn.length;dn++)Jt.add(mn[dn])});const un=this.bodyNode,ur=Array.from(this.statesByElement.keys()),Bn=Xr(ur,this.collectedEnterElements),Dn=new Map;let An=0;Bn.forEach((Gt,mn)=>{const dn=oe+An++;Dn.set(mn,dn),Gt.forEach(Fn=>ni(Fn,dn))});const A=[],U=new Set,P=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const mn=this.collectedLeaveElements[Gt],dn=mn[oi];dn&&dn.setForRemoval&&(A.push(mn),U.add(mn),dn.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(Fn=>U.add(Fn)):P.add(mn))}const Z=new Map,ae=Xr(ur,Array.from(U));ae.forEach((Gt,mn)=>{const dn=se+An++;Z.set(mn,dn),Gt.forEach(Fn=>ni(Fn,dn))}),_.push(()=>{Bn.forEach((Gt,mn)=>{const dn=Dn.get(mn);Gt.forEach(Fn=>fi(Fn,dn))}),ae.forEach((Gt,mn)=>{const dn=Z.get(mn);Gt.forEach(Fn=>fi(Fn,dn))}),A.forEach(Gt=>{this.processLeaveNode(Gt)})});const rt=[],et=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(w).forEach(dn=>{const Fn=dn.player,hr=dn.element;if(rt.push(Fn),this.collectedEnterElements.length){const Ai=hr[oi];if(Ai&&Ai.setForMove){if(Ai.previousTriggersValues&&Ai.previousTriggersValues.has(dn.triggerName)){const mi=Ai.previousTriggersValues.get(dn.triggerName),Ns=this.statesByElement.get(dn.element);if(Ns&&Ns.has(dn.triggerName)){const ca=Ns.get(dn.triggerName);ca.value=mi,Ns.set(dn.triggerName,ca)}}return void Fn.destroy()}}const gi=!un||!this.driver.containsElement(un,hr),wi=Z.get(hr),Xi=Dn.get(hr),ui=this._buildInstruction(dn,F,Xi,wi,gi);if(ui.errors&&ui.errors.length)return void et.push(ui);if(gi)return Fn.onStart(()=>St(hr,ui.fromStyles)),Fn.onDestroy(()=>Ve(hr,ui.toStyles)),void K.push(Fn);if(dn.isFallbackTransition)return Fn.onStart(()=>St(hr,ui.fromStyles)),Fn.onDestroy(()=>Ve(hr,ui.toStyles)),void K.push(Fn);const qo=[];ui.timelines.forEach(Ai=>{Ai.stretchStartingKeyframe=!0,this.disabledNodes.has(Ai.element)||qo.push(Ai)}),ui.timelines=qo,F.append(hr,ui.timelines),ce.push({instruction:ui,player:Fn,element:hr}),ui.queriedElements.forEach(Ai=>gn(ve,Ai,[]).push(Fn)),ui.preStyleProps.forEach((Ai,mi)=>{if(Ai.size){let Ns=Ge.get(mi);Ns||Ge.set(mi,Ns=new Set),Ai.forEach((ca,Os)=>Ns.add(Os))}}),ui.postStyleProps.forEach((Ai,mi)=>{let Ns=vt.get(mi);Ns||vt.set(mi,Ns=new Set),Ai.forEach((ca,Os)=>Ns.add(Os))})});if(et.length){const Gt=[];et.forEach(mn=>{Gt.push(function Gr($,_){return new q.vHH(3505,!1)}())}),rt.forEach(mn=>mn.destroy()),this.reportError(Gt)}const qt=new Map,or=new Map;ce.forEach(Gt=>{const mn=Gt.element;F.has(mn)&&(or.set(mn,mn),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,qt))}),K.forEach(Gt=>{const mn=Gt.element;this._getPreviousPlayers(mn,!1,Gt.namespaceId,Gt.triggerName,null).forEach(Fn=>{gn(qt,mn,[]).push(Fn),Fn.destroy()})});const Vn=A.filter(Gt=>Ro(Gt,Ge,vt)),nr=new Map;vo(nr,this.driver,P,vt,Rt.l3).forEach(Gt=>{Ro(Gt,Ge,vt)&&Vn.push(Gt)});const Vr=new Map;Bn.forEach((Gt,mn)=>{vo(Vr,this.driver,new Set(Gt),Ge,Rt.k1)}),Vn.forEach(Gt=>{const mn=nr.get(Gt),dn=Vr.get(Gt);nr.set(Gt,new Map([...Array.from(mn?.entries()??[]),...Array.from(dn?.entries()??[])]))});const ar=[],ai=[],ms={};ce.forEach(Gt=>{const{element:mn,player:dn,instruction:Fn}=Gt;if(F.has(mn)){if(Jt.has(mn))return dn.onDestroy(()=>Ve(mn,Fn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(Fn.totalTime),void K.push(dn);let hr=ms;if(or.size>1){let wi=mn;const Xi=[];for(;wi=wi.parentNode;){const ui=or.get(wi);if(ui){hr=ui;break}Xi.push(wi)}Xi.forEach(ui=>or.set(ui,hr))}const gi=this._buildAnimation(dn.namespaceId,Fn,qt,te,Vr,nr);if(dn.setRealPlayer(gi),hr===ms)ar.push(dn);else{const wi=this.playersByElement.get(hr);wi&&wi.length&&(dn.parentPlayer=Pr(wi)),K.push(dn)}}else St(mn,Fn.fromStyles),dn.onDestroy(()=>Ve(mn,Fn.toStyles)),ai.push(dn),Jt.has(mn)&&K.push(dn)}),ai.forEach(Gt=>{const mn=te.get(Gt.element);if(mn&&mn.length){const dn=Pr(mn);Gt.setRealPlayer(dn)}}),K.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<A.length;Gt++){const mn=A[Gt],dn=mn[oi];if(fi(mn,se),dn&&dn.hasAnimation)continue;let Fn=[];if(ve.size){let gi=ve.get(mn);gi&&gi.length&&Fn.push(...gi);let wi=this.driver.query(mn,Mt,!0);for(let Xi=0;Xi<wi.length;Xi++){let ui=ve.get(wi[Xi]);ui&&ui.length&&Fn.push(...ui)}}const hr=Fn.filter(gi=>!gi.destroyed);hr.length?xn(this,mn,hr):this.processLeaveNode(mn)}return A.length=0,ar.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const mn=this.players.indexOf(Gt);this.players.splice(mn,1)}),Gt.play()}),ar}elementContainsData(_,w){let F=!1;const K=w[oi];return K&&K.setForRemoval&&(F=!0),this.playersByElement.has(w)&&(F=!0),this.playersByQueriedElement.has(w)&&(F=!0),this.statesByElement.has(w)&&(F=!0),this._fetchNamespace(_).elementContainsData(w)||F}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,w,F,K,te){let ce=[];if(w){const ve=this.playersByQueriedElement.get(_);ve&&(ce=ve)}else{const ve=this.playersByElement.get(_);if(ve){const Ge=!te||te==zn;ve.forEach(vt=>{vt.queued||!Ge&&vt.triggerName!=K||ce.push(vt)})}}return(F||K)&&(ce=ce.filter(ve=>!(F&&F!=ve.namespaceId||K&&K!=ve.triggerName))),ce}_beforeAnimationBuild(_,w,F){const te=w.element,ce=w.isRemovalTransition?void 0:_,ve=w.isRemovalTransition?void 0:w.triggerName;for(const Ge of w.timelines){const vt=Ge.element,Jt=vt!==te,un=gn(F,vt,[]);this._getPreviousPlayers(vt,Jt,ce,ve,w.toState).forEach(Bn=>{const Dn=Bn.getRealPlayer();Dn.beforeDestroy&&Dn.beforeDestroy(),Bn.destroy(),un.push(Bn)})}St(te,w.fromStyles)}_buildAnimation(_,w,F,K,te,ce){const ve=w.triggerName,Ge=w.element,vt=[],Jt=new Set,un=new Set,ur=w.timelines.map(Dn=>{const An=Dn.element;Jt.add(An);const A=An[oi];if(A&&A.removedBeforeQueried)return new Rt.ZN(Dn.duration,Dn.delay);const U=An!==Ge,P=function ua($){const _=[];return Wo($,_),_}((F.get(An)||ds).map(qt=>qt.getRealPlayer())).filter(qt=>!!qt.element&&qt.element===An),Z=te.get(An),ae=ce.get(An),rt=ir(0,this._normalizer,0,Dn.keyframes,Z,ae),et=this._buildPlayer(Dn,rt,P);if(Dn.subTimeline&&K&&un.add(An),U){const qt=new Go(_,ve,An);qt.setRealPlayer(et),vt.push(qt)}return et});vt.forEach(Dn=>{gn(this.playersByQueriedElement,Dn.element,[]).push(Dn),Dn.onDone(()=>function xo($,_,w){let F=$.get(_);if(F){if(F.length){const K=F.indexOf(w);F.splice(K,1)}0==F.length&&$.delete(_)}return F}(this.playersByQueriedElement,Dn.element,Dn))}),Jt.forEach(Dn=>ni(Dn,Re));const Bn=Pr(ur);return Bn.onDestroy(()=>{Jt.forEach(Dn=>fi(Dn,Re)),Ve(Ge,w.toStyles)}),un.forEach(Dn=>{gn(K,Dn,[]).push(Bn)}),Bn}_buildPlayer(_,w,F){return w.length>0?this.driver.animate(_.element,w,_.duration,_.delay,_.easing,F):new Rt.ZN(_.duration,_.delay)}}class Go{constructor(_,w,F){this.namespaceId=_,this.triggerName=w,this.element=F,this._player=new Rt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((w,F)=>{w.forEach(K=>Zr(_,F,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const w=this._player;w.triggerCallback&&_.onStart(()=>w.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,w){gn(this._queuedCallbacks,_,[]).push(w)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const w=this._player;w.triggerCallback&&w.triggerCallback(_)}}function Jr($){return $&&1===$.nodeType}function Ds($,_){const w=$.style.display;return $.style.display=_??"none",w}function vo($,_,w,F,K){const te=[];w.forEach(Ge=>te.push(Ds(Ge)));const ce=[];F.forEach((Ge,vt)=>{const Jt=new Map;Ge.forEach(un=>{const ur=_.computeStyle(vt,un,K);Jt.set(un,ur),(!ur||0==ur.length)&&(vt[oi]=Or,ce.push(vt))}),$.set(vt,Jt)});let ve=0;return w.forEach(Ge=>Ds(Ge,te[ve++])),ce}function Xr($,_){const w=new Map;if($.forEach(ve=>w.set(ve,[])),0==_.length)return w;const F=1,K=new Set(_),te=new Map;function ce(ve){if(!ve)return F;let Ge=te.get(ve);if(Ge)return Ge;const vt=ve.parentNode;return Ge=w.has(vt)?vt:K.has(vt)?F:ce(vt),te.set(ve,Ge),Ge}return _.forEach(ve=>{const Ge=ce(ve);Ge!==F&&w.get(Ge).push(ve)}),w}function ni($,_){$.classList?.add(_)}function fi($,_){$.classList?.remove(_)}function xn($,_,w){Pr(w).onDone(()=>$.processLeaveNode(_))}function Wo($,_){for(let w=0;w<$.length;w++){const F=$[w];F instanceof Rt.ZE?Wo(F.players,_):_.push(F)}}function Ro($,_,w){const F=w.get($);if(!F)return!1;let K=_.get($);return K?F.forEach(te=>K.add(te)):_.set($,F),w.delete($),!0}class _o{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(K,te)=>{},this._transitionEngine=new di(_,w,F),this._timelineEngine=new ro(_,w,F),this._transitionEngine.onRemovalComplete=(K,te)=>this.onRemovalComplete(K,te)}registerTrigger(_,w,F,K,te){const ce=_+"-"+K;let ve=this._triggerCache[ce];if(!ve){const Ge=[],vt=[],Jt=_i(this._driver,te,Ge,vt);if(Ge.length)throw function ye($,_){return new q.vHH(3404,!1)}();ve=function zo($,_,w){return new Gi($,_,w)}(K,Jt,this._normalizer),this._triggerCache[ce]=ve}this._transitionEngine.registerTrigger(w,K,ve)}register(_,w){this._transitionEngine.register(_,w)}destroy(_,w){this._transitionEngine.destroy(_,w)}onInsert(_,w,F,K){this._transitionEngine.insertNode(_,w,F,K)}onRemove(_,w,F,K){this._transitionEngine.removeNode(_,w,K||!1,F)}disableAnimations(_,w){this._transitionEngine.markElementAsDisabled(_,w)}process(_,w,F,K){if("@"==F.charAt(0)){const[te,ce]=Bt(F);this._timelineEngine.command(te,w,ce,K)}else this._transitionEngine.trigger(_,w,F,K)}listen(_,w,F,K,te){if("@"==F.charAt(0)){const[ce,ve]=Bt(F);return this._timelineEngine.listen(ce,w,ve,te)}return this._transitionEngine.listen(_,w,F,K,te)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oo=(()=>{class ${constructor(w,F,K){this._element=w,this._startStyles=F,this._endStyles=K,this._state=0;let te=$.initialStylesByElement.get(w);te||$.initialStylesByElement.set(w,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Ve(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ve(this._element,this._initialStyles),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(St(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),Ve(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function wa($){let _=null;return $.forEach((w,F)=>{(function R($){return"display"===$||"position"===$})(F)&&(_=_||new Map,_.set(F,w))}),_}class O{constructor(_,w,F,K){this.element=_,this.keyframes=w,this.options=F,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const w=[];return _.forEach(F=>{w.push(Object.fromEntries(F))}),w}_triggerWebAnimation(_,w,F){return _.animate(this._convertKeyframesToObject(w),F)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,K)=>{"offset"!==K&&_.set(K,this._finished?F:Wt(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const w="start"===_?this._onStartFns:this._onDoneFns;w.forEach(F=>F()),w.length=0}}class k{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,w){return!1}containsElement(_,w){return Rn(_,w)}getParentElement(_){return yr(_)}query(_,w,F){return _t(_,w,F)}computeStyle(_,w,F){return window.getComputedStyle(_)[w]}animate(_,w,F,K,te,ce=[]){const Ge={duration:F,delay:K,fill:0==K?"both":"forwards"};te&&(Ge.easing=te);const vt=new Map,Jt=ce.filter(Bn=>Bn instanceof O);(function js($,_){return 0===$||0===_})(F,K)&&Jt.forEach(Bn=>{Bn.currentSnapshot.forEach((Dn,An)=>vt.set(An,Dn))});let un=function on($){return $.length?$[0]instanceof Map?$:$.map(_=>Pt(_)):[]}(w).map(Bn=>sr(Bn));un=function ji($,_,w){if(w.size&&_.length){let F=_[0],K=[];if(w.forEach((te,ce)=>{F.has(ce)||K.push(ce),F.set(ce,te)}),K.length)for(let te=1;te<_.length;te++){let ce=_[te];K.forEach(ve=>ce.set(ve,Wt($,ve)))}}return _}(_,un,vt);const ur=function so($,_){let w=null,F=null;return Array.isArray(_)&&_.length?(w=wa(_[0]),_.length>1&&(F=wa(_[_.length-1]))):_ instanceof Map&&(w=wa(_)),w||F?new oo($,w,F):null}(_,un);return new O(_,un,Ge,ur)}}var X=W(6895);let He=(()=>{class $ extends Rt._j{constructor(w,F){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(F.body,{id:"0",encapsulation:q.ifc.None,styles:[],data:{animation:[]}})}build(w){const F=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(w)?(0,Rt.vP)(w):w;return Lr(this._renderer,null,F,"register",[K]),new pn(F,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(X.K0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class pn extends Rt.LC{constructor(_,w){super(),this._id=_,this._renderer=w}create(_,w){return new Cr(this._id,_,w||{},this._renderer)}}class Cr{constructor(_,w,F,K){this.id=_,this.element=w,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(_,w){return this._renderer.listen(this.element,`@@${this.id}:${_}`,w)}_command(_,...w){return Lr(this._renderer,this.element,this.id,_,w)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Lr($,_,w,F,K){return $.setProperty(_,`@@${w}:${F}`,K)}const Ks="@.disabled";let Po=(()=>{class ${constructor(w,F,K){this.delegate=w,this.engine=F,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(te,ce)=>{const ve=ce?.parentNode(te);ve&&ce.removeChild(ve,te)}}createRenderer(w,F){const te=this.delegate.createRenderer(w,F);if(!(w&&F&&F.data&&F.data.animation)){let Jt=this._rendererCache.get(te);return Jt||(Jt=new pi("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Jt)),Jt}const ce=F.id,ve=F.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,w);const Ge=Jt=>{Array.isArray(Jt)?Jt.forEach(Ge):this.engine.registerTrigger(ce,ve,w,Jt.name,Jt)};return F.data.animation.forEach(Ge),new Si(this,ve,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,F,K){w>=0&&w<this._microtaskId?this._zone.run(()=>F(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ce,ve]=te;ce(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(_o),q.LFG(q.R0b))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class pi{constructor(_,w,F,K){this.namespaceId=_,this.delegate=w,this.engine=F,this._onDestroy=K,this.destroyNode=this.delegate.destroyNode?te=>w.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,w){return this.delegate.createElement(_,w)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,w){this.delegate.appendChild(_,w),this.engine.onInsert(this.namespaceId,w,_,!1)}insertBefore(_,w,F,K=!0){this.delegate.insertBefore(_,w,F),this.engine.onInsert(this.namespaceId,w,_,K)}removeChild(_,w,F){this.engine.onRemove(this.namespaceId,w,this.delegate,F)}selectRootElement(_,w){return this.delegate.selectRootElement(_,w)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,w,F,K){this.delegate.setAttribute(_,w,F,K)}removeAttribute(_,w,F){this.delegate.removeAttribute(_,w,F)}addClass(_,w){this.delegate.addClass(_,w)}removeClass(_,w){this.delegate.removeClass(_,w)}setStyle(_,w,F,K){this.delegate.setStyle(_,w,F,K)}removeStyle(_,w,F){this.delegate.removeStyle(_,w,F)}setProperty(_,w,F){"@"==w.charAt(0)&&w==Ks?this.disableAnimations(_,!!F):this.delegate.setProperty(_,w,F)}setValue(_,w){this.delegate.setValue(_,w)}listen(_,w,F){return this.delegate.listen(_,w,F)}disableAnimations(_,w){this.engine.disableAnimations(_,w)}}class Si extends pi{constructor(_,w,F,K,te){super(w,F,K,te),this.factory=_,this.namespaceId=w}setProperty(_,w,F){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Ks?this.disableAnimations(_,F=void 0===F||!!F):this.engine.process(this.namespaceId,_,w.slice(1),F):this.delegate.setProperty(_,w,F)}listen(_,w,F){if("@"==w.charAt(0)){const K=function Kr($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(_);let te=w.slice(1),ce="";return"@"!=te.charAt(0)&&([te,ce]=function ki($){const _=$.indexOf(".");return[$.substring(0,_),$.slice(_+1)]}(te)),this.engine.listen(this.namespaceId,K,te,ce,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,F,ve)})}return this.delegate.listen(_,w,F)}}const No=[{provide:Rt._j,useClass:He},{provide:xs,useFactory:function Dr(){return new Ho}},{provide:_o,useClass:(()=>{class $ extends _o{constructor(w,F,K,te){super(w.body,F,K)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(X.K0),q.LFG(re),q.LFG(xs),q.LFG(q.z2F))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:q.FYo,useFactory:function ps($,_,w){return new Po($,_,w)},deps:[p.se,_o,q.R0b]}],gs=[{provide:re,useFactory:()=>new k},{provide:q.QbO,useValue:"BrowserAnimations"},...No],Fa=[{provide:re,useClass:it},{provide:q.QbO,useValue:"NoopAnimations"},...No];let uu=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?Fa:gs}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({providers:gs,imports:[p.b2]}),$})();var Ta=W(7185),uo=W(2011),Ps=W(1205),Ts=W(9313),la=W(3692),Ko=W(529);let Eo=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$,bootstrap:[ht]}),$.\u0275inj=q.cJS({imports:[Ko.JF,p.b2,de,(0,la.hX)(()=>(0,la.ZF)(dt_firebase)),(0,Ts.Cm)(()=>(0,Ts.ad)()),Ps.ww,uo.hO.initializeApp(dt_firebase),Ts.Um,At.u5,X.ez,At.UX,uu,Ta.Rh.forRoot()]}),$})();p.q6().bootstrapModule(Eo).catch($=>console.error($))},9751:(an,at,W)=>{W.d(at,{y:()=>Oe});var p=W(2961),G=W(727),q=W(8822),De=W(9635),Se=W(2416),we=W(576),je=W(2806);let Oe=(()=>{class Ce{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const At=new Ce;return At.source=this,At.operator=dt,At}subscribe(dt,At,Rt){const tt=function he(Ce){return Ce&&Ce instanceof p.Lv||function de(Ce){return Ce&&(0,we.m)(Ce.next)&&(0,we.m)(Ce.error)&&(0,we.m)(Ce.complete)}(Ce)&&(0,G.Nn)(Ce)}(dt)?dt:new p.Hp(dt,At,Rt);return(0,je.x)(()=>{const{operator:pt,source:Ct}=this;tt.add(pt?pt.call(tt,Ct):Ct?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(At){dt.error(At)}}forEach(dt,At){return new(At=Ze(At))((Rt,tt)=>{const pt=new p.Hp({next:Ct=>{try{dt(Ct)}catch(bt){tt(bt),pt.unsubscribe()}},error:tt,complete:Rt});this.subscribe(pt)})}_subscribe(dt){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(dt)}[q.L](){return this}pipe(...dt){return(0,De.U)(dt)(this)}toPromise(dt){return new(dt=Ze(dt))((At,Rt)=>{let tt;this.subscribe(pt=>tt=pt,pt=>Rt(pt),()=>At(tt))})}}return Ce.create=ht=>new Ce(ht),Ce})();function Ze(Ce){var ht;return null!==(ht=Ce??Se.v.Promise)&&void 0!==ht?ht:Promise}},7579:(an,at,W)=>{W.d(at,{x:()=>je});var p=W(9751),G=W(727);const De=(0,W(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=W(8737),we=W(2806);let je=(()=>{class Ze extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Ce=new Oe(this,this);return Ce.operator=he,Ce}_throwIfClosed(){if(this.closed)throw new De}next(he){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(he)}})}error(he){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(he)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Ce,isStopped:ht,observers:dt}=this;return Ce||ht?G.Lc:(this.currentObservers=null,dt.push(he),new G.w0(()=>{this.currentObservers=null,(0,Se.P)(dt,he)}))}_checkFinalizedStatuses(he){const{hasError:Ce,thrownError:ht,isStopped:dt}=this;Ce?he.error(ht):dt&&he.complete()}asObservable(){const he=new p.y;return he.source=this,he}}return Ze.create=(de,he)=>new Oe(de,he),Ze})();class Oe extends je{constructor(de,he){super(),this.destination=de,this.source=he}next(de){var he,Ce;null===(Ce=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Ce||Ce.call(he,de)}error(de){var he,Ce;null===(Ce=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Ce||Ce.call(he,de)}complete(){var de,he;null===(he=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===he||he.call(de)}_subscribe(de){var he,Ce;return null!==(Ce=null===(he=this.source)||void 0===he?void 0:he.subscribe(de))&&void 0!==Ce?Ce:G.Lc}}},2961:(an,at,W)=>{W.d(at,{Hp:()=>Rt,Lv:()=>Ce});var p=W(576),G=W(727),q=W(2416),De=W(7849);function Se(){}const we=Ze("C",void 0,void 0);function Ze(Be,_e,Xe){return{kind:Be,value:_e,error:Xe}}var de=W(3410),he=W(2806);class Ce extends G.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,G.Nn)(_e)&&_e.add(this)):this.destination=bt}static create(_e,Xe,Dt){return new Rt(_e,Xe,Dt)}next(_e){this.isStopped?Ct(function Oe(Be){return Ze("N",Be,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?Ct(function je(Be){return Ze("E",void 0,Be)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?Ct(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ht=Function.prototype.bind;function dt(Be,_e){return ht.call(Be,_e)}class At{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(_e)}catch(Dt){tt(Dt)}}error(_e){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(_e)}catch(Dt){tt(Dt)}else tt(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Xe){tt(Xe)}}}class Rt extends Ce{constructor(_e,Xe,Dt){let st;if(super(),(0,p.m)(_e)||!_e)st={next:_e??void 0,error:Xe??void 0,complete:Dt??void 0};else{let ke;this&&q.v.useDeprecatedNextContext?(ke=Object.create(_e),ke.unsubscribe=()=>this.unsubscribe(),st={next:_e.next&&dt(_e.next,ke),error:_e.error&&dt(_e.error,ke),complete:_e.complete&&dt(_e.complete,ke)}):st=_e}this.destination=new At(st)}}function tt(Be){q.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Be):(0,De.h)(Be)}function Ct(Be,_e){const{onStoppedNotification:Xe}=q.v;Xe&&de.z.setTimeout(()=>Xe(Be,_e))}const bt={closed:!0,next:Se,error:function pt(Be){throw Be},complete:Se}},727:(an,at,W)=>{W.d(at,{Lc:()=>we,w0:()=>Se,Nn:()=>je});var p=W(576);const q=(0,W(3888).d)(Ze=>function(he){Ze(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Ce,ht)=>`${ht+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var De=W(8737);class Se{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const dt of he)dt.remove(this);else he.remove(this);const{initialTeardown:Ce}=this;if((0,p.m)(Ce))try{Ce()}catch(dt){de=dt instanceof q?dt.errors:[dt]}const{_finalizers:ht}=this;if(ht){this._finalizers=null;for(const dt of ht)try{Oe(dt)}catch(At){de=de??[],At instanceof q?de=[...de,...At.errors]:de.push(At)}}if(de)throw new q(de)}}add(de){var he;if(de&&de!==this)if(this.closed)Oe(de);else{if(de instanceof Se){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(de)}}_hasParent(de){const{_parentage:he}=this;return he===de||Array.isArray(he)&&he.includes(de)}_addParent(de){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(de),he):he?[he,de]:de}_removeParent(de){const{_parentage:he}=this;he===de?this._parentage=null:Array.isArray(he)&&(0,De.P)(he,de)}remove(de){const{_finalizers:he}=this;he&&(0,De.P)(he,de),de instanceof Se&&de._removeParent(this)}}Se.EMPTY=(()=>{const Ze=new Se;return Ze.closed=!0,Ze})();const we=Se.EMPTY;function je(Ze){return Ze instanceof Se||Ze&&"closed"in Ze&&(0,p.m)(Ze.remove)&&(0,p.m)(Ze.add)&&(0,p.m)(Ze.unsubscribe)}function Oe(Ze){(0,p.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(an,at,W)=>{W.d(at,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(an,at,W)=>{W.d(at,{E:()=>G});const G=new(W(9751).y)(Se=>Se.complete())},8996:(an,at,W)=>{W.d(at,{D:()=>_e});var p=W(8421),G=W(5363),q=W(9468),we=W(9751),Oe=W(2202),Ze=W(576),de=W(9672);function Ce(Xe,Dt){if(!Xe)throw new Error("Iterable cannot be null");return new we.y(st=>{(0,de.f)(st,Dt,()=>{const ke=Xe[Symbol.asyncIterator]();(0,de.f)(st,Dt,()=>{ke.next().then(Ot=>{Ot.done?st.complete():st.next(Ot.value)})},0,!0)})})}var ht=W(3670),dt=W(8239),At=W(1144),Rt=W(6495),tt=W(2206),pt=W(4532),Ct=W(3260);function _e(Xe,Dt){return Dt?function Be(Xe,Dt){if(null!=Xe){if((0,ht.c)(Xe))return function De(Xe,Dt){return(0,p.Xf)(Xe).pipe((0,q.R)(Dt),(0,G.Q)(Dt))}(Xe,Dt);if((0,At.z)(Xe))return function je(Xe,Dt){return new we.y(st=>{let ke=0;return Dt.schedule(function(){ke===Xe.length?st.complete():(st.next(Xe[ke++]),st.closed||this.schedule())})})}(Xe,Dt);if((0,dt.t)(Xe))return function Se(Xe,Dt){return(0,p.Xf)(Xe).pipe((0,q.R)(Dt),(0,G.Q)(Dt))}(Xe,Dt);if((0,tt.D)(Xe))return Ce(Xe,Dt);if((0,Rt.T)(Xe))return function he(Xe,Dt){return new we.y(st=>{let ke;return(0,de.f)(st,Dt,()=>{ke=Xe[Oe.h](),(0,de.f)(st,Dt,()=>{let Ot,sn;try{({value:Ot,done:sn}=ke.next())}catch(zt){return void st.error(zt)}sn?st.complete():st.next(Ot)},0,!0)}),()=>(0,Ze.m)(ke?.return)&&ke.return()})}(Xe,Dt);if((0,Ct.L)(Xe))return function bt(Xe,Dt){return Ce((0,Ct.Q)(Xe),Dt)}(Xe,Dt)}throw(0,pt.z)(Xe)}(Xe,Dt):(0,p.Xf)(Xe)}},8421:(an,at,W)=>{W.d(at,{Xf:()=>ht});var p=W(655),G=W(1144),q=W(8239),De=W(9751),Se=W(3670),we=W(2206),je=W(4532),Oe=W(6495),Ze=W(3260),de=W(576),he=W(7849),Ce=W(8822);function ht(Be){if(Be instanceof De.y)return Be;if(null!=Be){if((0,Se.c)(Be))return function dt(Be){return new De.y(_e=>{const Xe=Be[Ce.L]();if((0,de.m)(Xe.subscribe))return Xe.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,G.z)(Be))return function At(Be){return new De.y(_e=>{for(let Xe=0;Xe<Be.length&&!_e.closed;Xe++)_e.next(Be[Xe]);_e.complete()})}(Be);if((0,q.t)(Be))return function Rt(Be){return new De.y(_e=>{Be.then(Xe=>{_e.closed||(_e.next(Xe),_e.complete())},Xe=>_e.error(Xe)).then(null,he.h)})}(Be);if((0,we.D)(Be))return pt(Be);if((0,Oe.T)(Be))return function tt(Be){return new De.y(_e=>{for(const Xe of Be)if(_e.next(Xe),_e.closed)return;_e.complete()})}(Be);if((0,Ze.L)(Be))return function Ct(Be){return pt((0,Ze.Q)(Be))}(Be)}throw(0,je.z)(Be)}function pt(Be){return new De.y(_e=>{(function bt(Be,_e){var Xe,Dt,st,ke;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,p.KL)(Be);!(Dt=yield Xe.next()).done;)if(_e.next(Dt.value),_e.closed)return}catch(Ot){st={error:Ot}}finally{try{Dt&&!Dt.done&&(ke=Xe.return)&&(yield ke.call(Xe))}finally{if(st)throw st.error}}_e.complete()})})(Be,_e).catch(Xe=>_e.error(Xe))})}},6451:(an,at,W)=>{W.d(at,{T:()=>we});var p=W(8189),G=W(8421),q=W(515),De=W(7669),Se=W(8996);function we(...je){const Oe=(0,De.yG)(je),Ze=(0,De._6)(je,1/0),de=je;return de.length?1===de.length?(0,G.Xf)(de[0]):(0,p.J)(Ze)((0,Se.D)(de,Oe)):q.E}},9646:(an,at,W)=>{W.d(at,{of:()=>q});var p=W(7669),G=W(8996);function q(...De){const Se=(0,p.yG)(De);return(0,G.D)(De,Se)}},5403:(an,at,W)=>{W.d(at,{x:()=>G});var p=W(2961);function G(De,Se,we,je,Oe){return new q(De,Se,we,je,Oe)}class q extends p.Lv{constructor(Se,we,je,Oe,Ze,de){super(Se),this.onFinalize=Ze,this.shouldUnsubscribe=de,this._next=we?function(he){try{we(he)}catch(Ce){Se.error(Ce)}}:super._next,this._error=Oe?function(he){try{Oe(he)}catch(Ce){Se.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(he){Se.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4351:(an,at,W)=>{W.d(at,{b:()=>q});var p=W(5577),G=W(576);function q(De,Se){return(0,G.m)(Se)?(0,p.z)(De,Se,1):(0,p.z)(De,1)}},6590:(an,at,W)=>{W.d(at,{d:()=>q});var p=W(4482),G=W(5403);function q(De){return(0,p.e)((Se,we)=>{let je=!1;Se.subscribe((0,G.x)(we,Oe=>{je=!0,we.next(Oe)},()=>{je||we.next(De),we.complete()}))})}},9300:(an,at,W)=>{W.d(at,{h:()=>q});var p=W(4482),G=W(5403);function q(De,Se){return(0,p.e)((we,je)=>{let Oe=0;we.subscribe((0,G.x)(je,Ze=>De.call(Se,Ze,Oe++)&&je.next(Ze)))})}},590:(an,at,W)=>{W.d(at,{P:()=>je});var p=W(6805),G=W(9300),q=W(5698),De=W(6590),Se=W(8068),we=W(4671);function je(Oe,Ze){const de=arguments.length>=2;return he=>he.pipe(Oe?(0,G.h)((Ce,ht)=>Oe(Ce,ht,he)):we.y,(0,q.q)(1),de?(0,De.d)(Ze):(0,Se.T)(()=>new p.K))}},4004:(an,at,W)=>{W.d(at,{U:()=>q});var p=W(4482),G=W(5403);function q(De,Se){return(0,p.e)((we,je)=>{let Oe=0;we.subscribe((0,G.x)(je,Ze=>{je.next(De.call(Se,Ze,Oe++))}))})}},8189:(an,at,W)=>{W.d(at,{J:()=>q});var p=W(5577),G=W(4671);function q(De=1/0){return(0,p.z)(G.y,De)}},5577:(an,at,W)=>{W.d(at,{z:()=>Oe});var p=W(4004),G=W(8421),q=W(4482),De=W(9672),Se=W(5403),je=W(576);function Oe(Ze,de,he=1/0){return(0,je.m)(de)?Oe((Ce,ht)=>(0,p.U)((dt,At)=>de(Ce,dt,ht,At))((0,G.Xf)(Ze(Ce,ht))),he):("number"==typeof de&&(he=de),(0,q.e)((Ce,ht)=>function we(Ze,de,he,Ce,ht,dt,At,Rt){const tt=[];let pt=0,Ct=0,bt=!1;const Be=()=>{bt&&!tt.length&&!pt&&de.complete()},_e=Dt=>pt<Ce?Xe(Dt):tt.push(Dt),Xe=Dt=>{dt&&de.next(Dt),pt++;let st=!1;(0,G.Xf)(he(Dt,Ct++)).subscribe((0,Se.x)(de,ke=>{ht?.(ke),dt?_e(ke):de.next(ke)},()=>{st=!0},void 0,()=>{if(st)try{for(pt--;tt.length&&pt<Ce;){const ke=tt.shift();At?(0,De.f)(de,At,()=>Xe(ke)):Xe(ke)}Be()}catch(ke){de.error(ke)}}))};return Ze.subscribe((0,Se.x)(de,_e,()=>{bt=!0,Be()})),()=>{Rt?.()}}(Ce,ht,Ze,he)))}},5363:(an,at,W)=>{W.d(at,{Q:()=>De});var p=W(9672),G=W(4482),q=W(5403);function De(Se,we=0){return(0,G.e)((je,Oe)=>{je.subscribe((0,q.x)(Oe,Ze=>(0,p.f)(Oe,Se,()=>Oe.next(Ze),we),()=>(0,p.f)(Oe,Se,()=>Oe.complete(),we),Ze=>(0,p.f)(Oe,Se,()=>Oe.error(Ze),we)))})}},3099:(an,at,W)=>{W.d(at,{B:()=>Se});var p=W(8421),G=W(7579),q=W(2961),De=W(4482);function Se(je={}){const{connector:Oe=(()=>new G.x),resetOnError:Ze=!0,resetOnComplete:de=!0,resetOnRefCountZero:he=!0}=je;return Ce=>{let ht,dt,At,Rt=0,tt=!1,pt=!1;const Ct=()=>{dt?.unsubscribe(),dt=void 0},bt=()=>{Ct(),ht=At=void 0,tt=pt=!1},Be=()=>{const _e=ht;bt(),_e?.unsubscribe()};return(0,De.e)((_e,Xe)=>{Rt++,!pt&&!tt&&Ct();const Dt=At=At??Oe();Xe.add(()=>{Rt--,0===Rt&&!pt&&!tt&&(dt=we(Be,he))}),Dt.subscribe(Xe),!ht&&Rt>0&&(ht=new q.Hp({next:st=>Dt.next(st),error:st=>{pt=!0,Ct(),dt=we(bt,Ze,st),Dt.error(st)},complete:()=>{tt=!0,Ct(),dt=we(bt,de),Dt.complete()}}),(0,p.Xf)(_e).subscribe(ht))})(Ce)}}function we(je,Oe,...Ze){if(!0===Oe)return void je();if(!1===Oe)return;const de=new q.Hp({next:()=>{de.unsubscribe(),je()}});return(0,p.Xf)(Oe(...Ze)).subscribe(de)}},9468:(an,at,W)=>{W.d(at,{R:()=>G});var p=W(4482);function G(q,De=0){return(0,p.e)((Se,we)=>{we.add(q.schedule(()=>Se.subscribe(we),De))})}},3900:(an,at,W)=>{W.d(at,{w:()=>De});var p=W(8421),G=W(4482),q=W(5403);function De(Se,we){return(0,G.e)((je,Oe)=>{let Ze=null,de=0,he=!1;const Ce=()=>he&&!Ze&&Oe.complete();je.subscribe((0,q.x)(Oe,ht=>{Ze?.unsubscribe();let dt=0;const At=de++;(0,p.Xf)(Se(ht,At)).subscribe(Ze=(0,q.x)(Oe,Rt=>Oe.next(we?we(ht,Rt,At,dt++):Rt),()=>{Ze=null,Ce()}))},()=>{he=!0,Ce()}))})}},5698:(an,at,W)=>{W.d(at,{q:()=>De});var p=W(515),G=W(4482),q=W(5403);function De(Se){return Se<=0?()=>p.E:(0,G.e)((we,je)=>{let Oe=0;we.subscribe((0,q.x)(je,Ze=>{++Oe<=Se&&(je.next(Ze),Se<=Oe&&je.complete())}))})}},8505:(an,at,W)=>{W.d(at,{b:()=>Se});var p=W(576),G=W(4482),q=W(5403),De=W(4671);function Se(we,je,Oe){const Ze=(0,p.m)(we)||je||Oe?{next:we,error:je,complete:Oe}:we;return Ze?(0,G.e)((de,he)=>{var Ce;null===(Ce=Ze.subscribe)||void 0===Ce||Ce.call(Ze);let ht=!0;de.subscribe((0,q.x)(he,dt=>{var At;null===(At=Ze.next)||void 0===At||At.call(Ze,dt),he.next(dt)},()=>{var dt;ht=!1,null===(dt=Ze.complete)||void 0===dt||dt.call(Ze),he.complete()},dt=>{var At;ht=!1,null===(At=Ze.error)||void 0===At||At.call(Ze,dt),he.error(dt)},()=>{var dt,At;ht&&(null===(dt=Ze.unsubscribe)||void 0===dt||dt.call(Ze)),null===(At=Ze.finalize)||void 0===At||At.call(Ze)}))}):De.y}},8068:(an,at,W)=>{W.d(at,{T:()=>De});var p=W(6805),G=W(4482),q=W(5403);function De(we=Se){return(0,G.e)((je,Oe)=>{let Ze=!1;je.subscribe((0,q.x)(Oe,de=>{Ze=!0,Oe.next(de)},()=>Ze?Oe.complete():Oe.error(we())))})}function Se(){return new p.K}},6063:(an,at,W)=>{W.d(at,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(an,at,W)=>{W.d(at,{z:()=>p});const p={setTimeout(G,q,...De){const{delegate:Se}=p;return Se?.setTimeout?Se.setTimeout(G,q,...De):setTimeout(G,q,...De)},clearTimeout(G){const{delegate:q}=p;return(q?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(an,at,W)=>{W.d(at,{h:()=>G});const G=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,at,W)=>{W.d(at,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(an,at,W)=>{W.d(at,{K:()=>G});const G=(0,W(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(an,at,W)=>{W.d(at,{_6:()=>we,jO:()=>De,yG:()=>Se});var p=W(576);function q(je){return je[je.length-1]}function De(je){return(0,p.m)(q(je))?je.pop():void 0}function Se(je){return function G(je){return je&&(0,p.m)(je.schedule)}(q(je))?je.pop():void 0}function we(je,Oe){return"number"==typeof q(je)?je.pop():Oe}},4742:(an,at,W)=>{W.d(at,{D:()=>Se});const{isArray:p}=Array,{getPrototypeOf:G,prototype:q,keys:De}=Object;function Se(je){if(1===je.length){const Oe=je[0];if(p(Oe))return{args:Oe,keys:null};if(function we(je){return je&&"object"==typeof je&&G(je)===q}(Oe)){const Ze=De(Oe);return{args:Ze.map(de=>Oe[de]),keys:Ze}}}return{args:je,keys:null}}},8737:(an,at,W)=>{function p(G,q){if(G){const De=G.indexOf(q);0<=De&&G.splice(De,1)}}W.d(at,{P:()=>p})},3888:(an,at,W)=>{function p(G){const De=G(Se=>{Error.call(Se),Se.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}W.d(at,{d:()=>p})},1810:(an,at,W)=>{function p(G,q){return G.reduce((De,Se,we)=>(De[Se]=q[we],De),{})}W.d(at,{n:()=>p})},2806:(an,at,W)=>{W.d(at,{O:()=>De,x:()=>q});var p=W(2416);let G=null;function q(Se){if(p.v.useDeprecatedSynchronousErrorHandling){const we=!G;if(we&&(G={errorThrown:!1,error:null}),Se(),we){const{errorThrown:je,error:Oe}=G;if(G=null,je)throw Oe}}else Se()}function De(Se){p.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Se)}},9672:(an,at,W)=>{function p(G,q,De,Se=0,we=!1){const je=q.schedule(function(){De(),we?G.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(G.add(je),!we)return je}W.d(at,{f:()=>p})},4671:(an,at,W)=>{function p(G){return G}W.d(at,{y:()=>p})},1144:(an,at,W)=>{W.d(at,{z:()=>p});const p=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(an,at,W)=>{W.d(at,{D:()=>G});var p=W(576);function G(q){return Symbol.asyncIterator&&(0,p.m)(q?.[Symbol.asyncIterator])}},576:(an,at,W)=>{function p(G){return"function"==typeof G}W.d(at,{m:()=>p})},3670:(an,at,W)=>{W.d(at,{c:()=>q});var p=W(8822),G=W(576);function q(De){return(0,G.m)(De[p.L])}},6495:(an,at,W)=>{W.d(at,{T:()=>q});var p=W(2202),G=W(576);function q(De){return(0,G.m)(De?.[p.h])}},8239:(an,at,W)=>{W.d(at,{t:()=>G});var p=W(576);function G(q){return(0,p.m)(q?.then)}},3260:(an,at,W)=>{W.d(at,{L:()=>De,Q:()=>q});var p=W(655),G=W(576);function q(Se){return(0,p.FC)(this,arguments,function*(){const je=Se.getReader();try{for(;;){const{value:Oe,done:Ze}=yield(0,p.qq)(je.read());if(Ze)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Oe)}}finally{je.releaseLock()}})}function De(Se){return(0,G.m)(Se?.getReader)}},4482:(an,at,W)=>{W.d(at,{A:()=>G,e:()=>q});var p=W(576);function G(De){return(0,p.m)(De?.lift)}function q(De){return Se=>{if(G(Se))return Se.lift(function(we){try{return De(we,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(an,at,W)=>{W.d(at,{Z:()=>De});var p=W(4004);const{isArray:G}=Array;function De(Se){return(0,p.U)(we=>function q(Se,we){return G(we)?Se(...we):Se(we)}(Se,we))}},9635:(an,at,W)=>{W.d(at,{U:()=>q,z:()=>G});var p=W(4671);function G(...De){return q(De)}function q(De){return 0===De.length?p.y:1===De.length?De[0]:function(we){return De.reduce((je,Oe)=>Oe(je),we)}}},7849:(an,at,W)=>{W.d(at,{h:()=>q});var p=W(2416),G=W(3410);function q(De){G.z.setTimeout(()=>{const{onUnhandledError:Se}=p.v;if(!Se)throw De;Se(De)})}},4532:(an,at,W)=>{function p(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(at,{z:()=>p})},655:(an,at,W)=>{function De(Ue,nt){var Ke={};for(var lt in Ue)Object.prototype.hasOwnProperty.call(Ue,lt)&&nt.indexOf(lt)<0&&(Ke[lt]=Ue[lt]);if(null!=Ue&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(lt=Object.getOwnPropertySymbols(Ue);wt<lt.length;wt++)nt.indexOf(lt[wt])<0&&Object.prototype.propertyIsEnumerable.call(Ue,lt[wt])&&(Ke[lt[wt]]=Ue[lt[wt]])}return Ke}function Ce(Ue,nt,Ke,lt){return new(Ke||(Ke=Promise))(function(ct,kt){function Te(Le){try{ye(lt.next(Le))}catch(It){kt(It)}}function qe(Le){try{ye(lt.throw(Le))}catch(It){kt(It)}}function ye(Le){Le.done?ct(Le.value):function wt(ct){return ct instanceof Ke?ct:new Ke(function(kt){kt(ct)})}(Le.value).then(Te,qe)}ye((lt=lt.apply(Ue,nt||[])).next())})}function Be(Ue){return this instanceof Be?(this.v=Ue,this):new Be(Ue)}function _e(Ue,nt,Ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,lt=Ke.apply(Ue,nt||[]),ct=[];return wt={},kt("next"),kt("throw"),kt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function kt(jt){lt[jt]&&(wt[jt]=function(Zn){return new Promise(function(jn,wr){ct.push([jt,Zn,jn,wr])>1||Te(jt,Zn)})})}function Te(jt,Zn){try{!function qe(jt){jt.value instanceof Be?Promise.resolve(jt.value.v).then(ye,Le):It(ct[0][2],jt)}(lt[jt](Zn))}catch(jn){It(ct[0][3],jn)}}function ye(jt){Te("next",jt)}function Le(jt){Te("throw",jt)}function It(jt,Zn){jt(Zn),ct.shift(),ct.length&&Te(ct[0][0],ct[0][1])}}function Dt(Ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,nt=Ue[Symbol.asyncIterator];return nt?nt.call(Ue):(Ue=function Rt(Ue){var nt="function"==typeof Symbol&&Symbol.iterator,Ke=nt&&Ue[nt],lt=0;if(Ke)return Ke.call(Ue);if(Ue&&"number"==typeof Ue.length)return{next:function(){return Ue&&lt>=Ue.length&&(Ue=void 0),{value:Ue&&Ue[lt++],done:!Ue}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ue),Ke={},lt("next"),lt("throw"),lt("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke);function lt(ct){Ke[ct]=Ue[ct]&&function(kt){return new Promise(function(Te,qe){!function wt(ct,kt,Te,qe){Promise.resolve(qe).then(function(ye){ct({value:ye,done:Te})},kt)}(Te,qe,(kt=Ue[ct](kt)).done,kt.value)})}}}W.d(at,{FC:()=>_e,KL:()=>Dt,_T:()=>De,mG:()=>Ce,qq:()=>Be})},7340:(an,at,W)=>{W.d(at,{LC:()=>G,SB:()=>Ze,X$:()=>De,ZE:()=>Ct,ZN:()=>pt,_j:()=>p,eR:()=>he,jt:()=>Se,k1:()=>bt,l3:()=>q,oB:()=>Oe,vP:()=>je});class p{}class G{}const q="*";function De(Be,_e){return{type:7,name:Be,definitions:_e,options:{}}}function Se(Be,_e=null){return{type:4,styles:_e,timings:Be}}function je(Be,_e=null){return{type:2,steps:Be,options:_e}}function Oe(Be){return{type:6,styles:Be,offset:null}}function Ze(Be,_e,Xe){return{type:0,name:Be,styles:_e,options:Xe}}function he(Be,_e,Xe=null){return{type:1,expr:Be,animation:_e,options:Xe}}function tt(Be){Promise.resolve().then(Be)}class pt{constructor(_e=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const Xe="start"==_e?this._onStartFns:this._onDoneFns;Xe.forEach(Dt=>Dt()),Xe.length=0}}class Ct{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let Xe=0,Dt=0,st=0;const ke=this.players.length;0==ke?tt(()=>this._onFinish()):this.players.forEach(Ot=>{Ot.onDone(()=>{++Xe==ke&&this._onFinish()}),Ot.onDestroy(()=>{++Dt==ke&&this._onDestroy()}),Ot.onStart(()=>{++st==ke&&this._onStart()})}),this.totalTime=this.players.reduce((Ot,sn)=>Math.max(Ot,sn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const Xe=_e*this.totalTime;this.players.forEach(Dt=>{const st=Dt.totalTime?Math.min(1,Xe/Dt.totalTime):1;Dt.setPosition(st)})}getPosition(){const _e=this.players.reduce((Xe,Dt)=>null===Xe||Dt.totalTime>Xe.totalTime?Dt:Xe,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const Xe="start"==_e?this._onStartFns:this._onDoneFns;Xe.forEach(Dt=>Dt()),Xe.length=0}}const bt="!"},6895:(an,at,W)=>{W.d(at,{Do:()=>Ct,EM:()=>io,HT:()=>De,JF:()=>Gs,K0:()=>we,Mx:()=>ji,O5:()=>Ie,PM:()=>no,S$:()=>Rt,V_:()=>Ze,Ye:()=>bt,b0:()=>pt,bD:()=>So,ez:()=>cs,mk:()=>Cn,q:()=>q,sg:()=>_s,w_:()=>Se});var p=W(4650);let G=null;function q(){return G}function De(A){G||(G=A)}class Se{}const we=new p.OlP("DocumentToken");let je=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Oe(){return(0,p.LFG)(de)}()},providedIn:"platform"}),A})();const Ze=new p.OlP("Location Initialized");let de=(()=>{class A extends je{constructor(P){super(),this._doc=P,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(P){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,Z,ae){he()?this._history.pushState(P,Z,ae):this._location.hash=ae}replaceState(P,Z,ae){he()?this._history.replaceState(P,Z,ae):this._location.hash=ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(we))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Ce(){return new de((0,p.LFG)(we))}()},providedIn:"platform"}),A})();function he(){return!!window.history.pushState}function ht(A,U){if(0==A.length)return U;if(0==U.length)return A;let P=0;return A.endsWith("/")&&P++,U.startsWith("/")&&P++,2==P?A+U.substring(1):1==P?A+U:A+"/"+U}function dt(A){const U=A.match(/#|\?|$/),P=U&&U.index||A.length;return A.slice(0,P-("/"===A[P-1]?1:0))+A.slice(P)}function At(A){return A&&"?"!==A[0]?"?"+A:A}let Rt=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(pt)},providedIn:"root"}),A})();const tt=new p.OlP("appBaseHref");let pt=(()=>{class A extends Rt{constructor(P,Z){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ht(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+At(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&P?`${Z}${ae}`:Z}pushState(P,Z,ae,rt){const et=this.prepareExternalUrl(ae+At(rt));this._platformLocation.pushState(P,Z,et)}replaceState(P,Z,ae,rt){const et=this.prepareExternalUrl(ae+At(rt));this._platformLocation.replaceState(P,Z,et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(je),p.LFG(tt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Ct=(()=>{class A extends Rt{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=ht(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,ae,rt){let et=this.prepareExternalUrl(ae+At(rt));0==et.length&&(et=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,et)}replaceState(P,Z,ae,rt){let et=this.prepareExternalUrl(ae+At(rt));0==et.length&&(et=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,et)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(je),p.LFG(tt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac}),A})(),bt=(()=>{class A{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const Z=this._locationStrategy.getBaseHref();this._basePath=function Dt(A){if(new RegExp("^(https?:)?//").test(A)){const[,P]=A.split(/\/\/[^\/]+/);return P}return A}(dt(Xe(Z))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+At(Z))}normalize(P){return A.stripTrailingSlash(function _e(A,U){if(!A||!U.startsWith(A))return U;const P=U.substring(A.length);return""===P||["/",";","?","#"].includes(P[0])?P:U}(this._basePath,Xe(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,Z="",ae=null){this._locationStrategy.pushState(ae,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+At(Z)),ae)}replaceState(P,Z="",ae=null){this._locationStrategy.replaceState(ae,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+At(Z)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(ae=>ae(P,Z))}subscribe(P,Z,ae){return this._subject.subscribe({next:P,error:Z,complete:ae})}}return A.normalizeQueryParams=At,A.joinWithSlash=ht,A.stripTrailingSlash=dt,A.\u0275fac=function(P){return new(P||A)(p.LFG(Rt))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Be(){return new bt((0,p.LFG)(Rt))}()},providedIn:"root"}),A})();function Xe(A){return A.replace(/\/index.html$/,"")}function ji(A,U){U=encodeURIComponent(U);for(const P of A.split(";")){const Z=P.indexOf("="),[ae,rt]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(ae.trim()===U)return decodeURIComponent(rt)}return null}const tr=/\s+/,Wt=[];let Cn=(()=>{class A{constructor(P,Z,ae,rt){this._iterableDiffers=P,this._keyValueDiffers=Z,this._ngEl=ae,this._renderer=rt,this.initialClasses=Wt,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(tr):Wt}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(tr):P}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const Z of P)this._updateState(Z,!0);else if(null!=P)for(const Z of Object.keys(P))this._updateState(Z,Boolean(P[Z]));this._applyStateDiff()}_updateState(P,Z){const ae=this.stateMap.get(P);void 0!==ae?(ae.enabled!==Z&&(ae.changed=!0,ae.enabled=Z),ae.touched=!0):this.stateMap.set(P,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const Z=P[0],ae=P[1];ae.changed?(this._toggleClass(Z,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),ae.touched=!1}}_toggleClass(P,Z){(P=P.trim()).length>0&&P.split(tr).forEach(ae=>{Z?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class ci{constructor(U,P,Z,ae){this.$implicit=U,this.ngForOf=P,this.index=Z,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class A{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,Z,ae){this._viewContainer=P,this._template=Z,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((ae,rt,et)=>{if(null==ae.previousIndex)Z.createEmbeddedView(this._template,new ci(ae.item,this._ngForOf,-1,-1),null===et?void 0:et);else if(null==et)Z.remove(null===rt?void 0:rt);else if(null!==rt){const qt=Z.get(rt);Z.move(qt,et),Fr(qt,ae)}});for(let ae=0,rt=Z.length;ae<rt;ae++){const qt=Z.get(ae).context;qt.index=ae,qt.count=rt,qt.ngForOf=this._ngForOf}P.forEachIdentityChange(ae=>{Fr(Z.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(P,Z){return!0}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Fr(A,U){A.context.$implicit=U.item}let Ie=(()=>{class A{constructor(P,Z){this._viewContainer=P,this._context=new Ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){gt("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){gt("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.s_b),p.Y36(p.Rgc))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Ae{constructor(){this.$implicit=null,this.ngIf=null}}function gt(A,U){if(U&&!U.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,p.AaK)(U)}'.`)}let cs=(()=>{class A{}return A.\u0275fac=function(P){return new(P||A)},A.\u0275mod=p.oAB({type:A}),A.\u0275inj=p.cJS({}),A})();const So="browser",Es="server";function no(A){return A===Es}let io=(()=>{class A{}return A.\u0275prov=(0,p.Yz7)({token:A,providedIn:"root",factory:()=>new aa((0,p.LFG)(we),window)}),A})();class aa{constructor(U,P){this.document=U,this.window=P,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const P=function ws(A,U){const P=A.getElementById(U)||A.getElementsByName(U)[0];if(P)return P;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const Z=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ae=Z.currentNode;for(;ae;){const rt=ae.shadowRoot;if(rt){const et=rt.getElementById(U)||rt.querySelector(`[name="${U}"]`);if(et)return et}ae=Z.nextNode()}}return null}(this.document,U);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=U)}}scrollToElement(U){const P=U.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,ae=P.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(Z-rt[0],ae-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=bi(this.window.history)||bi(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bi(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Gs{}},529:(an,at,W)=>{W.d(at,{JF:()=>Rn,eN:()=>nt});var p=W(6895),G=W(4650),q=W(9646),De=W(9751),Se=W(4351),we=W(9300),je=W(4004);class Oe{}class Ze{}class de{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(be=>{const We=be.indexOf(":");if(We>0){const ft=be.slice(0,We),oe=ft.toLowerCase(),se=be.slice(We+1).trim();this.maybeSetNormalizedName(ft,oe),this.headers.has(oe)?this.headers.get(oe).push(se):this.headers.set(oe,[se])}})}:()=>{this.headers=new Map,Object.entries(re).forEach(([be,We])=>{let ft;if(ft="string"==typeof We?[We]:"number"==typeof We?[We.toString()]:We.map(oe=>oe.toString()),ft.length>0){const oe=be.toLowerCase();this.headers.set(oe,ft),this.maybeSetNormalizedName(be,oe)}})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const be=this.headers.get(re.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,be){return this.clone({name:re,value:be,op:"a"})}set(re,be){return this.clone({name:re,value:be,op:"s"})}delete(re,be){return this.clone({name:re,value:be,op:"d"})}maybeSetNormalizedName(re,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,re)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(be=>{this.headers.set(be,re.headers.get(be)),this.normalizedNames.set(be,re.normalizedNames.get(be))})}clone(re){const be=new de;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([re]),be}applyUpdate(re){const be=re.name.toLowerCase();switch(re.op){case"a":case"s":let We=re.value;if("string"==typeof We&&(We=[We]),0===We.length)return;this.maybeSetNormalizedName(re.name,be);const ft=("a"===re.op?this.headers.get(be):void 0)||[];ft.push(...We),this.headers.set(be,ft);break;case"d":const oe=re.value;if(oe){let se=this.headers.get(be);if(!se)return;se=se.filter(pe=>-1===oe.indexOf(pe)),0===se.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,se)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>re(this.normalizedNames.get(be),this.headers.get(be)))}}class Ce{encodeKey(re){return Rt(re)}encodeValue(re){return Rt(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const dt=/%(\d[a-f0-9])/gi,At={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(it){return encodeURIComponent(it).replace(dt,(re,be)=>At[be]??re)}function tt(it){return`${it}`}class pt{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new Ce,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ht(it,re){const be=new Map;return it.length>0&&it.replace(/^\?/,"").split("&").forEach(ft=>{const oe=ft.indexOf("="),[se,pe]=-1==oe?[re.decodeKey(ft),""]:[re.decodeKey(ft.slice(0,oe)),re.decodeValue(ft.slice(oe+1))],$e=be.get(se)||[];$e.push(pe),be.set(se,$e)}),be}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(be=>{const We=re.fromObject[be],ft=Array.isArray(We)?We.map(tt):[tt(We)];this.map.set(be,ft)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const be=this.map.get(re);return be?be[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,be){return this.clone({param:re,value:be,op:"a"})}appendAll(re){const be=[];return Object.keys(re).forEach(We=>{const ft=re[We];Array.isArray(ft)?ft.forEach(oe=>{be.push({param:We,value:oe,op:"a"})}):be.push({param:We,value:ft,op:"a"})}),this.clone(be)}set(re,be){return this.clone({param:re,value:be,op:"s"})}delete(re,be){return this.clone({param:re,value:be,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const be=this.encoder.encodeKey(re);return this.map.get(re).map(We=>be+"="+this.encoder.encodeValue(We)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const be=new pt({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(re),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const be=("a"===re.op?this.map.get(re.param):void 0)||[];be.push(tt(re.value)),this.map.set(re.param,be);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let We=this.map.get(re.param)||[];const ft=We.indexOf(tt(re.value));-1!==ft&&We.splice(ft,1),We.length>0?this.map.set(re.param,We):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class bt{constructor(){this.map=new Map}set(re,be){return this.map.set(re,be),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function _e(it){return typeof ArrayBuffer<"u"&&it instanceof ArrayBuffer}function Xe(it){return typeof Blob<"u"&&it instanceof Blob}function Dt(it){return typeof FormData<"u"&&it instanceof FormData}class ke{constructor(re,be,We,ft){let oe;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function Be(it){switch(it){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==We?We:null,oe=ft):oe=We,oe&&(this.reportProgress=!!oe.reportProgress,this.withCredentials=!!oe.withCredentials,oe.responseType&&(this.responseType=oe.responseType),oe.headers&&(this.headers=oe.headers),oe.context&&(this.context=oe.context),oe.params&&(this.params=oe.params)),this.headers||(this.headers=new de),this.context||(this.context=new bt),this.params){const se=this.params.toString();if(0===se.length)this.urlWithParams=be;else{const pe=be.indexOf("?");this.urlWithParams=be+(-1===pe?"?":pe<be.length-1?"&":"")+se}}else this.params=new pt,this.urlWithParams=be}serializeBody(){return null===this.body?null:_e(this.body)||Xe(this.body)||Dt(this.body)||function st(it){return typeof URLSearchParams<"u"&&it instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof pt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dt(this.body)?null:Xe(this.body)?this.body.type||null:_e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const be=re.method||this.method,We=re.url||this.url,ft=re.responseType||this.responseType,oe=void 0!==re.body?re.body:this.body,se=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,pe=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let $e=re.headers||this.headers,Re=re.params||this.params;const Mt=re.context??this.context;return void 0!==re.setHeaders&&($e=Object.keys(re.setHeaders).reduce((me,le)=>me.set(le,re.setHeaders[le]),$e)),re.setParams&&(Re=Object.keys(re.setParams).reduce((me,le)=>me.set(le,re.setParams[le]),Re)),new ke(be,We,oe,{params:Re,headers:$e,context:Mt,reportProgress:pe,responseType:ft,withCredentials:se})}}var Ot=(()=>((Ot=Ot||{})[Ot.Sent=0]="Sent",Ot[Ot.UploadProgress=1]="UploadProgress",Ot[Ot.ResponseHeader=2]="ResponseHeader",Ot[Ot.DownloadProgress=3]="DownloadProgress",Ot[Ot.Response=4]="Response",Ot[Ot.User=5]="User",Ot))();class sn{constructor(re,be=200,We="OK"){this.headers=re.headers||new de,this.status=void 0!==re.status?re.status:be,this.statusText=re.statusText||We,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class zt extends sn{constructor(re={}){super(re),this.type=Ot.ResponseHeader}clone(re={}){return new zt({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class _n extends sn{constructor(re={}){super(re),this.type=Ot.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new _n({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class Ut extends sn{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function Ue(it,re){return{body:re,headers:it.headers,context:it.context,observe:it.observe,params:it.params,reportProgress:it.reportProgress,responseType:it.responseType,withCredentials:it.withCredentials}}let nt=(()=>{class it{constructor(be){this.handler=be}request(be,We,ft={}){let oe;if(be instanceof ke)oe=be;else{let $e,Re;$e=ft.headers instanceof de?ft.headers:new de(ft.headers),ft.params&&(Re=ft.params instanceof pt?ft.params:new pt({fromObject:ft.params})),oe=new ke(be,We,void 0!==ft.body?ft.body:null,{headers:$e,context:ft.context,params:Re,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const se=(0,q.of)(oe).pipe((0,Se.b)($e=>this.handler.handle($e)));if(be instanceof ke||"events"===ft.observe)return se;const pe=se.pipe((0,we.h)($e=>$e instanceof _n));switch(ft.observe||"body"){case"body":switch(oe.responseType){case"arraybuffer":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&!($e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $e.body}));case"blob":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&!($e.body instanceof Blob))throw new Error("Response is not a Blob.");return $e.body}));case"text":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&"string"!=typeof $e.body)throw new Error("Response is not a string.");return $e.body}));default:return pe.pipe((0,je.U)($e=>$e.body))}case"response":return pe;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(be,We={}){return this.request("DELETE",be,We)}get(be,We={}){return this.request("GET",be,We)}head(be,We={}){return this.request("HEAD",be,We)}jsonp(be,We){return this.request("JSONP",be,{params:(new pt).append(We,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,We={}){return this.request("OPTIONS",be,We)}patch(be,We,ft={}){return this.request("PATCH",be,Ue(ft,We))}post(be,We,ft={}){return this.request("POST",be,Ue(ft,We))}put(be,We,ft={}){return this.request("PUT",be,Ue(ft,We))}}return it.\u0275fac=function(be){return new(be||it)(G.LFG(Oe))},it.\u0275prov=G.Yz7({token:it,factory:it.\u0275fac}),it})();function Ke(it,re){return re(it)}function lt(it,re){return(be,We)=>re.intercept(be,{handle:ft=>it(ft,We)})}const ct=new G.OlP("HTTP_INTERCEPTORS"),kt=new G.OlP("HTTP_INTERCEPTOR_FNS");function Te(){let it=null;return(re,be)=>(null===it&&(it=((0,G.f3M)(ct,{optional:!0})??[]).reduceRight(lt,Ke)),it(re,be))}let qe=(()=>{class it extends Oe{constructor(be,We){super(),this.backend=be,this.injector=We,this.chain=null}handle(be){if(null===this.chain){const We=Array.from(new Set(this.injector.get(kt)));this.chain=We.reduceRight((ft,oe)=>function wt(it,re,be){return(We,ft)=>be.runInContext(()=>re(We,oe=>it(oe,ft)))}(ft,oe,this.injector),Ke)}return this.chain(be,We=>this.backend.handle(We))}}return it.\u0275fac=function(be){return new(be||it)(G.LFG(Ze),G.LFG(G.lqb))},it.\u0275prov=G.Yz7({token:it,factory:it.\u0275fac}),it})();const ln=/^\)\]\}',?\n/;let Mn=(()=>{class it{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(We=>{const ft=this.xhrFactory.build();if(ft.open(be.method,be.urlWithParams),be.withCredentials&&(ft.withCredentials=!0),be.headers.forEach((ne,fe)=>ft.setRequestHeader(ne,fe.join(","))),be.headers.has("Accept")||ft.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const ne=be.detectContentTypeHeader();null!==ne&&ft.setRequestHeader("Content-Type",ne)}if(be.responseType){const ne=be.responseType.toLowerCase();ft.responseType="json"!==ne?ne:"text"}const oe=be.serializeBody();let se=null;const pe=()=>{if(null!==se)return se;const ne=ft.statusText||"OK",fe=new de(ft.getAllResponseHeaders()),Ye=function Gr(it){return"responseURL"in it&&it.responseURL?it.responseURL:/^X-Request-URL:/m.test(it.getAllResponseHeaders())?it.getResponseHeader("X-Request-URL"):null}(ft)||be.url;return se=new zt({headers:fe,status:ft.status,statusText:ne,url:Ye}),se},$e=()=>{let{headers:ne,status:fe,statusText:Ye,url:Pt}=pe(),on=null;204!==fe&&(on=typeof ft.response>"u"?ft.responseText:ft.response),0===fe&&(fe=on?200:0);let Ln=fe>=200&&fe<300;if("json"===be.responseType&&"string"==typeof on){const sr=on;on=on.replace(ln,"");try{on=""!==on?JSON.parse(on):null}catch(er){on=sr,Ln&&(Ln=!1,on={error:er,text:on})}}Ln?(We.next(new _n({body:on,headers:ne,status:fe,statusText:Ye,url:Pt||void 0})),We.complete()):We.error(new Ut({error:on,headers:ne,status:fe,statusText:Ye,url:Pt||void 0}))},Re=ne=>{const{url:fe}=pe(),Ye=new Ut({error:ne,status:ft.status||0,statusText:ft.statusText||"Unknown Error",url:fe||void 0});We.error(Ye)};let Mt=!1;const me=ne=>{Mt||(We.next(pe()),Mt=!0);let fe={type:Ot.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),"text"===be.responseType&&ft.responseText&&(fe.partialText=ft.responseText),We.next(fe)},le=ne=>{let fe={type:Ot.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),We.next(fe)};return ft.addEventListener("load",$e),ft.addEventListener("error",Re),ft.addEventListener("timeout",Re),ft.addEventListener("abort",Re),be.reportProgress&&(ft.addEventListener("progress",me),null!==oe&&ft.upload&&ft.upload.addEventListener("progress",le)),ft.send(oe),We.next({type:Ot.Sent}),()=>{ft.removeEventListener("error",Re),ft.removeEventListener("abort",Re),ft.removeEventListener("load",$e),ft.removeEventListener("timeout",Re),be.reportProgress&&(ft.removeEventListener("progress",me),null!==oe&&ft.upload&&ft.upload.removeEventListener("progress",le)),ft.readyState!==ft.DONE&&ft.abort()}})}}return it.\u0275fac=function(be){return new(be||it)(G.LFG(p.JF))},it.\u0275prov=G.Yz7({token:it,factory:it.\u0275fac}),it})();const Ft=new G.OlP("XSRF_ENABLED"),Pr=new G.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Zr=new G.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vi{}let Yn=(()=>{class it{constructor(be,We,ft){this.doc=be,this.platform=We,this.cookieName=ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return it.\u0275fac=function(be){return new(be||it)(G.LFG(p.K0),G.LFG(G.Lbi),G.LFG(Pr))},it.\u0275prov=G.Yz7({token:it,factory:it.\u0275fac}),it})();function gn(it,re){const be=it.url.toLowerCase();if(!(0,G.f3M)(Ft)||"GET"===it.method||"HEAD"===it.method||be.startsWith("http://")||be.startsWith("https://"))return re(it);const We=(0,G.f3M)(vi).getToken(),ft=(0,G.f3M)(Zr);return null!=We&&!it.headers.has(ft)&&(it=it.clone({headers:it.headers.set(ft,We)})),re(it)}var Vt=(()=>((Vt=Vt||{})[Vt.Interceptors=0]="Interceptors",Vt[Vt.LegacyInterceptors=1]="LegacyInterceptors",Vt[Vt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Vt[Vt.NoXsrfProtection=3]="NoXsrfProtection",Vt[Vt.JsonpSupport=4]="JsonpSupport",Vt[Vt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Vt))();function Ar(it,re){return{\u0275kind:it,\u0275providers:re}}function Ur(...it){const re=[nt,Mn,qe,{provide:Oe,useExisting:qe},{provide:Ze,useExisting:Mn},{provide:kt,useValue:gn,multi:!0},{provide:Ft,useValue:!0},{provide:vi,useClass:Yn}];for(const be of it)re.push(...be.\u0275providers);return(0,G.MR2)(re)}const li=new G.OlP("LEGACY_INTERCEPTOR_FN");let Rn=(()=>{class it{}return it.\u0275fac=function(be){return new(be||it)},it.\u0275mod=G.oAB({type:it}),it.\u0275inj=G.cJS({providers:[Ur(Ar(Vt.LegacyInterceptors,[{provide:li,useFactory:Te},{provide:kt,useExisting:li,multi:!0}]))]}),it})()},4650:(an,at,W)=>{W.d(at,{$8M:()=>Aa,$WT:()=>Nr,$Z:()=>Qd,AFp:()=>Ew,AaK:()=>Oe,BQk:()=>Ed,CHM:()=>k,CRH:()=>$0,CZH:()=>Vv,CqO:()=>Mc,D6c:()=>GI,EJc:()=>aI,EiD:()=>rp,EpF:()=>gl,F4k:()=>Ac,FYo:()=>rd,FiY:()=>Zt,Gf:()=>B0,GfV:()=>mp,Gpc:()=>he,JOm:()=>za,JVY:()=>Jf,JZr:()=>Rt,KtG:()=>X,L6k:()=>gc,LAX:()=>Oh,LFG:()=>Rn,LSH:()=>fr,Lbi:()=>rI,Lck:()=>jE,MAs:()=>dy,MMx:()=>im,MR2:()=>Cm,NdJ:()=>mf,OlP:()=>Jn,Oqu:()=>tc,P3R:()=>Ud,PXZ:()=>II,Q6J:()=>ah,QGY:()=>uh,QbO:()=>iI,Qsj:()=>$h,R0b:()=>Gu,RDi:()=>qf,Rgc:()=>Ch,SBq:()=>ul,Sil:()=>lI,Suo:()=>Rv,TTD:()=>ro,TgZ:()=>pf,Tol:()=>Cf,Udp:()=>Ag,VKq:()=>mv,W1O:()=>H0,WLB:()=>A0,X6Q:()=>SI,XFs:()=>Ft,Xpm:()=>Ln,Xts:()=>Ll,Y36:()=>Fu,YKP:()=>_0,YNc:()=>cy,Yjl:()=>In,Yz7:()=>It,Z0I:()=>wr,ZZ4:()=>fE,_Bn:()=>v0,_UZ:()=>gf,_Vd:()=>nd,_c5:()=>HI,_uU:()=>Fg,aQg:()=>pE,c2e:()=>sI,cJS:()=>Zn,cg1:()=>ys,d8E:()=>Id,dDg:()=>vI,dqk:()=>Yn,eBb:()=>Fd,eFA:()=>Nw,eJc:()=>Ov,ekj:()=>dh,eoX:()=>Mw,f3M:()=>Mr,g9A:()=>Iw,h0i:()=>bd,hGG:()=>zI,hij:()=>fh,iGM:()=>U0,ifc:()=>$e,ip1:()=>_w,jDz:()=>Sd,kL8:()=>Cu,lG2:()=>fn,lqb:()=>Bl,lri:()=>Sw,mCW:()=>Ld,n5z:()=>qs,oAB:()=>Ve,oJD:()=>Em,oxw:()=>_f,pB0:()=>kh,q3G:()=>Qi,q4F:()=>xm,qLn:()=>Wd,qOj:()=>af,qZA:()=>vd,qzn:()=>Yc,rWj:()=>Aw,sBO:()=>AI,s_b:()=>Md,soG:()=>Uv,tb:()=>Rw,tp0:()=>Mi,uIk:()=>sh,vHH:()=>tt,vpe:()=>zu,wAp:()=>$n,xp6:()=>bp,ynx:()=>_d,z2F:()=>Bv,z3N:()=>sl,zSh:()=>cp,zs3:()=>Wl});var p=W(7579),G=W(727),q=W(9751),De=W(6451),Se=W(3099);function we(n){for(let i in n)if(n[i]===we)return i;throw Error("Could not find renamed property on target object.")}function je(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ze(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=we({__forward_ref__:we});function he(n){return n.__forward_ref__=he,n.toString=function(){return Oe(this())},n}function Ce(n){return ht(n)?n():n}function ht(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===he}function dt(n){return n&&!!n.\u0275providers}const Rt="https://g.co/ng/security#xss";class tt extends Error{constructor(i,o){super(pt(i,o)),this.code=i}}function pt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Dt(n,i){throw new tt(-201,!1)}function kt(n,i){null==n&&function Te(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function jn(n){return gr(n,zr)||gr(n,Gr)}function wr(n){return null!==jn(n)}function gr(n,i){return n.hasOwnProperty(i)?n[i]:null}function cr(n){return n&&(n.hasOwnProperty(ln)||n.hasOwnProperty(Mn))?n[ln]:null}const zr=we({\u0275prov:we}),ln=we({\u0275inj:we}),Gr=we({ngInjectableDef:we}),Mn=we({ngInjectorDef:we});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let Hn;function ir(n){const i=Hn;return Hn=n,i}function Zr(n,i,o){const u=jn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ft.Optional?null:void 0!==i?i:void Dt(Oe(n))}const Yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ar={},Ur="__NG_DI_FLAG__",yr="ngTempTokenPath",li="ngTokenPath",Wr=/\n/gm,kr="\u0275",lr="__source";let $i;function Xn(n){const i=$i;return $i=n,i}function Ti(n,i=Ft.Default){if(void 0===$i)throw new tt(-203,!1);return null===$i?Zr(n,void 0,i):$i.get(n,i&Ft.Optional?null:void 0,i)}function Rn(n,i=Ft.Default){return(function Pr(){return Hn}()||Ti)(Ce(n),i)}function Mr(n,i=Ft.Default){return Rn(n,it(i))}function it(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function re(n){const i=[];for(let o=0;o<n.length;o++){const u=Ce(n[o]);if(Array.isArray(u)){if(0===u.length)throw new tt(900,!1);let l,h=Ft.Default;for(let v=0;v<u.length;v++){const S=u[v],N=We(S);"number"==typeof N?-1===N?l=S.token:h|=N:l=S}i.push(Rn(l,h))}else i.push(Rn(u))}return i}function be(n,i){return n[Ur]=i,n.prototype[Ur]=i,n}function We(n){return n[Ur]}function se(n){return{toString:n}.toString()}var pe=(()=>((pe=pe||{})[pe.OnPush=0]="OnPush",pe[pe.Default=1]="Default",pe))(),$e=(()=>{return(n=$e||($e={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$e;var n})();const Re={},Mt=[],me=we({\u0275cmp:we}),le=we({\u0275dir:we}),ne=we({\u0275pipe:we}),fe=we({\u0275mod:we}),Ye=we({\u0275fac:we}),Pt=we({__NG_ELEMENT_ID__:we});let on=0;function Ln(n){return se(()=>{const i=$s(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||$e.Emulated,id:"c"+on++,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null};js(o);const u=n.dependencies;return o.directiveDefs=ji(u,!1),o.pipeDefs=ji(u,!0),o})}function er(n){return Xt(n)||On(n)}function ot(n){return null!==n}function Ve(n){return se(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qt(n,i){if(null==n)return Re;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function fn(n){return se(()=>{const i=$s(n);return js(i),i})}function In(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Xt(n){return n[me]||null}function On(n){return n[le]||null}function qn(n){return n[ne]||null}function Nr(n){const i=Xt(n)||On(n)||qn(n);return null!==i&&i.standalone}function Br(n,i){const o=n[fe]||null;if(!o&&!0===i)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return o}function $s(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qt(n.inputs,i),outputs:Qt(n.outputs)}}function js(n){n.features?.forEach(i=>i(n))}function ji(n,i){if(!n)return null;const o=i?qn:er;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(ot)}const tr=0,Wt=1,Cn=2,vr=3,Qn=4,ns=5,ci=6,_s=7,Fr=8,Ne=9,Ie=10,Ae=11,gt=12,xt=13,yn=14,Pn=15,vn=16,kn=17,_i=18,$r=19,Yr=20,si=21,Ir=22,Do=1,eo=2,zi=7,rs=8,Ji=9,Qr=10;function Ci(n){return Array.isArray(n)&&"object"==typeof n[Do]}function is(n){return Array.isArray(n)&&!0===n[Do]}function Hs(n){return 0!=(4&n.flags)}function zs(n){return n.componentOffset>-1}function Ms(n){return 1==(1&n.flags)}function dr(n){return!!n.template}function xr(n){return 0!=(256&n[Cn])}function Ni(n,i){return n.hasOwnProperty(Ye)?n[Ye]:null}class Ea{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ro(){return io}function io(n){return n.type.prototype.ngOnChanges&&(n.setInput=bi),aa}function aa(){const n=Mo(this),i=n?.current;if(i){const o=n.previous;if(o===Re)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function bi(n,i,o,u){const l=this.declaredInputs[o],h=Mo(n)||function Gs(n,i){return n[ws]=i}(n,{previous:Re,current:null}),v=h.current||(h.current={}),S=h.previous,N=S[l];v[l]=new Ea(N&&N.currentValue,i,S===Re),n[u]=i}ro.ngInherit=!0;const ws="__ngSimpleChanges__";function Mo(n){return n[ws]||null}const Or=function(n,i,o){};function zn(n){for(;Array.isArray(n);)n=n[tr];return n}function fs(n,i){return zn(i[n])}function di(n,i){return zn(i[n.index])}function xo(n,i){return n.data[i]}function Jr(n,i){const o=i[n];return Ci(o)?o:o[tr]}function Ds(n){return 64==(64&n[Cn])}function Xr(n,i){return null==i?null:n[i]}function ni(n){n[_i]=0}function fi(n,i){n[ns]+=i;let o=n,u=n[vr];for(;null!==u&&(1===i&&1===o[ns]||-1===i&&0===o[ns]);)u[ns]+=i,o=u,u=u[vr]}const xn={lFrame:Ko(null),bindingsEnabled:!0};function so(){return xn.bindingsEnabled}function R(){return xn.lFrame.lView}function O(){return xn.lFrame.tView}function k(n){return xn.lFrame.contextLView=n,n[Fr]}function X(n){return xn.lFrame.contextLView=null,n}function He(){let n=pn();for(;null!==n&&64===n.type;)n=n.parent;return n}function pn(){return xn.lFrame.currentTNode}function Lr(n,i){const o=xn.lFrame;o.currentTNode=n,o.isParent=i}function Vi(){return xn.lFrame.isParent}function Ks(){xn.lFrame.isParent=!1}function Kr(){const n=xn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Dr(){return xn.lFrame.bindingIndex++}function ps(n){const i=xn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Fa(n,i){const o=xn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ei(i)}function Ei(n){xn.lFrame.currentDirectiveIndex=n}function Ia(n){const i=xn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Da(){return xn.lFrame.currentQueryIndex}function Ta(n){xn.lFrame.currentQueryIndex=n}function uo(n){const i=n[Wt];return 2===i.type?i.declTNode:1===i.type?n[ci]:null}function Ps(n,i,o){if(o&Ft.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Ft.Host||(l=uo(h),null===l||(h=h[Pn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=xn.lFrame=la();return u.currentTNode=i,u.lView=n,!0}function Ts(n){const i=la(),o=n[Wt];xn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function la(){const n=xn.lFrame,i=null===n?null:n.child;return null===i?Ko(n):i}function Ko(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function Eo(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $=Eo;function _(){const n=Eo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function K(){return xn.lFrame.selectedIndex}function te(n){xn.lFrame.selectedIndex=n}function ce(){const n=xn.lFrame;return xo(n.tView,n.selectedIndex)}function Bn(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:j,ngOnDestroy:J}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),N&&(n.viewHooks??(n.viewHooks=[])).push(-o,N),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=J&&(n.destroyHooks??(n.destroyHooks=[])).push(o,J)}}function Dn(n,i,o){U(n,i,3,o)}function An(n,i,o,u){(3&n[Cn])===o&&U(n,i,o,u)}function A(n,i){let o=n[Cn];(3&o)===i&&(o&=2047,o+=1,n[Cn]=o)}function U(n,i,o,u){const h=u??-1,v=i.length-1;let S=0;for(let N=void 0!==u?65535&n[_i]:0;N<v;N++)if("number"==typeof i[N+1]){if(S=i[N],null!=u&&S>=u)break}else i[N]<0&&(n[_i]+=65536),(S<h||-1==h)&&(P(n,o,i,N),n[_i]=(4294901760&n[_i])+N+2),N++}function P(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[Cn]>>11<n[_i]>>16&&(3&n[Cn])===i){n[Cn]+=2048,Or(4,S,h);try{h.call(S)}finally{Or(5,S,h)}}}else{Or(4,S,h);try{h.call(S)}finally{Or(5,S,h)}}}const Z=-1;class ae{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ar(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],S=o[u++];n.setAttribute(i,v,S,h)}else{const h=l,v=o[++u];ms(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function ai(n){return 3===n||4===n||6===n}function ms(n){return 64===n.charCodeAt(0)}function Gt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||mn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function mn(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){v=-1;break}if(S>i){v=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function dn(n){return n!==Z}function Fn(n){return 32767&n}function gi(n,i){let o=function hr(n){return n>>16}(n),u=i;for(;o>0;)u=u[Pn],o--;return u}let wi=!0;function Xi(n){const i=wi;return wi=n,i}const qo=255,Ca=5;let Ai=0;const mi={};function ca(n,i){const o=Wu(n,i);if(-1!==o)return o;const u=i[Wt];u.firstCreatePass&&(n.injectorIndex=i.length,Os(u.data,n),Os(i,null),Os(u.blueprint,null));const l=Ri(n,i),h=n.injectorIndex;if(dn(l)){const v=Fn(l),S=gi(l,i),N=S[Wt].data;for(let j=0;j<8;j++)i[h+j]=S[v+j]|N[v+j]}return i[h+8]=l,h}function Os(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Wu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ri(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Qa(l),null===u)return Z;if(o++,l=l[Pn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Z}function da(n,i,o){!function Ns(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Pt)&&(u=o[Pt]),null==u&&(u=o[Pt]=Ai++);const l=u&qo;i.data[n+(l>>Ca)]|=1<<l}(n,i,o)}function Ku(n,i,o){if(o&Ft.Optional||void 0!==n)return n;Dt()}function Zo(n,i,o,u){if(o&Ft.Optional&&void 0===u&&(u=null),!(o&(Ft.Self|Ft.Host))){const l=n[Ne],h=ir(void 0);try{return l?l.get(i,u,o&Ft.Optional):Zr(i,u,o&Ft.Optional)}finally{ir(h)}}return Ku(u,0,o)}function lu(n,i,o,u=Ft.Default,l){if(null!==n){if(1024&i[Cn]){const v=function ei(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[Cn]&&!(256&v[Cn]);){const S=cu(h,v,o,u|Ft.Self,mi);if(S!==mi)return S;let N=h.parent;if(!N){const j=v[si];if(j){const J=j.get(o,mi,u);if(J!==mi)return J}N=Qa(v),v=v[Pn]}h=N}return l}(n,i,o,u,mi);if(v!==mi)return v}const h=cu(n,i,o,u,mi);if(h!==mi)return h}return Zo(i,o,u,l)}function cu(n,i,o,u,l){const h=function ii(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Pt)?n[Pt]:void 0;return"number"==typeof i?i>=0?i&qo:qu:i}(o);if("function"==typeof h){if(!Ps(i,n,u))return u&Ft.Host?Ku(l,0,u):Zo(i,o,u,l);try{const v=h(u);if(null!=v||u&Ft.Optional)return v;Dt()}finally{$()}}else if("number"==typeof h){let v=null,S=Wu(n,i),N=Z,j=u&Ft.Host?i[vn][ci]:null;for((-1===S||u&Ft.SkipSelf)&&(N=-1===S?Ri(n,i):i[S+8],N!==Z&&ha(u,!1)?(v=i[Wt],S=Fn(N),i=gi(N,i)):S=-1);-1!==S;){const J=i[Wt];if(ba(h,S,J.data)){const ue=Ui(S,i,o,v,u,j);if(ue!==mi)return ue}N=i[S+8],N!==Z&&ha(u,i[Wt].data[S+8]===j)&&ba(h,S,i)?(v=J,S=Fn(N),i=gi(N,i)):S=-1}}return l}function Ui(n,i,o,u,l,h){const v=i[Wt],S=v.data[n+8],J=du(S,v,o,null==u?zs(S)&&wi:u!=v&&0!=(3&S.type),l&Ft.Host&&h===S);return null!==J?ri(i,v,J,S):mi}function du(n,i,o,u,l){const h=n.providerIndexes,v=i.data,S=1048575&h,N=n.directiveStart,J=h>>20,xe=l?S+J:n.directiveEnd;for(let Qe=u?S:S+J;Qe<xe;Qe++){const Tt=v[Qe];if(Qe<N&&o===Tt||Qe>=N&&Tt.type===o)return Qe}if(l){const Qe=v[N];if(Qe&&dr(Qe)&&Qe.type===o)return N}return null}function ri(n,i,o,u){let l=n[o];const h=i.data;if(function rt(n){return n instanceof ae}(l)){const v=l;v.resolving&&function Be(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function bt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(h[o]));const S=Xi(v.canSeeViewProviders);v.resolving=!0;const N=v.injectImpl?ir(v.injectImpl):null;Ps(n,u,Ft.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function ur(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=io(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==N&&ir(N),Xi(S),v.resolving=!1,$()}}return l}function ba(n,i,o){return!!(o[i+(n>>Ca)]&1<<n)}function ha(n,i){return!(n&Ft.Self||n&Ft.Host&&i)}class Oo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return lu(this._tNode,this._lView,i,it(u),o)}}function qu(){return new Oo(He(),R())}function qs(n){return se(()=>{const i=n.prototype.constructor,o=i[Ye]||Sa(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Ye]||Sa(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Sa(n){return ht(n)?()=>{const i=Sa(Ce(n));return i&&i()}:Ni(n)}function Qa(n){const i=n[Wt],o=i.type;return 2===o?i.declTNode:1===o?n[ci]:null}function Aa(n){return function La(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ai(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(He(),n)}const Wi="__parameters__";function fa(n,i,o){return se(()=>{const u=function Su(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return S.annotation=v,S;function S(N,j,J){const ue=N.hasOwnProperty(Wi)?N[Wi]:Object.defineProperty(N,Wi,{value:[]})[Wi];for(;ue.length<=J;)ue.push(null);return(ue[J]=ue[J]||[]).push(v),N}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Jn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=It({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qo(n,i){n.forEach(o=>Array.isArray(o)?Qo(o,i):i(o))}function pa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ba(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Nt(n,i,o){let u=bs(n,i);return u>=0?n[1|u]=o:(u=~u,function $a(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ti(n,i){const o=bs(n,i);if(o>=0)return n[1|o]}function bs(n,i){return function y(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Zt=be(fa("Optional"),8),Mi=be(fa("SkipSelf"),4);var za=(()=>((za=za||{})[za.Important=1]="Important",za[za.DashCase=2]="DashCase",za))();const Fi=new Map;let Wc=0;const lc="__ngContext__";function Fs(n,i){Ci(i)?(n[lc]=i[Yr],function Ra(n){Fi.set(n[Yr],n)}(i)):n[lc]=i}let Wn;function Un(n,i){return Wn(n,i)}function es(n){const i=n[vr];return is(i)?i[vr]:i}function ma(n){return ya(n[xt])}function Yi(n){return ya(n[Qn])}function ya(n){for(;null!==n&&!is(n);)n=n[Qn];return n}function jr(n,i,o,u,l){if(null!=u){let h,v=!1;is(u)?h=u:Ci(u)&&(v=!0,u=u[tr]);const S=zn(u);0===n&&null!==o?null==l?Qs(i,o,S):Kn(i,o,S,l||null,!0):1===n&&null!==o?Kn(i,o,S,l||null,!0):2===n?function fc(n,i,o){const u=_a(n,i);u&&function va(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,v):3===n&&i.destroyNode(S),null!=h&&function dm(n,i,o,u,l){const h=o[zi];h!==zn(o)&&jr(i,n,u,h,l);for(let S=Qr;S<o.length;S++){const N=o[S];Pd(N[Wt],N,n,i,u,h)}}(i,n,h,o,l)}}function Zc(n,i,o){return n.createElement(i,o)}function C(n,i){const o=n[Ji],u=o.indexOf(i),l=i[vr];512&i[Cn]&&(i[Cn]&=-513,fi(l,-1)),o.splice(u,1)}function H(n,i){if(n.length<=Qr)return;const o=Qr+i,u=n[o];if(u){const l=u[kn];null!==l&&l!==n&&C(l,u),i>0&&(n[o-1][Qn]=u[Qn]);const h=Ba(n,Qr+i);!function rl(n,i){Pd(n,i,i[Ae],2,null,null),i[tr]=null,i[ci]=null}(u[Wt],u);const v=h[$r];null!==v&&v.detachView(h[Wt]),u[vr]=null,u[Qn]=null,u[Cn]&=-65}return u}function ee(n,i){if(!(128&i[Cn])){const o=i[Ae];o.destroyNode&&Pd(n,i,o,3,null,null),function I(n){let i=n[xt];if(!i)return Pe(n[Wt],n);for(;i;){let o=null;if(Ci(i))o=i[xt];else{const u=i[Qr];u&&(o=u)}if(!o){for(;i&&!i[Qn]&&i!==n;)Ci(i)&&Pe(i[Wt],i),i=i[vr];null===i&&(i=n),Ci(i)&&Pe(i[Wt],i),o=i&&i[Qn]}i=o}}(i)}}function Pe(n,i){if(!(128&i[Cn])){i[Cn]&=-65,i[Cn]|=128,function $t(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ae)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const S=l[h[v]],N=h[v+1];Or(4,S,N);try{N.call(S)}finally{Or(5,S,N)}}else{Or(4,l,h);try{h.call(l)}finally{Or(5,l,h)}}}}}(n,i),function ut(n,i){const o=n.cleanup,u=i[_s];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[_s]=null}}(n,i),1===i[Wt].type&&i[Ae].destroy();const o=i[kn];if(null!==o&&is(i[vr])){o!==i[vr]&&C(o,i);const u=i[$r];null!==u&&u.detachView(n)}!function Pu(n){Fi.delete(n[Yr])}(i)}}function cn(n,i,o){return function wn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[tr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===$e.None||h===$e.Emulated)return null}return di(u,o)}}(n,i.parent,o)}function Kn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Qs(n,i,o){n.appendChild(i,o)}function wo(n,i,o,u,l){null!==u?Kn(n,i,o,u,l):Qs(n,i,o)}function _a(n,i){return n.parentNode(i)}let ru,Nd,Nl,Od,xl=function Ml(n,i,o){return 40&n.type?di(n,o):null};function vu(n,i,o,u){const l=cn(n,u,i),h=i[Ae],S=function Nu(n,i,o){return xl(n,i,o)}(u.parent||i[ci],u,i);if(null!=l)if(Array.isArray(o))for(let N=0;N<o.length;N++)wo(h,l,o[N],S,!1);else wo(h,l,o,S,!1);void 0!==ru&&ru(h,u,i,o,l)}function dc(n,i){if(null!==i){const o=i.type;if(3&o)return di(i,n);if(4&o)return Pl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return dc(n,u);{const l=n[i.index];return is(l)?Pl(-1,l):zn(l)}}if(32&o)return Un(i,n)()||zn(n[i.index]);{const u=hc(n,i);return null!==u?Array.isArray(u)?u[0]:dc(es(n[vn]),u):dc(n,i.next)}}return null}function hc(n,i){return null!==i?n[vn][ci].projection[i.projection]:null}function Pl(n,i){const o=Qr+n+1;if(o<i.length){const u=i[o],l=u[Wt].firstChild;if(null!==l)return dc(u,l)}return i[zi]}function Rh(n,i,o,u,l,h,v){for(;null!=o;){const S=u[o.index],N=o.type;if(v&&0===i&&(S&&Fs(zn(S),u),o.flags|=2),32!=(32&o.flags))if(8&N)Rh(n,i,o.child,u,l,h,!1),jr(i,n,l,S,h);else if(32&N){const j=Un(o,u);let J;for(;J=j();)jr(i,n,l,J,h);jr(i,n,l,S,h)}else 16&N?Kf(n,i,u,o,l,h):jr(i,n,l,S,h);o=v?o.projectionNext:o.next}}function Pd(n,i,o,u,l,h){Rh(o,u,n.firstChild,i,l,h,!1)}function Kf(n,i,o,u,l,h){const v=o[vn],N=v[ci].projection[u.projection];if(Array.isArray(N))for(let j=0;j<N.length;j++)jr(i,n,l,N[j],h);else Rh(n,i,N,v[vr],l,h,!0)}function Bi(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function il(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&ar(n,i,u),null!==l&&Bi(n,i,l),null!==h&&function hm(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function _u(n){return function Ph(){if(void 0===Nd&&(Nd=null,Yn.trustedTypes))try{Nd=Yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nd}()?.createHTML(n)||n}function qf(n){Nl=n}function kd(){if(void 0===Od&&(Od=null,Yn.trustedTypes))try{Od=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Od}function Zf(n){return kd()?.createHTML(n)||n}function Qf(n){return kd()?.createScriptURL(n)||n}class pc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class Wv extends pc{getTypeName(){return"HTML"}}class Kv extends pc{getTypeName(){return"Style"}}class pm extends pc{getTypeName(){return"Script"}}class qv extends pc{getTypeName(){return"URL"}}class gm extends pc{getTypeName(){return"ResourceURL"}}function sl(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function Yc(n,i){const o=function Zv(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Rt})`)}return o===i}function Jf(n){return new Wv(n)}function gc(n){return new Kv(n)}function Fd(n){return new pm(n)}function Oh(n){return new qv(n)}function kh(n){return new gm(n)}class mm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(_u(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class ol{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=_u(i),o}}const Qc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ld(n){return(n=String(n)).match(Qc)?n:"unsafe:"+n}function Eu(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ol(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Fh=Eu("area,br,col,hr,img,wbr"),kl=Eu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ta=Eu("rp,rt"),Vh=Ol(Fh,Ol(kl,Eu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ol(ta,Eu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ol(ta,kl)),Vd=Eu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=Ol(Vd,Eu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Eu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qv=Eu("script,style,template");class al{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Vh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Qv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),v=h.name,S=v.toLowerCase();if(!tp.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let N=h.value;Vd[S]&&(N=Ld(N)),this.buf.push(" ",v,'="',np(N),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Vh.hasOwnProperty(o)&&!Fh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(np(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Jv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pa=/([^\#-~ |!])/g;function np(n){return n.replace(/&/g,"&amp;").replace(Jv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Pa,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fl;function rp(n,i){let o=null;try{Fl=Fl||function Xf(n){const i=new ol(n);return function ym(){try{return!!(new window.DOMParser).parseFromString(_u(""),"text/html")}catch{return!1}}()?new mm(i):i}(n);let u=i?String(i):"";o=Fl.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Fl.getInertBodyElement(u)}while(u!==h);return _u((new al).sanitizeChildren(iu(o)||o))}finally{if(o){const u=iu(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function iu(n){return"content"in n&&function _m(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Qi=(()=>((Qi=Qi||{})[Qi.NONE=0]="NONE",Qi[Qi.HTML=1]="HTML",Qi[Qi.STYLE=2]="STYLE",Qi[Qi.SCRIPT=3]="SCRIPT",Qi[Qi.URL=4]="URL",Qi[Qi.RESOURCE_URL=5]="RESOURCE_URL",Qi))();function Em(n){const i=Jc();return i?Zf(i.sanitize(Qi.HTML,n)||""):Yc(n,"HTML")?Zf(sl(n)):rp(function Nh(){return void 0!==Nl?Nl:typeof document<"u"?document:void 0}(),Ct(n))}function fr(n){const i=Jc();return i?i.sanitize(Qi.URL,n)||"":Yc(n,"URL")?sl(n):Ld(Ct(n))}function wm(n){const i=Jc();if(i)return Qf(i.sanitize(Qi.RESOURCE_URL,n)||"");if(Yc(n,"ResourceURL"))return Qf(sl(n));throw new tt(904,!1)}function Ud(n,i,o){return function Tm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?wm:fr}(i,o)(n)}function Jc(){const n=R();return n&&n[gt]}const Ll=new Jn("ENVIRONMENT_INITIALIZER"),Vl=new Jn("INJECTOR",-1),sp=new Jn("INJECTOR_DEF_TYPES");class Ul{get(i,o=Ar){if(o===Ar){const u=new Error(`NullInjectorError: No provider for ${Oe(i)}!`);throw u.name="NullInjectorError",u}return o}}function Cm(n){return{\u0275providers:n}}function Xc(...n){return{\u0275providers:op(0,n),\u0275fromNgModule:!0}}function op(n,...i){const o=[],u=new Set;let l;return Qo(i,h=>{const v=h;mc(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&ap(l,o),o}function ap(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];up(l,h=>{i.push(h)})}}function mc(n,i,o,u){if(!(n=Ce(n)))return!1;let l=null,h=cr(n);const v=!h&&Xt(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const N=n.ngModule;if(h=cr(N),!h)return!1;l=N}const S=u.has(l);if(v){if(S)return!1;if(u.add(l),v.dependencies){const N="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of N)mc(j,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let j;u.add(l);try{Qo(h.imports,J=>{mc(J,i,o,u)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&ap(j,i)}if(!S){const j=Ni(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:Mt},{provide:sp,useValue:l,multi:!0},{provide:Ll,useValue:()=>Rn(l),multi:!0})}const N=h.providers;null==N||S||up(N,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}function up(n,i){for(let o of n)dt(o)&&(o=o.\u0275providers),Array.isArray(o)?up(o,i):i(o)}const ts=we({provide:String,useValue:we});function ed(n){return null!==n&&"object"==typeof n&&ts in n}function yc(n){return"function"==typeof n}const cp=new Jn("Set Injector scope."),jd={},td={};let wu;function Hd(){return void 0===wu&&(wu=new Ul),wu}class Bl{}class dp extends Bl{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hr(i,v=>this.processProvider(v)),this.records.set(Vl,jl(void 0,this)),l.has("environment")&&this.records.set(Bl,jl(void 0,this));const h=this.records.get(cp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(sp.multi,Mt,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Xn(this),u=ir(void 0);try{return i()}finally{Xn(o),ir(u)}}get(i,o=Ar,u=Ft.Default){this.assertNotDestroyed(),u=it(u);const l=Xn(this),h=ir(void 0);try{if(!(u&Ft.SkipSelf)){let S=this.records.get(i);if(void 0===S){const N=function Js(n){return"function"==typeof n||"object"==typeof n&&n instanceof Jn}(i)&&jn(i);S=N&&this.injectableDefInScope(N)?jl($l(i),jd):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&Ft.Self?Hd():this.parent).get(i,o=u&Ft.Optional&&o===Ar?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[yr]=v[yr]||[]).unshift(Oe(i)),l)throw v;return function ft(n,i,o,u){const l=n[yr];throw i[lr]&&l.unshift(i[lr]),n.message=function oe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==kr?n.slice(2):n;let l=Oe(i);if(Array.isArray(i))l=i.map(Oe).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let S=i[v];h.push(v+":"+("string"==typeof S?JSON.stringify(S):Oe(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Wr,"\n  ")}`}("\n"+n.message,l,o,u),n[li]=l,n[yr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{ir(h),Xn(l)}}resolveInjectorInitializers(){const i=Xn(this),o=ir(void 0);try{const u=this.get(Ll.multi,Mt,Ft.Self);for(const l of u)l()}finally{Xn(i),ir(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Oe(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(i){let o=yc(i=Ce(i))?i:Ce(i&&i.provide);const u=function fp(n){return ed(n)?jl(void 0,n.useValue):jl(Bh(n),jd)}(i);if(yc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=jl(void 0,jd,!0),l.factory=()=>re(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===jd&&(o.value=td,o.value=o.factory()),"object"==typeof o.value&&o.value&&function t_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ce(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function $l(n){const i=jn(n),o=null!==i?i.factory:Ni(n);if(null!==o)return o;if(n instanceof Jn)throw new tt(204,!1);if(n instanceof Function)return function hp(n){const i=n.length;if(i>0)throw function Ii(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new tt(204,!1);const o=function mr(n){return n&&(n[zr]||n[Gr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new tt(204,!1)}function Bh(n,i,o){let u;if(yc(n)){const l=Ce(n);return Ni(l)||$l(l)}if(ed(n))u=()=>Ce(n.useValue);else if(function lp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...re(n.deps||[]));else if(function Bd(n){return!(!n||!n.useExisting)}(n))u=()=>Rn(Ce(n.useExisting));else{const l=Ce(n&&(n.useClass||n.provide));if(!function e_(n){return!!n.deps}(n))return Ni(l)||$l(l);u=()=>new l(...re(n.deps))}return u}function jl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Hr(n,i){for(const o of n)Array.isArray(o)?Hr(o,i):o&&dt(o)?Hr(o.\u0275providers,i):i(o)}class bm{}class pp{}class r_{resolveComponentFactory(i){throw function gp(n){const i=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nd=(()=>{class n{}return n.NULL=new r_,n})();function Sm(){return Hl(He(),R())}function Hl(n,i){return new ul(di(n,i))}let ul=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Sm,n})();function Gd(n){return n instanceof ul?n.nativeElement:n}class rd{}let $h=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Am(){const n=R(),o=Jr(He().index,n);return(Ci(o)?o:n)[Ae]}(),n})(),Mm=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class mp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const xm=new mp("15.2.9"),jh={},Hh="ngOriginalError";function yp(n){return n[Hh]}class Wd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&yp(i);for(;o&&yp(o);)o=yp(o);return o||null}}function Wa(n){return n instanceof Function?n():n}function Ip(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Pm="ng-template";function l_(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Ip(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function sd(n){return 4===n.type&&n.value!==Pm}function Dp(n,i,o){return i===(4!==n.type||o?n.value:Pm)}function c_(n,i,o){let u=4;const l=n.attrs||[],h=function Nm(n){for(let i=0;i<n.length;i++)if(ai(n[i]))return i;return n.length}(l);let v=!1;for(let S=0;S<i.length;S++){const N=i[S];if("number"!=typeof N){if(!v)if(4&u){if(u=2|1&u,""!==N&&!Dp(n,N,o)||""===N&&1===i.length){if(su(u))return!1;v=!0}}else{const j=8&u?N:i[++S];if(8&u&&null!==n.attrs){if(!l_(n.attrs,j,o)){if(su(u))return!1;v=!0}continue}const ue=Tp(8&u?"class":N,l,sd(n),o);if(-1===ue){if(su(u))return!1;v=!0;continue}if(""!==j){let xe;xe=ue>h?"":l[ue+1].toLowerCase();const Qe=8&u?xe:null;if(Qe&&-1!==Ip(Qe,j,0)||2&u&&j!==xe){if(su(u))return!1;v=!0}}}}else{if(!v&&!su(u)&&!su(N))return!1;if(v&&su(N))continue;v=!1,u=N|1&u}}return su(u)||v}function su(n){return 0==(1&n)}function Tp(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function h_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Cp(n,i,o=!1){for(let u=0;u<i.length;u++)if(c_(n,i[u],o))return!0;return!1}function Om(n,i){return n?":not("+i.trim()+")":i}function zl(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const S=n[++o];l+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!su(v)&&(i+=Om(h,l),l=""),u=v,h=h||!su(u);o++}return""!==l&&(i+=Om(h,l)),i}const pr={};function bp(n){ku(O(),R(),K()+n,!1)}function ku(n,i,o,u){if(!u)if(3==(3&i[Cn])){const h=n.preOrderCheckHooks;null!==h&&Dn(i,h,o)}else{const h=n.preOrderHooks;null!==h&&An(i,h,0,o)}te(o)}function Gh(n,i=null,o=null,u){const l=Wh(n,i,o,u);return l.resolveInjectorInitializers(),l}function Wh(n,i=null,o=null,u,l=new Set){const h=[o||Mt,Xc(n)];return u=u||("object"==typeof n?void 0:Oe(n)),new dp(h,i||Hd(),u||null,l)}let Wl=(()=>{class n{static create(o,u){if(Array.isArray(o))return Gh({name:""},u,o,"");{const l=o.name??"";return Gh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Ar,n.NULL=new Ul,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>Rn(Vl)}),n.__NG_ELEMENT_ID__=-1,n})();function Fu(n,i=Ft.Default){const o=R();return null===o?Rn(n,i):lu(He(),o,Ce(n),i)}function Qd(){throw new Error("invalid")}function Fp(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];Ta(o[u]),v.contentQueries(2,i[h],h)}}}function Xd(n,i,o,u,l,h,v,S,N,j,J){const ue=i.blueprint.slice();return ue[tr]=l,ue[Cn]=76|u,(null!==J||n&&1024&n[Cn])&&(ue[Cn]|=1024),ni(ue),ue[vr]=ue[Pn]=n,ue[Fr]=o,ue[Ie]=v||n&&n[Ie],ue[Ae]=S||n&&n[Ae],ue[gt]=N||n&&n[gt]||null,ue[Ne]=j||n&&n[Ne]||null,ue[ci]=h,ue[Yr]=function Kc(){return Wc++}(),ue[si]=J,ue[vn]=2==i.type?n[vn]:ue,ue}function ll(n,i,o,u,l){let h=n.data[i];if(null===h)h=function cd(n,i,o,u,l){const h=pn(),v=Vi(),N=n.data[i]=function I_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(v?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,o,u,l),function No(){return xn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Cr(){const n=xn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Lr(h,!0),h}function dd(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Lu(n,i,o){Ts(i);try{const u=n.viewQuery;null!==u&&tf(1,u,o);const l=n.template;null!==l&&Lp(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fp(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const h=n.components;null!==h&&function na(n,i){for(let o=0;o<i.length;o++)Xh(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Cn]&=-5,_()}}function cl(n,i,o,u){const l=i[Cn];if(128!=(128&l)){Ts(i);try{ni(i),function ao(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lp(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&Dn(i,j,null)}else{const j=n.preOrderHooks;null!==j&&An(i,j,0,null),A(i,0)}if(function zp(n){for(let i=ma(n);null!==i;i=Yi(i)){if(!i[eo])continue;const o=i[Ji];for(let u=0;u<o.length;u++){const l=o[u];512&l[Cn]||fi(l[vr],1),l[Cn]|=512}}}(i),function Qm(n){for(let i=ma(n);null!==i;i=Yi(i))for(let o=Qr;o<i.length;o++){const u=i[o],l=u[Wt];Ds(u)&&cl(l,u,l.template,u[Fr])}}(i),null!==n.contentQueries&&Fp(n,i),v){const j=n.contentCheckHooks;null!==j&&Dn(i,j)}else{const j=n.contentHooks;null!==j&&An(i,j,1),A(i,1)}!function Jd(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)te(~l);else{const h=l,v=o[++u],S=o[++u];Fa(v,h),S(2,i[h])}}}finally{te(-1)}}(n,i);const S=n.components;null!==S&&function zm(n,i){for(let o=0;o<i.length;o++)Gp(n,i[o])}(i,S);const N=n.viewQuery;if(null!==N&&tf(2,N,u),v){const j=n.viewCheckHooks;null!==j&&Dn(i,j)}else{const j=n.viewHooks;null!==j&&An(i,j,2),A(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Cn]&=-41,512&i[Cn]&&(i[Cn]&=-513,fi(i[vr],-1))}finally{_()}}}function Lp(n,i,o,u,l){const h=K(),v=2&u;try{te(-1),v&&i.length>Ir&&ku(n,i,Ir,!1),Or(v?2:0,l),o(u,l)}finally{te(h),Or(v?3:1,l)}}function dl(n,i,o){if(Hs(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function Vp(n,i,o){so()&&(function b_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;zs(o)&&function P_(n,i,o){const u=di(i,n),l=Up(o),h=n[Ie],v=fd(n,Xd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||ca(o,i),Fs(u,i);const v=o.initialInputs;for(let S=l;S<h;S++){const N=n.data[S],j=ri(i,n,S,o);Fs(j,i),null!==v&&Qh(0,S-l,j,N,0,v),dr(N)&&(Jr(o.index,i)[Fr]=ri(i,n,S,o))}}(n,i,o,di(o,i)),64==(64&o.flags)&&jp(n,i,o))}function ql(n,i,o=di){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],S=-1===v?o(i,n):n[v];n[l++]=S}}}function Up(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Vu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Vu(n,i,o,u,l,h,v,S,N,j){const J=Ir+u,ue=J+l,xe=function Gm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:pr);return o}(J,ue),Qe="function"==typeof j?j():j;return xe[Wt]={type:n,blueprint:xe,template:o,queries:null,viewQuery:S,declTNode:i,data:xe.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:N,consts:Qe,incompleteFirstPass:!1}}function Bp(n,i,o,u){const l=Xm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Kp(n).push(u,l.length-1))}function $p(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Wm(o,i,l,h):u.hasOwnProperty(l)&&Wm(o,i,u[l],h)}return o}function Wm(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Ka(n,i,o,u,l,h,v,S){const N=di(i,o);let J,j=i.inputs;!S&&null!=j&&(J=j[u])?(Zp(n,o,J,u,l),zs(i)&&function Km(n,i){const o=Jr(i,n);16&o[Cn]||(o[Cn]|=32)}(o,i.index)):3&i.type&&(u=function D_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(N,u,l))}function hl(n,i,o,u){if(so()){const l=null===u?null:{"":-1},h=function A_(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(Cp(i,v.selectors,!1))if(u||(u=[]),dr(v))if(null!==v.findHostDirectiveDefs){const S=[];l=l||new Map,v.findHostDirectiveDefs(v,S,l),u.unshift(...S,v),eh(n,i,S.length)}else u.unshift(v),eh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,S;null===h?v=S=null:[v,S]=h,null!==v&&hd(n,i,o,v,l,S),l&&function Io(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new tt(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Gt(o.mergedAttrs,o.attrs)}function hd(n,i,o,u,l,h){for(let j=0;j<u.length;j++)da(ca(o,i),n,u[j].type);!function x_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const J=u[j];J.providersResolver&&J.providersResolver(J)}let v=!1,S=!1,N=dd(n,i,u.length,null);for(let j=0;j<u.length;j++){const J=u[j];o.mergedAttrs=Gt(o.mergedAttrs,J.hostAttrs),R_(n,o,i,N,J),M_(N,J,l),null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const ue=J.type.prototype;!v&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!S&&(ue.ngOnChanges||ue.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),N++}!function Yh(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,S=[];let N=null,j=null;for(let J=i.directiveStart;J<l;J++){const ue=h[J],xe=o?o.get(ue):null,Tt=xe?xe.outputs:null;N=$p(ue.inputs,J,N,xe?xe.inputs:null),j=$p(ue.outputs,J,j,Tt);const Kt=null===N||null===v||sd(i)?null:Jh(N,J,v);S.push(Kt)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=N,i.outputs=j}(n,o,h)}function jp(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function uu(){return xn.lFrame.currentDirectiveIndex}();try{te(h);for(let S=u;S<l;S++){const N=n.data[S],j=i[S];Ei(S),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&S_(N,j)}}finally{te(-1),Ei(v)}}function S_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function eh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function M_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;dr(i)&&(o[""]=n)}}function R_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Ni(l.type)),v=new ae(h,dr(l),Fu);n.blueprint[u]=v,o[u]=v,function qm(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const S=~i.index;(function Zm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=S&&v.push(S),v.push(o,u,h)}}(n,i,u,dd(n,o,l.hostVars,pr),l)}function ou(n,i,o,u,l,h){const v=di(n,i);!function Hp(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const S=null==v?Ct(h):v(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[Ae],v,h,n.value,o,u,l)}function Qh(n,i,o,u,l,h){const v=h[i];if(null!==v){const S=u.setInput;for(let N=0;N<v.length;){const j=v[N++],J=v[N++],ue=v[N++];null!==S?u.setInput(o,ue,j,J):o[J]=ue}}}function Jh(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let S=0;S<v.length;S+=2)if(v[S]===i){u.push(h,v[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Ym(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Gp(n,i){const o=Jr(i,n);if(Ds(o)){const u=o[Wt];48&o[Cn]?cl(u,o,u.template,o[Fr]):o[ns]>0&&wc(o)}}function wc(n){for(let u=ma(n);null!==u;u=Yi(u))for(let l=Qr;l<u.length;l++){const h=u[l];if(Ds(h))if(512&h[Cn]){const v=h[Wt];cl(v,h,v.template,h[Fr])}else h[ns]>0&&wc(h)}const o=n[Wt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Jr(o[u],n);Ds(l)&&l[ns]>0&&wc(l)}}function Xh(n,i){const o=Jr(i,n),u=o[Wt];(function Wp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Lu(u,o,o[Fr])}function fd(n,i){return n[xt]?n[yn][Qn]=i:n[xt]=i,n[yn]=i,i}function th(n){for(;n;){n[Cn]|=32;const i=es(n);if(xr(n)&&!i)return n;n=i}return null}function ef(n,i,o,u=!0){const l=i[Ie];l.begin&&l.begin();try{cl(n,i,n.template,o)}catch(v){throw u&&qp(i,v),v}finally{l.end&&l.end()}}function tf(n,i,o){Ta(0),i(n,o)}function Xm(n){return n[_s]||(n[_s]=[])}function Kp(n){return n.cleanup||(n.cleanup=[])}function qp(n,i){const o=n[Ne],u=o?o.get(Wd,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],S=o[h++],N=i[v],j=n.data[v];null!==j.setInput?j.setInput(N,l,u,S):N[S]=l}}function fl(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const S=i[v];"number"==typeof S?h=S:1==h?l=Ze(l,S):2==h&&(u=Ze(u,S+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function pd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(zn(h)),is(h))for(let S=Qr;S<h.length;S++){const N=h[S],j=N[Wt].firstChild;null!==j&&pd(N[Wt],N,j,u)}const v=o.type;if(8&v)pd(n,i,o.child,u);else if(32&v){const S=Un(o,i);let N;for(;N=S();)u.push(N)}else if(16&v){const S=hc(i,o);if(Array.isArray(S))u.push(...S);else{const N=es(i[vn]);pd(N[Wt],N,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class Zl{get rootNodes(){const i=this._lView,o=i[Wt];return pd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fr]}set context(i){this._lView[Fr]=i}get destroyed(){return 128==(128&this._lView[Cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[vr];if(is(i)){const o=i[rs],u=o?o.indexOf(this):-1;u>-1&&(H(i,u),Ba(o,u))}this._attachedToViewContainer=!1}ee(this._lView[Wt],this._lView)}onDestroy(i){Bp(this._lView[Wt],this._lView,null,i)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[Cn]&=-65}reattach(){this._lView[Cn]|=64}detectChanges(){ef(this._lView[Wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(n,i){Pd(n,i,i[Ae],2,null,null)}(this._lView[Wt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=i}}class ty extends Zl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[Wt],i,i[Fr],!1)}checkNoChanges(){}get context(){return null}}class Yp extends nd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Xt(i);return new nh(o,this.ngModule)}}function Qp(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Jp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=it(u);const l=this.injector.get(i,jh,u);return l!==jh||o===jh?l:this.parentInjector.get(i,o,u)}}class nh extends pp{get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function od(n){return n.map(zl).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Bl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Jp(i,h):i,S=v.get(rd,null);if(null===S)throw new tt(407,!1);const N=v.get(Mm,null),j=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ue=u?function w_(n,i,o){return n.selectRootElement(i,o===$e.ShadowDom)}(j,u,this.componentDef.encapsulation):Zc(j,J,function O_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),xe=this.componentDef.onPush?288:272,Qe=Vu(0,null,null,1,0,null,null,null,null,null),Tt=Xd(null,Qe,null,xe,null,null,S,j,N,v,null);let Kt,hn;Ts(Tt);try{const Sn=this.componentDef;let rr,Lt=null;Sn.findHostDirectiveDefs?(rr=[],Lt=new Map,Sn.findHostDirectiveDefs(Sn,rr,Lt),rr.push(Sn)):rr=[Sn];const Er=function ny(n,i){const o=n[Wt],u=Ir;return n[u]=i,ll(o,u,2,"#host",null)}(Tt,ue),As=function eg(n,i,o,u,l,h,v,S){const N=l[Wt];!function nf(n,i,o,u){for(const l of n)i.mergedAttrs=Gt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(fl(i,i.mergedAttrs,!0),null!==o&&il(u,o,i))}(u,n,i,v);const j=h.createRenderer(i,o),J=Xd(l,Up(o),null,o.onPush?32:16,l[n.index],n,h,j,S||null,null,null);return N.firstCreatePass&&eh(N,n,u.length-1),fd(l,J),l[n.index]=J}(Er,ue,Sn,rr,Tt,S,j);hn=xo(Qe,Ir),ue&&function rf(n,i,o,u){if(u)ar(n,o,["ng-version",xm.full]);else{const{attrs:l,classes:h}=function km(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!su(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&ar(n,o,l),h&&h.length>0&&Bi(n,o,h.join(" "))}}(j,Sn,ue,u),void 0!==o&&function tg(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(hn,this.ngContentSelectors,o),Kt=function rh(n,i,o,u,l,h){const v=He(),S=l[Wt],N=di(v,l);hd(S,l,v,o,null,u);for(let J=0;J<o.length;J++)Fs(ri(l,S,v.directiveStart+J,v),l);jp(S,l,v),N&&Fs(N,l);const j=ri(l,S,v.directiveStart+v.componentOffset,v);if(n[Fr]=l[Fr]=j,null!==h)for(const J of h)J(j,i);return dl(S,v,n),j}(As,Sn,rr,Lt,Tt,[ng]),Lu(Qe,Tt,null)}finally{_()}return new Xp(this.componentType,Kt,Hl(hn,Tt),Tt,hn)}}class Xp extends bm{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ty(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Zp(h[Wt],h,l,i,o),th(Jr(this._tNode.index,h))}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ng(){const n=He();Bn(R()[Wt],n)}function af(n){let i=function sf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(dr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new tt(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=uf(n.inputs),v.declaredInputs=uf(n.declaredInputs),v.outputs=uf(n.outputs);const S=l.hostBindings;S&&L_(n,S);const N=l.viewQuery,j=l.contentQueries;if(N&&lf(n,N),j&&rg(n,j),je(n.inputs,l.inputs),je(n.declaredInputs,l.declaredInputs),je(n.outputs,l.outputs),dr(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const S=h[v];S&&S.ngInherit&&S(n),S===af&&(o=!1)}}i=Object.getPrototypeOf(i)}!function F_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Gt(l.hostAttrs,o=Gt(o,l.hostAttrs))}}(u)}function uf(n){return n===Re?{}:n===Mt?[]:n}function lf(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function rg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function L_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function cf(n){return!!og(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function og(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oa(n,i,o){return n[i]=o}function Vs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function sh(n,i,o,u){const l=R();return Vs(l,Dr(),i)&&(O(),ou(ce(),l,n,i,o,u)),sh}function cy(n,i,o,u,l,h,v,S){const N=R(),j=O(),J=n+Ir,ue=j.firstCreatePass?function ly(n,i,o,u,l,h,v,S,N){const j=i.consts,J=ll(i,n,4,v||null,Xr(j,S));hl(i,o,J,Xr(j,N)),Bn(i,J);const ue=J.tView=Vu(2,J,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,J),ue.queries=i.queries.embeddedTView(J)),J}(J,j,N,i,o,u,l,h,v):j.data[J];Lr(ue,!1);const xe=N[Ae].createComment("");vu(j,N,xe,ue),Fs(xe,N),fd(N,N[J]=Ym(xe,N,xe,ue)),Ms(ue)&&Vp(j,N,ue),null!=v&&ql(N,ue,S)}function dy(n){return function hi(n,i){return n[i]}(function Po(){return xn.lFrame.contextLView}(),Ir+n)}function ah(n,i,o){const u=R();return Vs(u,Dr(),i)&&Ka(O(),ce(),u,n,i,u[Ae],o,!1),ah}function lg(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function pf(n,i,o,u){const l=R(),h=O(),v=Ir+n,S=l[Ae],N=h.firstCreatePass?function cg(n,i,o,u,l,h){const v=i.consts,N=ll(i,n,2,u,Xr(v,l));return hl(i,o,N,Xr(v,h)),null!==N.attrs&&fl(N,N.attrs,!1),null!==N.mergedAttrs&&fl(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(v,h,l,i,o,u):h.data[v],j=l[v]=Zc(S,i,function un(){return xn.lFrame.currentNamespace}()),J=Ms(N);return Lr(N,!0),il(S,j,N),32!=(32&N.flags)&&vu(h,l,j,N),0===function Ws(){return xn.lFrame.elementDepthCount}()&&Fs(j,l),function Ro(){xn.lFrame.elementDepthCount++}(),J&&(Vp(h,l,N),dl(h,N,l)),null!==u&&ql(l,N),pf}function vd(){let n=He();Vi()?Ks():(n=n.parent,Lr(n,!1));const i=n;!function _o(){xn.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(Bn(o,n),Hs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Vn(n){return 0!=(8&n.flags)}(i)&&lg(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function nr(n){return 0!=(16&n.flags)}(i)&&lg(o,i,R(),i.stylesWithoutHost,!1),vd}function gf(n,i,o,u){return pf(n,i,o,u),vd(),gf}function _d(n,i,o){const u=R(),l=O(),h=n+Ir,v=l.firstCreatePass?function dg(n,i,o,u,l){const h=i.consts,v=Xr(h,u),S=ll(i,n,8,"ng-container",v);return null!==v&&fl(S,v,!0),hl(i,o,S,Xr(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];Lr(v,!0);const S=u[h]=u[Ae].createComment("");return vu(l,u,S,v),Fs(S,u),Ms(v)&&(Vp(l,u,v),dl(l,v,u)),null!=o&&ql(u,v),_d}function Ed(){let n=He();const i=O();return Vi()?Ks():(n=n.parent,Lr(n,!1)),i.firstCreatePass&&(Bn(i,n),Hs(n)&&i.queries.elementEnd(n)),Ed}function gl(){return R()}function uh(n){return!!n&&"function"==typeof n.then}function Ac(n){return!!n&&"function"==typeof n.subscribe}const Mc=Ac;function mf(n,i,o,u){const l=R(),h=O(),v=He();return function hy(n,i,o,u,l,h,v){const S=Ms(u),j=n.firstCreatePass&&Kp(n),J=i[Fr],ue=Xm(i);let xe=!0;if(3&u.type||v){const Kt=di(u,i),hn=v?v(Kt):Kt,Sn=ue.length,rr=v?Er=>v(zn(Er[u.index])):u.index;let Lt=null;if(!v&&S&&(Lt=function H_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const S=i[_s],N=l[h+2];return S.length>N?S[N]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=h,Lt.__ngLastListenerFn__=h,xe=!1;else{h=vf(u,i,J,h,!1);const Er=o.listen(hn,l,h);ue.push(h,Er),j&&j.push(l,rr,Sn,Sn+1)}}else h=vf(u,i,J,h,!1);const Qe=u.outputs;let Tt;if(xe&&null!==Qe&&(Tt=Qe[l])){const Kt=Tt.length;if(Kt)for(let hn=0;hn<Kt;hn+=2){const As=i[Tt[hn]][Tt[hn+1]].subscribe(h),yo=ue.length;ue.push(h,As),j&&j.push(l,u.index,yo,-(yo+1))}}}(h,l,l[Ae],v,n,i,u),mf}function yf(n,i,o,u){try{return Or(6,i,o),!1!==o(u)}catch(l){return qp(n,l),!1}finally{Or(7,i,o)}}function vf(n,i,o,u,l){return function h(v){if(v===Function)return u;th(n.componentOffset>-1?Jr(n.index,i):i);let N=yf(i,o,u,v),j=h.__ngNextListenerFn__;for(;j;)N=yf(i,o,j,v)&&N,j=j.__ngNextListenerFn__;return l&&!1===N&&(v.preventDefault(),v.returnValue=!1),N}}function _f(n=1){return function w(n){return(xn.lFrame.contextLView=function F(n,i){for(;n>0;)i=i[Pn],n--;return i}(n,xn.lFrame.contextLView))[Fr]}(n)}function wf(n,i){return n<<17|i<<2}function ec(n){return n>>17&32767}function ch(n){return 2|n}function ml(n){return(131068&n)>>2}function _g(n,i){return-131069&n|i<<2}function wg(n){return 1|n}function vy(n,i,o,u,l){const h=n[o+1],v=null===i;let S=u?ec(h):ml(h),N=!1;for(;0!==S&&(!1===N||v);){const J=n[S+1];Dg(n[S],i)&&(N=!0,n[S+1]=u?wg(J):ch(J)),S=u?ec(J):ml(J)}N&&(n[o+1]=u?ch(h):wg(h))}function Dg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&bs(n,i)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function If(n){return n.substring(mo.key,mo.keyEnd)}function _y(n,i){const o=mo.textEnd;return o===i?-1:(i=mo.keyEnd=function Ey(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,mo.key=i,o),Du(n,i,o))}function Du(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Ag(n,i,o){return Za(n,i,o,!1),Ag}function dh(n,i){return Za(n,i,null,!0),dh}function Cf(n){!function Tu(n,i,o,u){const l=O(),h=ps(2);l.firstUpdatePass&&Dy(l,null,h,u);const v=R();if(o!==pr&&Vs(v,h,o)){const S=l.data[K()];if(kg(S,u)&&!bf(l,h)){let N=u?S.classesWithoutHost:S.stylesWithoutHost;null!==N&&(o=Ze(N,o||"")),lg(l,S,v,o,u)}else!function Og(n,i,o,u,l,h,v,S){l===pr&&(l=Mt);let N=0,j=0,J=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==J||null!==ue;){const xe=N<l.length?l[N+1]:void 0,Qe=j<h.length?h[j+1]:void 0;let Kt,Tt=null;J===ue?(N+=2,j+=2,xe!==Qe&&(Tt=ue,Kt=Qe)):null===ue||null!==J&&J<ue?(N+=2,Tt=J):(j+=2,Tt=ue,Kt=Qe),null!==Tt&&Sf(n,i,o,u,Tt,Kt,v,S),J=N<l.length?l[N]:null,ue=j<h.length?h[j]:null}}(l,S,v,v[Ae],v[h+1],v[h+1]=function Pg(n,i,o){if(null==o||""===o)return Mt;const u=[],l=sl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}(Ng,$u,n,!0)}function $u(n,i){for(let o=function Tg(n){return function Tf(n){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=n.length}(n),_y(n,Du(n,0,mo.textEnd))}(i);o>=0;o=_y(i,o))Nt(n,If(i),!0)}function Za(n,i,o,u){const l=R(),h=O(),v=ps(2);h.firstUpdatePass&&Dy(h,n,v,u),i!==pr&&Vs(l,v,i)&&Sf(h,h.data[K()],l,l[Ae],n,l[v+1]=function Y_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Oe(sl(n)))),n}(i,o),u,v)}function bf(n,i){return i>=n.expandoStartIndex}function Dy(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[K()],v=bf(n,o);kg(h,u)&&null===i&&!v&&(i=!1),i=function Mg(n,i,o,u){const l=Ia(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hh(o=Rg(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Rg(l,n,i,o,u),null===h){let N=function Ty(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ml(u))return n[ec(u)]}(n,i,u);void 0!==N&&Array.isArray(N)&&(N=Rg(null,n,i,N[1],u),N=hh(N,i.attrs,u),function xg(n,i,o,u){n[ec(o?i.classBindings:i.styleBindings)]=u}(n,i,u,N))}else h=function Cy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=hh(u,n[h].hostAttrs,o);return hh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Ig(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,S=ec(v),N=ml(v);n[u]=o;let J,j=!1;if(Array.isArray(o)?(J=o[1],(null===J||bs(o,J)>0)&&(j=!0)):J=o,l)if(0!==N){const xe=ec(n[S+1]);n[u+1]=wf(xe,S),0!==xe&&(n[xe+1]=_g(n[xe+1],u)),n[S+1]=function vg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=wf(S,0),0!==S&&(n[S+1]=_g(n[S+1],u)),S=u;else n[u+1]=wf(N,0),0===S?S=u:n[N+1]=_g(n[N+1],u),N=u;j&&(n[u+1]=ch(n[u+1])),vy(n,J,u,!0),vy(n,J,u,!1),function yy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&bs(h,i)>=0&&(o[u+1]=wg(o[u+1]))}(i,J,n,u,h),v=wf(S,N),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}function Rg(n,i,o,u,l){let h=null;const v=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<v&&(h=i[S],u=hh(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function hh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Nt(n,v,!!o||i[++h]))}return void 0===n?null:n}function Ng(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&Nt(n,u,o)}function Sf(n,i,o,u,l,h,v,S){if(!(3&i.type))return;const N=n.data,j=N[S+1],J=function Eg(n){return 1==(1&n)}(j)?Sy(N,i,o,l,ml(j),v):void 0;Rc(J)||(Rc(h)||function W_(n){return 2==(2&n)}(j)&&(h=Sy(N,null,o,l,S,v)),function Bo(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:za.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=za.Important),n.setStyle(o,u,l,h))}}(u,v,fs(K(),o),l,h))}function Sy(n,i,o,u,l,h){const v=null===i;let S;for(;l>0;){const N=n[l],j=Array.isArray(N),J=j?N[1]:N,ue=null===J;let xe=o[l+1];xe===pr&&(xe=ue?Mt:void 0);let Qe=ue?ti(xe,u):J===u?xe:void 0;if(j&&!Rc(Qe)&&(Qe=ti(N,u)),Rc(Qe)&&(S=Qe,v))return S;const Tt=n[l+1];l=v?ec(Tt):ml(Tt)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(S=ti(N,u))}return S}function Rc(n){return void 0!==n}function kg(n,i){return 0!=(n.flags&(i?8:16))}function Fg(n,i=""){const o=R(),u=O(),l=n+Ir,h=u.firstCreatePass?ll(u,l,1,i,null):u.data[l],v=o[l]=function Al(n,i){return n.createText(i)}(o[Ae],i);vu(u,o,v,h),Lr(h,!1)}function tc(n){return fh("",n,""),tc}function fh(n,i,o){const u=R(),l=function Yl(n,i,o,u){return Vs(n,Dr(),o)?i+Ct(o)+u:pr}(u,n,i,o);return l!==pr&&function Na(n,i,o){const u=fs(i,n);!function Ys(n,i,o){n.setValue(i,o)}(n[Ae],u,o)}(u,K(),l),fh}function Id(n,i,o){const u=R();if(Vs(u,Dr(),i)){const h=O(),v=ce();Ka(h,v,u,n,i,function ey(n,i,o){return(null===n||dr(n))&&(o=function hs(n){for(;Array.isArray(n);){if("object"==typeof n[Do])return n;n=n[tr]}return null}(o[i.index])),o[Ae]}(Ia(h.data),v,u),o,!0)}return Id}const br=void 0;var Hy=["en",[["a","p"],["AM","PM"],br],[["AM","PM"],br,br],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],br,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],br,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",br,"{1} 'at' {0}",br],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jy(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let ju={};function ys(n){const i=function wE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=zy(i);if(o)return o;const u=i.split("-")[0];if(o=zy(u),o)return o;if("en"===u)return Hy;throw new tt(701,!1)}function Cu(n){return ys(n)[$n.PluralCase]}function zy(n){return n in ju||(ju[n]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[n]),ju[n]}var $n=(()=>(($n=$n||{})[$n.LocaleId=0]="LocaleId",$n[$n.DayPeriodsFormat=1]="DayPeriodsFormat",$n[$n.DayPeriodsStandalone=2]="DayPeriodsStandalone",$n[$n.DaysFormat=3]="DaysFormat",$n[$n.DaysStandalone=4]="DaysStandalone",$n[$n.MonthsFormat=5]="MonthsFormat",$n[$n.MonthsStandalone=6]="MonthsStandalone",$n[$n.Eras=7]="Eras",$n[$n.FirstDayOfWeek=8]="FirstDayOfWeek",$n[$n.WeekendRange=9]="WeekendRange",$n[$n.DateFormat=10]="DateFormat",$n[$n.TimeFormat=11]="TimeFormat",$n[$n.DateTimeFormat=12]="DateTimeFormat",$n[$n.NumberSymbols=13]="NumberSymbols",$n[$n.NumberFormats=14]="NumberFormats",$n[$n.CurrencyCode=15]="CurrencyCode",$n[$n.CurrencySymbol=16]="CurrencySymbol",$n[$n.CurrencyName=17]="CurrencyName",$n[$n.Currencies=18]="Currencies",$n[$n.Directionality=19]="Directionality",$n[$n.PluralCase=20]="PluralCase",$n[$n.ExtraData=21]="ExtraData",$n))();const nc="en-US";let Bs=nc;function ic(n,i,o,u,l){if(n=Ce(n),Array.isArray(n))for(let h=0;h<n.length;h++)ic(n[h],i,o,u,l);else{const h=O(),v=R();let S=yc(n)?n:Ce(n.provide),N=Bh(n);const j=He(),J=1048575&j.providerIndexes,ue=j.directiveStart,xe=j.providerIndexes>>20;if(yc(n)||!n.multi){const Qe=new ae(N,l,Fu),Tt=nm(S,i,l?J:J+xe,ue);-1===Tt?(da(ca(j,v),h,S),Cd(h,n,i.length),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Qe),v.push(Qe)):(o[Tt]=Qe,v[Tt]=Qe)}else{const Qe=nm(S,i,J+xe,ue),Tt=nm(S,i,J,J+xe),hn=Tt>=0&&o[Tt];if(l&&!hn||!l&&!(Qe>=0&&o[Qe])){da(ca(j,v),h,S);const Sn=function $E(n,i,o,u,l){const h=new ae(n,o,Fu);return h.multi=[],h.index=i,h.componentProviders=0,Uc(h,l,u&&!o),h}(l?BE:UE,o.length,l,u,N);!l&&hn&&(o[Tt].providerFactory=Sn),Cd(h,n,i.length,0),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Sn),v.push(Sn)}else Cd(h,n,Qe>-1?Qe:Tt,Uc(o[l?Tt:Qe],N,!l&&u));!l&&u&&hn&&o[Tt].componentProviders++}}}function Cd(n,i,o,u){const l=yc(i),h=function $d(n){return!!n.useClass}(i);if(l||h){const N=(h?Ce(i.useClass):i).prototype.ngOnDestroy;if(N){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=j.indexOf(o);-1===J?j.push(o,[u,N]):j[J+1].push(u,N)}else j.push(o,N)}}}function Uc(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function nm(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function UE(n,i,o,u){return Hu(this.multi,[])}function BE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=ri(o,o[Wt],this.providerFactory.index,u);h=S.slice(0,v),Hu(l,h);for(let N=v;N<S.length;N++)h.push(S[N])}else h=[],Hu(l,h);return h}function Hu(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function v0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Vc(n,i,o){const u=O();if(u.firstCreatePass){const l=dr(n);ic(o,u.data,u.blueprint,l,!0),ic(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class bd{}class _0{}function jE(n,i){return new dv(n,i??null)}class dv extends bd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yp(this);const u=Br(i);this._bootstrapComponents=Wa(u.bootstrap),this._r3Injector=Wh(i,o,[{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],Oe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rm extends _0{constructor(i){super(),this.moduleType=i}create(i){return new dv(this.moduleType,i)}}class zE extends bd{constructor(i,o,u){super(),this.componentFactoryResolver=new Yp(this),this.instance=null;const l=new dp([...i,{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],o||Hd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function im(n,i,o=null){return new zE(n,i,o).injector}let GE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=op(0,o.type),l=u.length>0?im([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=It({token:n,providedIn:"environment",factory:()=>new n(Rn(Bl))}),n})();function Sd(n){n.getStandaloneInjector=i=>i.get(GE).getOrCreateStandaloneInjector(n)}function mv(n,i,o,u){return function yv(n,i,o,u,l,h){const v=i+o;return Vs(n,v,l)?Oa(n,v+1,h?u.call(h,l):u(l)):Ad(n,v+1)}(R(),Kr(),n,i,o,u)}function A0(n,i,o,u,l){return function sm(n,i,o,u,l,h,v){const S=i+o;return function pl(n,i,o,u){const l=Vs(n,i,o);return Vs(n,i+1,u)||l}(n,S,l,h)?Oa(n,S+2,v?u.call(v,l,h):u(l,h)):Ad(n,S+2)}(R(),Kr(),n,i,o,u,l)}function Ad(n,i){const o=n[i];return o===pr?void 0:o}function Hf(n){return i=>{setTimeout(n,void 0,i)}}const zu=class N0 extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),v=N.complete?.bind(N)}this.__isAsync&&(h=Hf(h),l&&(l=Hf(l)),v&&(v=Hf(v)));const S=super.subscribe({next:l,error:h,complete:v});return i instanceof G.w0&&i.add(S),S}};function nw(){return this._results[Symbol.iterator]()}class Iv{get changes(){return this._changes||(this._changes=new zu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Iv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Yo(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=O0,n})();const zf=Ch,Dv=class extends zf{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Xd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[kn]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[$r];return null!==v&&(l[$r]=v.createEmbeddedView(u)),Lu(u,l,i),new Zl(l)}};function O0(){return am(He(),R())}function am(n,i){return 4&n.type?new Dv(i,n,Hl(n,i)):null}let Md=(()=>{class n{}return n.__NG_ELEMENT_ID__=k0,n})();function k0(){return bv(He(),R())}const F0=Md,Tv=class extends F0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ri(this._hostTNode,this._hostLView);if(dn(i)){const o=gi(i,this._hostLView),u=Fn(i);return new Oo(o[Wt].data[u+8],o)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Cv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Qr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Mu(n){return"function"==typeof n}(i);let S;if(v)S=o;else{const ue=o||{};S=ue.index,u=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const N=v?i:new nh(Xt(i)),j=u||this.parentInjector;if(!h&&null==N.ngModule){const xe=(v?j:this.parentInjector).get(Bl,null);xe&&(h=xe)}const J=N.create(j,l,void 0,h);return this.insert(J.hostView,S),J}insert(i,o){const u=i._lView,l=u[Wt];if(function vo(n){return is(n[vr])}(u)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ue=u[vr],xe=new Tv(ue,ue[ci],ue[vr]);xe.detach(xe.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=Qr+u,h=o.length;u>0&&(o[l-1][Qn]=i),u<h-Qr?(i[Qn]=o[l],pa(o,Qr+u,i)):(o.push(i),i[Qn]=null),i[vr]=o;const v=i[kn];null!==v&&o!==v&&function g(n,i){const o=n[Ji];i[vn]!==i[vr][vr][vn]&&(n[eo]=!0),null===o?n[Ji]=[i]:o.push(i)}(v,i);const S=i[$r];null!==S&&S.insertView(n),i[Cn]|=64}(l,u,v,h);const S=Pl(h,v),N=u[Ae],j=_a(N,v[zi]);return null!==j&&function ea(n,i,o,u,l,h){u[tr]=l,u[ci]=i,Pd(n,u,o,1,l,h)}(l,v[ci],N,u,j,S),i.attachToViewContainerRef(),pa(Gf(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Cv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=H(this._lContainer,o);u&&(Ba(Gf(this._lContainer),o),ee(u[Wt],u))}detach(i){const o=this._adjustIndex(i,-1),u=H(this._lContainer,o);return u&&null!=Ba(Gf(this._lContainer),o)?new Zl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Cv(n){return n[rs]}function Gf(n){return n[rs]||(n[rs]=[])}function bv(n,i){let o;const u=i[n.index];if(is(u))o=u;else{let l;if(8&n.type)l=zn(u);else{const h=i[Ae];l=h.createComment("");const v=di(n,i);Kn(h,_a(h,v),l,function Rd(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Ym(u,i,l,n),fd(i,o)}return new Tv(o,n,i)}class Sv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new Av(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Nv(i,o).matches&&this.queries[o].setDirty()}}class L0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Mv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Mv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class um{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new um(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,rw(o,h)),this.matchTNodeWithReadOption(i,o,du(o,i,h,!1,!1))}else u===Ch?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,du(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ul||l===Md||l===Ch&&4&o.type)this.addMatch(o.index,-2);else{const h=du(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function rw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function sw(n,i,o,u){return-1===o?function iw(n,i){return 11&n.type?Hl(n,i):4&n.type?am(n,i):null}(i,n):-2===o?function ow(n,i,o){return o===ul?Hl(i,n):o===Ch?am(i,n):o===Md?bv(i,n):void 0}(n,i,u):ri(n,n[Wt],o,i)}function V0(n,i,o,u){const l=i[$r].queries[u];if(null===l.matches){const h=n.data,v=o.matches,S=[];for(let N=0;N<v.length;N+=2){const j=v[N];S.push(j<0?null:sw(i,h[j],v[N+1],o.metadata.read))}l.matches=S}return l.matches}function xv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=V0(n,i,l,o);for(let S=0;S<h.length;S+=2){const N=h[S];if(N>0)u.push(v[S/2]);else{const j=h[S+1],J=i[-N];for(let ue=Qr;ue<J.length;ue++){const xe=J[ue];xe[kn]===xe[vr]&&xv(xe[Wt],xe,j,u)}if(null!==J[Ji]){const ue=J[Ji];for(let xe=0;xe<ue.length;xe++){const Qe=ue[xe];xv(Qe[Wt],Qe,j,u)}}}}}return u}function U0(n){const i=R(),o=O(),u=Da();Ta(u+1);const l=Nv(o,u);if(n.dirty&&function Is(n){return 4==(4&n[Cn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?xv(o,i,u,[]):V0(o,i,l,u);n.reset(h,Gd),n.notifyOnChanges()}return!0}return!1}function B0(n,i,o){const u=O();u.firstCreatePass&&(j0(u,new L0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),Pv(u,R(),i)}function Rv(n,i,o,u){const l=O();if(l.firstCreatePass){const h=He();j0(l,new L0(i,o,u),h.index),function uw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}Pv(l,R(),o)}function $0(){return function aw(n,i){return n[$r].queries[i].queryList}(R(),Da())}function Pv(n,i,o){const u=new Iv(4==(4&o));Bp(n,i,u,u.destroy),null===i[$r]&&(i[$r]=new Av),i[$r].queries.push(new Sv(u))}function j0(n,i,o){null===n.queries&&(n.queries=new Mv),n.queries.track(new um(i,o))}function Nv(n,i){return n.queries.getByIndex(i)}function H0(n,i){return am(n,i)}function Ov(n){return!!Br(n)}function bu(...n){}const _w=new Jn("Application Initializer");let Vv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=bu,this.reject=bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(uh(h))o.push(h);else if(Mc(h)){const v=new Promise((S,N)=>{h.subscribe({complete:S,error:N})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Rn(_w,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=new Jn("AppId",{providedIn:"root",factory:function ww(){return`${nE()}${nE()}${nE()}`}});function nE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new Jn("Platform Initializer"),rI=new Jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Jn("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Uv=new Jn("LocaleId",{providedIn:"root",factory:()=>Mr(Uv,Ft.Optional|Ft.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||nc}()}),aI=new Jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new rm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Wa(Br(o).declarations).reduce((v,S)=>{const N=Xt(S);return N&&v.push(new nh(N)),v},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function rE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zu(!1),this.onMicrotaskEmpty=new zu(!1),this.onStable=new zu(!1),this.onError=new zu(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=Yn.requestAnimationFrame,i=Yn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sE(n),n.isCheckStableRunning=!0,iE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,S)=>{try{return Cw(n),o.invokeTask(l,h,v,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),bw(n)}},onInvoke:(o,u,l,h,v,S,N)=>{try{return Cw(n),o.invoke(l,h,v,S,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),bw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,sE(n),iE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new tt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,bu,bu);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function iE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Cw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bw(n){n._nesting--,iE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zu,this.onMicrotaskEmpty=new zu,this.onStable=new zu,this.onError=new zu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Sw=new Jn(""),Aw=new Jn("");let oE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oE||(function _I(n){oE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),rE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Rn(Gu),Rn(Mw),Rn(Aw))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return oE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let xd=null;const xw=new Jn("AllowMultipleToken"),aE=new Jn("PlatformDestroyListeners"),Rw=new Jn("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Nw(n,i,o=[]){const u=`Platform: ${i}`,l=new Jn(u);return(h=[])=>{let v=uE();if(!v||v.injector.get(xw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(xd&&!xd.get(xw,!1))throw new tt(400,!1);xd=n;const i=n.get(kw);(function Pw(n){const i=n.get(Iw,null);i&&i.forEach(o=>o())})(n)}(function Ow(n=[],i){return Wl.create({name:i,providers:[{provide:cp,useValue:"platform"},{provide:aE,useValue:new Set([()=>xd=null])},...n]})}(S,u))}return function CI(n){const i=uE();if(!i)throw new tt(401,!1);return i}()}}function uE(){return xd?.get(kw)??null}let kw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Lw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new Gu(i),o}(u?.ngZone,function Fw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Gu,useValue:l}];return l.run(()=>{const v=Wl.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(v),N=S.injector.get(Wd,null);if(!N)throw new tt(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:J=>{N.handleError(J)}});S.onDestroy(()=>{$v(this._modules,S),j.unsubscribe()})}),function Vw(n,i,o){try{const u=o();return uh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(N,l,()=>{const j=S.injector.get(Vv);return j.runInitializers(),j.donePromise.then(()=>(function qg(n){kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Bs=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Uv,nc)||nc),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Uw({},u);return function EI(n,i,o){const u=new rm(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Bv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new tt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(aE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Rn(Wl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Uw(n,i){return Array.isArray(i)?i.reduce(Uw,n):{...n,...i}}let Bv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new q.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new q.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),rE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),j.unsubscribe()}});this.isStable=(0,De.T)(h,v.pipe((0,Se.B)()))}bootstrap(o,u){const l=o instanceof pp;if(!this._injector.get(Vv).done){!l&&Nr(o);throw new tt(405,$c)}let v;v=l?o:this._injector.get(nd).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const S=function wI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(bd),j=v.create(Wl.NULL,[],u||v.selector,S),J=j.location.nativeElement,ue=j.injector.get(Sw,null);return ue?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),$v(this.components,j),ue?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;$v(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Rw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$v(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new tt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Rn(Gu),Rn(Bl),Rn(Wd))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $v(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function xI(n,i,o){if(zs(n)&&!o){const u=Jr(n.index,i);return new Zl(u,u)}return 47&n.type?new Zl(i[vn],i):null}(He(),R(),16==(16&n))}class zw{constructor(){}supports(i){return cf(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<Ww(u,l,h)?o:u,S=Ww(v,l,h),N=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const j=S-l,J=N-l;if(j!=J){for(let xe=0;xe<j;xe++){const Qe=xe<h.length?h[xe]:h[xe]=0,Tt=Qe+xe;J<=Tt&&Tt<j&&(h[xe]=Qe+1)}h[v.previousIndex]=J-j}}S!==N&&i(v,S,N)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!cf(i))throw new tt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],v=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,S),u=!0),o=o._next}else l=0,function sg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{v=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,S,v,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ww(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Kw{constructor(){}supports(i){return i instanceof Map||og(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||og(i)))throw new tt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qw(){return new fE([new zw])}let fE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||qw()),deps:[[n,new Mi,new Zt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new tt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:qw}),n})();function Zw(){return new pE([new Kw])}let pE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Zw()),deps:[[n,new Mi,new Zt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new tt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:Zw}),n})();const HI=Nw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Rn(Bv))},n.\u0275mod=Ve({type:n}),n.\u0275inj=Zn({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(an,at,W)=>{W.d(at,{Fj:()=>Be,NI:()=>vn,u:()=>ls,cw:()=>Ye,sg:()=>as,u5:()=>oo,JJ:()=>Yn,JL:()=>gn,On:()=>Ji,UX:()=>wa,kI:()=>sn,_Y:()=>Qr});var p=W(4650),G=W(6895),q=W(8996),De=W(9751),Se=W(4742),we=W(8421),je=W(7669),Oe=W(5403),Ze=W(3268),de=W(1810),Ce=W(4004);let ht=(()=>{class R{constructor(k,X){this._renderer=k,this._elementRef=X,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(k,X){this._renderer.setProperty(this._elementRef.nativeElement,k,X)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),dt=(()=>{class R extends ht{}return R.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(R)))(X||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const At=new p.OlP("NgValueAccessor"),pt={provide:At,useExisting:(0,p.Gpc)(()=>Be),multi:!0},bt=new p.OlP("CompositionEventMode");let Be=(()=>{class R extends ht{constructor(k,X,He){super(k,X),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ct(){const R=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(bt,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(pn){return X._handleInput(pn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(pn){return X._compositionEnd(pn.target.value)})},features:[p._Bn([pt]),p.qOj]}),R})();const _e=!1;function Xe(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}function Dt(R){return null!=R&&"number"==typeof R.length}const st=new p.OlP("NgValidators"),ke=new p.OlP("NgAsyncValidators"),Ot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sn{static min(O){return function zt(R){return O=>{if(Xe(O.value)||Xe(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k<R?{min:{min:R,actual:O.value}}:null}}(O)}static max(O){return function _n(R){return O=>{if(Xe(O.value)||Xe(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k>R?{max:{max:R,actual:O.value}}:null}}(O)}static required(O){return function Ut(R){return Xe(R.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Ue(R){return!0===R.value?null:{required:!0}}(O)}static email(O){return function nt(R){return Xe(R.value)||Ot.test(R.value)?null:{email:!0}}(O)}static minLength(O){return function Ke(R){return O=>Xe(O.value)||!Dt(O.value)?null:O.value.length<R?{minlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function lt(R){return O=>Dt(O.value)&&O.value.length>R?{maxlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static pattern(O){return function wt(R){if(!R)return ct;let O,k;return"string"==typeof R?(k="","^"!==R.charAt(0)&&(k+="^"),k+=R,"$"!==R.charAt(R.length-1)&&(k+="$"),O=new RegExp(k)):(k=R.toString(),O=R),X=>{if(Xe(X.value))return null;const He=X.value;return O.test(He)?null:{pattern:{requiredPattern:k,actualValue:He}}}}(O)}static nullValidator(O){return null}static compose(O){return jt(O)}static composeAsync(O){return jn(O)}}function ct(R){return null}function kt(R){return null!=R}function Te(R){const O=(0,p.QGY)(R)?(0,q.D)(R):R;if(_e&&!(0,p.CqO)(O)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof R&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,k)}return O}function qe(R){let O={};return R.forEach(k=>{O=null!=k?{...O,...k}:O}),0===Object.keys(O).length?null:O}function ye(R,O){return O.map(k=>k(R))}function It(R){return R.map(O=>function Le(R){return!R.validate}(O)?O:k=>O.validate(k))}function jt(R){if(!R)return null;const O=R.filter(kt);return 0==O.length?null:function(k){return qe(ye(k,O))}}function Zn(R){return null!=R?jt(It(R)):null}function jn(R){if(!R)return null;const O=R.filter(kt);return 0==O.length?null:function(k){return function he(...R){const O=(0,je.jO)(R),{args:k,keys:X}=(0,Se.D)(R),He=new De.y(pn=>{const{length:Cr}=k;if(!Cr)return void pn.complete();const Lr=new Array(Cr);let Vi=Cr,Ks=Cr;for(let Po=0;Po<Cr;Po++){let pi=!1;(0,we.Xf)(k[Po]).subscribe((0,Oe.x)(pn,Si=>{pi||(pi=!0,Ks--),Lr[Po]=Si},()=>Vi--,void 0,()=>{(!Vi||!pi)&&(Ks||pn.next(X?(0,de.n)(X,Lr):Lr),pn.complete())}))}});return O?He.pipe((0,Ze.Z)(O)):He}(ye(k,O).map(Te)).pipe((0,Ce.U)(qe))}}function wr(R){return null!=R?jn(It(R)):null}function gr(R,O){return null===R?[O]:Array.isArray(R)?[...R,O]:[R,O]}function mr(R){return R._rawValidators}function cr(R){return R._rawAsyncValidators}function zr(R){return R?Array.isArray(R)?R:[R]:[]}function ln(R,O){return Array.isArray(R)?R.includes(O):R===O}function Gr(R,O){const k=zr(O);return zr(R).forEach(He=>{ln(k,He)||k.push(He)}),k}function Mn(R,O){return zr(O).filter(k=>!ln(R,k))}class Ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Zn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,k){return!!this.control&&this.control.hasError(O,k)}getError(O,k){return this.control?this.control.getError(O,k):null}}class Hn extends Ft{get formDirective(){return null}get path(){return null}}class Pr extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yn=(()=>{class R extends ir{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Pr,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),R})(),gn=(()=>{class R extends ir{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Hn,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),R})();function _t(R,O){return R?`with name: '${O}'`:`at index: ${O}`}const be=!1,We="VALID",ft="INVALID",oe="PENDING",se="DISABLED";function pe(R){return(me(R)?R.validators:R)||null}function Re(R,O){return(me(O)?O.asyncValidators:R)||null}function me(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class fe{constructor(O,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===We}get invalid(){return this.status===ft}get pending(){return this.status==oe}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(Gr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Gr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Mn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Mn(O,this._rawAsyncValidators))}hasValidator(O){return ln(this._rawValidators,O)}hasAsyncValidator(O){return ln(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=oe,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=se,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=We,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===We||this.status===oe)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:We}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;const k=Te(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,k={}){this.errors=O,this._updateControlsErrors(!1!==k.emitEvent)}get(O){let k=O;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((X,He)=>X&&X._find(He),this)}getError(O,k){const X=k?this.get(k):this;return X&&X.errors?X.errors[O]:null}hasError(O,k){return!!this.getError(O,k)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(ft)?ft:We}_anyControlsHaveStatus(O){return this._anyControls(k=>k.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){me(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function $e(R){return Array.isArray(R)?Zn(R):R||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function Mt(R){return Array.isArray(R)?wr(R):R||null}(this._rawAsyncValidators)}}class Ye extends fe{constructor(O,k,X){super(pe(k),Re(X,k)),this.controls=O,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,k){return this.controls[O]?this.controls[O]:(this.controls[O]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(O,k,X={}){this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(O,k={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(O,k,X={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],k&&this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,k={}){(function ne(R,O,k){R._forEachChild((X,He)=>{if(void 0===k[He])throw new p.vHH(1002,be?function re(R,O){return`Must supply a value for form control ${_t(R,O)}`}(O,He):"")})})(this,!0,O),Object.keys(O).forEach(X=>{(function le(R,O,k){const X=R.controls;if(!(O?Object.keys(X):X).length)throw new p.vHH(1e3,be?function Mr(R){return`\n    There are no form controls registered with this ${R?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(O):"");if(!X[k])throw new p.vHH(1001,be?function it(R,O){return`Cannot find form control ${_t(R,O)}`}(O,k):"")})(this,!0,X),this.controls[X].setValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(O,k={}){null!=O&&(Object.keys(O).forEach(X=>{const He=this.controls[X];He&&He.patchValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(O={},k={}){this._forEachChild((X,He)=>{X.reset(O[He],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(O,k,X)=>(O[X]=k.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(k,X)=>!!X._syncPendingControls()||k);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(k=>{const X=this.controls[k];X&&O(X,k)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[k,X]of Object.entries(this.controls))if(this.contains(k)&&O(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,X,He)=>((X.enabled||this.disabled)&&(k[He]=X.value),k))}_reduceChildren(O,k){let X=O;return this._forEachChild((He,pn)=>{X=k(X,He,pn)}),X}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}const er=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ot}),ot="always";function Ve(R,O){return[...O.path,R]}function St(R,O,k=ot){Xt(R,O),O.valueAccessor.writeValue(R.value),(R.disabled||"always"===k)&&O.valueAccessor.setDisabledState?.(R.disabled),function qn(R,O){O.valueAccessor.registerOnChange(k=>{R._pendingValue=k,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Br(R,O)})}(R,O),function $s(R,O){const k=(X,He)=>{O.valueAccessor.writeValue(X),He&&O.viewToModelUpdate(X)};R.registerOnChange(k),O._registerOnDestroy(()=>{R._unregisterOnChange(k)})}(R,O),function Nr(R,O){O.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Br(R,O),"submit"!==R.updateOn&&R.markAsTouched()})}(R,O),function In(R,O){if(O.valueAccessor.setDisabledState){const k=X=>{O.valueAccessor.setDisabledState(X)};R.registerOnDisabledChange(k),O._registerOnDestroy(()=>{R._unregisterOnDisabledChange(k)})}}(R,O)}function Qt(R,O,k=!0){const X=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(X),O.valueAccessor.registerOnTouched(X)),On(R,O),R&&(O._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function fn(R,O){R.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(O)})}function Xt(R,O){const k=mr(R);null!==O.validator?R.setValidators(gr(k,O.validator)):"function"==typeof k&&R.setValidators([k]);const X=cr(R);null!==O.asyncValidator?R.setAsyncValidators(gr(X,O.asyncValidator)):"function"==typeof X&&R.setAsyncValidators([X]);const He=()=>R.updateValueAndValidity();fn(O._rawValidators,He),fn(O._rawAsyncValidators,He)}function On(R,O){let k=!1;if(null!==R){if(null!==O.validator){const He=mr(R);if(Array.isArray(He)&&He.length>0){const pn=He.filter(Cr=>Cr!==O.validator);pn.length!==He.length&&(k=!0,R.setValidators(pn))}}if(null!==O.asyncValidator){const He=cr(R);if(Array.isArray(He)&&He.length>0){const pn=He.filter(Cr=>Cr!==O.asyncValidator);pn.length!==He.length&&(k=!0,R.setAsyncValidators(pn))}}}const X=()=>{};return fn(O._rawValidators,X),fn(O._rawAsyncValidators,X),k}function Br(R,O){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function ns(R,O){if(!R.hasOwnProperty("model"))return!1;const k=R.model;return!!k.isFirstChange()||!Object.is(O,k.currentValue)}function Fr(R,O){if(!O)return null;let k,X,He;return Array.isArray(O),O.forEach(pn=>{pn.constructor===Be?k=pn:function ci(R){return Object.getPrototypeOf(R.constructor)===dt}(pn)?X=pn:He=pn}),He||X||k||null}function yn(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}function Pn(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const vn=class extends fe{constructor(O=null,k,X){super(pe(k),Re(X,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),me(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Pn(O)?O.value:O)}setValue(O,k={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(O,k={}){this.setValue(O,k)}reset(O=this.defaultValue,k={}){this._applyFormState(O),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){yn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){yn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){Pn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},zi={provide:Pr,useExisting:(0,p.Gpc)(()=>Ji)},rs=(()=>Promise.resolve())();let Ji=(()=>{class R extends Pr{constructor(k,X,He,pn,Cr,Lr){super(),this._changeDetectorRef=Cr,this.callSetDisabledState=Lr,this.control=new vn,this._registered=!1,this.update=new p.vpe,this._parent=k,this._setValidators(X),this._setAsyncValidators(He),this.valueAccessor=Fr(0,pn)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const X=k.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),ns(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){rs.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const X=k.isDisabled.currentValue,He=0!==X&&(0,p.D6c)(X);rs.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?Ve(k,this._parent):[k]}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Hn,9),p.Y36(st,10),p.Y36(ke,10),p.Y36(At,10),p.Y36(p.sBO,8),p.Y36(er,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([zi]),p.qOj,p.TTD]}),R})(),Qr=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),zs=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})();const to=new p.OlP("NgModelWithFormControlWarning"),To={provide:Hn,useExisting:(0,p.Gpc)(()=>as)};let as=(()=>{class R extends Hn{constructor(k,X,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(k),this._setAsyncValidators(X)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(On(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const X=this.form.get(k.path);return St(X,k,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),X}getControl(k){return this.form.get(k.path)}removeControl(k){Qt(k.control||null,k,!1),function Ne(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,X){this.form.get(k.path).setValue(X)}onSubmit(k){return this.submitted=!0,function _s(R,O){R._syncPendingControls(),O.forEach(k=>{const X=k.control;"submit"===X.updateOn&&X._pendingChange&&(k.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const X=k.control,He=this.form.get(k.path);X!==He&&(Qt(X||null,k),(R=>R instanceof vn)(He)&&(St(He,k,this.callSetDisabledState),k.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const X=this.form.get(k.path);(function js(R,O){Xt(R,O)})(X,k),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const X=this.form.get(k.path);X&&function ji(R,O){return On(R,O)}(X,k)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xt(this.form,this),this._oldForm&&On(this._oldForm,this)}_checkFormPresent(){}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(st,10),p.Y36(ke,10),p.Y36(er,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroup",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(pn){return X.onSubmit(pn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([To]),p.qOj,p.TTD]}),R})();const bo={provide:Pr,useExisting:(0,p.Gpc)(()=>ls)};let ls=(()=>{class R extends Pr{set isDisabled(k){}constructor(k,X,He,pn,Cr){super(),this._ngModelWarningConfig=Cr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(X),this._setAsyncValidators(He),this.valueAccessor=Fr(0,pn)}ngOnChanges(k){this._added||this._setUpControl(),ns(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return R._ngModelWarningSentOnce=!1,R.\u0275fac=function(k){return new(k||R)(p.Y36(Hn,13),p.Y36(st,10),p.Y36(ke,10),p.Y36(At,10),p.Y36(to,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([bo]),p.qOj,p.TTD]}),R})(),ni=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[zs]}),R})(),oo=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:er,useValue:k.callSetDisabledState??ot}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ni]}),R})(),wa=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:to,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:er,useValue:k.callSetDisabledState??ot}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ni]}),R})()},1481:(an,at,W)=>{W.d(at,{Dx:()=>gn,H7:()=>pe,b2:()=>Pr,q6:()=>Gr,se:()=>Ut});var p=W(6895),G=W(4650);class q extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends q{static makeCurrent(){(0,p.HT)(new De)}onAndCancel(le,ne,fe){return le.addEventListener(ne,fe,!1),()=>{le.removeEventListener(ne,fe,!1)}}dispatchEvent(le,ne){le.dispatchEvent(ne)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,ne){return(ne=ne||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,ne){return"window"===ne?window:"document"===ne?le:"body"===ne?le.body:null}getBaseHref(le){const ne=function we(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==ne?null:function Oe(me){je=je||document.createElement("a"),je.setAttribute("href",me);const le=je.pathname;return"/"===le.charAt(0)?le:`/${le}`}(ne)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,p.Mx)(document.cookie,le)}}let je,Se=null;const Ze=new G.OlP("TRANSITION_ID"),he=[{provide:G.ip1,useFactory:function de(me,le,ne){return()=>{ne.get(G.CZH).donePromise.then(()=>{const fe=(0,p.q)(),Ye=le.querySelectorAll(`style[ng-transition="${me}"]`);for(let Pt=0;Pt<Ye.length;Pt++)fe.remove(Ye[Pt])})}},deps:[Ze,p.K0,G.zs3],multi:!0}];let ht=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();const dt=new G.OlP("EventManagerPlugins");let At=(()=>{class me{constructor(ne,fe){this._zone=fe,this._eventNameToPlugin=new Map,ne.forEach(Ye=>{Ye.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,fe,Ye){return this._findPluginFor(fe).addEventListener(ne,fe,Ye)}addGlobalEventListener(ne,fe,Ye){return this._findPluginFor(fe).addGlobalEventListener(ne,fe,Ye)}getZone(){return this._zone}_findPluginFor(ne){const fe=this._eventNameToPlugin.get(ne);if(fe)return fe;const Ye=this._plugins;for(let Pt=0;Pt<Ye.length;Pt++){const on=Ye[Pt];if(on.supports(ne))return this._eventNameToPlugin.set(ne,on),on}throw new Error(`No event manager plugin found for event ${ne}`)}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(dt),G.LFG(G.R0b))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();class Rt{constructor(le){this._doc=le}addGlobalEventListener(le,ne,fe){const Ye=(0,p.q)().getGlobalEventTarget(this._doc,le);if(!Ye)throw new Error(`Unsupported event target ${Ye} for event ${ne}`);return this.addEventListener(Ye,ne,fe)}}let tt=(()=>{class me{constructor(){this.usageCount=new Map}addStyles(ne){for(const fe of ne)1===this.changeUsageCount(fe,1)&&this.onStyleAdded(fe)}removeStyles(ne){for(const fe of ne)0===this.changeUsageCount(fe,-1)&&this.onStyleRemoved(fe)}onStyleRemoved(ne){}onStyleAdded(ne){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ne,fe){const Ye=this.usageCount;let Pt=Ye.get(ne)??0;return Pt+=fe,Pt>0?Ye.set(ne,Pt):Ye.delete(ne),Pt}ngOnDestroy(){for(const ne of this.getAllStyles())this.onStyleRemoved(ne);this.usageCount.clear()}}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})(),pt=(()=>{class me extends tt{constructor(ne){super(),this.doc=ne,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ne){for(const fe of this.hostNodes)this.addStyleToHost(fe,ne)}onStyleRemoved(ne){const fe=this.styleRef;fe.get(ne)?.forEach(Pt=>Pt.remove()),fe.delete(ne)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const fe of this.getAllStyles())this.addStyleToHost(ne,fe)}removeHost(ne){this.hostNodes.delete(ne)}addStyleToHost(ne,fe){const Ye=this.doc.createElement("style");Ye.textContent=fe,ne.appendChild(Ye);const Pt=this.styleRef.get(fe);Pt?Pt.push(Ye):this.styleRef.set(fe,[Ye])}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(p.K0))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g,ke=new G.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function zt(me,le){return le.flat(100).map(ne=>ne.replace(bt,me))}function _n(me){return le=>{if("__ngUnwrap__"===le)return me;!1===me(le)&&(le.preventDefault(),le.returnValue=!1)}}let Ut=(()=>{class me{constructor(ne,fe,Ye,Pt){this.eventManager=ne,this.sharedStylesHost=fe,this.appId=Ye,this.removeStylesOnCompDestory=Pt,this.rendererByCompId=new Map,this.defaultRenderer=new Ue(ne)}createRenderer(ne,fe){if(!ne||!fe)return this.defaultRenderer;const Ye=this.getOrCreateRenderer(ne,fe);return Ye instanceof kt?Ye.applyToHost(ne):Ye instanceof ct&&Ye.applyStyles(),Ye}getOrCreateRenderer(ne,fe){const Ye=this.rendererByCompId;let Pt=Ye.get(fe.id);if(!Pt){const on=this.eventManager,Ln=this.sharedStylesHost,sr=this.removeStylesOnCompDestory;switch(fe.encapsulation){case G.ifc.Emulated:Pt=new kt(on,Ln,fe,this.appId,sr);break;case G.ifc.ShadowDom:return new wt(on,Ln,ne,fe);default:Pt=new ct(on,Ln,fe,sr)}Pt.onDestroy=()=>Ye.delete(fe.id),Ye.set(fe.id,Pt)}return Pt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(At),G.LFG(pt),G.LFG(G.AFp),G.LFG(ke))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();class Ue{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,ne){return ne?document.createElementNS(Ct[ne]||ne,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,ne){(lt(le)?le.content:le).appendChild(ne)}insertBefore(le,ne,fe){le&&(lt(le)?le.content:le).insertBefore(ne,fe)}removeChild(le,ne){le&&le.removeChild(ne)}selectRootElement(le,ne){let fe="string"==typeof le?document.querySelector(le):le;if(!fe)throw new Error(`The selector "${le}" did not match any elements`);return ne||(fe.textContent=""),fe}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,ne,fe,Ye){if(Ye){ne=Ye+":"+ne;const Pt=Ct[Ye];Pt?le.setAttributeNS(Pt,ne,fe):le.setAttribute(ne,fe)}else le.setAttribute(ne,fe)}removeAttribute(le,ne,fe){if(fe){const Ye=Ct[fe];Ye?le.removeAttributeNS(Ye,ne):le.removeAttribute(`${fe}:${ne}`)}else le.removeAttribute(ne)}addClass(le,ne){le.classList.add(ne)}removeClass(le,ne){le.classList.remove(ne)}setStyle(le,ne,fe,Ye){Ye&(G.JOm.DashCase|G.JOm.Important)?le.style.setProperty(ne,fe,Ye&G.JOm.Important?"important":""):le.style[ne]=fe}removeStyle(le,ne,fe){fe&G.JOm.DashCase?le.style.removeProperty(ne):le.style[ne]=""}setProperty(le,ne,fe){le[ne]=fe}setValue(le,ne){le.nodeValue=ne}listen(le,ne,fe){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,ne,_n(fe)):this.eventManager.addEventListener(le,ne,_n(fe))}}function lt(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class wt extends Ue{constructor(le,ne,fe,Ye){super(le),this.sharedStylesHost=ne,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=zt(Ye.id,Ye.styles);for(const on of Pt){const Ln=document.createElement("style");Ln.textContent=on,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,ne){return super.appendChild(this.nodeOrShadowRoot(le),ne)}insertBefore(le,ne,fe){return super.insertBefore(this.nodeOrShadowRoot(le),ne,fe)}removeChild(le,ne){return super.removeChild(this.nodeOrShadowRoot(le),ne)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ct extends Ue{constructor(le,ne,fe,Ye,Pt=fe.id){super(le),this.sharedStylesHost=ne,this.removeStylesOnCompDestory=Ye,this.rendererUsageCount=0,this.styles=zt(Pt,fe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class kt extends ct{constructor(le,ne,fe,Ye,Pt){const on=Ye+"-"+fe.id;super(le,ne,fe,Pt,on),this.contentAttr=function Ot(me){return"_ngcontent-%COMP%".replace(bt,me)}(on),this.hostAttr=function sn(me){return"_nghost-%COMP%".replace(bt,me)}(on)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,ne){const fe=super.createElement(le,ne);return super.setAttribute(fe,this.contentAttr,""),fe}}let Te=(()=>{class me extends Rt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,fe,Ye){return ne.addEventListener(fe,Ye,!1),()=>this.removeEventListener(ne,fe,Ye)}removeEventListener(ne,fe,Ye){return ne.removeEventListener(fe,Ye)}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(p.K0))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();const qe=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let It=(()=>{class me extends Rt{constructor(ne){super(ne)}supports(ne){return null!=me.parseEventName(ne)}addEventListener(ne,fe,Ye){const Pt=me.parseEventName(fe),on=me.eventCallback(Pt.fullKey,Ye,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ne,Pt.domEventName,on))}static parseEventName(ne){const fe=ne.toLowerCase().split("."),Ye=fe.shift();if(0===fe.length||"keydown"!==Ye&&"keyup"!==Ye)return null;const Pt=me._normalizeKey(fe.pop());let on="",Ln=fe.indexOf("code");if(Ln>-1&&(fe.splice(Ln,1),on="code."),qe.forEach(er=>{const ot=fe.indexOf(er);ot>-1&&(fe.splice(ot,1),on+=er+".")}),on+=Pt,0!=fe.length||0===Pt.length)return null;const sr={};return sr.domEventName=Ye,sr.fullKey=on,sr}static matchEventFullKeyCode(ne,fe){let Ye=ye[ne.key]||ne.key,Pt="";return fe.indexOf("code.")>-1&&(Ye=ne.code,Pt="code."),!(null==Ye||!Ye)&&(Ye=Ye.toLowerCase()," "===Ye?Ye="space":"."===Ye&&(Ye="dot"),qe.forEach(on=>{on!==Ye&&(0,Le[on])(ne)&&(Pt+=on+".")}),Pt+=Ye,Pt===fe)}static eventCallback(ne,fe,Ye){return Pt=>{me.matchEventFullKeyCode(Pt,ne)&&Ye.runGuarded(()=>fe(Pt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(p.K0))},me.\u0275prov=G.Yz7({token:me,factory:me.\u0275fac}),me})();const Gr=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:p.bD},{provide:G.g9A,useValue:function mr(){De.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function zr(){return(0,G.RDi)(document),document},deps:[]}]),Mn=new G.OlP(""),Ft=[{provide:G.rWj,useClass:class Ce{addToWindow(le){G.dqk.getAngularTestability=(fe,Ye=!0)=>{const Pt=le.findTestabilityInTree(fe,Ye);if(null==Pt)throw new Error("Could not find testability for element.");return Pt},G.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(fe=>{const Ye=G.dqk.getAllAngularTestabilities();let Pt=Ye.length,on=!1;const Ln=function(sr){on=on||sr,Pt--,0==Pt&&fe(on)};Ye.forEach(function(sr){sr.whenStable(Ln)})})}findTestabilityInTree(le,ne,fe){return null==ne?null:le.getTestability(ne)??(fe?(0,p.q)().isShadowRoot(ne)?this.findTestabilityInTree(le,ne.host,!0):this.findTestabilityInTree(le,ne.parentElement,!0):null)}},deps:[]},{provide:G.lri,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]}],Hn=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function cr(){return new G.qLn},deps:[]},{provide:dt,useClass:Te,multi:!0,deps:[p.K0,G.R0b,G.Lbi]},{provide:dt,useClass:It,multi:!0,deps:[p.K0]},{provide:Ut,useClass:Ut,deps:[At,pt,G.AFp,ke]},{provide:G.FYo,useExisting:Ut},{provide:tt,useExisting:pt},{provide:pt,useClass:pt,deps:[p.K0]},{provide:At,useClass:At,deps:[dt,G.R0b]},{provide:p.JF,useClass:ht,deps:[]},[]];let Pr=(()=>{class me{constructor(ne){}static withServerTransition(ne){return{ngModule:me,providers:[{provide:G.AFp,useValue:ne.appId},{provide:Ze,useExisting:G.AFp},he]}}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(Mn,12))},me.\u0275mod=G.oAB({type:me}),me.\u0275inj=G.cJS({providers:[...Hn,...Ft],imports:[p.ez,G.hGG]}),me})(),gn=(()=>{class me{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(p.K0))},me.\u0275prov=G.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new ne:function Yn(){return new gn((0,G.LFG)(p.K0))}(),fe},providedIn:"root"}),me})();typeof window<"u"&&window;let pe=(()=>{class me{}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=G.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new(ne||me):G.LFG(Re),fe},providedIn:"root"}),me})(),Re=(()=>{class me extends pe{constructor(ne){super(),this._doc=ne}sanitize(ne,fe){if(null==fe)return null;switch(ne){case G.q3G.NONE:return fe;case G.q3G.HTML:return(0,G.qzn)(fe,"HTML")?(0,G.z3N)(fe):(0,G.EiD)(this._doc,String(fe)).toString();case G.q3G.STYLE:return(0,G.qzn)(fe,"Style")?(0,G.z3N)(fe):fe;case G.q3G.SCRIPT:if((0,G.qzn)(fe,"Script"))return(0,G.z3N)(fe);throw new Error("unsafe value used in a script context");case G.q3G.URL:return(0,G.qzn)(fe,"URL")?(0,G.z3N)(fe):(0,G.mCW)(String(fe));case G.q3G.RESOURCE_URL:if((0,G.qzn)(fe,"ResourceURL"))return(0,G.z3N)(fe);throw new Error(`unsafe value used in a resource URL context (see ${G.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ne} (see ${G.JZr})`)}}bypassSecurityTrustHtml(ne){return(0,G.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,G.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,G.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,G.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,G.pB0)(ne)}}return me.\u0275fac=function(ne){return new(ne||me)(G.LFG(p.K0))},me.\u0275prov=G.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new ne:function $e(me){return new Re(me.get(p.K0))}(G.LFG(G.zs3)),fe},providedIn:"root"}),me})()},6647:(an,at,W)=>{W.d(at,{F0:()=>ii,rH:()=>ha,Bz:()=>Ii,lC:()=>Or});var p=W(4650),G=W(8996),q=W(9646),De=W(7579);class Se extends De.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:T}=this;if(E)throw m;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}var we=W(6805),je=W(9751),Oe=W(4742),Ze=W(4671),de=W(3268),he=W(7669),Ce=W(1810),ht=W(5403),dt=W(9672);function At(...y){const E=(0,he.yG)(y),m=(0,he.jO)(y),{args:T,keys:M}=(0,Oe.D)(y);if(0===T.length)return(0,G.D)([],E);const V=new je.y(function Rt(y,E,m=Ze.y){return T=>{tt(E,()=>{const{length:M}=y,V=new Array(M);let Y=M,Me=M;for(let yt=0;yt<M;yt++)tt(E,()=>{const tn=(0,G.D)(y[yt],E);let Zt=!1;tn.subscribe((0,ht.x)(T,_r=>{V[yt]=_r,Zt||(Zt=!0,Me--),Me||T.next(m(V.slice()))},()=>{--Y||T.complete()}))},T)},T)}}(T,E,M?Y=>(0,Ce.n)(M,Y):Ze.y));return m?V.pipe((0,de.Z)(m)):V}function tt(y,E,m){y?(0,dt.f)(m,y,E):E()}var pt=W(8189);function bt(...y){return function Ct(){return(0,pt.J)(1)}()((0,G.D)(y,(0,he.yG)(y)))}var Be=W(8421);function _e(y){return new je.y(E=>{(0,Be.Xf)(y()).subscribe(E)})}var Xe=W(9635),Dt=W(576);function st(y,E){const m=(0,Dt.m)(y)?y:()=>y,T=M=>M.error(m());return new je.y(E?M=>E.schedule(T,0,M):T)}var ke=W(515),Ot=W(727),sn=W(4482);function zt(){return(0,sn.e)((y,E)=>{let m=null;y._refCount++;const T=(0,ht.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const M=y._connection,V=m;m=null,M&&(!V||M===V)&&M.unsubscribe(),E.unsubscribe()});y.subscribe(T),T.closed||(m=y.connect())})}class _n extends je.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,sn.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ot.w0;const m=this.getSubject();E.add(this.source.subscribe((0,ht.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ot.w0.EMPTY)}return E}refCount(){return zt()(this)}}var Ut=W(6895),Ue=W(4004),nt=W(3900),Ke=W(5698),wt=W(9300),ct=W(5577),kt=W(590),Te=W(4351),qe=W(8505);function ye(y){return(0,sn.e)((E,m)=>{let V,T=null,M=!1;T=E.subscribe((0,ht.x)(m,void 0,void 0,Y=>{V=(0,Be.Xf)(y(Y,ye(y)(E))),T?(T.unsubscribe(),T=null,V.subscribe(m)):M=!0})),M&&(T.unsubscribe(),T=null,V.subscribe(m))})}function It(y,E){return(0,sn.e)(function Le(y,E,m,T,M){return(V,Y)=>{let Me=m,yt=E,tn=0;V.subscribe((0,ht.x)(Y,Zt=>{const _r=tn++;yt=Me?y(yt,Zt,_r):(Me=!0,Zt),T&&Y.next(yt)},M&&(()=>{Me&&Y.next(yt),Y.complete()})))}}(y,E,arguments.length>=2,!0))}function jt(y){return y<=0?()=>ke.E:(0,sn.e)((E,m)=>{let T=[];E.subscribe((0,ht.x)(m,M=>{T.push(M),y<T.length&&T.shift()},()=>{for(const M of T)m.next(M);m.complete()},void 0,()=>{T=null}))})}var Zn=W(8068),jn=W(6590);function wr(y,E){const m=arguments.length>=2;return T=>T.pipe(y?(0,wt.h)((M,V)=>y(M,V,T)):Ze.y,jt(1),m?(0,jn.d)(E):(0,Zn.T)(()=>new we.K))}function cr(y){return(0,sn.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(y)}})}var zr=W(1481);const ln="primary",Gr=Symbol("RouteTitle");class Mn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Ft(y){return new Mn(y)}function Hn(y,E,m){const T=m.path.split("/");if(T.length>y.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<y.length))return null;const M={};for(let V=0;V<T.length;V++){const Y=T[V],Me=y[V];if(Y.startsWith(":"))M[Y.substring(1)]=Me;else if(Y!==Me.path)return null}return{consumed:y.slice(0,T.length),posParams:M}}function ir(y,E){const m=y?Object.keys(y):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let M;for(let V=0;V<m.length;V++)if(M=m[V],!Zr(y[M],E[M]))return!1;return!0}function Zr(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const m=[...y].sort(),T=[...E].sort();return m.every((M,V)=>T[V]===M)}return y===E}function vi(y){return Array.prototype.concat.apply([],y)}function Yn(y){return y.length>0?y[y.length-1]:null}function Bt(y,E){for(const m in y)y.hasOwnProperty(m)&&E(y[m],m)}function Vt(y){return(0,p.CqO)(y)?y:(0,p.QGY)(y)?(0,G.D)(Promise.resolve(y)):(0,q.of)(y)}const Ar=!1,Ur={exact:function kr(y,E,m){if(!re(y.segments,E.segments)||!Ti(y.segments,E.segments,m)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!y.children[T]||!kr(y.children[T],E.children[T],m))return!1;return!0},subset:$i},yr={exact:function Wr(y,E){return ir(y,E)},subset:function lr(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(m=>Zr(y[m],E[m]))},ignored:()=>!0};function li(y,E,m){return Ur[m.paths](y.root,E.root,m.matrixParams)&&yr[m.queryParams](y.queryParams,E.queryParams)&&!("exact"===m.fragment&&y.fragment!==E.fragment)}function $i(y,E,m){return Xn(y,E,E.segments,m)}function Xn(y,E,m,T){if(y.segments.length>m.length){const M=y.segments.slice(0,m.length);return!(!re(M,m)||E.hasChildren()||!Ti(M,m,T))}if(y.segments.length===m.length){if(!re(y.segments,m)||!Ti(y.segments,m,T))return!1;for(const M in E.children)if(!y.children[M]||!$i(y.children[M],E.children[M],T))return!1;return!0}{const M=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(re(y.segments,M)&&Ti(y.segments,M,T)&&y.children[ln])&&Xn(y.children[ln],E,V,T)}}function Ti(y,E,m){return E.every((T,M)=>yr[m](y[M].parameters,T.parameters))}class Rn{constructor(E=new _t([],{}),m={},T=null){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class _t{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Bt(m,(T,M)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class Mr{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return fe(this)}}function re(y,E){return y.length===E.length&&y.every((m,T)=>m.path===E[T].path)}let We=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return new ft},providedIn:"root"}),y})();class ft{parse(E){const m=new St(E);return new Rn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${pe(E.root,!0)}`,T=function Pt(y){const E=Object.keys(y).map(m=>{const T=y[m];return Array.isArray(T)?T.map(M=>`${Re(m)}=${Re(M)}`).join("&"):`${Re(m)}=${Re(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function Mt(y){return encodeURI(y)}(E.fragment)}`:""}`}}const oe=new ft;function se(y){return y.segments.map(E=>fe(E)).join("/")}function pe(y,E){if(!y.hasChildren())return se(y);if(E){const m=y.children[ln]?pe(y.children[ln],!1):"",T=[];return Bt(y.children,(M,V)=>{V!==ln&&T.push(`${V}:${pe(M,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function be(y,E){let m=[];return Bt(y.children,(T,M)=>{M===ln&&(m=m.concat(E(T,M)))}),Bt(y.children,(T,M)=>{M!==ln&&(m=m.concat(E(T,M)))}),m}(y,(T,M)=>M===ln?[pe(y.children[ln],!1)]:[`${M}:${pe(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ln]?`${se(y)}/${m[0]}`:`${se(y)}/(${m.join("//")})`}}function $e(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(y){return $e(y).replace(/%3B/gi,";")}function me(y){return $e(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(y){return decodeURIComponent(y)}function ne(y){return le(y.replace(/\+/g,"%20"))}function fe(y){return`${me(y.path)}${function Ye(y){return Object.keys(y).map(E=>`;${me(E)}=${me(y[E])}`).join("")}(y.parameters)}`}const on=/^[^\/()?;=#]+/;function Ln(y){const E=y.match(on);return E?E[0]:""}const sr=/^[^=?&#]+/,ot=/^[^&#]+/;class St{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[ln]=new _t(E,m)),T}parseSegment(){const E=Ln(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,Ar);return this.capture(E),new Mr(le(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=Ln(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const M=Ln(this.remaining);M&&(T=M,this.capture(T))}E[le(m)]=le(T)}parseQueryParam(E){const m=function er(y){const E=y.match(sr);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const Y=function Ve(y){const E=y.match(ot);return E?E[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const M=ne(m),V=ne(T);if(E.hasOwnProperty(M)){let Y=E[M];Array.isArray(Y)||(Y=[Y],E[M]=Y),Y.push(V)}else E[M]=V}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Ln(this.remaining),M=this.remaining[T.length];if("/"!==M&&")"!==M&&";"!==M)throw new p.vHH(4010,Ar);let V;T.indexOf(":")>-1?(V=T.slice(0,T.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=ln);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[ln]:new _t([],Y),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,Ar)}}function Qt(y){return y.segments.length>0?new _t([],{[ln]:y}):y}function fn(y){const E={};for(const T of Object.keys(y.children)){const V=fn(y.children[T]);(V.segments.length>0||V.hasChildren())&&(E[T]=V)}return function In(y){if(1===y.numberOfChildren&&y.children[ln]){const E=y.children[ln];return new _t(y.segments.concat(E.segments),E.children)}return y}(new _t(y.segments,E))}function Xt(y){return y instanceof Rn}const On=!1;function $s(y,E,m,T,M){if(0===m.length)return tr(E.root,E.root,E.root,T,M);const V=function vr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Cn(!0,0,y);let E=0,m=!1;const T=y.reduce((M,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Me={};return Bt(V.outlets,(yt,tn)=>{Me[tn]="string"==typeof yt?yt.split("/"):yt}),[...M,{outlets:Me}]}if(V.segmentPath)return[...M,V.segmentPath]}return"string"!=typeof V?[...M,V]:0===Y?(V.split("/").forEach((Me,yt)=>{0==yt&&"."===Me||(0==yt&&""===Me?m=!0:".."===Me?E++:""!=Me&&M.push(Me))}),M):[...M,V]},[]);return new Cn(m,E,T)}(m);return V.toRoot()?tr(E.root,E.root,new _t([],{}),T,M):function Y(yt){const tn=function ci(y,E,m,T){if(y.isAbsolute)return new Qn(E.root,!0,0);if(-1===T)return new Qn(m,m===E.root,0);return function _s(y,E,m){let T=y,M=E,V=m;for(;V>M;){if(V-=M,T=T.parent,!T)throw new p.vHH(4005,On&&"Invalid number of '../'");M=T.segments.length}return new Qn(T,!1,M-V)}(m,T+(js(y.commands[0])?0:1),y.numberOfDoubleDots)}(V,E,y.snapshot?._urlSegment,yt),Zt=tn.processChildren?Ie(tn.segmentGroup,tn.index,V.commands):Ne(tn.segmentGroup,tn.index,V.commands);return tr(E.root,tn.segmentGroup,Zt,T,M)}(y.snapshot?._lastPathIndex)}function js(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function ji(y){return"object"==typeof y&&null!=y&&y.outlets}function tr(y,E,m,T,M){let Y,V={};T&&Bt(T,(yt,tn)=>{V[tn]=Array.isArray(yt)?yt.map(Zt=>`${Zt}`):`${yt}`}),Y=y===E?m:Wt(y,E,m);const Me=Qt(fn(Y));return new Rn(Me,V,M)}function Wt(y,E,m){const T={};return Bt(y.children,(M,V)=>{T[V]=M===E?m:Wt(M,E,m)}),new _t(y.segments,T)}class Cn{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&js(T[0]))throw new p.vHH(4003,On&&"Root segment cannot have matrix parameters");const M=T.find(ji);if(M&&M!==Yn(T))throw new p.vHH(4004,On&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qn{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function Ne(y,E,m){if(y||(y=new _t([],{})),0===y.segments.length&&y.hasChildren())return Ie(y,E,m);const T=function Ae(y,E,m){let T=0,M=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(T>=m.length)return V;const Y=y.segments[M],Me=m[T];if(ji(Me))break;const yt=`${Me}`,tn=T<m.length-1?m[T+1]:null;if(M>0&&void 0===yt)break;if(yt&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!Pn(yt,tn,Y))return V;T+=2}else{if(!Pn(yt,{},Y))return V;T++}M++}return{match:!0,pathIndex:M,commandIndex:T}}(y,E,m),M=m.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const V=new _t(y.segments.slice(0,T.pathIndex),{});return V.children[ln]=new _t(y.segments.slice(T.pathIndex),y.children),Ie(V,0,M)}return T.match&&0===M.length?new _t(y.segments,{}):T.match&&!y.hasChildren()?gt(y,E,m):T.match?Ie(y,0,M):gt(y,E,m)}function Ie(y,E,m){if(0===m.length)return new _t(y.segments,{});{const T=function Fr(y){return ji(y[0])?y[0].outlets:{[ln]:y}}(m),M={};if(!T[ln]&&y.children[ln]&&1===y.numberOfChildren&&0===y.children[ln].segments.length){const V=Ie(y.children[ln],E,m);return new _t(y.segments,V.children)}return Bt(T,(V,Y)=>{"string"==typeof V&&(V=[V]),null!==V&&(M[Y]=Ne(y.children[Y],E,V))}),Bt(y.children,(V,Y)=>{void 0===T[Y]&&(M[Y]=V)}),new _t(y.segments,M)}}function gt(y,E,m){const T=y.segments.slice(0,E);let M=0;for(;M<m.length;){const V=m[M];if(ji(V)){const yt=xt(V.outlets);return new _t(T,yt)}if(0===M&&js(m[0])){T.push(new Mr(y.segments[E].path,yn(m[0]))),M++;continue}const Y=ji(V)?V.outlets[ln]:`${V}`,Me=M<m.length-1?m[M+1]:null;Y&&Me&&js(Me)?(T.push(new Mr(Y,yn(Me))),M+=2):(T.push(new Mr(Y,{})),M++)}return new _t(T,{})}function xt(y){const E={};return Bt(y,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[T]=gt(new _t([],{}),0,m))}),E}function yn(y){const E={};return Bt(y,(m,T)=>E[T]=`${m}`),E}function Pn(y,E,m){return y==m.path&&ir(E,m.parameters)}const vn="imperative";class kn{constructor(E,m){this.id=E,this.url=m}}class _i extends kn{constructor(E,m,T="imperative",M=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends kn{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yr extends kn{constructor(E,m,T,M){super(E,m),this.reason=T,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends kn{constructor(E,m,T,M){super(E,m),this.reason=T,this.code=M,this.type=16}}class Ir extends kn{constructor(E,m,T,M){super(E,m),this.error=T,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hi extends kn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do extends kn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends kn{constructor(E,m,T,M,V){super(E,m),this.urlAfterRedirects=T,this.state=M,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zi extends kn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends kn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ji{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qr{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $o{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class is{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zs{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let xr=(()=>{class y{createUrlTree(m,T,M,V,Y,Me){return $s(m||T.root,M,V,Y,Me)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})(),to=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(E){return xr.\u0275fac(E)},providedIn:"root"}),y})();class os{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=jo(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=jo(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=To(E,this._root);return m.length<2?[]:m[m.length-2].children.map(M=>M.value).filter(M=>M!==E)}pathFromRoot(E){return To(E,this._root).map(m=>m.value)}}function jo(y,E){if(y===E.value)return E;for(const m of E.children){const T=jo(y,m);if(T)return T}return null}function To(y,E){if(y===E.value)return[E];for(const m of E.children){const T=To(y,m);if(T.length)return T.unshift(E),T}return[]}class as{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function xs(y){const E={};return y&&y.children.forEach(m=>E[m.value.outlet]=m),E}class oa extends os{constructor(E,m){super(E),this.snapshot=m,Es(this,E)}toString(){return this.snapshot.toString()}}function Co(y,E){const m=function Ho(y,E){const Y=new cs([],{},{},"",{},ln,E,null,y.root,-1,{});return new So("",new as(Y,[]))}(y,E),T=new Se([new Mr("",{})]),M=new Se({}),V=new Se({}),Y=new Se({}),Me=new Se(""),yt=new us(T,M,Y,Me,V,ln,E,m.root);return yt.snapshot=m.root,new oa(new as(yt,[]),m)}class us{constructor(E,m,T,M,V,Y,Me,yt){this.url=E,this.params=m,this.queryParams=T,this.fragment=M,this.data=V,this.outlet=Y,this.component=Me,this.title=this.data?.pipe((0,Ue.U)(tn=>tn[Gr]))??(0,q.of)(void 0),this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ue.U)(E=>Ft(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ue.U)(E=>Ft(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bo(y,E="emptyOnly"){const m=y.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const M=m[T],V=m[T-1];if(M.routeConfig&&""===M.routeConfig.path)T--;else{if(V.component)break;T--}}return function ls(y){return y.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class cs{get title(){return this.data?.[Gr]}constructor(E,m,T,M,V,Y,Me,yt,tn,Zt,_r){this.url=E,this.params=m,this.queryParams=T,this.fragment=M,this.data=V,this.outlet=Y,this.component=Me,this.routeConfig=yt,this._urlSegment=tn,this._lastPathIndex=Zt,this._resolve=_r}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class So extends os{constructor(E,m){super(m),this.url=E,Es(this,m)}toString(){return Ao(this._root)}}function Es(y,E){E.value._routerState=y,E.children.forEach(m=>Es(y,m))}function Ao(y){const E=y.children.length>0?` { ${y.children.map(Ao).join(", ")} } `:"";return`${y.value}${E}`}function zo(y){if(y.snapshot){const E=y.snapshot,m=y._futureSnapshot;y.snapshot=m,ir(E.queryParams,m.queryParams)||y.queryParams.next(m.queryParams),E.fragment!==m.fragment&&y.fragment.next(m.fragment),ir(E.params,m.params)||y.params.next(m.params),function Pr(y,E){if(y.length!==E.length)return!1;for(let m=0;m<y.length;++m)if(!ir(y[m],E[m]))return!1;return!0}(E.url,m.url)||y.url.next(m.url),ir(E.data,m.data)||y.data.next(m.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Gi(y,E){const m=ir(y.params,E.params)&&function it(y,E){return re(y,E)&&y.every((m,T)=>ir(m.parameters,E[T].parameters))}(y.url,E.url);return m&&!(!y.parent!=!E.parent)&&(!y.parent||Gi(y.parent,E.parent))}function Ni(y,E,m){if(m&&y.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const M=function Ea(y,E,m){return E.children.map(T=>{for(const M of m.children)if(y.shouldReuseRoute(T.value,M.value.snapshot))return Ni(y,T,M);return Ni(y,T)})}(y,E,m);return new as(T,M)}{if(y.shouldAttach(E.value)){const V=y.retrieve(E.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=E.value,Y.children=E.children.map(Me=>Ni(y,Me)),Y}}const T=function ro(y){return new us(new Se(y.url),new Se(y.params),new Se(y.queryParams),new Se(y.fragment),new Se(y.data),y.outlet,y.component,y)}(E.value),M=E.children.map(V=>Ni(y,V));return new as(T,M)}}const io="ngNavigationCancelingError";function aa(y,E){const{redirectTo:m,navigationBehaviorOptions:T}=Xt(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,M=bi(!1,0,E);return M.url=m,M.navigationBehaviorOptions=T,M}function bi(y,E,m){const T=new Error("NavigationCancelingError: "+(y||""));return T[io]=!0,T.cancellationCode=E,m&&(T.url=m),T}function ws(y){return Mo(y)&&Xt(y.url)}function Mo(y){return y&&y[io]}class Gs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ds,this.attachRef=null}}let ds=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const M=this.getOrCreateContext(m);M.outlet=T,this.contexts.set(m,M)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new Gs,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Oi=!1;let Or=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(ds),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:M}=m.name;if(T)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Oi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Oi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Oi);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new p.vHH(4013,Oi);this._activatedRoute=m;const M=this.location,Y=m.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,yt=new oi(m,Me,M.injector);if(T&&function Rs(y){return!!y.resolveComponentFactory}(T)){const tn=T.resolveComponentFactory(Y);this.activated=M.createComponent(tn,M.length,yt)}else this.activated=M.createComponent(Y,{index:M.length,injector:yt,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=p.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),y})();class oi{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===us?this.route:E===ds?this.childContexts:this.parent.get(E,m)}}let zn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=p.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,T){1&m&&p._UZ(0,"router-outlet")},dependencies:[Or],encapsulation:2}),y})();function hs(y,E){return y.providers&&!y._injector&&(y._injector=(0,p.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}function vo(y){const E=y.children&&y.children.map(vo),m=E?{...y,children:E}:{...y};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==ln&&(m.component=zn),m}function Xr(y){return y.outlet||ln}function ni(y,E){const m=y.filter(T=>Xr(T)===E);return m.push(...y.filter(T=>Xr(T)!==E)),m}function fi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ua{constructor(E,m,T,M){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=M}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),zo(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const M=xs(m);E.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,M[Y],T),delete M[Y]}),Bt(M,(V,Y)=>{this.deactivateRouteAndItsChildren(V,T)})}deactivateRoutes(E,m,T){const M=E.value,V=m?m.value:null;if(M===V)if(M.component){const Y=T.getContext(M.outlet);Y&&this.deactivateChildRoutes(E,m,Y.children)}else this.deactivateChildRoutes(E,m,T);else V&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),M=T&&E.value.component?T.children:m,V=xs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);if(T&&T.outlet){const Y=T.outlet.detach(),Me=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Y,route:E,contexts:Me})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),M=T&&E.value.component?T.children:m,V=xs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,m,T){const M=xs(m);E.children.forEach(V=>{this.activateRoutes(V,M[V.value.outlet],T),this.forwardEvent(new Hs(V.value.snapshot))}),E.children.length&&this.forwardEvent(new Ci(E.value.snapshot))}activateRoutes(E,m,T){const M=E.value,V=m?m.value:null;if(zo(M),M===V)if(M.component){const Y=T.getOrCreateContext(M.outlet);this.activateChildRoutes(E,m,Y.children)}else this.activateChildRoutes(E,m,T);else if(M.component){const Y=T.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Me=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),Y.children.onOutletReAttached(Me.contexts),Y.attachRef=Me.componentRef,Y.route=Me.route.value,Y.outlet&&Y.outlet.attach(Me.componentRef,Me.route.value),zo(Me.route.value),this.activateChildRoutes(E,null,Y.children)}else{const Me=fi(M.snapshot),yt=Me?.get(p._Vd)??null;Y.attachRef=null,Y.route=M,Y.resolver=yt,Y.injector=Me,Y.outlet&&Y.outlet.activateWith(M,Y.injector),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,T)}}class Wo{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Ws{constructor(E,m){this.component=E,this.route=m}}function Ro(y,E,m){const T=y._root;return oo(T,E?E._root:null,m,[T.value])}function so(y,E){const m=Symbol(),T=E.get(y,m);return T===m?"function"!=typeof y||(0,p.Z0I)(y)?E.get(y):y:T}function oo(y,E,m,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=xs(E);return y.children.forEach(Y=>{(function wa(y,E,m,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=E?E.value:null,Me=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const yt=function R(y,E,m){if("function"==typeof m)return m(y,E);switch(m){case"pathParamsChange":return!re(y.url,E.url);case"pathParamsOrQueryParamsChange":return!re(y.url,E.url)||!ir(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(y,E)||!ir(y.queryParams,E.queryParams);default:return!Gi(y,E)}}(Y,V,V.routeConfig.runGuardsAndResolvers);yt?M.canActivateChecks.push(new Wo(T)):(V.data=Y.data,V._resolvedData=Y._resolvedData),oo(y,E,V.component?Me?Me.children:null:m,T,M),yt&&Me&&Me.outlet&&Me.outlet.isActivated&&M.canDeactivateChecks.push(new Ws(Me.outlet.component,Y))}else Y&&O(E,Me,M),M.canActivateChecks.push(new Wo(T)),oo(y,null,V.component?Me?Me.children:null:m,T,M)})(Y,V[Y.value.outlet],m,T.concat([Y.value]),M),delete V[Y.value.outlet]}),Bt(V,(Y,Me)=>O(Y,m.getContext(Me),M)),M}function O(y,E,m){const T=xs(y),M=y.value;Bt(T,(V,Y)=>{O(V,M.component?E?E.children.getContext(Y):null:E,m)}),m.canDeactivateChecks.push(new Ws(M.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,M))}function k(y){return"function"==typeof y}function pi(y){return y instanceof we.K||"EmptyError"===y?.name}const Si=Symbol("INITIAL_VALUE");function Kr(){return(0,nt.w)(y=>At(y.map(E=>E.pipe((0,Ke.q)(1),function lt(...y){const E=(0,he.yG)(y);return(0,sn.e)((m,T)=>{(E?bt(y,m,E):bt(y,m)).subscribe(T)})}(Si)))).pipe((0,Ue.U)(E=>{for(const m of E)if(!0!==m){if(m===Si)return Si;if(!1===m||m instanceof Rn)return m}return!0}),(0,wt.h)(E=>E!==Si),(0,Ke.q)(1)))}function Ia(y){return(0,Xe.z)((0,qe.b)(E=>{if(Xt(E))throw aa(0,E)}),(0,Ue.U)(E=>!0===E))}const Ta={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uo(y,E,m,T,M){const V=Ps(y,E,m);return V.matched?function Da(y,E,m,T){const M=E.canMatch;if(!M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const Me=so(Y,y);return Vt(function Vi(y){return y&&k(y.canMatch)}(Me)?Me.canMatch(E,m):y.runInContext(()=>Me(E,m)))});return(0,q.of)(V).pipe(Kr(),Ia())}(T=hs(E,T),E,m).pipe((0,Ue.U)(Y=>!0===Y?V:{...Ta})):(0,q.of)(V)}function Ps(y,E,m){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||m.length>0)?{...Ta}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const M=(E.matcher||Hn)(m,y,E);if(!M)return{...Ta};const V={};Bt(M.posParams,(Me,yt)=>{V[yt]=Me.path});const Y=M.consumed.length>0?{...V,...M.consumed[M.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:M.consumed,remainingSegments:m.slice(M.consumed.length),parameters:Y,positionalParamSegments:M.posParams??{}}}function Ts(y,E,m,T){if(m.length>0&&function Eo(y,E,m){return m.some(T=>_(y,E,T)&&Xr(T)!==ln)}(y,m,T)){const V=new _t(E,function Ko(y,E,m,T){const M={};M[ln]=T,T._sourceSegment=y,T._segmentIndexShift=E.length;for(const V of m)if(""===V.path&&Xr(V)!==ln){const Y=new _t([],{});Y._sourceSegment=y,Y._segmentIndexShift=E.length,M[Xr(V)]=Y}return M}(y,E,T,new _t(m,y.children)));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:[]}}if(0===m.length&&function $(y,E,m){return m.some(T=>_(y,E,T))}(y,m,T)){const V=new _t(y.segments,function la(y,E,m,T,M){const V={};for(const Y of T)if(_(y,m,Y)&&!M[Xr(Y)]){const Me=new _t([],{});Me._sourceSegment=y,Me._segmentIndexShift=E.length,V[Xr(Y)]=Me}return{...M,...V}}(y,E,m,T,y.children));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:m}}const M=new _t(y.segments,y.children);return M._sourceSegment=y,M._segmentIndexShift=E.length,{segmentGroup:M,slicedSegments:m}}function _(y,E,m){return(!(y.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function w(y,E,m,T){return!!(Xr(y)===T||T!==ln&&_(E,m,y))&&("**"===y.path||Ps(E,y,m).matched)}function F(y,E,m){return 0===E.length&&!y.children[m]}const K=!1;class te{constructor(E){this.segmentGroup=E||null}}class ce{constructor(E){this.urlTree=E}}function ve(y){return st(new te(y))}function Ge(y){return st(new ce(y))}class ur{constructor(E,m,T,M,V){this.injector=E,this.configLoader=m,this.urlSerializer=T,this.urlTree=M,this.config=V,this.allowRedirects=!0}apply(){const E=Ts(this.urlTree.root,[],[],this.config).segmentGroup,m=new _t(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,ln).pipe((0,Ue.U)(V=>this.createUrlTree(fn(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ye(V=>{if(V instanceof ce)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof te?this.noMatchError(V):V}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,ln).pipe((0,Ue.U)(M=>this.createUrlTree(fn(M),E.queryParams,E.fragment))).pipe(ye(M=>{throw M instanceof te?this.noMatchError(M):M}))}noMatchError(E){return new p.vHH(4002,K)}createUrlTree(E,m,T){const M=Qt(E);return new Rn(M,m,T)}expandSegmentGroup(E,m,T,M){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,m,T).pipe((0,Ue.U)(V=>new _t([],V))):this.expandSegment(E,T,m,T.segments,M,!0)}expandChildren(E,m,T){const M=[];for(const V of Object.keys(T.children))"primary"===V?M.unshift(V):M.push(V);return(0,G.D)(M).pipe((0,Te.b)(V=>{const Y=T.children[V],Me=ni(m,V);return this.expandSegmentGroup(E,Me,Y,V).pipe((0,Ue.U)(yt=>({segment:yt,outlet:V})))}),It((V,Y)=>(V[Y.outlet]=Y.segment,V),{}),wr())}expandSegment(E,m,T,M,V,Y){return(0,G.D)(T).pipe((0,Te.b)(Me=>this.expandSegmentAgainstRoute(E,m,T,Me,M,V,Y).pipe(ye(tn=>{if(tn instanceof te)return(0,q.of)(null);throw tn}))),(0,kt.P)(Me=>!!Me),ye((Me,yt)=>{if(pi(Me))return F(m,M,V)?(0,q.of)(new _t([],{})):ve(m);throw Me}))}expandSegmentAgainstRoute(E,m,T,M,V,Y,Me){return w(M,m,V,Y)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(E,m,M,V,Y):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y):ve(m):ve(m)}expandSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,M,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,M){const V=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ge(V):this.lineralizeSegments(T,V).pipe((0,ct.z)(Y=>{const Me=new _t(Y,{});return this.expandSegment(E,Me,m,Y,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y){const{matched:Me,consumedSegments:yt,remainingSegments:tn,positionalParamSegments:Zt}=Ps(m,M,V);if(!Me)return ve(m);const _r=this.applyRedirectCommands(yt,M.redirectTo,Zt);return M.redirectTo.startsWith("/")?Ge(_r):this.lineralizeSegments(M,_r).pipe((0,ct.z)(Mi=>this.expandSegment(E,m,T,Mi.concat(tn),Y,!1)))}matchSegmentAgainstRoute(E,m,T,M,V){return"**"===T.path?(E=hs(T,E),T.loadChildren?(T._loadedRoutes?(0,q.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,Ue.U)(Me=>(T._loadedRoutes=Me.routes,T._loadedInjector=Me.injector,new _t(M,{})))):(0,q.of)(new _t(M,{}))):uo(m,T,M,E).pipe((0,nt.w)(({matched:Y,consumedSegments:Me,remainingSegments:yt})=>Y?this.getChildConfig(E=T._injector??E,T,M).pipe((0,ct.z)(Zt=>{const _r=Zt.injector??E,Mi=Zt.routes,{segmentGroup:Fo,slicedSegments:Jo}=Ts(m,Me,yt,Mi),Ss=new _t(Fo.segments,Fo.children);if(0===Jo.length&&Ss.hasChildren())return this.expandChildren(_r,Mi,Ss).pipe((0,Ue.U)(ja=>new _t(Me,ja)));if(0===Mi.length&&0===Jo.length)return(0,q.of)(new _t(Me,{}));const ho=Xr(T)===V;return this.expandSegment(_r,Ss,Mi,Jo,ho?ln:V,!0).pipe((0,Ue.U)(Nn=>new _t(Me.concat(Nn.segments),Nn.children)))})):ve(m)))}getChildConfig(E,m,T){return m.children?(0,q.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,q.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Ei(y,E,m,T){const M=E.canLoad;if(void 0===M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const Me=so(Y,y);return Vt(function He(y){return y&&k(y.canLoad)}(Me)?Me.canLoad(E,m):y.runInContext(()=>Me(E,m)))});return(0,q.of)(V).pipe(Kr(),Ia())}(E,m,T).pipe((0,ct.z)(M=>M?this.configLoader.loadChildren(E,m).pipe((0,qe.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function Jt(y){return st(bi(K,3))}())):(0,q.of)({routes:[],injector:E})}lineralizeSegments(E,m){let T=[],M=m.root;for(;;){if(T=T.concat(M.segments),0===M.numberOfChildren)return(0,q.of)(T);if(M.numberOfChildren>1||!M.children[ln])return E.redirectTo,st(new p.vHH(4e3,K));M=M.children[ln]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,M){const V=this.createSegmentGroup(E,m.root,T,M);return new Rn(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return Bt(E,(M,V)=>{if("string"==typeof M&&M.startsWith(":")){const Me=M.substring(1);T[V]=m[Me]}else T[V]=M}),T}createSegmentGroup(E,m,T,M){const V=this.createSegments(E,m.segments,T,M);let Y={};return Bt(m.children,(Me,yt)=>{Y[yt]=this.createSegmentGroup(E,Me,T,M)}),new _t(V,Y)}createSegments(E,m,T,M){return m.map(V=>V.path.startsWith(":")?this.findPosParam(E,V,M):this.findOrReturn(V,T))}findPosParam(E,m,T){const M=T[m.path.substring(1)];if(!M)throw new p.vHH(4001,K);return M}findOrReturn(E,m){let T=0;for(const M of m){if(M.path===E.path)return m.splice(T),M;T++}return E}}class An{}class P{constructor(E,m,T,M,V,Y,Me){this.injector=E,this.rootComponentType=m,this.config=T,this.urlTree=M,this.url=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=Me}recognize(){const E=Ts(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ln).pipe((0,Ue.U)(m=>{if(null===m)return null;const T=new cs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new as(T,m),V=new So(this.url,M);return this.inheritParamsAndData(V._root),V}))}inheritParamsAndData(E){const m=E.value,T=bo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(E,m,T,M){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,M)}processChildren(E,m,T){return(0,G.D)(Object.keys(T.children)).pipe((0,Te.b)(M=>{const V=T.children[M],Y=ni(m,M);return this.processSegmentGroup(E,Y,V,M)}),It((M,V)=>M&&V?(M.push(...V),M):null),function gr(y,E=!1){return(0,sn.e)((m,T)=>{let M=0;m.subscribe((0,ht.x)(T,V=>{const Y=y(V,M++);(Y||E)&&T.next(V),!Y&&T.complete()}))})}(M=>null!==M),(0,jn.d)(null),wr(),(0,Ue.U)(M=>{if(null===M)return null;const V=et(M);return function Z(y){y.sort((E,m)=>E.value.outlet===ln?-1:m.value.outlet===ln?1:E.value.outlet.localeCompare(m.value.outlet))}(V),V}))}processSegment(E,m,T,M,V){return(0,G.D)(m).pipe((0,Te.b)(Y=>this.processSegmentAgainstRoute(Y._injector??E,Y,T,M,V)),(0,kt.P)(Y=>!!Y),ye(Y=>{if(pi(Y))return F(T,M,V)?(0,q.of)([]):(0,q.of)(null);throw Y}))}processSegmentAgainstRoute(E,m,T,M,V){if(m.redirectTo||!w(m,T,M,V))return(0,q.of)(null);let Y;if("**"===m.path){const Me=M.length>0?Yn(M).parameters:{},yt=Vn(T)+M.length,tn=new cs(M,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gn(m),Xr(m),m.component??m._loadedComponent??null,m,or(T),yt,Vr(m));Y=(0,q.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else Y=uo(T,m,M,E).pipe((0,Ue.U)(({matched:Me,consumedSegments:yt,remainingSegments:tn,parameters:Zt})=>{if(!Me)return null;const _r=Vn(T)+yt.length;return{snapshot:new cs(yt,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Gn(m),Xr(m),m.component??m._loadedComponent??null,m,or(T),_r,Vr(m)),consumedSegments:yt,remainingSegments:tn}}));return Y.pipe((0,nt.w)(Me=>{if(null===Me)return(0,q.of)(null);const{snapshot:yt,consumedSegments:tn,remainingSegments:Zt}=Me;E=m._injector??E;const _r=m._loadedInjector??E,Mi=function ae(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(m),{segmentGroup:Fo,slicedSegments:Jo}=Ts(T,tn,Zt,Mi.filter(ho=>void 0===ho.redirectTo));if(0===Jo.length&&Fo.hasChildren())return this.processChildren(_r,Mi,Fo).pipe((0,Ue.U)(ho=>null===ho?null:[new as(yt,ho)]));if(0===Mi.length&&0===Jo.length)return(0,q.of)([new as(yt,[])]);const Ss=Xr(m)===V;return this.processSegment(_r,Mi,Fo,Jo,Ss?ln:V).pipe((0,Ue.U)(ho=>null===ho?null:[new as(yt,ho)]))}))}}function rt(y){const E=y.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function et(y){const E=[],m=new Set;for(const T of y){if(!rt(T)){E.push(T);continue}const M=E.find(V=>T.value.routeConfig===V.value.routeConfig);void 0!==M?(M.children.push(...T.children),m.add(M)):E.push(T)}for(const T of m){const M=et(T.children);E.push(new as(T.value,M))}return E.filter(T=>!m.has(T))}function or(y){let E=y;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Vn(y){let E=y,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function Gn(y){return y.data||{}}function Vr(y){return y.resolve||{}}function Fn(y){return"string"==typeof y.title||null===y.title}function hr(y){return(0,nt.w)(E=>{const m=y(E);return m?(0,G.D)(m).pipe((0,Ue.U)(()=>E)):(0,q.of)(E)})}const wi=new p.OlP("ROUTES");let Xi=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,q.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=Vt(m.loadComponent()).pipe((0,Ue.U)(qo),(0,qe.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),cr(()=>{this.componentLoaders.delete(m)})),M=new _n(T,()=>new De.x).pipe(zt());return this.componentLoaders.set(m,M),M}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,q.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const V=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Ue.U)(Me=>{this.onLoadEndListener&&this.onLoadEndListener(T);let yt,tn,Zt=!1;Array.isArray(Me)?tn=Me:(yt=Me.create(m).injector,tn=vi(yt.get(wi,[],p.XFs.Self|p.XFs.Optional)));return{routes:tn.map(vo),injector:yt}}),cr(()=>{this.childrenLoaders.delete(T)})),Y=new _n(V,()=>new De.x).pipe(zt());return this.childrenLoaders.set(T,Y),Y}loadModuleFactoryOrRoutes(m){return Vt(m()).pipe((0,Ue.U)(qo),(0,ct.z)(T=>T instanceof p.YKP||Array.isArray(T)?(0,q.of)(T):(0,G.D)(this.compiler.compileModuleAsync(T))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function qo(y){return function ui(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Ai=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.configLoader=(0,p.f3M)(Xi),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(We),this.rootContexts=(0,p.f3M)(ds),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new Qr(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Ji(M))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m){return this.transitions=new Se({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(T=>0!==T.id),(0,Ue.U)(T=>({...T,extractedUrl:m.urlHandlingStrategy.extract(T.rawUrl)})),(0,nt.w)(T=>{let M=!1,V=!1;return(0,q.of)(T).pipe((0,qe.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,nt.w)(Y=>{const Me=m.browserUrlTree.toString(),yt=!m.navigated||Y.extractedUrl.toString()!==Me||Me!==m.currentUrlTree.toString();if(!yt&&"reload"!==(Y.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Zt="";return this.events.next(new si(Y.id,m.serializeUrl(T.rawUrl),Zt,0)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),ke.E}if(m.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return mi(Y.source)&&(m.browserUrlTree=Y.extractedUrl),(0,q.of)(Y).pipe((0,nt.w)(Zt=>{const _r=this.transitions?.getValue();return this.events.next(new _i(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),Zt.source,Zt.restoredState)),_r!==this.transitions?.getValue()?ke.E:Promise.resolve(Zt)}),function Bn(y,E,m,T){return(0,nt.w)(M=>function un(y,E,m,T,M){return new ur(y,E,m,T,M).apply()}(y,E,m,M.extractedUrl,T).pipe((0,Ue.U)(V=>({...M,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,qe.b)(Zt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Zt.urlAfterRedirects},T.urlAfterRedirects=Zt.urlAfterRedirects}),function ar(y,E,m,T,M){return(0,ct.z)(V=>function U(y,E,m,T,M,V,Y="emptyOnly"){return new P(y,E,m,T,M,Y,V).recognize().pipe((0,nt.w)(Me=>null===Me?function A(y){return new je.y(E=>E.error(y))}(new An):(0,q.of)(Me)))}(y,E,m,V.urlAfterRedirects,T.serialize(V.urlAfterRedirects),T,M).pipe((0,Ue.U)(Y=>({...V,targetSnapshot:Y}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,qe.b)(Zt=>{if(T.targetSnapshot=Zt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Zt.extras.skipLocationChange){const Mi=m.urlHandlingStrategy.merge(Zt.urlAfterRedirects,Zt.rawUrl);m.setBrowserUrl(Mi,Zt)}m.browserUrlTree=Zt.urlAfterRedirects}const _r=new Hi(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(_r)}));if(yt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Zt,extractedUrl:_r,source:Mi,restoredState:Fo,extras:Jo}=Y,Ss=new _i(Zt,this.urlSerializer.serialize(_r),Mi,Fo);this.events.next(Ss);const ho=Co(_r,this.rootComponentType).snapshot;return T={...Y,targetSnapshot:ho,urlAfterRedirects:_r,extras:{...Jo,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(T)}{const Zt="";return this.events.next(new si(Y.id,m.serializeUrl(T.extractedUrl),Zt,1)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),ke.E}}),(0,qe.b)(Y=>{const Me=new Do(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(Me)}),(0,Ue.U)(Y=>T={...Y,guards:Ro(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)}),function ki(y,E){return(0,ct.z)(m=>{const{targetSnapshot:T,currentSnapshot:M,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,q.of)({...m,guardsResult:!0}):function ao(y,E,m,T){return(0,G.D)(y).pipe((0,ct.z)(M=>function uu(y,E,m,T,M){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,q.of)(!0);const Y=V.map(Me=>{const yt=fi(E)??M,tn=so(Me,yt);return Vt(function Lr(y){return y&&k(y.canDeactivate)}(tn)?tn.canDeactivate(y,E,m,T):yt.runInContext(()=>tn(y,E,m,T))).pipe((0,kt.P)())});return(0,q.of)(Y).pipe(Kr())}(M.component,M.route,m,E,T)),(0,kt.P)(M=>!0!==M,!0))}(Y,T,M,y).pipe((0,ct.z)(Me=>Me&&function X(y){return"boolean"==typeof y}(Me)?function Dr(y,E,m,T){return(0,G.D)(E).pipe((0,Te.b)(M=>bt(function No(y,E){return null!==y&&E&&E(new $o(y)),(0,q.of)(!0)}(M.route.parent,T),function ps(y,E){return null!==y&&E&&E(new is(y)),(0,q.of)(!0)}(M.route,T),function Fa(y,E,m){const T=E[E.length-1],V=E.slice(0,E.length-1).reverse().map(Y=>function _o(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>_e(()=>{const Me=Y.guards.map(yt=>{const tn=fi(Y.node)??m,Zt=so(yt,tn);return Vt(function Cr(y){return y&&k(y.canActivateChild)}(Zt)?Zt.canActivateChild(T,y):tn.runInContext(()=>Zt(T,y))).pipe((0,kt.P)())});return(0,q.of)(Me).pipe(Kr())}));return(0,q.of)(V).pipe(Kr())}(y,M.path,m),function gs(y,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,q.of)(!0);const M=T.map(V=>_e(()=>{const Y=fi(E)??m,Me=so(V,Y);return Vt(function pn(y){return y&&k(y.canActivate)}(Me)?Me.canActivate(E,y):Y.runInContext(()=>Me(E,y))).pipe((0,kt.P)())}));return(0,q.of)(M).pipe(Kr())}(y,M.route,m))),(0,kt.P)(M=>!0!==M,!0))}(T,V,y,E):(0,q.of)(Me)),(0,Ue.U)(Me=>({...m,guardsResult:Me})))})}(this.environmentInjector,Y=>this.events.next(Y)),(0,qe.b)(Y=>{if(T.guardsResult=Y.guardsResult,Xt(Y.guardsResult))throw aa(0,Y.guardsResult);const Me=new eo(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.events.next(Me)}),(0,wt.h)(Y=>!!Y.guardsResult||(m.restoreHistory(Y),this.cancelNavigationTransition(Y,"",3),!1)),hr(Y=>{if(Y.guards.canActivateChecks.length)return(0,q.of)(Y).pipe((0,qe.b)(Me=>{const yt=new zi(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(yt)}),(0,nt.w)(Me=>{let yt=!1;return(0,q.of)(Me).pipe(function ai(y,E){return(0,ct.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:M}}=m;if(!M.length)return(0,q.of)(m);let V=0;return(0,G.D)(M).pipe((0,Te.b)(Y=>function ms(y,E,m,T){const M=y.routeConfig,V=y._resolve;return void 0!==M?.title&&!Fn(M)&&(V[Gr]=M.title),function Gt(y,E,m,T){const M=function mn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,q.of)({});const V={};return(0,G.D)(M).pipe((0,ct.z)(Y=>function dn(y,E,m,T){const M=fi(E)??T,V=so(y,M);return Vt(V.resolve?V.resolve(E,m):M.runInContext(()=>V(E,m)))}(y[Y],E,m,T).pipe((0,kt.P)(),(0,qe.b)(Me=>{V[Y]=Me}))),jt(1),function mr(y){return(0,Ue.U)(()=>y)}(V),ye(Y=>pi(Y)?ke.E:st(Y)))}(V,y,E,T).pipe((0,Ue.U)(Y=>(y._resolvedData=Y,y.data=bo(y,m).resolve,M&&Fn(M)&&(y.data[Gr]=M.title),null)))}(Y.route,T,y,E)),(0,qe.b)(()=>V++),jt(1),(0,ct.z)(Y=>V===M.length?(0,q.of)(m):ke.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,qe.b)({next:()=>yt=!0,complete:()=>{yt||(m.restoreHistory(Me),this.cancelNavigationTransition(Me,"",2))}}))}),(0,qe.b)(Me=>{const yt=new rs(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(yt)}))}),hr(Y=>{const Me=yt=>{const tn=[];yt.routeConfig?.loadComponent&&!yt.routeConfig._loadedComponent&&tn.push(this.configLoader.loadComponent(yt.routeConfig).pipe((0,qe.b)(Zt=>{yt.component=Zt}),(0,Ue.U)(()=>{})));for(const Zt of yt.children)tn.push(...Me(Zt));return tn};return At(Me(Y.targetSnapshot.root)).pipe((0,jn.d)(),(0,Ke.q)(1))}),hr(()=>this.afterPreactivation()),(0,Ue.U)(Y=>{const Me=function no(y,E,m){const T=Ni(y,E._root,m?m._root:void 0);return new oa(T,E)}(m.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return T={...Y,targetRouterState:Me}}),(0,qe.b)(Y=>{m.currentUrlTree=Y.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),m.routerState=Y.targetRouterState,"deferred"===m.urlUpdateStrategy&&(Y.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,Y),m.browserUrlTree=Y.urlAfterRedirects)}),((y,E,m)=>(0,Ue.U)(T=>(new ua(E,T.targetRouterState,T.currentRouterState,m).activate(y),T)))(this.rootContexts,m.routeReuseStrategy,Y=>this.events.next(Y)),(0,Ke.q)(1),(0,qe.b)({next:Y=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new $r(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(Y.targetRouterState.snapshot),Y.resolve(!0)},complete:()=>{M=!0}}),cr(()=>{M||V||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),ye(Y=>{if(V=!0,Mo(Y)){ws(Y)||(m.navigated=!0,m.restoreHistory(T,!0));const Me=new Yr(T.id,this.urlSerializer.serialize(T.extractedUrl),Y.message,Y.cancellationCode);if(this.events.next(Me),ws(Y)){const yt=m.urlHandlingStrategy.merge(Y.url,m.rawUrlTree),tn={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||mi(T.source)};m.scheduleNavigation(yt,vn,null,tn,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{m.restoreHistory(T,!0);const Me=new Ir(T.id,this.urlSerializer.serialize(T.extractedUrl),Y,T.targetSnapshot??void 0);this.events.next(Me);try{T.resolve(m.errorHandler(Y))}catch(yt){T.reject(yt)}}return ke.E}))}))}cancelNavigationTransition(m,T,M){const V=new Yr(m.id,this.urlSerializer.serialize(m.extractedUrl),T,M);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function mi(y){return y!==vn}let Ns=(()=>{class y{buildTitle(m){let T,M=m.root;for(;void 0!==M;)T=this.getResolvedTitleForRoute(M)??T,M=M.children.find(V=>V.outlet===ln);return T}getResolvedTitleForRoute(m){return m.data[Gr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(ca)},providedIn:"root"}),y})(),ca=(()=>{class y extends Ns{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(zr.Dx))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Os=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Ri)},providedIn:"root"}),y})();class Wu{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Ri=(()=>{class y extends Wu{}return y.\u0275fac=function(){let E;return function(T){return(E||(E=p.n5z(y)))(T||y)}}(),y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const La=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ku=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Zo)},providedIn:"root"}),y})(),Zo=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function cu(y){throw y}function Ui(y,E,m){return E.parse("/")}const du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ri={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(La,{optional:!0})||{},this.errorHandler=this.options.errorHandler||cu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ui,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ku),this.routeReuseStrategy=(0,p.f3M)(Os),this.urlCreationStrategy=(0,p.f3M)(to),this.titleStrategy=(0,p.f3M)(Ns),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=vi((0,p.f3M)(wi,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ai),this.urlSerializer=(0,p.f3M)(We),this.location=(0,p.f3M)(Ut.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Co(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,M){const V={replaceUrl:!0},Y=M?.navigationId?M:null;if(M){const yt={...M};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(V.state=yt)}const Me=this.parseUrl(m);this.scheduleNavigation(Me,T,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(vo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:M,queryParams:V,fragment:Y,queryParamsHandling:Me,preserveFragment:yt}=T,tn=yt?this.currentUrlTree.fragment:Y;let Zt=null;switch(Me){case"merge":Zt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=V||null}return null!==Zt&&(Zt=this.removeEmptyProps(Zt)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,m,Zt,tn??null)}navigateByUrl(m,T={skipLocationChange:!1}){const M=Xt(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(V,vn,null,T)}navigate(m,T={skipLocationChange:!1}){return function ba(y){for(let E=0;E<y.length;E++){const m=y[E];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(M){T=this.malformedUriErrorHandler(M,this.urlSerializer,m)}return T}isActive(m,T){let M;if(M=!0===T?{...du}:!1===T?{...ri}:T,Xt(m))return li(this.currentUrlTree,m,M);const V=this.parseUrl(m);return li(this.currentUrlTree,V,M)}removeEmptyProps(m){return Object.keys(m).reduce((T,M)=>{const V=m[M];return null!=V&&(T[M]=V),T},{})}scheduleNavigation(m,T,M,V,Y){if(this.disposed)return Promise.resolve(!1);let Me,yt,tn,Zt;return Y?(Me=Y.resolve,yt=Y.reject,tn=Y.promise):tn=new Promise((_r,Mi)=>{Me=_r,yt=Mi}),Zt="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Zt,source:T,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:Me,reject:yt,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(_r=>Promise.reject(_r))}setBrowserUrl(m,T){const M=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(M)||T.extras.replaceUrl){const Y={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(M,"",Y)}else{const V={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.go(M,"",V)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ha=(()=>{class y{constructor(m,T,M,V,Y,Me){this.router=m,this.route=T,this.tabIndexAttribute=M,this.renderer=V,this.el=Y,this.locationStrategy=Me,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new De.x;const yt=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=m.events.subscribe(tn=>{tn instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,M,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||M||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const M=this.renderer,V=this.el.nativeElement;null!==T?M.setAttribute(V,m,T):M.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(p.Y36(ii),p.Y36(us),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ut.S$))},y.\u0275dir=p.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,T){1&m&&p.NdJ("click",function(V){return T.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&p.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),y})();class qs{}let Qa=(()=>{class y{constructor(m,T,M,V,Y){this.router=m,this.injector=M,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(m=>m instanceof $r),(0,Te.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const M=[];for(const V of T){V.providers&&!V._injector&&(V._injector=(0,p.MMx)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,Me=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&M.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&M.push(this.processRoutes(Me,V.children??V._loadedRoutes))}return(0,G.D)(M).pipe((0,pt.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let M;M=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,q.of)(null);const V=M.pipe((0,ct.z)(Y=>null===Y?(0,q.of)(void 0):(T._loadedRoutes=Y.routes,T._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(T.loadComponent&&!T._loadedComponent){const Y=this.loader.loadComponent(T);return(0,G.D)([V,Y]).pipe((0,pt.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(ii),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(qs),p.LFG(Xi))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Aa=new p.OlP("");let Cs=(()=>{class y{constructor(m,T,M,V,Y={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=M,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof $r&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof zs&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new zs(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){p.$Z()},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})();var Wi=(()=>((Wi=Wi||{})[Wi.COMPLETE=0]="COMPLETE",Wi[Wi.FAILED=1]="FAILED",Wi[Wi.REDIRECTING=2]="REDIRECTING",Wi))();const lo=!1;function ks(y,E){return{\u0275kind:y,\u0275providers:E}}const Zs=new p.OlP("",{providedIn:"root",factory:()=>!1});function Ja(){const y=(0,p.f3M)(p.zs3);return E=>{const m=y.get(p.z2F);if(E!==m.components[0])return;const T=y.get(ii),M=y.get(Xa);1===y.get(fu)&&T.initialNavigation(),y.get(Zu,null,p.XFs.Optional)?.setUpPreloading(),y.get(Aa,null,p.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const Xa=new p.OlP(lo?"bootstrap done indicator":"",{factory:()=>new De.x}),fu=new p.OlP(lo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Ua(){let y=[];return y=lo?[{provide:p.Xts,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ii);return()=>E.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function Ms(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],ks(1,y)}const Zu=new p.OlP(lo?"router preloader":"");function vl(y){return ks(0,[{provide:Zu,useExisting:Qa},{provide:qs,useExisting:y}])}const Yo=!1,Qo=new p.OlP(Yo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),pa=[Ut.Ye,{provide:We,useClass:ft},ii,ds,{provide:us,useFactory:function fa(y){return y.routerState.root},deps:[ii]},Xi,Yo?{provide:Zs,useValue:!0}:[]];function Ba(){return new p.PXZ("Router",ii)}let Ii=(()=>{class y{constructor(m){}static forRoot(m,T){return{ngModule:y,providers:[pa,Yo&&T?.enableTracing?Ua().\u0275providers:[],{provide:wi,multi:!0,useValue:m},{provide:Qo,useFactory:_l,deps:[[ii,new p.FiY,new p.tp0]]},{provide:La,useValue:T||{}},T?.useHash?{provide:Ut.S$,useClass:Ut.Do}:{provide:Ut.S$,useClass:Ut.b0},{provide:Aa,useFactory:()=>{const y=(0,p.f3M)(Ut.EM),E=(0,p.f3M)(p.R0b),m=(0,p.f3M)(La),T=(0,p.f3M)(Ai),M=(0,p.f3M)(We);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Cs(M,T,y,E,m)}},T?.preloadingStrategy?vl(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ba},T?.initialNavigation?Nt(T):[],[{provide:ti,useFactory:Ja},{provide:p.tb,multi:!0,useExisting:ti}]]}}static forChild(m){return{ngModule:y,providers:[{provide:wi,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(Qo,8))},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[zn]}),y})();function _l(y){if(Yo&&y)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Nt(y){return["disabled"===y.initialNavigation?ks(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ii);return()=>{E.setUpLocationChangeListener()}}},{provide:fu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ks(2,[{provide:fu,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const m=E.get(Ut.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const M=E.get(ii),V=E.get(Xa);(function Va(y,E){y.events.pipe((0,wt.h)(m=>m instanceof $r||m instanceof Yr||m instanceof Ir||m instanceof si),(0,Ue.U)(m=>m instanceof $r||m instanceof si?Wi.COMPLETE:m instanceof Yr&&(0===m.code||1===m.code)?Wi.REDIRECTING:Wi.FAILED),(0,wt.h)(m=>m!==Wi.REDIRECTING),(0,Ke.q)(1)).subscribe(()=>{E()})})(M,()=>{T(!0)}),E.get(Ai).afterPreactivation=()=>(T(!0),V.closed?(0,q.of)(void 0):V),M.initialNavigation()}))}}]).\u0275providers:[]]}const ti=new p.OlP(Yo?"Router Initializer":"")},3942:(an,at,W)=>{W.d(at,{Z:()=>At});var p=W(2090),G=W(4859),q=W(6881),De=W(1877);class Se{constructor(tt,pt){this._delegate=tt,this.firebase=pt,(0,q._addComponent)(tt,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(tt,pt=q._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(tt);return!bt.isInitialized()&&"EXPLICIT"===(null===(Ct=bt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:pt})}_removeServiceInstance(tt,pt=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(pt)}_addComponent(tt){(0,q._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,q._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ze(){const Rt=function Oe(Rt){const tt={},pt={__esModule:!0,initializeApp:function Be(st,ke={}){const Ot=q.initializeApp(st,ke);if((0,p.r3)(tt,Ot.name))return tt[Ot.name];const sn=new Rt(Ot,pt);return tt[Ot.name]=sn,sn},app:bt,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function Xe(st){const ke=st.name,Ot=ke.replace("-compat","");if(q._registerComponent(st)&&"PUBLIC"===st.type){const sn=(zt=bt())=>{if("function"!=typeof zt[Ot])throw je.create("invalid-app-argument",{appName:ke});return zt[Ot]()};void 0!==st.serviceProps&&(0,p.ZB)(sn,st.serviceProps),pt[Ot]=sn,Rt.prototype[Ot]=function(...zt){return this._getService.bind(this,ke).apply(this,st.multipleInstances?zt:[])}}return"PUBLIC"===st.type?pt[Ot]:null},removeApp:function Ct(st){delete tt[st]},useAsService:function Dt(st,ke){return"serverAuth"===ke?null:ke},modularAPIs:q}};function bt(st){if(!(0,p.r3)(tt,st=st||q._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:st});return tt[st]}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function _e(){return Object.keys(tt).map(st=>tt[st])}}),bt.App=Rt,pt}(Se);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function tt(pt){(0,p.ZB)(Rt,pt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Rt}(),he=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const At=de;!function dt(Rt){(0,q.registerVersion)("@firebase/app-compat","0.2.9",Rt)}()},6881:(an,at,W)=>{W.r(at),W.d(at,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>$i,_DEFAULT_ENTRY_NAME:()=>Zr,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Yn,_clearComponents:()=>li,_components:()=>gn,_getProvider:()=>Ur,_registerComponent:()=>Ar,_removeServiceInstance:()=>yr,deleteApp:()=>_t,getApp:()=>Ti,getApps:()=>Rn,initializeApp:()=>Xn,onLog:()=>re,registerVersion:()=>it,setLogLevel:()=>be});var p=W(5861),G=W(4859),q=W(1877),De=W(2090);const Se=(ot,Ve)=>Ve.some(St=>ot instanceof St);let we,je;const de=new WeakMap,he=new WeakMap,Ce=new WeakMap,ht=new WeakMap,dt=new WeakMap;let tt={get(ot,Ve,St){if(ot instanceof IDBTransaction){if("done"===Ve)return he.get(ot);if("objectStoreNames"===Ve)return ot.objectStoreNames||Ce.get(ot);if("store"===Ve)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return Be(ot[Ve])},set:(ot,Ve,St)=>(ot[Ve]=St,!0),has:(ot,Ve)=>ot instanceof IDBTransaction&&("done"===Ve||"store"===Ve)||Ve in ot};function bt(ot){return"function"==typeof ot?function Ct(ot){return ot!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ot)?function(...Ve){return ot.apply(_e(this),Ve),Be(de.get(this))}:function(...Ve){return Be(ot.apply(_e(this),Ve))}:function(Ve,...St){const Qt=ot.call(_e(this),Ve,...St);return Ce.set(Qt,Ve.sort?Ve.sort():[Ve]),Be(Qt)}}(ot):(ot instanceof IDBTransaction&&function Rt(ot){if(he.has(ot))return;const Ve=new Promise((St,Qt)=>{const fn=()=>{ot.removeEventListener("complete",In),ot.removeEventListener("error",Xt),ot.removeEventListener("abort",Xt)},In=()=>{St(),fn()},Xt=()=>{Qt(ot.error||new DOMException("AbortError","AbortError")),fn()};ot.addEventListener("complete",In),ot.addEventListener("error",Xt),ot.addEventListener("abort",Xt)});he.set(ot,Ve)}(ot),Se(ot,function Oe(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ot,tt):ot)}function Be(ot){if(ot instanceof IDBRequest)return function At(ot){const Ve=new Promise((St,Qt)=>{const fn=()=>{ot.removeEventListener("success",In),ot.removeEventListener("error",Xt)},In=()=>{St(Be(ot.result)),fn()},Xt=()=>{Qt(ot.error),fn()};ot.addEventListener("success",In),ot.addEventListener("error",Xt)});return Ve.then(St=>{St instanceof IDBCursor&&de.set(St,ot)}).catch(()=>{}),dt.set(Ve,ot),Ve}(ot);if(ht.has(ot))return ht.get(ot);const Ve=bt(ot);return Ve!==ot&&(ht.set(ot,Ve),dt.set(Ve,ot)),Ve}const _e=ot=>dt.get(ot),st=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Ot=new Map;function sn(ot,Ve){if(!(ot instanceof IDBDatabase)||Ve in ot||"string"!=typeof Ve)return;if(Ot.get(Ve))return Ot.get(Ve);const St=Ve.replace(/FromIndex$/,""),Qt=Ve!==St,fn=ke.includes(St);if(!(St in(Qt?IDBIndex:IDBObjectStore).prototype)||!fn&&!st.includes(St))return;const In=function(){var Xt=(0,p.Z)(function*(On,...qn){const Nr=this.transaction(On,fn?"readwrite":"readonly");let Br=Nr.store;return Qt&&(Br=Br.index(qn.shift())),(yield Promise.all([Br[St](...qn),fn&&Nr.done]))[0]});return function(qn){return Xt.apply(this,arguments)}}();return Ot.set(Ve,In),In}!function pt(ot){tt=ot(tt)}(ot=>({...ot,get:(Ve,St,Qt)=>sn(Ve,St)||ot.get(Ve,St,Qt),has:(Ve,St)=>!!sn(Ve,St)||ot.has(Ve,St)}));class zt{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function _n(ot){return"VERSION"===ot.getComponent()?.type}(St)){const Qt=St.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(St=>St).join(" ")}}const Ut="@firebase/app",nt=new q.Yd("@firebase/app"),Zr="[DEFAULT]",vi={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,gn=new Map;function Bt(ot,Ve){try{ot.container.addComponent(Ve)}catch(St){nt.debug(`Component ${Ve.name} failed to register with FirebaseApp ${ot.name}`,St)}}function Vt(ot,Ve){ot.container.addOrOverwriteComponent(Ve)}function Ar(ot){const Ve=ot.name;if(gn.has(Ve))return nt.debug(`There were multiple attempts to register component ${Ve}.`),!1;gn.set(Ve,ot);for(const St of Yn.values())Bt(St,ot);return!0}function Ur(ot,Ve){const St=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),ot.container.getProvider(Ve)}function yr(ot,Ve,St=Zr){Ur(ot,Ve).clearInstance(St)}function li(){gn.clear()}const kr=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(Ve,St,Qt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const $i="9.21.0";function Xn(ot,Ve={}){let St=ot;"object"!=typeof Ve&&(Ve={name:Ve});const Qt=Object.assign({name:Zr,automaticDataCollectionEnabled:!1},Ve),fn=Qt.name;if("string"!=typeof fn||!fn)throw kr.create("bad-app-name",{appName:String(fn)});if(St||(St=(0,De.aH)()),!St)throw kr.create("no-options");const In=Yn.get(fn);if(In){if((0,De.vZ)(St,In.options)&&(0,De.vZ)(Qt,In.config))return In;throw kr.create("duplicate-app",{appName:fn})}const Xt=new G.H0(fn);for(const qn of gn.values())Xt.addComponent(qn);const On=new lr(St,Qt,Xt);return Yn.set(fn,On),On}function Ti(ot=Zr){const Ve=Yn.get(ot);if(!Ve&&ot===Zr)return Xn();if(!Ve)throw kr.create("no-app",{appName:ot});return Ve}function Rn(){return Array.from(Yn.values())}function _t(ot){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,p.Z)(function*(ot){const Ve=ot.name;Yn.has(Ve)&&(Yn.delete(Ve),yield Promise.all(ot.container.getProviders().map(St=>St.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function it(ot,Ve,St){var Qt;let fn=null!==(Qt=vi[ot])&&void 0!==Qt?Qt:ot;St&&(fn+=`-${St}`);const In=fn.match(/\s|\//),Xt=Ve.match(/\s|\//);if(In||Xt){const On=[`Unable to register library "${fn}" with version "${Ve}":`];return In&&On.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),In&&Xt&&On.push("and"),Xt&&On.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void nt.warn(On.join(" "))}Ar(new G.wA(`${fn}-version`,()=>({library:fn,version:Ve}),"VERSION"))}function re(ot,Ve){if(null!==ot&&"function"!=typeof ot)throw kr.create("invalid-log-argument");(0,q.Am)(ot,Ve)}function be(ot){(0,q.Ub)(ot)}const We="firebase-heartbeat-database",ft=1,oe="firebase-heartbeat-store";let se=null;function pe(){return se||(se=function Xe(ot,Ve,{blocked:St,upgrade:Qt,blocking:fn,terminated:In}={}){const Xt=indexedDB.open(ot,Ve),On=Be(Xt);return Qt&&Xt.addEventListener("upgradeneeded",qn=>{Qt(Be(Xt.result),qn.oldVersion,qn.newVersion,Be(Xt.transaction),qn)}),St&&Xt.addEventListener("blocked",qn=>St(qn.oldVersion,qn.newVersion,qn)),On.then(qn=>{In&&qn.addEventListener("close",()=>In()),fn&&qn.addEventListener("versionchange",Nr=>fn(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),On}(We,ft,{upgrade:(ot,Ve)=>{0===Ve&&ot.createObjectStore(oe)}}).catch(ot=>{throw kr.create("idb-open",{originalErrorMessage:ot.message})})),se}function Re(){return(Re=(0,p.Z)(function*(ot){try{return(yield pe()).transaction(oe).objectStore(oe).get(le(ot))}catch(Ve){if(Ve instanceof De.ZR)nt.warn(Ve.message);else{const St=kr.create("idb-get",{originalErrorMessage:Ve?.message});nt.warn(St.message)}}})).apply(this,arguments)}function Mt(ot,Ve){return me.apply(this,arguments)}function me(){return(me=(0,p.Z)(function*(ot,Ve){try{const Qt=(yield pe()).transaction(oe,"readwrite");return yield Qt.objectStore(oe).put(Ve,le(ot)),Qt.done}catch(St){if(St instanceof De.ZR)nt.warn(St.message);else{const Qt=kr.create("idb-set",{originalErrorMessage:St?.message});nt.warn(Qt.message)}}})).apply(this,arguments)}function le(ot){return`${ot.name}!${ot.options.appId}`}class Ye{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Ln(St),this._heartbeatsCachePromise=this._storage.read().then(Qt=>(this._heartbeatsCache=Qt,Qt))}triggerHeartbeat(){var Ve=this;return(0,p.Z)(function*(){const Qt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=Pt();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==fn&&!Ve._heartbeatsCache.heartbeats.some(In=>In.date===fn))return Ve._heartbeatsCache.heartbeats.push({date:fn,agent:Qt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(In=>{const Xt=new Date(In.date).valueOf();return Date.now()-Xt<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,p.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const St=Pt(),{heartbeatsToSend:Qt,unsentEntries:fn}=function on(ot,Ve=1024){const St=[];let Qt=ot.slice();for(const fn of ot){const In=St.find(Xt=>Xt.agent===fn.agent);if(In){if(In.dates.push(fn.date),sr(St)>Ve){In.dates.pop();break}}else if(St.push({agent:fn.agent,dates:[fn.date]}),sr(St)>Ve){St.pop();break}Qt=Qt.slice(1)}return{heartbeatsToSend:St,unsentEntries:Qt}}(Ve._heartbeatsCache.heartbeats),In=(0,De.L)(JSON.stringify({version:2,heartbeats:Qt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=St,fn.length>0?(Ve._heartbeatsCache.heartbeats=fn,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),In})()}}function Pt(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,p.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function $e(ot){return Re.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var St=this;return(0,p.Z)(function*(){var Qt;if(yield St._canUseIndexedDBPromise){const In=yield St.read();return Mt(St.app,{lastSentHeartbeatDate:null!==(Qt=Ve.lastSentHeartbeatDate)&&void 0!==Qt?Qt:In.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var St=this;return(0,p.Z)(function*(){var Qt;if(yield St._canUseIndexedDBPromise){const In=yield St.read();return Mt(St.app,{lastSentHeartbeatDate:null!==(Qt=Ve.lastSentHeartbeatDate)&&void 0!==Qt?Qt:In.lastSentHeartbeatDate,heartbeats:[...In.heartbeats,...Ve.heartbeats]})}})()}}function sr(ot){return(0,De.L)(JSON.stringify({version:2,heartbeats:ot})).length}!function er(ot){Ar(new G.wA("platform-logger",Ve=>new zt(Ve),"PRIVATE")),Ar(new G.wA("heartbeat",Ve=>new Ye(Ve),"PRIVATE")),it(Ut,"0.9.9",ot),it(Ut,"0.9.9","esm2017"),it("fire-js","")}("")},4859:(an,at,W)=>{W.d(at,{H0:()=>Oe,wA:()=>q});var p=W(5861),G=W(2090);class q{constructor(de,he,Ce){this.name=de,this.instanceFactory=he,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const De="[DEFAULT]";class Se{constructor(de,he){this.name=de,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const he=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(he)){const Ce=new G.BH;if(this.instancesDeferred.set(he,Ce),this.isInitialized(he)||this.shouldAutoInitialize())try{const ht=this.getOrInitializeService({instanceIdentifier:he});ht&&Ce.resolve(ht)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(de){var he;const Ce=this.normalizeInstanceIdentifier(de?.identifier),ht=null!==(he=de?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(ht)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(dt){if(ht)return null;throw dt}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function je(Ze){return"EAGER"===Ze.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[he,Ce]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(he);try{const dt=this.getOrInitializeService({instanceIdentifier:ht});Ce.resolve(dt)}catch{}}}}clearInstance(de=De){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const he=Array.from(de.instances.values());yield Promise.all([...he.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...he.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=De){return this.instances.has(de)}getOptions(de=De){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:he={}}=de,Ce=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ht=this.getOrInitializeService({instanceIdentifier:Ce,options:he});for(const[dt,At]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(dt)&&At.resolve(ht);return ht}onInit(de,he){var Ce;const ht=this.normalizeInstanceIdentifier(he),dt=null!==(Ce=this.onInitCallbacks.get(ht))&&void 0!==Ce?Ce:new Set;dt.add(de),this.onInitCallbacks.set(ht,dt);const At=this.instances.get(ht);return At&&de(At,ht),()=>{dt.delete(de)}}invokeOnInitCallbacks(de,he){const Ce=this.onInitCallbacks.get(he);if(Ce)for(const ht of Ce)try{ht(de,he)}catch{}}getOrInitializeService({instanceIdentifier:de,options:he={}}){let Ce=this.instances.get(de);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=de,Ze===De?void 0:Ze),options:he}),this.instances.set(de,Ce),this.instancesOptions.set(de,he),this.invokeOnInitCallbacks(Ce,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Ce)}catch{}var Ze;return Ce||null}normalizeInstanceIdentifier(de=De){return this.component?this.component.multipleInstances?de:De:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Oe{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const he=this.getProvider(de.name);if(he.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);he.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const he=new Se(de,this);return this.providers.set(de,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(an,at,W)=>{W.d(at,{Am:()=>Ze,Ub:()=>Oe,Yd:()=>je,in:()=>G});const p=[];var G=(()=>{return(de=G||(G={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",G;var de})();const q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},De=G.INFO,Se={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},we=(de,he,...Ce)=>{if(he<de.logLevel)return;const ht=(new Date).toISOString(),dt=Se[he];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[dt](`[${ht}]  ${de.name}:`,...Ce)};class je{constructor(he){this.name=he,this._logLevel=De,this._logHandler=we,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in G))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?q[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...he),this._logHandler(this,G.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...he),this._logHandler(this,G.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,G.INFO,...he),this._logHandler(this,G.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,G.WARN,...he),this._logHandler(this,G.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...he),this._logHandler(this,G.ERROR,...he)}}function Oe(de){p.forEach(he=>{he.setLogLevel(de)})}function Ze(de,he){for(const Ce of p){let ht=null;he&&he.level&&(ht=q[he.level]),Ce.userLogHandler=null===de?null:(dt,At,...Rt)=>{const tt=Rt.map(pt=>{if(null==pt)return null;if("string"==typeof pt)return pt;if("number"==typeof pt||"boolean"==typeof pt)return pt.toString();if(pt instanceof Error)return pt.message;try{return JSON.stringify(pt)}catch{return null}}).filter(pt=>pt).join(" ");At>=(ht??dt.logLevel)&&de({level:G[At].toLowerCase(),message:tt,args:Rt,type:dt.name})}}}},259:(an,at,W)=>{W.d(at,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=W(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(an,at,W)=>{W.d(at,{Z:()=>p.Z});var p=W(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},7185:(an,at,W)=>{W.d(at,{Rh:()=>Ke,_W:()=>_n});var p=W(4650),G=W(7340),q=W(6895),De=W(7579),Se=W(1481);const we=["toast-component",""];function je(Te,qe){if(1&Te){const ye=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(ye);const It=p.oxw();return p.KtG(It.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Oe(Te,qe){if(1&Te&&(p.ynx(0),p._uU(1),p.BQk()),2&Te){const ye=p.oxw(2);p.xp6(1),p.hij("[",ye.duplicatesCount+1,"]")}}function Ze(Te,qe){if(1&Te&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Oe,2,1,"ng-container",4),p.qZA()),2&Te){const ye=p.oxw();p.Tol(ye.options.titleClass),p.uIk("aria-label",ye.title),p.xp6(1),p.hij(" ",ye.title," "),p.xp6(1),p.Q6J("ngIf",ye.duplicatesCount)}}function de(Te,qe){if(1&Te&&p._UZ(0,"div",7),2&Te){const ye=p.oxw();p.Tol(ye.options.messageClass),p.Q6J("innerHTML",ye.message,p.oJD)}}function he(Te,qe){if(1&Te&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Te){const ye=p.oxw();p.Tol(ye.options.messageClass),p.uIk("aria-label",ye.message),p.xp6(1),p.hij(" ",ye.message," ")}}function Ce(Te,qe){if(1&Te&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Te){const ye=p.oxw();p.xp6(1),p.Udp("width",ye.width+"%")}}class bt{constructor(qe,ye){this.component=qe,this.injector=ye}attach(qe,ye){return this._attachedHost=qe,qe.attach(this,ye)}detach(){const qe=this._attachedHost;if(qe)return this._attachedHost=void 0,qe.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(qe){this._attachedHost=qe}}class Be{attach(qe,ye){return this._attachedPortal=qe,this.attachComponentPortal(qe,ye)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(qe){this._disposeFn=qe}}class _e{constructor(qe){this._overlayRef=qe,this.duplicatesCount=0,this._afterClosed=new De.x,this._activate=new De.x,this._manualClose=new De.x,this._resetTimeout=new De.x,this._countDuplicate=new De.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(qe,ye){qe&&this._resetTimeout.next(),ye&&this._countDuplicate.next(++this.duplicatesCount)}}class Xe{constructor(qe,ye,Le,It,jt,Zn){this.toastId=qe,this.config=ye,this.message=Le,this.title=It,this.toastType=jt,this.toastRef=Zn,this._onTap=new De.x,this._onAction=new De.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(qe){this._onAction.next(qe)}onAction(){return this._onAction.asObservable()}}const st=new p.OlP("ToastConfig");class ke extends Be{constructor(qe,ye,Le){super(),this._hostDomElement=qe,this._componentFactoryResolver=ye,this._appRef=Le}attachComponentPortal(qe,ye){const Le=this._componentFactoryResolver.resolveComponentFactory(qe.component);let It;return It=Le.create(qe.injector),this._appRef.attachView(It.hostView),this.setDisposeFn(()=>{this._appRef.detachView(It.hostView),It.destroy()}),ye?this._hostDomElement.insertBefore(this._getComponentRootNode(It),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(It)),It}_getComponentRootNode(qe){return qe.hostView.rootNodes[0]}}let Ot=(()=>{class Te{constructor(){this._document=(0,p.f3M)(q.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ye=this._document.createElement("div");ye.classList.add("overlay-container"),ye.setAttribute("aria-live","polite"),this._document.body.appendChild(ye),this._containerElement=ye}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class sn{constructor(qe){this._portalHost=qe}attach(qe,ye=!0){return this._portalHost.attach(qe,ye)}detach(){return this._portalHost.detach()}}let zt=(()=>{class Te{constructor(){this._overlayContainer=(0,p.f3M)(Ot),this._componentFactoryResolver=(0,p.f3M)(p._Vd),this._appRef=(0,p.f3M)(p.z2F),this._document=(0,p.f3M)(q.K0),this._paneElements=new Map}create(ye,Le){return this._createOverlayRef(this.getPaneElement(ye,Le))}getPaneElement(ye="",Le){return this._paneElements.get(Le)||this._paneElements.set(Le,{}),this._paneElements.get(Le)[ye]||(this._paneElements.get(Le)[ye]=this._createPaneElement(ye,Le)),this._paneElements.get(Le)[ye]}_createPaneElement(ye,Le){const It=this._document.createElement("div");return It.id="toast-container",It.classList.add(ye),It.classList.add("toast-container"),Le?Le.getContainerElement().appendChild(It):this._overlayContainer.getContainerElement().appendChild(It),It}_createPortalHost(ye){return new ke(ye,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ye){return new sn(this._createPortalHost(ye))}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),_n=(()=>{class Te{constructor(ye,Le,It,jt,Zn){this.overlay=Le,this._injector=It,this.sanitizer=jt,this.ngZone=Zn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...ye.default,...ye.config},ye.config.iconClasses&&(this.toastrConfig.iconClasses={...ye.default.iconClasses,...ye.config.iconClasses})}show(ye,Le,It={},jt=""){return this._preBuildNotification(jt,ye,Le,this.applyConfig(It))}success(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ye,Le,this.applyConfig(It))}error(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ye,Le,this.applyConfig(It))}info(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ye,Le,this.applyConfig(It))}warning(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ye,Le,this.applyConfig(It))}clear(ye){for(const Le of this.toasts)if(void 0!==ye){if(Le.toastId===ye)return void Le.toastRef.manualClose()}else Le.toastRef.manualClose()}remove(ye){const Le=this._findToast(ye);if(!Le||(Le.activeToast.toastRef.close(),this.toasts.splice(Le.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const It=this.toasts[this.currentlyActive].toastRef;It.isInactive()||(this.currentlyActive=this.currentlyActive+1,It.activate())}return!0}findDuplicate(ye="",Le="",It,jt){const{includeTitleDuplicates:Zn}=this.toastrConfig;for(const jn of this.toasts)if((!Zn||Zn&&jn.title===ye)&&jn.message===Le)return jn.toastRef.onDuplicate(It,jt),jn;return null}applyConfig(ye={}){return{...this.toastrConfig,...ye}}_findToast(ye){for(let Le=0;Le<this.toasts.length;Le++)if(this.toasts[Le].toastId===ye)return{index:Le,activeToast:this.toasts[Le]};return null}_preBuildNotification(ye,Le,It,jt){return jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ye,Le,It,jt)):this._buildNotification(ye,Le,It,jt)}_buildNotification(ye,Le,It,jt){if(!jt.toastComponent)throw new Error("toastComponent required");const Zn=this.findDuplicate(It,Le,this.toastrConfig.resetTimeoutOnDuplicate&&jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&It||Le)&&this.toastrConfig.preventDuplicates&&null!==Zn)return Zn;this.previousToastMessage=Le;let jn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(jn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const wr=this.overlay.create(jt.positionClass,this.overlayContainer);this.index=this.index+1;let gr=Le;Le&&jt.enableHtml&&(gr=this.sanitizer.sanitize(p.q3G.HTML,Le));const mr=new _e(wr),cr=new Xe(this.index,jt,gr,It,ye,mr),ln=p.zs3.create({providers:[{provide:Xe,useValue:cr}],parent:this._injector}),Gr=new bt(jt.toastComponent,ln),Mn=wr.attach(Gr,jt.newestOnTop);mr.componentInstance=Mn.instance;const Ft={toastId:this.index,title:It||"",message:Le||"",toastRef:mr,onShown:mr.afterActivate(),onHidden:mr.afterClosed(),onTap:cr.onTap(),onAction:cr.onAction(),portal:Mn};return jn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ft.toastRef.activate()})),this.toasts.push(Ft),Ft}}return Te.\u0275fac=function(ye){return new(ye||Te)(p.LFG(st),p.LFG(zt),p.LFG(p.zs3),p.LFG(Se.H7),p.LFG(p.R0b))},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),Ut=(()=>{class Te{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(ye,Le,It){this.toastrService=ye,this.toastPackage=Le,this.ngZone=It,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Le.message,this.title=Le.title,this.options=Le.config,this.originalTimeout=Le.config.timeOut,this.toastClasses=`${Le.toastType} ${Le.config.toastClass}`,this.sub=Le.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Le.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Le.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Le.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ye=(new Date).getTime();this.width=(this.hideTime-ye)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ye,Le){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ye),Le)):this.timeout=setTimeout(()=>ye(),Le)}outsideInterval(ye,Le){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ye),Le)):this.intervalId=setInterval(()=>ye(),Le)}runInsideAngular(ye){this.ngZone?this.ngZone.run(()=>ye()):ye()}}return Te.\u0275fac=function(ye){return new(ye||Te)(p.Y36(_n),p.Y36(Xe),p.Y36(p.R0b))},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ye,Le){1&ye&&p.NdJ("click",function(){return Le.tapToast()})("mouseenter",function(){return Le.stickAround()})("mouseleave",function(){return Le.delayedHideToast()}),2&ye&&(p.d8E("@flyInOut",Le.state),p.Tol(Le.toastClasses),p.Udp("display",Le.displayStyle))},standalone:!0,features:[p.jDz],attrs:we,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ye,Le){1&ye&&(p.YNc(0,je,3,0,"button",0),p.YNc(1,Ze,3,5,"div",1),p.YNc(2,de,1,3,"div",2),p.YNc(3,he,2,4,"div",3),p.YNc(4,Ce,2,2,"div",4)),2&ye&&(p.Q6J("ngIf",Le.options.closeButton),p.xp6(1),p.Q6J("ngIf",Le.title),p.xp6(1),p.Q6J("ngIf",Le.message&&Le.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Le.message&&!Le.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Le.options.progressBar))},dependencies:[q.O5],encapsulation:2,data:{animation:[(0,G.X$)("flyInOut",[(0,G.SB)("inactive",(0,G.oB)({opacity:0})),(0,G.SB)("active",(0,G.oB)({opacity:1})),(0,G.SB)("removed",(0,G.oB)({opacity:0})),(0,G.eR)("inactive => active",(0,G.jt)("{{ easeTime }}ms {{ easing }}")),(0,G.eR)("active => removed",(0,G.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Te})();const Ue={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Ut},nt=(Te={})=>(0,p.MR2)([{provide:st,useValue:{default:Ue,config:Te}}]);let Ke=(()=>{class Te{static forRoot(ye={}){return{ngModule:Te,providers:[nt(ye)]}}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275mod=p.oAB({type:Te}),Te.\u0275inj=p.cJS({imports:[Ut]}),Te})()},5861:(an,at,W)=>{function p(q,De,Se,we,je,Oe,Ze){try{var de=q[Oe](Ze),he=de.value}catch(Ce){return void Se(Ce)}de.done?De(he):Promise.resolve(he).then(we,je)}function G(q){return function(){var De=this,Se=arguments;return new Promise(function(we,je){var Oe=q.apply(De,Se);function Ze(he){p(Oe,we,je,Ze,de,"next",he)}function de(he){p(Oe,we,je,Ze,de,"throw",he)}Ze(void 0)})}}W.d(at,{Z:()=>G})}},an=>{an(an.s=8535)}]);