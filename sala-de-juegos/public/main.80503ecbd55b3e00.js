"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{2313:(Xt,Xe,H)=>{H.d(Xe,{nm:()=>Nn});var p=H(4976),Ee=(H(4650),H(3692),H(259),H(5861)),ve=H(6881),Re=H(4859),Te=H(2090),Ve=H(1877);const de=new Map,he={activated:!1,tokenObservers:[]},Se={initialized:!1,enabled:!1};function ft(ke){return de.get(ke)||Object.assign({},he)}function At(){return Se}const Rt="https://content-firebaseappcheck.googleapis.com/v1",Ct="exchangeDebugToken",bt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class we{constructor(De,Me,mt,xt,yn){if(this.operation=De,this.retryPolicy=Me,this.getWaitDuration=mt,this.lowerBound=xt,this.upperBound=yn,this.pending=null,this.nextErrorWaitInterval=xt,xt>yn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(De){var Me=this;return(0,Ee.Z)(function*(){Me.stop();try{Me.pending=new Te.BH,yield function et(ke){return new Promise(De=>{setTimeout(De,ke)})}(Me.getNextRun(De)),Me.pending.resolve(),yield Me.pending.promise,Me.pending=new Te.BH,yield Me.operation(),Me.pending.resolve(),yield Me.pending.promise,Me.process(!0).catch(()=>{})}catch(mt){Me.retryPolicy(mt)?Me.process(!1).catch(()=>{}):Me.stop()}})()}getNextRun(De){if(De)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Me=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Me}}}const ot=new Te.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n(ke,De){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,Ee.Z)(function*({url:ke,body:De},Me){const mt={"Content-Type":"application/json"},xt=Me.getImmediate({optional:!0});if(xt){const Zr=yield xt.getHeartbeatsHeader();Zr&&(mt["X-Firebase-Client"]=Zr)}const yn={method:"POST",body:JSON.stringify(De),headers:mt};let Pn,vn;try{Pn=yield fetch(ke,yn)}catch(Zr){throw ot.create("fetch-network-error",{originalErrorMessage:Zr?.message})}if(200!==Pn.status)throw ot.create("fetch-status-error",{httpStatus:Pn.status});try{vn=yield Pn.json()}catch(Zr){throw ot.create("fetch-parse-error",{originalErrorMessage:Zr?.message})}const kn=vn.ttl.match(/^([\d.]+)(s)$/);if(!kn||!kn[2]||isNaN(Number(kn[1])))throw ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vn.ttl}`});const _i=1e3*Number(kn[1]),$r=Date.now();return{token:vn.token,expireTimeMillis:$r+_i,issuedAtTimeMillis:$r}})).apply(this,arguments)}const lt="firebase-app-check-database",wt=1,ct="firebase-app-check-store";let be=null;function Zn(ke,De){return $n.apply(this,arguments)}function $n(){return($n=(0,Ee.Z)(function*(ke,De){const mt=(yield function Ze(){return be||(be=new Promise((ke,De)=>{try{const Me=indexedDB.open(lt,wt);Me.onsuccess=mt=>{ke(mt.target.result)},Me.onerror=mt=>{var xt;De(ot.create("storage-open",{originalErrorMessage:null===(xt=mt.target.error)||void 0===xt?void 0:xt.message}))},Me.onupgradeneeded=mt=>{0===mt.oldVersion&&mt.target.result.createObjectStore(ct,{keyPath:"compositeKey"})}}catch(Me){De(ot.create("storage-open",{originalErrorMessage:Me?.message}))}}),be)}()).transaction(ct,"readwrite"),yn=mt.objectStore(ct).put({compositeKey:ke,value:De});return new Promise((Pn,vn)=>{yn.onsuccess=kn=>{Pn()},mt.onerror=kn=>{var _i;vn(ot.create("storage-set",{originalErrorMessage:null===(_i=kn.target.error)||void 0===_i?void 0:_i.message}))}})})).apply(this,arguments)}const cr=new Ve.Yd("@firebase/app-check");function zr(ke,De){return(0,Te.hl)()?function Ue(ke,De){return Zn(function mr(ke){return`${ke.options.appId}-${ke.name}`}(ke),De)}(ke,De).catch(Me=>{cr.warn(`Failed to write token to IndexedDB. Error: ${Me}`)}):Promise.resolve()}function Pr(){return ir.apply(this,arguments)}function ir(){return(ir=(0,Ee.Z)(function*(){const ke=At();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vi={error:"UNKNOWN_ERROR"};function Yn(ke){return Te.US.encodeString(JSON.stringify(ke),!1)}function gn(ke){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,Ee.Z)(function*(ke,De=!1){const Me=ke.app;!function Nt(ke){if(!ft(ke).activated)throw ot.create("use-before-activation",{appName:ke.name})}(Me);const mt=ft(Me);let yn,xt=mt.token;if(xt&&!lr(xt)&&(mt.token=void 0,xt=void 0),!xt){const kn=yield mt.cachedTokenPromise;kn&&(lr(kn)?xt=kn:yield zr(Me,void 0))}if(!De&&xt&&lr(xt))return{token:xt.token};let vn,Pn=!1;if(function jn(){return At().enabled}()){mt.exchangeTokenPromise||(mt.exchangeTokenPromise=_n(function qe(ke,De){const{projectId:Me,appId:mt,apiKey:xt}=ke.options;return{url:`${Rt}/projects/${Me}/apps/${mt}:${Ct}?key=${xt}`,body:{debug_token:De}}}(Me,yield Pr()),ke.heartbeatServiceProvider).finally(()=>{mt.exchangeTokenPromise=void 0}),Pn=!0);const kn=yield mt.exchangeTokenPromise;return yield zr(Me,kn),mt.token=kn,{token:kn.token}}try{mt.exchangeTokenPromise||(mt.exchangeTokenPromise=mt.provider.getToken().finally(()=>{mt.exchangeTokenPromise=void 0}),Pn=!0),xt=yield ft(Me).exchangeTokenPromise}catch(kn){"appCheck/throttled"===kn.code?cr.warn(kn.message):cr.error(kn),yn=kn}return xt?yn?vn=lr(xt)?{token:xt.token,internalError:yn}:Bi(yn):(vn={token:xt.token},mt.token=xt,yield zr(Me,xt)):vn=Bi(yn),Pn&&function kr(ke,De){const Me=ft(ke).tokenObservers;for(const mt of Me)try{"EXTERNAL"===mt.type&&null!=De.error?mt.error(De.error):mt.next(De)}catch{}}(Me,vn),vn})).apply(this,arguments)}function yr(ke,De){const Me=ft(ke),mt=Me.tokenObservers.filter(xt=>xt.next!==De);0===mt.length&&Me.tokenRefresher&&Me.tokenRefresher.isRunning()&&Me.tokenRefresher.stop(),Me.tokenObservers=mt}function li(ke){const{app:De}=ke,Me=ft(De);let mt=Me.tokenRefresher;mt||(mt=function Gr(ke){const{app:De}=ke;return new we((0,Ee.Z)(function*(){let mt;if(mt=ft(De).token?yield gn(ke,!0):yield gn(ke),mt.error)throw mt.error;if(mt.internalError)throw mt.internalError}),()=>!0,()=>{const Me=ft(De);if(Me.token){let mt=Me.token.issuedAtTimeMillis+.5*(Me.token.expireTimeMillis-Me.token.issuedAtTimeMillis)+3e5;return mt=Math.min(mt,Me.token.expireTimeMillis-3e5),Math.max(0,mt-Date.now())}return 0},bt.RETRIAL_MIN_WAIT,bt.RETRIAL_MAX_WAIT)}(ke),Me.tokenRefresher=mt),!mt.isRunning()&&Me.isTokenAutoRefreshEnabled&&mt.start()}function lr(ke){return ke.expireTimeMillis-Date.now()>0}function Bi(ke){return{token:Yn(vi),error:ke}}class Xn{constructor(De,Me){this.app=De,this.heartbeatServiceProvider=Me}_delete(){const{tokenObservers:De}=ft(this.app);for(const Me of De)yr(this.app,Me.next);return Promise.resolve()}}const Qt="app-check-internal";!function fn(){(0,ve._registerComponent)(new Re.wA("app-check",ke=>function Ti(ke,De){return new Xn(ke,De)}(ke.getProvider("app").getImmediate(),ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,De,Me)=>{ke.getProvider(Qt).initialize()})),(0,ve._registerComponent)(new Re.wA(Qt,ke=>function Rn(ke){return{getToken:De=>gn(ke,De),addTokenListener:De=>function Ur(ke,De,Me,mt){const{app:xt}=ke,yn=ft(xt);if(yn.tokenObservers=[...yn.tokenObservers,{next:Me,error:mt,type:De}],yn.token&&lr(yn.token)){const vn=yn.token;Promise.resolve().then(()=>{Me({token:vn.token}),li(ke)}).catch(()=>{})}yn.cachedTokenPromise.then(()=>li(ke))}(ke,"INTERNAL",De),removeTokenListener:De=>yr(ke.app,De)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ve.registerVersion)("@firebase/app-check","0.7.0")}();class Nn{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(Xt,Xe,H)=>{H.d(Xe,{Ot:()=>Ie,ZF:()=>nt,hX:()=>ft,z6:()=>Ee});var p=H(259),B=H(4650),q=H(4976);class Ie{constructor(we){return we}}class Ee{constructor(){return(0,p.C6)()}}const Te=new B.OlP("angularfire2._apps"),Ve={provide:Ie,useFactory:function Re(je){return je&&1===je.length?je[0]:new Ie((0,p.Mq)())},deps:[[new B.FiY,Te]]},de={provide:Ee,deps:[[new B.FiY,Te]]};function he(je){return(we,et)=>{const Dt=we.runOutsideAngular(()=>je(et));return new Ie(Dt)}}let Se=(()=>{class je{constructor(et){(0,p.KN)("angularfire",q.q4.full,"core"),(0,p.KN)("angularfire",q.q4.full,"app"),(0,p.KN)("angular",B.q4F.full,et.toString())}}return je.\u0275fac=function(et){return new(et||je)(B.LFG(B.Lbi))},je.\u0275mod=B.oAB({type:je}),je.\u0275inj=B.cJS({providers:[Ve,de]}),je})();function ft(je,...we){return{ngModule:Se,providers:[{provide:Te,useFactory:he(je),multi:!0,deps:[B.R0b,B.zs3,q.HU,...we]}]}}const nt=(0,q.u3)(p.ZF,!0)},1205:(Xt,Xe,H)=>{H.d(Xe,{zQ:()=>$e,ww:()=>rt});var p=H(4650),B=H(7579),q=H(9646),Ie=H(9751),Ee=H(8996),ve=H(6451),Re=H(5363),Te=H(3900),Ve=H(4004),de=H(6063);class he extends B.x{constructor(lt=1/0,wt=1/0,ct=de.l){super(),this._bufferSize=lt,this._windowTime=wt,this._timestampProvider=ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,wt)}next(lt){const{isStopped:wt,_buffer:ct,_infiniteTimeWindow:kt,_timestampProvider:be,_windowTime:Ze}=this;wt||(ct.push(lt),!kt&&ct.push(be.now()+Ze)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(lt),{_infiniteTimeWindow:ct,_buffer:kt}=this,be=kt.slice();for(let Ze=0;Ze<be.length&&!lt.closed;Ze+=ct?1:2)lt.next(be[Ze]);return this._checkFinalizedStatuses(lt),wt}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:wt,_buffer:ct,_infiniteTimeWindow:kt}=this,be=(kt?1:2)*lt;if(lt<1/0&&be<ct.length&&ct.splice(0,ct.length-be),!kt){const Ze=wt.now();let ye=0;for(let Ue=1;Ue<ct.length&&ct[Ue]<=Ze;Ue+=2)ye=Ue;ye&&ct.splice(0,ye+1)}}}var Se=H(3099);function ft(qe,lt,wt){let ct,kt=!1;return qe&&"object"==typeof qe?({bufferSize:ct=1/0,windowTime:lt=1/0,refCount:kt=!1,scheduler:wt}=qe):ct=qe??1/0,(0,Se.B)({connector:()=>new he(ct,lt,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:kt})}var dt=H(590),At=H(576);function Rt(qe,lt){return(0,At.m)(lt)?(0,Te.w)(()=>qe,lt):(0,Te.w)(()=>qe)}var nt=H(9468),gt=H(9300),Ct=H(4976),bt=H(2011),je=H(6895),we=H(2313),et=H(9260);const ot=new p.OlP("angularfire2.auth.use-emulator"),Le=new p.OlP("angularfire2.auth.settings"),Nt=new p.OlP("angularfire2.auth.tenant-id"),sn=new p.OlP("angularfire2.auth.langugage-code"),zt=new p.OlP("angularfire2.auth.use-device-language"),_n=new p.OlP("angularfire.auth.persistence");let $e=(()=>{class qe{constructor(wt,ct,kt,be,Ze,ye,Ue,It,jt,Zn,$n,wr){const gr=new B.x,mr=(0,q.of)(void 0).pipe((0,Re.Q)(Ze.outsideAngular),(0,Te.w)(()=>be.runOutsideAngular(()=>H.e(568).then(H.bind(H,9568)))),(0,Ve.U)(()=>(0,bt.on)(wt,be,ct)),(0,Ve.U)(cr=>((qe,lt,wt,ct,kt,be,Ze,ye)=>(0,bt.cc)(`${qe.name}.auth`,"AngularFireAuth",qe.name,()=>{const Ue=lt.runOutsideAngular(()=>qe.auth());if(wt&&Ue.useEmulator(...wt),ct&&(Ue.tenantId=ct),Ue.languageCode=kt,be&&Ue.useDeviceLanguage(),Ze)for(const[It,jt]of Object.entries(Ze))Ue.settings[It]=jt;return ye&&Ue.setPersistence(ye),Ue},[wt,ct,kt,be,Ze,ye]))(cr,be,ye,It,jt,Zn,Ue,$n)),ft({bufferSize:1,refCount:!1}));if((0,je.PM)(kt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{mr.pipe((0,dt.P)()).subscribe();const Hr=mr.pipe((0,Te.w)(Mn=>Mn.getRedirectResult().then(Ft=>Ft,()=>null)),Ct.iC,ft({bufferSize:1,refCount:!1})),ln=mr.pipe((0,Te.w)(Mn=>new Ie.y(Ft=>({unsubscribe:be.runOutsideAngular(()=>Mn.onAuthStateChanged(jn=>Ft.next(jn),jn=>Ft.error(jn),()=>Ft.complete()))})))),zr=mr.pipe((0,Te.w)(Mn=>new Ie.y(Ft=>({unsubscribe:be.runOutsideAngular(()=>Mn.onIdTokenChanged(jn=>Ft.next(jn),jn=>Ft.error(jn),()=>Ft.complete()))}))));this.authState=Hr.pipe(Rt(ln),(0,nt.R)(Ze.outsideAngular),(0,Re.Q)(Ze.insideAngular)),this.user=Hr.pipe(Rt(zr),(0,nt.R)(Ze.outsideAngular),(0,Re.Q)(Ze.insideAngular)),this.idToken=this.user.pipe((0,Te.w)(Mn=>Mn?(0,Ee.D)(Mn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Te.w)(Mn=>Mn?(0,Ee.D)(Mn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,ve.T)(Hr,gr,this.authState.pipe((0,gt.h)(Mn=>!Mn))).pipe((0,Ve.U)(Mn=>Mn?.user?Mn:null),(0,nt.R)(Ze.outsideAngular),(0,Re.Q)(Ze.insideAngular))}return(0,bt.pX)(this,mr,be,{spy:{apply:(cr,Hr,ln)=>{(cr.startsWith("signIn")||cr.startsWith("createUser"))&&ln.then(zr=>gr.next(zr))}}})}}return qe.\u0275fac=function(wt){return new(wt||qe)(p.LFG(bt.Dh),p.LFG(bt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Ct.HU),p.LFG(ot,8),p.LFG(Le,8),p.LFG(Nt,8),p.LFG(sn,8),p.LFG(zt,8),p.LFG(_n,8),p.LFG(we.nm,8))},qe.\u0275prov=p.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"any"}),qe})(),rt=(()=>{class qe{constructor(){et.Z.registerVersion("angularfire",Ct.q4.full,"auth-compat")}}return qe.\u0275fac=function(wt){return new(wt||qe)},qe.\u0275mod=p.oAB({type:qe}),qe.\u0275inj=p.cJS({providers:[$e]}),qe})()},2011:(Xt,Xe,H)=>{H.d(Xe,{Dh:()=>Te,GT:()=>ve,cc:()=>dt,hO:()=>ft,on:()=>de,pX:()=>Ee,xv:()=>Ve});var p=H(4650),B=H(9260),q=H(4976);Xt=H.hmd(Xt);const Ie=["ngOnDestroy"],Ee=(gt,Ct,bt,je={})=>new Proxy(gt,{get:(we,et)=>bt.runOutsideAngular(()=>{var Dt;if(gt[et])return!(null===(Dt=je?.spy)||void 0===Dt)&&Dt.get&&je.spy.get(et,gt[et]),gt[et];if(Ie.indexOf(et)>-1)return()=>{};const ot=Ct.toPromise().then(Le=>{const Nt=Le&&Le[et];return"function"==typeof Nt?Nt.bind(Le):Nt&&Nt.then?Nt.then(sn=>bt.run(()=>sn)):bt.run(()=>Nt)});return new Proxy(()=>{},{get:(Le,Nt)=>ot[Nt],apply:(Le,Nt,sn)=>ot.then(zt=>{var _n;const Ut=zt&&zt(...sn);return!(null===(_n=je?.spy)||void 0===_n)&&_n.apply&&je.spy.apply(et,sn,Ut),Ut})})})}),ve=(gt,Ct)=>{Ct.forEach(bt=>{Object.getOwnPropertyNames(bt.prototype||bt).forEach(je=>{Object.defineProperty(gt.prototype,je,Object.getOwnPropertyDescriptor(bt.prototype||bt,je))})})};class Re{constructor(Ct){return Ct}}const Te=new p.OlP("angularfire2.app.options"),Ve=new p.OlP("angularfire2.app.name");function de(gt,Ct,bt){const we="object"==typeof bt&&bt||{};we.name=we.name||"string"==typeof bt&&bt||"[DEFAULT]";const Dt=B.Z.apps.filter(ot=>ot&&ot.name===we.name)[0]||Ct.runOutsideAngular(()=>B.Z.initializeApp(gt,we));try{JSON.stringify(gt)!==JSON.stringify(Dt.options)&&he("error",`${Dt.name} Firebase App already initialized with different options${Xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Re(Dt)}const he=(gt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[gt](...Ct)},Se={provide:Re,useFactory:de,deps:[Te,p.R0b,[new p.FiY,Ve]]};let ft=(()=>{class gt{constructor(bt){B.Z.registerVersion("angularfire",q.q4.full,"core"),B.Z.registerVersion("angularfire",q.q4.full,"app-compat"),B.Z.registerVersion("angular",p.q4F.full,bt.toString())}static initializeApp(bt,je){return{ngModule:gt,providers:[{provide:Te,useValue:bt},{provide:Ve,useValue:je}]}}}return gt.\u0275fac=function(bt){return new(bt||gt)(p.LFG(p.Lbi))},gt.\u0275mod=p.oAB({type:gt}),gt.\u0275inj=p.cJS({providers:[Se]}),gt})();function dt(gt,Ct,bt,je,we){const[,et,Dt]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===gt)||[];if(et)return function At(gt,Ct){try{return gt.toString()===Ct.toString()}catch{return gt===Ct}}(we,Dt)||(nt("error",`${Ct} was already initialized on the ${bt} Firebase App with different settings.${Rt?" You may need to reload as Firebase is not HMR aware.":""}`),nt("warn",{is:we,was:Dt})),et;{const ot=je();return globalThis.\u0275AngularfireInstanceCache.push([gt,ot,we]),ot}}const Rt=!!Xt.hot,nt=(gt,...Ct)=>{(0,p.X6Q)()&&typeof console<"u"&&console[gt](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9313:(Xt,Xe,H)=>{H.d(Xe,{gg:()=>zf,Um:()=>Gf,hJ:()=>Pv,BS:()=>um,oe:()=>Ov,JU:()=>Nv,PL:()=>Sh,ad:()=>G0,Xo:()=>cm,Cm:()=>Sv,IO:()=>gw,pl:()=>Q0,r7:()=>X0,ar:()=>eE});var p=H(4976),B=H(4650),q=H(3692),Ie=H(259),ve=(H(8502),H(2090)),Re=H(6881),Te=H(1877),Ve=H(4859);class Se{constructor(){return(0,p.vb)("auth")}}var re,Rn=H(2313),_t=H(5861),Mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st={},Ae=Ae||{},Ke=Mr||self;function pt(){}function se(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function ie(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var He="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function Mt(r,e,t){return r.call.apply(r.bind,arguments)}function me(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function le(r,e,t){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:me).apply(null,arguments)}function ne(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function fe(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function Qe(){this.s=this.s,this.o=this.o}Qe.prototype.s=!1,Qe.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function pe(r){Object.prototype.hasOwnProperty.call(r,He)&&r[He]||(r[He]=++Oe)}(this)},Qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const an=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Ln(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function sr(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(se(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function er(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}er.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ke.addEventListener("test",pt,e),Ke.removeEventListener("test",pt,e)}catch{}return r}();function Be(r){return/^[\s\xa0]*$/.test(r)}var St=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Qt(r,e){return r<e?-1:r>e?1:0}function fn(){var r=Ke.navigator;return r&&(r=r.userAgent)?r:""}function wn(r){return-1!=fn().indexOf(r)}function en(r){return en[" "](r),r}function Nn(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}en[" "]=pt;var Wt,r,Wn=wn("Opera"),Or=wn("Trident")||wn("MSIE"),Br=wn("Edge"),Us=Br||Or,Bs=wn("Gecko")&&!(-1!=fn().toLowerCase().indexOf("webkit")&&!wn("Edge"))&&!(wn("Trident")||wn("MSIE"))&&!wn("Edge"),$i=-1!=fn().toLowerCase().indexOf("webkit")&&!wn("Edge");function tr(){var r=Ke.document;return r?r.documentMode:void 0}e:{var Cn="",vr=(r=fn(),Bs?/rv:([^\);]+)(\)|;)/.exec(r):Br?/Edge\/([\d\.]+)/.exec(r):Or?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):$i?/WebKit\/(\S+)/.exec(r):Wn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(vr&&(Cn=vr?vr[1]:""),Or){var Qn=tr();if(null!=Qn&&Qn>parseFloat(Cn)){Wt=String(Qn);break e}}Wt=Cn}var Ji={},ke=Ke.document&&Or&&(tr()||parseInt(Wt,10))||void 0;function De(r,e){if(er.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(Bs){e:{try{en(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Me[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&De.$.h.call(this)}}fe(De,er);var Me={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function yn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++xt,this.fa=this.ia=!1}function Pn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function vn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function kn(r){const e={};for(const t in r)e[t]=r[t];return e}const _i="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $r(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<_i.length;c++)t=_i[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Zr(r){this.src=r,this.g={},this.h=0}function si(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=an(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(Pn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Ir(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Zr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Ir(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new yn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var ji="closure_lm_"+(1e6*Math.random()|0),wo={};function eo(r,e,t,s,a){if(s&&s.once)return Zi(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)eo(r,e[c],t,s,a);return null}return t=Cs(t),r&&r[mt]?r.O(e,t,ie(s)?!!s.capture:!!s,a):Hi(r,e,t,!1,s,a)}function Hi(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=ie(a)?!!a.capture:!!a,b=$s(r);if(b||(r[ji]=b=new Zr(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function Xi(){const e=es;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)at||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Ci(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Zi(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Zi(r,e[c],t,s,a);return null}return t=Cs(t),r&&r[mt]?r.P(e,t,ie(s)?!!s.capture:!!s,a):Hi(r,e,t,!0,s,a)}function Yr(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)Yr(r,e[c],t,s,a);else s=ie(s)?!!s.capture:!!s,t=Cs(t),r&&r[mt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Ir(c=r.g[e],t,s,a))&&(Pn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=$s(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Ir(e,t,s,a)),(t=-1<r?e[r]:null)&&Uo(t))}function Uo(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[mt])si(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Ci(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=$s(e))?(si(t,r),0==t.h&&(t.src=null,e[ji]=null)):Pn(r)}}}function Ci(r){return r in wo?wo[r]:wo[r]="on"+r}function es(r,e){if(r.fa)r=!0;else{e=new De(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Uo(r),r=t.call(s,e)}return r}function $s(r){return(r=r[ji])instanceof Zr?r:null}var js="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cs(r){return"function"==typeof r?r:(r[js]||(r[js]=function(e){return r.handleEvent(e)}),r[js])}function dr(){Qe.call(this),this.i=new Zr(this),this.S=this,this.J=null}function xr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new er(e,r);else if(e instanceof er)e.target=e.target||r;else{var a=e;$r(e=new er(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=ts(f,s,!0,e)&&a}if(a=ts(f=e.g=r,s,!0,e)&&a,a=ts(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=ts(f=e.g=t[c],s,!1,e)&&a}function ts(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,L=f.la||f.src;f.ia&&si(r.i,f),a=!1!==b.call(L,s)&&a}}return a&&!s.defaultPrevented}fe(dr,Qe),dr.prototype[mt]=!0,dr.prototype.removeEventListener=function(r,e,t,s){Yr(this,r,e,t,s)},dr.prototype.N=function(){if(dr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)Pn(t[s]);delete r.g[e],r.h--}}this.J=null},dr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},dr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var to=Ke.JSON.stringify;function ns(){var r=To;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Do,Io=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new rs,r=>r.reset());class rs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bs(r){Ke.setTimeout(()=>{throw r},0)}function ia(r,e){Do||function $o(){var r=Ke.Promise.resolve(void 0);Do=function(){r.then(ss)}}(),is||(Do(),is=!0),To.add(r,e)}var is=!1,To=new class Bo{constructor(){this.h=this.g=null}add(e,t){const s=Io.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function ss(){for(var r;r=ns();){try{r.h.call(r.g)}catch(t){bs(t)}var e=Io;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}is=!1}function os(r,e){dr.call(this),this.h=r||1,this.g=e||Ke,this.j=le(this.qb,this),this.l=Date.now()}function Co(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ms(r,e,t){if("function"==typeof r)t&&(r=le(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=le(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ke.setTimeout(r,e||0)}function bo(r){r.g=ms(()=>{r.g=null,r.i&&(r.i=!1,bo(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}fe(os,dr),(re=os.prototype).ga=!1,re.T=null,re.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xr(this,"tick"),this.ga&&(Co(this),this.start()))}},re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.N=function(){os.$.N.call(this),Co(this),delete this.g};class jo extends Qe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zi(r){Qe.call(this),this.h=r,this.g={}}fe(zi,Qe);var no=[];function Oi(r,e,t,s){Array.isArray(t)||(t&&(no[0]=t.toString()),t=no);for(var a=0;a<t.length;a++){var c=eo(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function va(r){vn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Uo(e)},r),r.g={}}function ro(){this.g=!0}function bi(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function So(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return to(t)}catch{return e}}(r,t)+(s?" "+s:"")})}zi.prototype.N=function(){zi.$.N.call(this),va(this)},zi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ro.prototype.Ea=function(){this.g=!1},ro.prototype.info=function(){};var Hs={},as=null;function Ni(){return as=as||new dr}function Nr(r){er.call(this,Hs.Ta,r)}function oi(r){const e=Ni();xr(e,new Nr(e))}function Ss(r,e){er.call(this,Hs.STAT_EVENT,r),this.stat=e}function Hn(r){const e=Ni();xr(e,new Ss(e,r))}function us(r,e){er.call(this,Hs.Ua,r),this.size=e}function ls(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){r()},e)}Hs.Ta="serverreachability",fe(Nr,er),Hs.STAT_EVENT="statevent",fe(Ss,er),Hs.Ua="timingevent",fe(us,er);var di={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ho={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ao(){}function Qr(){}Ao.prototype.h=null;var Jr,vs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _s(){er.call(this,"d")}function mo(){er.call(this,"c")}function ti(){}function fi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new zi(this),this.P=oa,this.V=new os(r=Us?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new xn}function xn(){this.i=null,this.g="",this.h=!1}fe(_s,er),fe(mo,er),fe(ti,Ao),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Jr=new ti;var oa=45e3,zo={},zs={};function Mo(r,e,t){r.L=1,r.v=cs(Si(e)),r.s=t,r.S=!0,yo(r,null)}function yo(r,e){r.G=Date.now(),x(r),r.A=Si(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Go(t.i,"t",s),r.C=0,t=r.l.I,r.h=new xn,r.g=Vi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new jo(le(r.Pa,r,r.g),r.O)),Oi(r.U,r.g,"readystatechange",r.nb),e=r.I?kn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),oi(),function io(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),L=0;L<b.length;L++){var G=b[L].split("=");if(1<G.length){var Q=G[0];G=G[1];var ge=Q.split("_");f=2<=ge.length&&"type"==ge[1]?f+(Q+"=")+G+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function so(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function oo(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=_a(r,t),a==zs){4==e&&(r.o=4,Hn(14),s=!1),bi(r.j,r.m,null,"[Incomplete Response]");break}if(a==zo){r.o=4,Hn(15),bi(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}bi(r.j,r.m,a,null),pn(r,a)}so(r)&&a!=zs&&a!=zo&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Hn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gu(e),e.L=!0,Hn(11))):(bi(r.j,r.m,t,"[Invalid Chunked Response]"),ze(r),X(r))}function _a(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?zs:(t=Number(e.substring(t,s)),isNaN(t)?zo:(s+=1)+t>e.length?zs:(e=e.substr(s,t),r.C=s+t,e))}function x(r){r.Y=Date.now()+r.P,N(r,r.P)}function N(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ls(le(r.lb,r),e)}function k(r){r.B&&(Ke.clearTimeout(r.B),r.B=null)}function X(r){0==r.l.H||r.J||Fa(r.l,r)}function ze(r){k(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Co(r.V),va(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function pn(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ce(t.h,r)))if(!r.K&&ce(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;la(t),Yi(t)}xs(t),Hn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=ls(le(t.ib,t),6e3));if(1>=te(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Ko(t,11)}else if((r.K||t.g==r)&&la(t),!Be(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let G=a[e];if(t.V=G[0],G=G[1],2==t.H)if("c"==G[0]){t.J=G[1],t.oa=G[2];const Q=G[3];null!=Q&&(t.qa=Q,t.j.info("VER="+t.qa));const ge=G[4];null!=ge&&(t.Ga=ge,t.j.info("SVER="+t.Ga));const Ge=G[5];null!=Ge&&"number"==typeof Ge&&0<Ge&&(t.K=s=1.5*Ge,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const Ht=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var c=s.h;c.g||-1==Ht.indexOf("spdy")&&-1==Ht.indexOf("quic")&&-1==Ht.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(_e(c,c.h),c.h=null))}if(s.F){const rn=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(s.Da=rn,Dr(s.G,s.F,rn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=uu(s,s.I?s.oa:null,s.Y),f.K){We(s.h,f);var b=f,L=s.K;L&&b.setTimeout(L),b.B&&(k(b),x(b)),s.g=f}else ua(s);0<t.i.length&&Wo(t)}else"stop"!=G[0]&&"close"!=G[0]||Ko(t,7);else 3==t.H&&("stop"==G[0]||"close"==G[0]?"stop"==G[0]?Ko(t,7):wi(t):"noop"!=G[0]&&t.l&&t.l.Aa(G),t.A=0)}oi()}catch{}}function Li(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(se(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Lr(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(se(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Cr(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(se(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(re=fi.prototype).setTimeout=function(r){this.P=r},re.nb=function(r){r=r.target;const e=this.M;e&&3==Gt(r)?e.l():this.Pa(r)},re.Pa=function(r){try{if(r==this.g)e:{const Q=Gt(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||Us||this.g&&(this.h.h||this.g.ja()||mn(this.g)))){this.J||4!=Q||7==e||oi(),k(this);var t=this.g.da();this.aa=t;t:if(so(this)){var s=mn(this.g);r="";var a=s.length,c=4==Gt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),X(this);var f="";break t}this.h.i=new Ke.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function sa(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(b)){var G=b;break t}}G=null}if(!(t=G)){this.i=!1,this.o=3,Hn(12),ze(this),X(this);break e}bi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,t)}this.S?(oo(this,Q,f),Us&&this.i&&3==Q&&(Oi(this.U,this.V,"tick",this.mb),this.V.start())):(bi(this.j,this.m,f,null),pn(this,f)),4==Q&&ze(this),this.i&&!this.J&&(4==Q?Fa(this.l,this):(this.i=!1,x(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),ze(this),X(this)}}}catch{}},re.mb=function(){if(this.g){var r=Gt(this.g),e=this.g.ja();this.C<e.length&&(k(this),oo(this,r,e),this.i&&4!=r&&x(this))}},re.cancel=function(){this.J=!0,ze(this)},re.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ys(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(oi(),Hn(17)),ze(this),this.o=2,X(this)):N(this,this.Y-r)};var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pi(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof pi){this.h=void 0!==e?e:r.h,Wr(this,r.j),this.s=r.s,this.g=r.g,ki(this,r.m),this.l=r.l,e=r.i;var t=new uo;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),ao(this,t),this.o=r.o}else r&&(t=String(r).match(Gs))?(this.h=!!e,Wr(this,t[1]||"",!0),this.s=Ro(t[2]||""),this.g=Ro(t[3]||"",!0),ki(this,t[4]),this.l=Ro(t[5]||"",!0),ao(this,t[6]||"",!0),this.o=Ro(t[7]||"")):(this.h=!!e,this.i=new uo(null,this.h))}function Si(r){return new pi(r)}function Wr(r,e,t){r.j=t?Ro(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function ki(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ao(r,e,t){e instanceof uo?(r.i=e,function $(r,e){e&&!r.j&&(As(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Es(this,s),Go(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=ds(e,wa)),r.i=new uo(e,r.h))}function Dr(r,e,t){r.i.set(e,t)}function cs(r){return Dr(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Ro(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ds(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,ka),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function ka(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}pi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ds(e,ou,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ds(e,ou,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(ds(t,"/"==t.charAt(0)?Ea:Ei,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",ds(t,Ia)),r.join("")};var ou=/[#\/\?@]/g,Ei=/[#\?:]/g,Ea=/[#\?]/g,wa=/[#\?@]/g,Ia=/#/g;function uo(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function As(r){r.g||(r.g=new Map,r.h=0,r.i&&function xo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Es(r,e){As(r),e=vo(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function aa(r,e){return As(r),e=vo(r,e),r.g.has(e)}function Go(r,e,t){Es(r,e),0<t.length&&(r.i=null,r.g.set(vo(r,e),Ln(t)),r.h+=t.length)}function vo(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function w(r){this.l=r||F,r=Ke.PerformanceNavigationTiming?0<(r=Ke.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ke.g&&Ke.g.Ka&&Ke.g.Ka()&&Ke.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=uo.prototype).add=function(r,e){As(this),this.i=null,r=vo(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},re.forEach=function(r,e){As(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},re.sa=function(){As(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},re.Z=function(r){As(this);let e=[];if("string"==typeof r)aa(this,r)&&(e=e.concat(this.g.get(vo(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},re.set=function(r,e){return As(this),this.i=null,aa(this,r=vo(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},re.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var F=10;function K(r){return!!r.h||!!r.g&&r.g.size>=r.j}function te(r){return r.h?1:r.g?r.g.size:0}function ce(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function _e(r,e){r.g?r.g.add(e):r.h=e}function We(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function vt(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Ln(r.i)}function Jt(){}function un(){this.g=new Jt}function ur(r,e,t){const s=t||"";try{Li(r,function(a,c){let f=a;ie(a)&&(f=to(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function In(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function An(r){this.l=r.fc||null,this.j=r.ob||!1}function A(r,e){dr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=U,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}w.prototype.cancel=function(){if(this.i=vt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Jt.prototype.stringify=function(r){return Ke.JSON.stringify(r,void 0)},Jt.prototype.parse=function(r){return Ke.JSON.parse(r,void 0)},fe(An,Ao),An.prototype.g=function(){return new A(this.l,this.j)},An.prototype.i=function(r){return function(){return r}}({}),fe(A,dr);var U=0;function P(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Z(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ae(r)}function ae(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(re=A.prototype).open=function(r,e){if(this.readyState!=U)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ae(this)},re.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z(this)),this.readyState=U},re.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ae(this)),this.g&&(this.readyState=3,ae(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},re.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Z(this):ae(this),3==this.readyState&&P(this)}},re.Za=function(r){this.g&&(this.response=this.responseText=r,Z(this))},re.Ya=function(r){this.g&&(this.response=r,Z(this))},re.ka=function(){this.g&&Z(this)},re.setRequestHeader=function(r,e){this.v.append(r,e)},re.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(A.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var it=Ke.JSON.parse;function tt(r){dr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qt,this.L=this.M=!1}fe(tt,dr);var qt="",or=/^https?$/i,Vn=["POST","PUT"];function zn(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Vr(r),ai(r)}function Vr(r){r.F||(r.F=!0,xr(r,"complete"),xr(r,"error"))}function ar(r){if(r.h&&typeof Ae<"u"&&(!r.C[1]||4!=Gt(r)||2!=r.da()))if(r.v&&4==Gt(r))ms(r.La,0,r);else if(xr(r,"readystatechange"),4==Gt(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.I).match(Gs)[1]||null;if(!a&&Ke.self&&Ke.self.location){var c=Ke.self.location.protocol;a=c.substr(0,c.length-1)}s=!or.test(a?a.toLowerCase():"")}t=s}if(t)xr(r,"complete"),xr(r,"success");else{r.m=6;try{var f=2<Gt(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",Vr(r)}}finally{ai(r)}}}function ai(r,e){if(r.g){hs(r);const t=r.g,s=r.C[0]?pt:null;r.g=null,r.C=null,e||xr(r,"ready");try{t.onreadystatechange=s}catch{}}}function hs(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ke.clearTimeout(r.A),r.A=null)}function Gt(r){return r.g?r.g.readyState:0}function mn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case qt:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function dn(r){let e="";return vn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Fn(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=dn(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Dr(r,e,t))}function hr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function gi(r){this.Ga=0,this.i=[],this.j=new ro,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=hr("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=hr("baseRetryDelayMs",5e3,r),this.hb=hr("retryDelaySeedMs",1e4,r),this.eb=hr("forwardChannelMaxRetries",2,r),this.xa=hr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new w(r&&r.concurrentRequestLimit),this.Ja=new un,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function wi(r){if(ui(r),3==r.H){var e=r.W++,t=Si(r.G);Dr(t,"SID",r.J),Dr(t,"RID",e),Dr(t,"TYPE","terminate"),mi(r,t),(e=new fi(r,r.j,e,void 0)).L=2,e.v=cs(Si(t)),t=!1,Ke.navigator&&Ke.navigator.sendBeacon&&(t=Ke.navigator.sendBeacon(e.v.toString(),"")),!t&&Ke.Image&&((new Image).src=e.v,t=!0),t||(e.g=Vi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),x(e)}au(r)}function Yi(r){r.g&&(Gu(r),r.g.cancel(),r.g=null)}function ui(r){Yi(r),r.u&&(Ke.clearTimeout(r.u),r.u=null),la(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Ke.clearTimeout(r.m),r.m=null)}function Wo(r){K(r.h)||r.m||(r.m=!0,ia(r.Na,r),r.C=0)}function Ai(r,e){var t;t=e?e.m:r.W++;const s=Si(r.G);Dr(s,"SID",r.J),Dr(s,"RID",t),Dr(s,"AID",r.V),mi(r,s),r.o&&r.s&&Fn(s,r.o,r.s),t=new fi(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Ms(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),_e(r.h,t),Mo(t,s,e)}function mi(r,e){r.ma&&vn(r.ma,function(t,s){Dr(e,s,t)}),r.l&&Li({},function(t,s){Dr(e,s,t)})}function Ms(r,e,t){t=Math.min(r.i.length,t);var s=r.l?le(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let L=0;L<t;L++){let G=a[L].h;const Q=a[L].g;if(G-=c,0>G)c=Math.max(0,a[L].h-100),b=!1;else try{ur(Q,f,"req"+G+"_")}catch{s&&s(Q)}}if(b){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function ua(r){r.g||r.u||(r.ba=1,ia(r.Ma,r),r.A=0)}function xs(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ls(le(r.Ma,r),Wu(r,r.A)),r.A++,0))}function Gu(r){null!=r.B&&(Ke.clearTimeout(r.B),r.B=null)}function Ri(r){r.g=new fi(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Si(r.wa);Dr(e,"RID","rpc"),Dr(e,"SID",r.J),Dr(e,"CI",r.M?"0":"1"),Dr(e,"AID",r.V),Dr(e,"TYPE","xmlhttp"),mi(r,e),r.o&&r.s&&Fn(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=cs(Si(e)),t.s=null,t.S=!0,yo(t,r)}function la(r){null!=r.v&&(Ke.clearTimeout(r.v),r.v=null)}function Fa(r,e){var t=null;if(r.g==e){la(r),Gu(r),r.g=null;var s=2}else{if(!ce(r.h,e))return;t=e.F,We(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;xr(s=Ni(),new us(s,t)),Wo(r)}else ua(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function Da(r,e){return!(te(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ls(le(r.Na,r,e),Wu(r,r.C)),r.C++,0)))}(r,e)||2==s&&xs(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Ko(r,5);break;case 4:Ko(r,10);break;case 3:Ko(r,6);break;default:Ko(r,2)}}function Wu(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Ko(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=le(r.pb,r);t||(t=new pi("//www.google.com/images/cleardot.gif"),Ke.location&&"http"==Ke.location.protocol||Wr(t,"https"),cs(t)),function Un(r,e){const t=new ro;if(Ke.Image){const s=new Image;s.onload=ne(In,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ne(In,t,s,"TestLoadImage: error",!1,e),s.onabort=ne(In,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ne(In,t,s,"TestLoadImage: timeout",!1,e),Ke.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Hn(2);r.H=0,r.l&&r.l.za(e),au(r),ui(r)}function au(r){if(r.H=0,r.pa=[],r.l){const e=vt(r.h);(0!=e.length||0!=r.i.length)&&(sr(r.pa,e),sr(r.pa,r.i),r.h.i.length=0,Ln(r.i),r.i.length=0),r.l.ya()}}function uu(r,e,t){var s=t instanceof pi?Si(t):new pi(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),ki(s,s.m);else{var a=Ke.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new pi(null,void 0);s&&Wr(c,s),e&&(c.g=e),a&&ki(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Dr(s,t,e),Dr(s,"VER",r.qa),mi(r,s),s}function Vi(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(t&&r.Ha&&!r.va?new An({ob:!0}):r.va)).Oa(r.I),e}function lu(){}function ni(){if(Or&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function ri(r,e){dr.call(this),this.g=new gi(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Be(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Po(this)}function Ta(r){_s.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ca(){mo.call(this),this.status=1}function Po(r){this.g=r}function Ws(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ca(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function Xr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(re=tt.prototype).Oa=function(r){this.M=r},re.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=function hi(r){return r.h||(r.h=r.i())}(this.u?this.u:Jr),this.g.onreadystatechange=le(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void zn(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Ke.FormData&&r instanceof Ke.FormData,!(0<=an(Vn,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hs(this),0<this.B&&((this.L=function nr(r){return Or&&function ci(){return Nn(Ji,9,function(){let r=0;const e=St(String(Wt)).split("."),t=St("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=Qt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||Qt(0==a[2].length,0==c[2].length)||Qt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=le(this.ua,this)):this.A=ms(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){zn(this,c)}},re.ua=function(){typeof Ae<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xr(this,"timeout"),this.abort(8))},re.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,xr(this,"complete"),xr(this,"abort"),ai(this))},re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ai(this,!0)),tt.$.N.call(this)},re.La=function(){this.s||(this.G||this.v||this.l?ar(this):this.kb())},re.kb=function(){ar(this)},re.da=function(){try{return 2<Gt(this)?this.g.status:-1}catch{return-1}},re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},re.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),it(e)}},re.Ia=function(){return this.m},re.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=gi.prototype).qa=8,re.H=1,re.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new fi(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=kn(c),$r(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ms(this,a,e),Dr(t=Si(this.G),"RID",r),Dr(t,"CVER",22),this.F&&Dr(t,"X-HTTP-Session-Id",this.F),mi(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(dn(c)))+"&"+e:this.o&&Fn(t,this.o,c)),_e(this.h,a),this.bb&&Dr(t,"TYPE","init"),this.P?(Dr(t,"$req",e),Dr(t,"SID","null"),a.ba=!0,Mo(a,t,null)):Mo(a,t,e),this.H=2}}else 3==this.H&&(r?Ai(this,r):0==this.i.length||K(this.h)||Ai(this))},re.Ma=function(){if(this.u=null,Ri(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=ls(le(this.jb,this),r)}},re.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Hn(10),Yi(this),Ri(this))},re.ib=function(){null!=this.v&&(this.v=null,Yi(this),xs(this),Hn(19))},re.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))},(re=lu.prototype).Ba=function(){},re.Aa=function(){},re.za=function(){},re.ya=function(){},re.Va=function(){},ni.prototype.g=function(r,e){return new ri(r,e)},fe(ri,dr),ri.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Hn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=uu(r,null,r.Y),Wo(r)},ri.prototype.close=function(){wi(this.g)},ri.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=to(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&Wo(e)},ri.prototype.N=function(){this.g.l=null,delete this.j,wi(this.g),delete this.g,ri.$.N.call(this)},fe(Ta,_s),fe(ca,mo),fe(Po,lu),Po.prototype.Ba=function(){xr(this.g,"a")},Po.prototype.Aa=function(r){xr(this.g,new Ta(r))},Po.prototype.za=function(r){xr(this.g,new ca)},Po.prototype.ya=function(){xr(this.g,"b")},fe(Ws,function Ku(){this.blockSize=-1}),Ws.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ws.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Ca(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Ca(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Ca(this,s),a=0;break}}this.h=a,this.i+=e},Ws.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Ya={};function ba(r){return-128<=r&&128>r?Nn(Ya,r,function(e){return new Xr([0|e],0>e?-1:0)}):new Xr([0|r],0>r?-1:0)}function ws(r){if(isNaN(r)||!isFinite(r))return lo;if(0>r)return Jn(ws(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=La;return new Xr(e,0)}var La=4294967296,lo=ba(0),Su=ba(1),da=ba(16777216);function Rs(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ks(r){return-1==r.h}function Jn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Xr(t,~r.h).add(Su)}function cu(r,e){return r.add(Jn(e))}function Au(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Qa(r,e){this.g=r,this.h=e}function Ja(r,e){if(Rs(e))throw Error("division by zero");if(Rs(r))return new Qa(lo,lo);if(Ks(r))return e=Ja(Jn(r),e),new Qa(Jn(e.g),Jn(e.h));if(Ks(e))return e=Ja(r,Jn(e)),new Qa(Jn(e.g),e.h);if(30<r.g.length){if(Ks(r)||Ks(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Su,s=e;0>=s.X(r);)t=du(t),s=du(s);var a=hu(t,1),c=hu(s,1);for(s=hu(s,2),t=hu(t,2);!Rs(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=hu(s,1),t=hu(t,1)}return e=cu(r,a.R(e)),new Qa(a,e)}for(a=lo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=ws(t)).R(e);Ks(f)||0<f.X(r);)f=(c=ws(t-=s)).R(e);Rs(c)&&(c=Su),a=a.add(c),r=cu(r,f)}return new Qa(a,r)}function du(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Xr(t,r.h)}function hu(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new Xr(a,r.h)}(re=Xr.prototype).ea=function(){if(Ks(this))return-Jn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:La+s)*e,e*=La}return r},re.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Rs(this))return"0";if(Ks(this))return"-"+Jn(this).toString(r);for(var e=ws(Math.pow(r,6)),t=this,s="";;){var a=Ja(t,e).g,c=((0<(t=cu(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Rs(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},re.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},re.X=function(r){return Ks(r=cu(this,r))?-1:Rs(r)?0:1},re.abs=function(){return Ks(this)?Jn(this):this},re.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new Xr(t,-2147483648&t[t.length-1]?-1:0)},re.R=function(r){if(Rs(this)||Rs(r))return lo;if(Ks(this))return Ks(r)?Jn(this).R(Jn(r)):Jn(Jn(this).R(r));if(Ks(r))return Jn(this.R(Jn(r)));if(0>this.X(da)&&0>r.X(da))return ws(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=f*L,Au(t,2*s+2*a),t[2*s+2*a+1]+=c*L,Au(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,Au(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,Au(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Xr(t,0)},re.gb=function(r){return Ja(this,r).h},re.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Xr(t,this.h&r.h)},re.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Xr(t,this.h|r.h)},re.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Xr(t,this.h^r.h)},ni.prototype.createWebChannel=ni.prototype.g,ri.prototype.send=ri.prototype.u,ri.prototype.open=ri.prototype.m,ri.prototype.close=ri.prototype.close,di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,Ho.COMPLETE="complete",Qr.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",dr.prototype.listen=dr.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Ws.prototype.digest=Ws.prototype.l,Ws.prototype.reset=Ws.prototype.reset,Ws.prototype.update=Ws.prototype.j,Xr.prototype.add=Xr.prototype.add,Xr.prototype.multiply=Xr.prototype.R,Xr.prototype.modulo=Xr.prototype.gb,Xr.prototype.compare=Xr.prototype.X,Xr.prototype.toNumber=Xr.prototype.ea,Xr.prototype.toString=Xr.prototype.toString,Xr.prototype.getBits=Xr.prototype.D,Xr.fromNumber=ws,Xr.fromString=function Gi(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Jn(Gi(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ws(Math.pow(e,8)),s=lo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=ws(Math.pow(e,c)),s=s.R(c).add(ws(f))):s=(s=s.R(t)).add(ws(f))}return s};var jc=st.createWebChannelTransport=function(){return new ni},Va=st.getStatEventTarget=function(){return Ni()},qu=st.ErrorCode=di,gl=st.EventType=Ho,Wi=st.Event=Hs,fu=st.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mu=st.FetchXmlHttpFactory=An,qo=st.WebChannel=Qr,co=st.XhrIo=tt,Zo=st.Md5=Ws,ha=st.Integer=Xr;const Ua="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Sa="9.21.0";const Oo=new Te.Yd("@firebase/firestore");function Ba(){return Oo.logLevel}function Ot(r,...e){if(Oo.logLevel<=Te.in.DEBUG){const t=e.map(fa);Oo.debug(`Firestore (${Sa}): ${r}`,...t)}}function ei(r,...e){if(Oo.logLevel<=Te.in.ERROR){const t=e.map(fa);Oo.error(`Firestore (${Sa}): ${r}`,...t)}}function Is(r,...e){if(Oo.logLevel<=Te.in.WARN){const t=e.map(fa);Oo.warn(`Firestore (${Sa}): ${r}`,...t)}}function fa(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function y(r="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+r;throw ei(e),new Error(e)}function E(r,e){r||y()}function D(r,e){return r}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends ve.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xe{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class tn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Yt{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=G=>this.i!==a?(a=this.i,t(G)):Promise.resolve();let f=new Y;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Y,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const G=f;e.enqueueRetryable((0,_t.Z)(function*(){yield G.promise,yield c(s.currentUser)}))},L=G=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(G=>L(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?L(G):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Y)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(E("string"==typeof s.accessToken),new xe(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return E(null===e||"string"==typeof e),new Ii(e)}}class _r{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Mi{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new _r(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class No{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(E("string"==typeof t.token),this.T=t.token,new No(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ho(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Xl{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ho(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function On(r,e){return r<e?-1:r>e?1:0}function $a(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Di(0,0))}static max(){return new bn(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zu{constructor(e,t,s){void 0===t?t=0:t>e.length&&y(),void 0===s?s=e.length-t:s>e.length-t&&y(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rr extends Zu{construct(e,t,s){return new Rr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rr(t)}static emptyPath(){return new Rr([])}}const Hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ki extends Zu{construct(e,t,s){return new Ki(e,t,s)}static isValidIdentifier(e){return Hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ki(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ki(t)}static emptyPath(){return new Ki([])}}class nn{constructor(e){this.path=e}static fromPath(e){return new nn(Rr.fromString(e))}static fromName(e){return new nn(Rr.fromString(e).popFirst(5))}static empty(){return new nn(Rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nn(new Rr(e.slice()))}}function nc(r){return new qs(r.readTime,r.key,-1)}class qs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new qs(bn.min(),nn.empty(),-1)}static max(){return new qs(bn.max(),nn.empty(),-1)}}function Yu(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=nn.comparator(r.documentKey,e.documentKey),0!==t?t:On(r.largestBatchId,e.largestBatchId))}const Ru="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Aa(r){return eu.apply(this,arguments)}function eu(){return eu=(0,_t.Z)(function*(r){if(r.code!==M.FAILED_PRECONDITION||r.message!==Ru)throw r;Ot("LocalStore","Unexpectedly lost primary lease")}),eu.apply(this,arguments)}class Ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ye((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ye?t:Ye.resolve(t)}catch(t){return Ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ye.reject(t)}static resolve(e){return new Ye((t,s)=>{t(e)})}static reject(e){return new Ye((t,s)=>{s(e)})}static waitFor(e){return new Ye((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},L=>s(L))}),f=!0,c===a&&t()})}static or(e){let t=Ye.resolve(!1);for(const s of e)t=t.next(a=>a?Ye.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new Ye((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let L=0;L<c;L++){const G=L;t(e[G]).next(Q=>{f[G]=Q,++b,b===c&&s(f)},Q=>a(Q))}})}static doWhile(e,t){return new Ye((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function pu(r){return"IndexedDbTransactionError"===r.name}let Zs=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ga(r){return null==r}function Ju(r){return 0===r&&1/r==-1/0}function Xu(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function za(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Kc(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ii{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ys.RED,this.left=a??Ys.EMPTY,this.right=c??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ys(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ys.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ys(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fi{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qc(this.data.getIterator())}getIteratorFrom(e){return new qc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Fi)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fi(this.comparator);return t.data=e,t}}class qc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jo{constructor(e){this.fields=e,e.sort(Ki.comparator)}static empty(){return new Jo([])}unionWith(e){let t=new Fi(Ki.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Jo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Wf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wf("Invalid base64 string: "+a):a}}(e);return new d(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}d.EMPTY_BYTE_STRING=new d("");const g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(r){if(E(!!r),"string"==typeof r){let e=0;const t=g.exec(r);if(E(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:z(r.seconds),nanos:z(r.nanos)}}function z(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ee(r){return"string"==typeof r?d.fromBase64String(r):d.fromUint8Array(r)}function Ne(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ut(r){const e=r.mapValue.fields.__previous_value__;return Ne(e)?ut(e):e}function $t(r){const e=C(r.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class cn{constructor(e,t,s,a,c,f,b,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class En{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new En("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof En&&e.projectId===this.projectId&&e.database===this.database}}const Gn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _o(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ne(r)?4:Rh(r)?9007199254740991:10:y()}function ma(r,e){if(r===e)return!0;const t=_o(r);if(t!==_o(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return $t(r).isEqual($t(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=C(s.timestampValue),f=C(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ee(r.bytesValue).isEqual(ee(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return z(s.geoPointValue.latitude)===z(a.geoPointValue.latitude)&&z(s.geoPointValue.longitude)===z(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return z(s.integerValue)===z(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=z(s.doubleValue),f=z(a.doubleValue);return c===f?Ju(c)===Ju(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return $a(r.arrayValue.values||[],e.arrayValue.values||[],ma);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(Xu(c)!==Xu(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!ma(c[b],f[b])))return!1;return!0}(r,e);default:return y()}var a}function cc(r,e){return void 0!==(r.values||[]).find(t=>ma(t,e))}function ya(r,e){if(r===e)return 0;const t=_o(r),s=_o(e);if(t!==s)return On(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return On(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=z(a.integerValue||a.doubleValue),b=z(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Pd(r.timestampValue,e.timestampValue);case 4:return Pd($t(r),$t(e));case 5:return On(r.stringValue,e.stringValue);case 6:return function(a,c){const f=ee(a),b=ee(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let L=0;L<f.length&&L<b.length;L++){const G=On(f[L],b[L]);if(0!==G)return G}return On(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=On(z(a.latitude),z(c.latitude));return 0!==f?f:On(z(a.longitude),z(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let L=0;L<f.length&&L<b.length;++L){const G=ya(f[L],b[L]);if(G)return G}return On(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Gn.mapValue&&c===Gn.mapValue)return 0;if(a===Gn.mapValue)return 1;if(c===Gn.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),L=c.fields||{},G=Object.keys(L);b.sort(),G.sort();for(let Q=0;Q<b.length&&Q<G.length;++Q){const ge=On(b[Q],G[Q]);if(0!==ge)return ge;const Ge=ya(f[b[Q]],L[G[Q]]);if(0!==Ge)return Ge}return On(b.length,G.length)}(r.mapValue,e.mapValue);default:throw y()}}function Pd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return On(r,e);const t=C(r),s=C(e),a=On(t.seconds,s.seconds);return 0!==a?a:On(t.nanos,s.nanos)}function Ou(r){return Dl(r)}function Dl(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=C(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ee(r.bytesValue).toBase64():"referenceValue"in r?nn.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Dl(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Dl(s.fields[b])}`;return c+"}"}(r.mapValue):y();var e}function tu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cl(r){return!!r&&"integerValue"in r}function yu(r){return!!r&&"arrayValue"in r}function dc(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bl(r){return!!r&&"mapValue"in r}function fc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return za(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Rh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vo{constructor(e){this.value=e}static empty(){return new Vo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!bl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=Ki.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=fc(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());bl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ma(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];bl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){za(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Vo(fc(this.value))}}function hm(r){const e=[];return za(r.fields,(t,s)=>{const a=new Ki([t]);if(bl(s)){const c=hm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Jo(e)}class Ui{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new Ui(e,0,bn.min(),bn.min(),bn.min(),Vo.empty(),0)}static newFoundDocument(e,t,s,a){return new Ui(e,1,t,bn.min(),s,a,0)}static newNoDocument(e,t){return new Ui(e,2,t,bn.min(),bn.min(),Vo.empty(),0)}static newUnknownDocument(e,t){return new Ui(e,3,t,bn.min(),bn.min(),Vo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ui&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ui(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tl{constructor(e,t){this.position=e,this.inclusive=t}}function Nd(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?nn.comparator(nn.fromName(f.referenceValue),t.key):ya(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Ph(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ma(r.position[t],e.position[t]))return!1;return!0}class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Wv(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class fm{}class Kr extends fm{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new pc(e,t,s):"array-contains"===t?new Zv(e,s):"in"===t?new gm(e,s):"not-in"===t?new nl(e,s):"array-contains-any"===t?new Zc(e,s):new Kr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Kv(e,s):new qv(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ya(t,this.value)):null!==t&&_o(this.value)===_o(t)&&this.matchesComparison(ya(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xi extends fm{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new xi(e,t)}matches(e){return Sl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Sl(r){return"and"===r.op}function Oh(r){return function kd(r){for(const e of r.filters)if(e instanceof xi)return!1;return!0}(r)&&Sl(r)}function Fd(r){if(r instanceof Kr)return r.field.canonicalString()+r.op.toString()+Ou(r.value);if(Oh(r))return r.filters.map(e=>Fd(e)).join(",");{const e=r.filters.map(t=>Fd(t)).join(",");return`${r.op}(${e})`}}function Zf(r,e){return r instanceof Kr?(t=r,(s=e)instanceof Kr&&t.op===s.op&&t.field.isEqual(s.field)&&ma(t.value,s.value)):r instanceof xi?function(t,s){return s instanceof xi&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Zf(c,s.filters[f]),!0)}(r,e):void y();var t,s}function Qf(r){return r instanceof Kr?`${(e=r).field.canonicalString()} ${e.op} ${Ou(e.value)}`:r instanceof xi?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class pc extends Kr{constructor(e,t,s){super(e,t,s),this.key=nn.fromName(s.referenceValue)}matches(e){const t=nn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kv extends Kr{constructor(e,t){super(e,"in",t),this.keys=pm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qv extends Kr{constructor(e,t){super(e,"not-in",t),this.keys=pm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>nn.fromName(s.referenceValue))}class Zv extends Kr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yu(t)&&cc(t.arrayValue,this.value)}}class gm extends Kr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cc(this.value.arrayValue,t)}}class nl extends Kr{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cc(this.value.arrayValue,t)}}class Zc extends Kr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cc(this.value.arrayValue,s))}}class Yv{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.ft=null}}function Jf(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Yv(r,e,t,s,a,c,f)}function gc(r){const e=D(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Fd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ga(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ou(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ou(s)).join(",")),e.ft=t}return e.ft}function Ld(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Wv(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zf(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ph(r.startAt,e.startAt)&&Ph(r.endAt,e.endAt)}function Nh(r){return nn.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class rl{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=L,this.dt=null,this._t=null}}function Yc(r){return new rl(r)}function Vd(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function _u(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Al(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fh(r){return null!==r.collectionGroup}function Ml(r){const e=D(r);if(null===e.dt){e.dt=[];const t=Al(e),s=_u(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new vu(t)),e.dt.push(new vu(Ki.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new vu(Ki.keyField(),c))}}}return e.dt}function Xo(r){const e=D(r);if(!e._t)if("F"===e.limitType)e._t=Jf(e.path,e.collectionGroup,Ml(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of Ml(e))t.push(new vu(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new tl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new tl(e.startAt.position,e.startAt.inclusive):null;e._t=Jf(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function vm(r,e){e.getFirstInequalityField(),Al(r);const t=r.filters.concat([e]);return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,t){return new rl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lh(r,e){return Ld(Xo(r),Xo(e))&&r.limitType===e.limitType}function Vh(r){return`${gc(Xo(r))}|lt:${r.limitType}`}function Ud(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),ga(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ou(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ou(s)).join(",")),`Target(${t})`}(Xo(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):nn.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of Ml(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,Ml(t),s)||t.endAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,Ml(t),s)));var t,s}function tp(r){return(e,t)=>{let s=!1;for(const a of Ml(r)){const c=Jv(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Jv(r,e,t){const s=r.field.isKeyField()?nn.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),L=f.data.field(a);return null!==b&&null!==L?ya(b,L):y()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return y()}}class il{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Kc(this.inner)}size(){return this.innerSize}}const Xv=new ii(nn.comparator);function Ra(){return Xv}const np=new ii(nn.comparator);function xl(...r){let e=np;for(const t of r)e=e.insert(t.key,t);return e}function rp(r){let e=np;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function nu(){return qi()}function _m(){return qi()}function qi(){return new il(r=>r.toString(),(r,e)=>r.isEqual(e))}const Em=new ii(nn.comparator),e_=new Fi(nn.comparator);function fr(...r){let e=e_;for(const t of r)e=e.add(t);return e}const wm=new Fi(On);function Im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function Dm(r){return{integerValue:""+r}}function Tm(r,e){return function Ha(r){return"number"==typeof r&&Number.isInteger(r)&&!Ju(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Dm(e):Im(r,e)}class Bd{constructor(){this._=void 0}}function gE(r,e,t){return r instanceof Rl?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Ne(a)&&(a=ut(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Pl?sp(r,e):r instanceof Ol?Cm(r,e):function(s,a){const c=Qc(s,a),f=op(c)+op(s.wt);return Cl(c)&&Cl(s.wt)?Dm(f):Im(s.serializer,f)}(r,e)}function mE(r,e,t){return r instanceof Pl?sp(r,e):r instanceof Ol?Cm(r,e):t}function Qc(r,e){return r instanceof Jc?Cl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Rl extends Bd{}class Pl extends Bd{constructor(e){super(),this.elements=e}}function sp(r,e){const t=ap(e);for(const s of r.elements)t.some(a=>ma(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ol extends Bd{constructor(e){super(),this.elements=e}}function Cm(r,e){let t=ap(e);for(const s of r.elements)t=t.filter(a=>!ma(a,s));return{arrayValue:{values:t}}}class Jc extends Bd{constructor(e,t){super(),this.serializer=e,this.wt=t}}function op(r){return z(r.integerValue||r.doubleValue)}function ap(r){return yu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class up{constructor(e,t){this.version=e,this.transformResults=t}}class Qi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qi}static exists(e){return new Qi(void 0,e)}static updateTime(e){return new Qi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class $d{}function lp(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new kl(r.key,Qi.none()):new ed(r.key,r.data,Qi.none());{const t=r.data,s=Vo.empty();let a=new Fi(Ki.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Eu(r.key,s,new Jo(a.toArray()),Qi.none())}}function yc(r,e,t){r instanceof ed?function(s,a,c){const f=s.value.clone(),b=Nl(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Eu?function(s,a,c){if(!Xc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Nl(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(zd(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jd(r,e,t,s){return r instanceof ed?function(a,c,f,b){if(!Xc(a.precondition,c))return f;const L=a.value.clone(),G=dp(a.fieldTransforms,b,c);return L.setAll(G),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof Eu?function(a,c,f,b){if(!Xc(a.precondition,c))return f;const L=dp(a.fieldTransforms,b,c),G=c.data;return G.setAll(zd(a)),G.setAll(L),c.convertToFoundDocument(c.version,G).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(r,e,t,s):(f=t,Xc(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function cp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Qc(s.transform,a||null);null!=c&&(null===t&&(t=Vo.empty()),t.set(s.field,c))}return t||null}function Hd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&$a(t,s,(a,c)=>function yE(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Pl&&s instanceof Pl||t instanceof Ol&&s instanceof Ol?$a(t.elements,s.elements,ma):t instanceof Jc&&s instanceof Jc?ma(t.wt,s.wt):t instanceof Rl&&s instanceof Rl);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class ed extends $d{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Eu extends $d{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Nl(r,e,t){const s=new Map;E(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,mE(f,b,t[a]))}return s}function dp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,gE(c,f,e))}return s}class kl extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hp extends $d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fp{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&yc(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=jd(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=jd(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_m();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const L=lp(f,b);null!==L&&s.set(a.key,L),f.isValidDocument()||f.convertToNoDocument(bn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fr())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(t,s)=>Hd(t,s))&&$a(this.baseMutations,e.baseMutations,(t,s)=>Hd(t,s))}}class Bh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){E(e.mutations.length===s.length);let a=Em;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Bh(e,t,s,a)}}class Fl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class n_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,jr;function pp(r){if(void 0===r)return ei("GRPC error has no .code"),M.UNKNOWN;switch(r){case Js.OK:return M.OK;case Js.CANCELLED:return M.CANCELLED;case Js.UNKNOWN:return M.UNKNOWN;case Js.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Js.INTERNAL:return M.INTERNAL;case Js.UNAVAILABLE:return M.UNAVAILABLE;case Js.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Js.NOT_FOUND:return M.NOT_FOUND;case Js.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Js.ABORTED:return M.ABORTED;case Js.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Js.DATA_LOSS:return M.DATA_LOSS;default:return y()}}(jr=Js||(Js={}))[jr.OK=0]="OK",jr[jr.CANCELLED=1]="CANCELLED",jr[jr.UNKNOWN=2]="UNKNOWN",jr[jr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jr[jr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jr[jr.NOT_FOUND=5]="NOT_FOUND",jr[jr.ALREADY_EXISTS=6]="ALREADY_EXISTS",jr[jr.PERMISSION_DENIED=7]="PERMISSION_DENIED",jr[jr.UNAUTHENTICATED=16]="UNAUTHENTICATED",jr[jr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jr[jr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jr[jr.ABORTED=10]="ABORTED",jr[jr.OUT_OF_RANGE=11]="OUT_OF_RANGE",jr[jr.UNIMPLEMENTED=12]="UNIMPLEMENTED",jr[jr.INTERNAL=13]="INTERNAL",jr[jr.UNAVAILABLE=14]="UNAVAILABLE",jr[jr.DATA_LOSS=15]="DATA_LOSS";class gp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Gd}static getOrCreateInstance(){return null===Gd&&(Gd=new gp),Gd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Gd=null;const i_=new ha([4294967295,4294967295],0);function td(r){const e=function r_(){return new TextEncoder}().encode(r),t=new Zo;return t.update(e),new Uint8Array(t.digest())}function Sm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ha([t,s],0),new ha([a,c],0)]}class Ll{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new sl(`Invalid padding: ${t}`);if(s<0)throw new sl(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new sl(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new sl(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=ha.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(ha.fromNumber(s)));return 1===a.compare(i_)&&(a=new ha([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=td(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Ll(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.yt)return;const t=td(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,nd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Wd(bn.min(),a,new ii(On),Ra(),fr())}}class nd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nd(s,t,fr(),fr(),fr())}}class $h{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Am{constructor(e,t){this.targetId=e,this.bt=t}}class Mm{constructor(e,t,s=d.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class mp{constructor(){this.Vt=0,this.St=Hh(),this.Dt=d.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=fr(),t=fr(),s=fr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:y()}}),new nd(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Hh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class xm{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ra(),this.jt=jh(),this.zt=new ii(On)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(Nh(f))if(0===a){const b=new nn(f.path);this.Jt(s,b,Ui.newNoDocument(b,bn.min()))}else E(1===a);else{const b=this.se(s);if(b!==a){const L=this.ie(e,b);0!==L&&(this.te(s),this.zt=this.zt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(G,Q,ge){var Ge,Et,Ht,rn,Tn,Tr;const yi={localCacheCount:Q,existenceFilterCount:ge.count},Sr=ge.unchangedNames;return Sr&&(yi.bloomFilter={applied:0===G,hashCount:null!==(Ge=Sr?.hashCount)&&void 0!==Ge?Ge:0,bitmapLength:null!==(rn=null===(Ht=null===(Et=Sr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===Ht?void 0:Ht.length)&&void 0!==rn?rn:0,padding:null!==(Tr=null===(Tn=Sr?.bits)||void 0===Tn?void 0:Tn.padding)&&void 0!==Tr?Tr:0}),yi}(L,b,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let L,G;try{L=ee(c).toUint8Array()}catch(Q){if(Q instanceof Wf)return Is("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{G=new Ll(L,f,b)}catch(Q){return Is(Q instanceof sl?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===G.yt?1:a!==t-this.re(e.targetId,G)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(b)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const b=this.ne(f);if(b){if(c.current&&Nh(b.target)){const L=new nn(b.target.path);null!==this.Qt.get(L)||this.ce(f,L)||this.Jt(f,L,Ui.newNoDocument(L,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=fr();this.jt.forEach((c,f)=>{let b=!0;f.forEachWhile(L=>{const G=this.ne(L);return!G||"TargetPurposeLimboResolution"===G.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new Wd(e,t,this.zt,this.Qt,s);return this.Qt=Ra(),this.jt=jh(),this.zt=new ii(On),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new mp,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Fi(On),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ot("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new mp),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function jh(){return new ii(nn.comparator)}function Hh(){return new ii(nn.comparator)}const s_={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kd={and:"AND",or:"OR"};class o_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||ga(e)?e:{value:e}}function rd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Pm(r,e){return rd(r,e.toTimestamp())}function ks(r){return E(!!r),bn.fromTimestamp(function(e){const t=C(e);return new Di(t.seconds,t.nanos)}(r))}function _p(r,e){return(t=r,new Rr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vc(r){const e=Rr.fromString(r);return E(bp(e)),e}function Ga(r,e){return _p(r.databaseId,e.path)}function Nu(r,e){const t=vc(e);if(t.get(1)!==r.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new nn(wp(t))}function Ep(r,e){return _p(r.databaseId,e)}function zh(r){return new Rr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wp(r){return E(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function u_(r,e,t){return{name:Ga(r,e),fields:t.value.mapValue.fields}}function ru(r,e){return{documents:[Ep(r,e.path)]}}function Tp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ep(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ep(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return Fm(xi.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(L){if(0!==L.length)return L.map(G=>{return{field:Vl((Q=G).field),direction:h_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=vp(r,e.limit);var b,L;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Cp(r){let e=function a_(r){const e=vc(r);return 4===e.length?Rr.emptyPath():wp(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){E(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const ge=Nm(Q);return ge instanceof xi&&Oh(ge)?ge.getFilters():[ge]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new vu(sd((ge=Q).field),function(Ge){switch(Ge){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ge.direction));var ge}));let b=null;t.limit&&(b=function(Q){let ge;return ge="object"==typeof Q?Q.value:Q,ga(ge)?null:ge}(t.limit));let L=null;var Q;t.startAt&&(L=new tl((Q=t.startAt).values||[],!!Q.before));let G=null;return t.endAt&&(G=function(Q){return new tl(Q.values||[],!Q.before)}(t.endAt)),function ym(r,e,t,s,a,c,f,b){return new rl(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",L,G)}function Nm(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=sd(e.unaryFilter.field);return Kr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=sd(e.unaryFilter.field);return Kr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=sd(e.unaryFilter.field);return Kr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=sd(e.unaryFilter.field);return Kr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(r):void 0!==r.fieldFilter?Kr.create(sd((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return xi.create(e.compositeFilter.filters.map(t=>Nm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(r):y();var e}function h_(r){return s_[r]}function f_(r){return yp[r]}function km(r){return Kd[r]}function Vl(r){return{fieldPath:r.canonicalString()}}function sd(r){return Ki.fromServerFormat(r.fieldPath)}function Fm(r){return r instanceof Kr?function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NAN"}};if(dc(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NAN"}};if(dc(e.value))return{unaryFilter:{field:Vl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vl(e.field),op:f_(e.op),value:e.value}}}(r):r instanceof xi?function(e){const t=e.getFilters().map(s=>Fm(s));return 1===t.length?t[0]:{compositeFilter:{op:km(e.op),filters:t}}}(r):y()}function pr(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class ku{constructor(e,t,s,a,c=bn.min(),f=bn.min(),b=d.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=L}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.le=e}}function Gh(r){const e=Cp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ep(e,e.limit,"L"):e}class od{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(z(e.integerValue));else if("doubleValue"in e){const s=z(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),Ju(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ee(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Rh(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):y()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),nn.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}od.be=new od;class kp{constructor(){this.sn=new zm}addToCollectionParentIndex(e,t){return this.sn.add(t),Ye.resolve()}getCollectionParents(e,t){return Ye.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Ye.resolve()}deleteFieldIndex(e,t){return Ye.resolve()}getDocumentsMatchingTarget(e,t){return Ye.resolve(null)}getIndexType(e,t){return Ye.resolve(0)}getFieldIndexes(e,t){return Ye.resolve([])}getNextCollectionGroupToUpdate(e){return Ye.resolve(null)}getMinOffset(e,t){return Ye.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,t){return Ye.resolve(qs.min())}updateCollectionGroup(e,t,s){return Ye.resolve()}updateIndexEntries(e,t){return Ye.resolve()}}class zm{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Fi(Rr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Fi(Rr.comparator)).toArray()}}new Uint8Array(0);class ea{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new ea(e,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ea.DEFAULT_COLLECTION_PERCENTILE=10,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ea.DEFAULT=new ea(41943040,ea.DEFAULT_COLLECTION_PERCENTILE,ea.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ea.DISABLED=new ea(-1,0,0);class ul{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new ul(0)}static kn(){return new ul(-1)}}class D_{constructor(){this.changes=new il(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ui.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Ye.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&jd(s.mutation,a,Jo.empty(),Di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,fr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=fr()){const a=nu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=xl();return c.forEach((b,L)=>{f=f.insert(b,L.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=nu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,fr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Ra();const f=qi(),b=qi();return t.forEach((L,G)=>{const Q=s.get(G.key);a.has(G.key)&&(void 0===Q||Q.mutation instanceof Eu)?c=c.insert(G.key,G):void 0!==Q?(f.set(G.key,Q.mutation.getFieldMask()),jd(Q.mutation,G,Q.mutation.getFieldMask(),Di.now())):f.set(G.key,Jo.empty())}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((G,Q)=>f.set(G,Q)),t.forEach((G,Q)=>{var ge;return b.set(G,new b_(Q,null!==(ge=f.get(G))&&void 0!==ge?ge:null))}),b))}recalculateAndSaveOverlays(e,t){const s=qi();let a=new ii((f,b)=>f-b),c=fr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(L=>{const G=t.get(L);if(null===G)return;let Q=s.get(L)||Jo.empty();Q=b.applyToLocalView(G,Q),s.set(L,Q);const ge=(a.get(b.batchId)||fr()).add(L);a=a.insert(b.batchId,ge)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const L=b.getNext(),G=L.key,Q=L.value,ge=_m();Q.forEach(Ge=>{if(!c.has(Ge)){const Et=lp(t.get(Ge),s.get(Ge));null!==Et&&ge.set(Ge,Et),c=c.add(Ge)}}),f.push(this.documentOverlayCache.saveOverlays(e,G,ge))}return Ye.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return nn.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):Ye.resolve(nu());let b=-1,L=c;return f.next(G=>Ye.forEach(G,(Q,ge)=>(b<ge.largestBatchId&&(b=ge.largestBatchId),c.get(Q)?Ye.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ge=>{L=L.insert(Q,Ge)}))).next(()=>this.populateOverlays(e,G,c)).next(()=>this.computeViews(e,L,G,fr())).next(Q=>({batchId:b,changes:rp(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new nn(t)).next(s=>{let a=xl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=xl();return this.indexManager.getCollectionParents(e,a).next(f=>Ye.forEach(f,b=>{const L=(G=t,Q=b.child(a),new rl(Q,null,G.explicitOrderBy.slice(),G.filters.slice(),G.limit,G.limitType,G.startAt,G.endAt));var G,Q;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(G=>{G.forEach((Q,ge)=>{c=c.insert(Q,ge)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,L)=>{const G=L.getKey();null===c.get(G)&&(c=c.insert(G,Ui.newInvalidDocument(G)))});let f=xl();return c.forEach((b,L)=>{const G=a.get(b);void 0!==G&&jd(G.mutation,L,Jo.empty(),Di.now()),Uh(t,L)&&(f=f.insert(b,L))}),f})}}class S_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return Ye.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:ks(s.createTime)}),Ye.resolve()}getNamedQuery(e,t){return Ye.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Gh(s.bundledQuery),readTime:ks(s.readTime)}),Ye.resolve();var s}}class A_{constructor(){this.overlays=new ii(nn.comparator),this.hs=new Map}getOverlay(e,t){return Ye.resolve(this.overlays.get(t))}getOverlays(e,t){const s=nu();return Ye.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),Ye.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),Ye.resolve()}getOverlaysForCollection(e,t,s){const a=nu(),c=t.length+1,f=new nn(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const L=b.getNext().value,G=L.getKey();if(!t.isPrefixOf(G.path))break;G.path.length===c&&L.largestBatchId>s&&a.set(L.getKey(),L)}return Ye.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new ii((G,Q)=>G-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const G=f.getNext().value;if(G.getKey().getCollectionGroup()===t&&G.largestBatchId>s){let Q=c.get(G.largestBatchId);null===Q&&(Q=nu(),c=c.insert(G.largestBatchId,Q)),Q.set(G.getKey(),G)}}const b=nu(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((G,Q)=>b.set(G,Q)),!(b.size()>=a)););return Ye.resolve(b)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Fl(t,s));let c=this.hs.get(t);void 0===c&&(c=fr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class th{constructor(){this.ls=new Fi(Eo.fs),this.ds=new Fi(Eo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new Eo(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new Eo(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new nn(new Rr([])),s=new Eo(t,e),a=new Eo(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new nn(new Rr([])),s=new Eo(t,e),a=new Eo(t,e+1);let c=fr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new Eo(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Eo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return nn.comparator(e.key,t.key)||On(e.Es,t.Es)}static _s(e,t){return On(e.Es,t.Es)||nn.comparator(e.key,t.key)}}class M_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Fi(Eo.fs)}checkEmpty(e){return Ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new fp(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new Eo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Ye.resolve(f)}lookupMutationBatch(e,t){return Ye.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return Ye.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Ye.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return Ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Eo(t,0),a=new Eo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.vs(f.Es);c.push(b)}),Ye.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Fi(On);return t.forEach(a=>{const c=new Eo(a,0),f=new Eo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.Es)})}),Ye.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;nn.isDocumentKey(c)||(c=c.child(""));const f=new Eo(new nn(c),0);let b=new Fi(On);return this.Rs.forEachWhile(L=>{const G=L.key.path;return!!s.isPrefixOf(G)&&(G.length===a&&(b=b.add(L.Es)),!0)},f),Ye.resolve(this.bs(b))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){E(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Ye.forEach(t.mutations,a=>{const c=new Eo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new Eo(t,0),a=this.Rs.firstAfterOrEqual(s);return Ye.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Ye.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x_{constructor(e){this.Ss=e,this.docs=new ii(nn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Ye.resolve(s?s.document.mutableCopy():Ui.newInvalidDocument(t))}getEntries(e,t){let s=Ra();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ui.newInvalidDocument(a))}),Ye.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ra();const f=t.path,b=new nn(f.child("")),L=this.docs.getIteratorFrom(b);for(;L.hasNext();){const{key:G,value:{document:Q}}=L.getNext();if(!f.isPrefixOf(G.path))break;G.path.length>f.length+1||Yu(nc(Q),s)<=0||(a.has(Q.key)||Uh(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return Ye.resolve(c)}getAllFromCollectionGroup(e,t,s,a){y()}Ds(e,t){return Ye.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new R_(this)}getSize(e){return Ye.resolve(this.size)}}class R_ extends D_{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),Ye.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class P_{constructor(e){this.persistence=e,this.Cs=new il(t=>gc(t),Ld),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new th,this.targetCount=0,this.ks=ul.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),Ye.resolve()}getLastRemoteSnapshotVersion(e){return Ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ye.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),Ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),Ye.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,Ye.resolve()}updateTargetData(e,t){return this.$n(t),Ye.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Ye.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),Ye.waitFor(c).next(()=>a)}getTargetCount(e){return Ye.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return Ye.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),Ye.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Ye.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),Ye.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return Ye.resolve(s)}containsKey(e,t){return Ye.resolve(this.Ns.containsKey(t))}}class iu{constructor(e,t){this.Ms={},this.overlays={},this.Os=new Zs(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new P_(this),this.indexManager=new kp,this.remoteDocumentCache=new x_(s=>this.referenceDelegate.Bs(s)),this.serializer=new Sp(t),this.Ls=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new M_(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Ot("MemoryPersistence","Starting transaction:",e);const a=new Hp(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return Ye.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class Hp extends Gc{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Gs=new th,this.Qs=null}static js(e){return new Qh(e)}get zs(){if(this.Qs)return this.Qs;throw y()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),Ye.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),Ye.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),Ye.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ye.forEach(this.zs,s=>{const a=nn.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,bn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return Ye.or([()=>Ye.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class hd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=fr(),a=fr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new hd(e,t.fromCache,s,a)}}class nh{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(Vd(t))return Ye.resolve(null);let s=Xo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ep(t,null,"F"),s=Xo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=fr(...c);return this.qi.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(L=>{const G=this.Qi(t,b);return this.ji(t,G,f,L.readTime)?this.Ui(e,ep(t,null,"F")):this.zi(e,G,t,L)}))})))}Ki(e,t,s,a){return Vd(t)||a.isEqual(bn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):(Ba()<=Te.in.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ud(t)),this.zi(e,f,t,function xu(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=bn.fromTimestamp(1e9===s?new Di(t+1,0):new Di(t,s));return new qs(a,nn.empty(),e)}(a,-1)))})}Qi(e,t){let s=new Fi(tp(e));return t.forEach((a,c)=>{Uh(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return Ba()<=Te.in.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Ud(t)),this.qi.getDocumentsMatchingQuery(e,t,qs.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class ef{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new ii(On),this.Ji=new il(c=>gc(c),Ld),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function tf(r,e){return Xm.apply(this,arguments)}function Xm(){return Xm=(0,_t.Z)(function*(r,e){const t=D(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let L=fr();for(const G of a){f.push(G.batchId);for(const Q of G.mutations)L=L.add(Q.key)}for(const G of c){b.push(G.batchId);for(const Q of G.mutations)L=L.add(Q.key)}return t.localDocuments.getDocuments(s,L).next(G=>({tr:G,removedBatchIds:f,addedBatchIds:b}))})})}),Xm.apply(this,arguments)}function Kp(r){const e=D(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Zp(r,e){const t=D(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cl(r,e,t){return fd.apply(this,arguments)}function fd(){return fd=(0,_t.Z)(function*(r,e,t){const s=D(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!pu(f))throw f;Ot("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),fd.apply(this,arguments)}function Hl(r,e,t){const s=D(r);let a=bn.min(),c=fr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,L,G){const Q=D(b),ge=Q.Ji.get(G);return void 0!==ge?Ye.resolve(Q.Hi.get(ge)):Q.Fs.getTargetData(L,G)}(s,f,Xo(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,b.targetId).next(L=>{c=L})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:bn.min(),t?c:fr())).next(b=>(function Qp(r,e,t){let s=r.Yi.get(e)||bn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function Qv(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,sr:c})))}class ng{constructor(){this.activeTargetIds=function ip(){return wm}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(){this.Wr=new ng,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new ng,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F_{Jr(e){}shutdown(){}}class uf{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function rg(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const L_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ta="WebChannelConnection";class U_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=rg(),b=this.Io(e,t);Ot("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const L={};return this.To(L,a,c),this.Eo(e,b,L,s).then(G=>(Ot("RestConnection",`Received RPC '${e}' ${f}: `,G),G),G=>{throw Is("RestConnection",`RPC '${e}' ${f} failed with error: `,G,"url: ",b,"request:",s),G})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${L_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=rg();return new Promise((f,b)=>{const L=new co;L.setWithCredentials(!0),L.listenOnce(gl.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case qu.NO_ERROR:const Q=L.getResponseJson();Ot(ta,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case qu.TIMEOUT:Ot(ta,`RPC '${e}' ${c} timed out`),b(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const ge=L.getStatus();if(Ot(ta,`RPC '${e}' ${c} failed with status:`,ge,"response text:",L.getResponseText()),ge>0){let Ge=L.getResponseJson();Array.isArray(Ge)&&(Ge=Ge[0]);const Et=Ge?.error;if(Et&&Et.status&&Et.message){const Ht=function(rn){const Tn=rn.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(Tn)>=0?Tn:M.UNKNOWN}(Et.status);b(new V(Ht,Et.message))}else b(new V(M.UNKNOWN,"Server responded with status "+L.getStatus()))}else b(new V(M.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{Ot(ta,`RPC '${e}' ${c} completed.`)}});const G=JSON.stringify(a);Ot(ta,`RPC '${e}' ${c} sending request:`,a),L.send(t,"POST",G,s,15)})}Ro(e,t,s){const a=rg(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jc(),b=Va(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Mu({})),this.To(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const G=c.join("");Ot(ta,`Creating RPC '${e}' stream ${a}: ${G}`,L);const Q=f.createWebChannel(G,L);let ge=!1,Ge=!1;const Et=new V_({io:rn=>{Ge?Ot(ta,`Not sending because RPC '${e}' stream ${a} is closed:`,rn):(ge||(Ot(ta,`Opening RPC '${e}' stream ${a} transport.`),Q.open(),ge=!0),Ot(ta,`RPC '${e}' stream ${a} sending:`,rn),Q.send(rn))},ro:()=>Q.close()}),Ht=(rn,Tn,Tr)=>{rn.listen(Tn,yi=>{try{Tr(yi)}catch(Sr){setTimeout(()=>{throw Sr},0)}})};return Ht(Q,qo.EventType.OPEN,()=>{Ge||Ot(ta,`RPC '${e}' stream ${a} transport opened.`)}),Ht(Q,qo.EventType.CLOSE,()=>{Ge||(Ge=!0,Ot(ta,`RPC '${e}' stream ${a} transport closed`),Et.fo())}),Ht(Q,qo.EventType.ERROR,rn=>{Ge||(Ge=!0,Is(ta,`RPC '${e}' stream ${a} transport errored:`,rn),Et.fo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),Ht(Q,qo.EventType.MESSAGE,rn=>{var Tn;if(!Ge){const Tr=rn.data[0];E(!!Tr);const Sr=Tr.error||(null===(Tn=Tr[0])||void 0===Tn?void 0:Tn.error);if(Sr){Ot(ta,`RPC '${e}' stream ${a} received error:`,Sr);const Za=Sr.status;let Xs=function(su){const bu=Js[su];if(void 0!==bu)return pp(bu)}(Za),ps=Sr.message;void 0===Xs&&(Xs=M.INTERNAL,ps="Unknown error status: "+Za+" with message "+Sr.message),Ge=!0,Et.fo(new V(Xs,ps)),Q.close()}else Ot(ta,`RPC '${e}' stream ${a} received:`,Tr),Et._o(Tr)}}),Ht(b,Wi.STAT_EVENT,rn=>{rn.stat===fu.PROXY?Ot(ta,`RPC '${e}' stream ${a} detected buffering proxy`):rn.stat===fu.NOPROXY&&Ot(ta,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Et.lo()},0),Et}}function sh(){return typeof document<"u"?document:null}function pd(r){return new o_(r,!0)}class ig{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Ot("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class B_{constructor(e,t,s,a,c,f,b,L){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ig(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,_t.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,_t.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,_t.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===M.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new V(M.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,_t.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ot("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sy extends B_{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function l_(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:y(),a=e.targetChange.targetIds||[],c=function(L,G){return L.useProto3Json?(E(void 0===G||"string"==typeof G),d.fromBase64String(G||"")):(E(void 0===G||G instanceof Uint8Array),d.fromUint8Array(G||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(L){const G=void 0===L.code?M.UNKNOWN:pp(L.code);return new V(G,L.message||"")}(f);t=new Mm(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Nu(r,s.document.name),c=ks(s.document.updateTime),f=s.document.createTime?ks(s.document.createTime):bn.min(),b=new Vo({mapValue:{fields:s.document.fields}}),L=Ui.newFoundDocument(a,c,f,b);t=new $h(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=Nu(r,s.document),c=s.readTime?ks(s.readTime):bn.min(),f=Ui.newNoDocument(a,c);t=new $h([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Nu(r,s.document);t=new $h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return y();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new n_(a,c);t=new Am(s.targetId,f)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return bn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?bn.min():c.readTime?ks(c.readTime):bn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=zh(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=Nh(b)?{documents:ru(a,b)}:{query:Tp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Rm(a,c.resumeToken);const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}else if(c.snapshotVersion.compareTo(bn.min())>0){f.readTime=rd(a,c.snapshotVersion.toTimestamp());const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}return f}(this.serializer,e);const s=function d_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=zh(this.serializer),t.removeTarget=e,this.zo(t)}}class _E extends B_{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(E(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function c_(r,e){return r&&r.length>0?(E(void 0!==e),r.map(t=>function(s,a){let c=ks(s.updateTime?s.updateTime:a);return c.isEqual(bn.min())&&(c=ks(a)),new up(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=ks(e.commitTime);return this.listener.uu(s,t)}return E(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=zh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function id(r,e){let t;if(e instanceof ed)t={update:u_(r,e.key,e.value)};else if(e instanceof kl)t={delete:Ga(r,e.key)};else if(e instanceof Eu)t={update:u_(r,e.key,e.data),updateMask:pr(e.fieldMask)};else{if(!(e instanceof hp))return y();t={verify:Ga(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Rl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Pl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ol)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Jc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw y()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Pm(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:y()),t;var a}(this.serializer,s))};this.zo(t)}}class cf extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(M.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new V(M.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class og{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ei(t),this.wu=!1):Ot("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class j_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(b=>{s.enqueueAndForget((0,_t.Z)(function*(){var L;Ka(f)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,_t.Z)(function*(G){const Q=D(G);Q.Au.add(4),yield Fs(Q),Q.Pu.set("Unknown"),Q.Au.delete(4),yield Oa(Q)}),function(G){return L.apply(this,arguments)})(f))}))}),this.Pu=new og(s,a)}}function Oa(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,_t.Z)(function*(r){if(Ka(r))for(const e of r.Ru)yield e(!0)}),Ic.apply(this,arguments)}function Fs(r){return dl.apply(this,arguments)}function dl(){return dl=(0,_t.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),dl.apply(this,arguments)}function Dc(r,e){const t=D(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Gl(t)?zl(t):Sc(t).Uo()&&oh(t,e))}function na(r,e){const t=D(r),s=Sc(t);t.Eu.delete(e),s.Uo()&&Tc(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Ka(t)&&t.Pu.set("Unknown"))}function oh(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(r).nu(e)}function Tc(r,e){r.bu.Lt(e),Sc(r).su(e)}function zl(r){r.bu=new xm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Sc(r).start(),r.Pu.mu()}function Gl(r){return Ka(r)&&!Sc(r).qo()&&r.Eu.size>0}function Ka(r){return 0===D(r).Au.size}function Cc(r){r.bu=void 0}function gd(r){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,_t.Z)(function*(r){r.Eu.forEach((e,t)=>{oh(r,e)})}),Wl.apply(this,arguments)}function md(r,e){return Kl.apply(this,arguments)}function Kl(){return Kl=(0,_t.Z)(function*(r,e){Cc(r),Gl(r)?(r.Pu.pu(e),zl(r)):r.Pu.set("Unknown")}),Kl.apply(this,arguments)}function oy(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,_t.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof Mm&&2===e.state&&e.cause)try{yield(s=(0,_t.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Eu.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Eu.delete(b),a.bu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Ot("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield ah(r,s)}else if(e instanceof $h?r.bu.Wt(e):e instanceof Am?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(bn.min()))try{const s=yield Kp(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const G=a.Eu.get(L);G&&a.Eu.set(L,G.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,L)=>{const G=a.Eu.get(b);if(!G)return;a.Eu.set(b,G.withResumeToken(d.EMPTY_BYTE_STRING,G.snapshotVersion)),Tc(a,b);const Q=new ku(G.target,b,L,G.sequenceNumber);oh(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Ot("RemoteStore","Failed to raise snapshot:",s),yield ah(r,s)}var s}),df.apply(this,arguments)}function ah(r,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,_t.Z)(function*(r,e,t){if(!pu(e))throw e;r.Au.add(1),yield Fs(r),r.Pu.set("Offline"),t||(t=()=>Kp(r.localStore)),r.asyncQueue.enqueueRetryable((0,_t.Z)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Oa(r)}))}),hf.apply(this,arguments)}function ag(r,e){return e().catch(t=>ah(r,t,e))}function bc(r){return ff.apply(this,arguments)}function ff(){return ff=(0,_t.Z)(function*(r){const e=D(r),t=hl(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;ay(e);)try{const a=yield Zp(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,uy(e,a)}catch(a){yield ah(e,a)}ly(e)&&cy(e)}),ff.apply(this,arguments)}function ay(r){return Ka(r)&&r.Tu.length<10}function uy(r,e){r.Tu.push(e);const t=hl(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function ly(r){return Ka(r)&&!hl(r).qo()&&r.Tu.length>0}function cy(r){hl(r).start()}function dy(r){return ug.apply(this,arguments)}function ug(){return ug=(0,_t.Z)(function*(r){hl(r).au()}),ug.apply(this,arguments)}function hy(r){return uh.apply(this,arguments)}function uh(){return uh=(0,_t.Z)(function*(r){const e=hl(r);for(const t of r.Tu)e.ou(t.mutations)}),uh.apply(this,arguments)}function lg(r,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,_t.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Bh.from(s,e,t);yield ag(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield bc(r)}),cg.apply(this,arguments)}function pf(r,e){return yd.apply(this,arguments)}function yd(){return yd=(0,_t.Z)(function*(r,e){var t;e&&hl(r).ru&&(yield(t=(0,_t.Z)(function*(s,a){if(function bm(r){switch(r){default:return y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(c=a.code)&&c!==M.ABORTED){const f=s.Tu.shift();hl(s).Go(),yield ag(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield bc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),ly(r)&&cy(r)}),yd.apply(this,arguments)}function gf(r,e){return dg.apply(this,arguments)}function dg(){return dg=(0,_t.Z)(function*(r,e){const t=D(r);t.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const s=Ka(t);t.Au.add(3),yield Fs(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Oa(t)}),dg.apply(this,arguments)}function _d(){return _d=(0,_t.Z)(function*(r,e){const t=D(r);e?(t.Au.delete(2),yield Oa(t)):e||(t.Au.add(2),yield Fs(t),t.Pu.set("Unknown"))}),_d.apply(this,arguments)}function Sc(r){return r.Vu||(r.Vu=function(e,t,s){const a=D(e);return a.lu(),new sy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:gd.bind(null,r),co:md.bind(null,r),eu:oy.bind(null,r)}),r.Ru.push(function(){var e=(0,_t.Z)(function*(t){t?(r.Vu.Go(),Gl(r)?zl(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),Cc(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function hl(r){return r.Su||(r.Su=function(e,t,s){const a=D(e);return a.lu(),new _E(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:dy.bind(null,r),co:pf.bind(null,r),cu:hy.bind(null,r),uu:lg.bind(null,r)}),r.Ru.push(function(){var e=(0,_t.Z)(function*(t){t?(r.Su.Go(),yield bc(r)):(yield r.Su.stop(),r.Tu.length>0&&(Ot("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class lh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new lh(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(r,e){if(ei("AsyncQueue",`${e}: ${r}`),pu(r))return new V(M.UNAVAILABLE,`${e}: ${r}`);throw r}class Mc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||nn.comparator(t.key,s.key):(t,s)=>nn.comparator(t.key,s.key),this.keyedMap=xl(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new Mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mf{constructor(){this.Du=new ii(nn.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):y():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class xc{constructor(e,t,s,a,c,f,b,L,G){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=L,this.hasCachedResults=G}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new xc(e,t,Mc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class H_{constructor(){this.xu=void 0,this.listeners=[]}}class fy{constructor(){this.queries=new il(e=>Vh(e),Lh),this.onlineState="Unknown",this.Nu=new Set}}function yf(r,e){return vf.apply(this,arguments)}function vf(){return vf=(0,_t.Z)(function*(r,e){const t=D(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new H_),a)try{c.xu=yield t.onListen(s)}catch(f){const b=Ac(f,`Initialization of query '${Ud(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&Ef(t)}),vf.apply(this,arguments)}function _f(r,e){return hg.apply(this,arguments)}function hg(){return hg=(0,_t.Z)(function*(r,e){const t=D(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),hg.apply(this,arguments)}function z_(r,e){const t=D(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.Mu(a)&&(s=!0);f.xu=a}}s&&Ef(t)}function G_(r,e,t){const s=D(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ef(r){r.Nu.forEach(e=>{e.next()})}class ch{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class gg{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class yg{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=fr(),this.mutatedKeys=fr(),this.Zu=tp(e),this.tc=new Mc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new mf,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,G="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,ge)=>{const Ge=a.get(Q),Et=Uh(this.query,ge)?ge:null,Ht=!!Ge&&this.mutatedKeys.has(Ge.key),rn=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let Tn=!1;Ge&&Et?Ge.data.isEqual(Et.data)?Ht!==rn&&(s.track({type:3,doc:Et}),Tn=!0):this.ic(Ge,Et)||(s.track({type:2,doc:Et}),Tn=!0,(L&&this.Zu(Et,L)>0||G&&this.Zu(Et,G)<0)&&(b=!0)):!Ge&&Et?(s.track({type:0,doc:Et}),Tn=!0):Ge&&!Et&&(s.track({type:1,doc:Ge}),Tn=!0,(L||G)&&(b=!0)),Tn&&(Et?(f=f.add(Et),c=rn?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{tc:f,sc:s,ji:b,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((G,Q)=>function(ge,Ge){const Et=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return Et(ge)-Et(Ge)}(G.type,Q.type)||this.Zu(G.doc,Q.doc)),this.rc(s);const f=t?this.oc():[],b=0===this.Xu.size&&this.current?1:0,L=b!==this.Yu;return this.Yu=b,0!==c.length||L?{snapshot:new xc(this.query,e.tc,a,c,e.mutatedKeys,0===b,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new mf,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=fr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new mg(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new gg(s))}),t}ac(e){this.Ju=e.sr,this.Xu=fr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class my{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wf{constructor(e){this.key=e,this.lc=!1}}class ql{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new il(b=>Vh(b),Lh),this._c=new Map,this.wc=new Set,this.mc=new ii(nn.comparator),this.gc=new Map,this.yc=new th,this.Ic={},this.Tc=new Map,this.Ec=ul.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function W_(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,_t.Z)(function*(r,e){const t=function Ng(r){const e=D(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Du.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_y.bind(null,e),e.fc.eu=z_.bind(null,e.eventManager),e.fc.vc=G_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield function Pa(r,e){const t=D(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,Ye.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new ku(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,Xo(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function dh(r,e,t,s,a){return fl.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Dc(t.remoteStore,f)}return a}),vg.apply(this,arguments)}function fl(){return fl=(0,_t.Z)(function*(r,e,t,s,a){r.Rc=(ge,Ge,Et)=>{return(Ht=(0,_t.Z)(function*(rn,Tn,Tr,yi){let Sr=Tn.view.nc(Tr);Sr.ji&&(Sr=yield Hl(rn.localStore,Tn.query,!1).then(({documents:ps})=>Tn.view.nc(ps,Sr)));const Za=yi&&yi.targetChanges.get(Tn.targetId),Xs=Tn.view.applyChanges(Sr,rn.isPrimaryClient,Za);return bg(rn,Tn.targetId,Xs.uc),Xs.snapshot}),function(rn,Tn,Tr,yi){return Ht.apply(this,arguments)})(r,ge,Ge,Et);var Ht};const c=yield Hl(r.localStore,e,!0),f=new yg(e,c.sr),b=f.nc(c.documents),L=nd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),G=f.applyChanges(b,r.isPrimaryClient,L);bg(r,t,G.uc);const Q=new my(e,t,f);return r.dc.set(e,Q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),G.snapshot}),fl.apply(this,arguments)}function _g(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,_t.Z)(function*(r,e){const t=D(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Lh(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield cl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),na(t.remoteStore,s.targetId),Iu(t,s.targetId)}).catch(Aa))):(Iu(t,s.targetId),yield cl(t.localStore,s.targetId,!0))}),Eg.apply(this,arguments)}function yy(){return yy=(0,_t.Z)(function*(r,e,t){const s=function Sf(r){const e=D(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=po.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q_.bind(null,e),e}(r);try{const a=yield function(c,f){const b=D(c),L=Di.now(),G=f.reduce((Ge,Et)=>Ge.add(Et.key),fr());let Q,ge;return b.persistence.runTransaction("Locally write mutations","readwrite",Ge=>{let Et=Ra(),Ht=fr();return b.Xi.getEntries(Ge,G).next(rn=>{Et=rn,Et.forEach((Tn,Tr)=>{Tr.isValidDocument()||(Ht=Ht.add(Tn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ge,Et)).next(rn=>{Q=rn;const Tn=[];for(const Tr of f){const yi=cp(Tr,Q.get(Tr.key).overlayedDocument);null!=yi&&Tn.push(new Eu(Tr.key,yi,hm(yi.value.mapValue),Qi.exists(!0)))}return b.mutationQueue.addMutationBatch(Ge,L,Tn,f)}).next(rn=>{ge=rn;const Tn=rn.applyToLocalDocumentSet(Q,Ht);return b.documentOverlayCache.saveOverlays(Ge,rn.batchId,Tn)})}).then(()=>({batchId:ge.batchId,changes:rp(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let L=c.Ic[c.currentUser.toKey()];L||(L=new ii(On)),L=L.insert(f,b),c.Ic[c.currentUser.toKey()]=L}(s,a.batchId,t),yield Uu(s,a.changes),yield bc(s.remoteStore)}catch(a){const c=Ac(a,"Failed to persist write");t.reject(c)}}),yy.apply(this,arguments)}function K_(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,_t.Z)(function*(r,e){const t=D(r);try{const s=yield function ty(r,e){const t=D(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const b=[];e.targetChanges.forEach((Q,ge)=>{const Ge=a.get(ge);if(!Ge)return;b.push(t.Fs.removeMatchingKeys(c,Q.removedDocuments,ge).next(()=>t.Fs.addMatchingKeys(c,Q.addedDocuments,ge)));let Et=Ge.withSequenceNumber(c.currentSequenceNumber);var Ht,rn,Tn;null!==e.targetMismatches.get(ge)?Et=Et.withResumeToken(d.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):Q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(Q.resumeToken,s)),a=a.insert(ge,Et),rn=Et,Tn=Q,(0===(Ht=Ge).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||Tn.addedDocuments.size+Tn.modifiedDocuments.size+Tn.removedDocuments.size>0)&&b.push(t.Fs.updateTargetData(c,Et))});let L=Ra(),G=fr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),b.push(function qp(r,e,t){let s=fr(),a=fr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Ra();return t.forEach((b,L)=>{const G=c.get(b);L.isFoundDocument()!==G.isFoundDocument()&&(a=a.add(b)),L.isNoDocument()&&L.version.isEqual(bn.min())?(e.removeEntry(b,L.readTime),f=f.insert(b,L)):!G.isValidDocument()||L.version.compareTo(G.version)>0||0===L.version.compareTo(G.version)&&G.hasPendingWrites?(e.addEntry(L),f=f.insert(b,L)):Ot("LocalStore","Ignoring outdated watch update for ",b,". Current version:",G.version," Watch version:",L.version)}),{er:f,nr:a}})}(c,f,e.documentUpdates).next(Q=>{L=Q.er,G=Q.nr})),!s.isEqual(bn.min())){const Q=t.Fs.getLastRemoteSnapshotVersion(c).next(ge=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(Q)}return Ye.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,G)).next(()=>L)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(E(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?E(f.lc):a.removedDocuments.size>0&&(E(f.lc),f.lc=!1))}),yield Uu(t,s,e)}catch(s){yield Aa(s)}}),Ig.apply(this,arguments)}function vy(r,e,t){const s=D(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const b=f.view.ku(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=D(c);b.onlineState=f;let L=!1;b.queries.forEach((G,Q)=>{for(const ge of Q.listeners)ge.ku(f)&&(L=!0)}),L&&Ef(b)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function _y(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,_t.Z)(function*(r,e,t){const s=D(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new ii(nn.comparator);f=f.insert(c,Ui.newNoDocument(c,bn.min()));const b=fr().add(c),L=new Wd(bn.min(),new Map,new ii(On),f,b);yield K_(s,L),s.mc=s.mc.remove(c),s.gc.delete(e),Sg(s)}else yield cl(s.localStore,e,!1).then(()=>Iu(s,e,t)).catch(Aa)}),Dg.apply(this,arguments)}function po(r,e){return If.apply(this,arguments)}function If(){return If=(0,_t.Z)(function*(r,e){const t=D(r),s=e.batch.batchId;try{const a=yield function ey(r,e){const t=D(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,b,L,G){const Q=L.batch,ge=Q.keys();let Ge=Ye.resolve();return ge.forEach(Et=>{Ge=Ge.next(()=>G.getEntry(b,Et)).next(Ht=>{const rn=L.docVersions.get(Et);E(null!==rn),Ht.version.compareTo(rn)<0&&(Q.applyToRemoteDocument(Ht,L),Ht.isValidDocument()&&(Ht.setReadTime(L.commitVersion),G.addEntry(Ht)))})}),Ge.next(()=>f.mutationQueue.removeMutationBatch(b,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=fr();for(let L=0;L<f.mutationResults.length;++L)f.mutationResults[L].transformResults.length>0&&(b=b.add(f.batch.mutations[L].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tf(t,s,null),Df(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Uu(t,a)}catch(a){yield Aa(a)}}),If.apply(this,arguments)}function q_(r,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,_t.Z)(function*(r,e,t){const s=D(r);try{const a=yield function(c,f){const b=D(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let G;return b.mutationQueue.lookupMutationBatch(L,f).next(Q=>(E(null!==Q),G=Q.keys(),b.mutationQueue.removeMutationBatch(L,Q))).next(()=>b.mutationQueue.performConsistencyCheck(L)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(L,G,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,G)).next(()=>b.localDocuments.getDocuments(L,G))})}(s.localStore,e);Tf(s,e,t),Df(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(s,a)}catch(a){yield Aa(a)}}),Tg.apply(this,arguments)}function Df(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Tf(r,e,t){const s=D(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function Iu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||wy(r,s)})}function wy(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(na(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Sg(r))}function bg(r,e,t){for(const s of t)s instanceof gg?(r.yc.addReference(s.key,e),Iy(r,s)):s instanceof mg?(Ot("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||wy(r,s.key)):y()}function Iy(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Ot("SyncEngine","New document in limbo: "+t),r.wc.add(s),Sg(r))}function Sg(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new nn(Rr.fromString(e)),s=r.Ec.next();r.gc.set(s,new wf(t)),r.mc=r.mc.insert(t,s),Dc(r.remoteStore,new ku(Xo(Yc(t.path)),s,"TargetPurposeLimboResolution",Zs.ct))}}function Uu(r,e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,_t.Z)(function*(r,e,t){const s=D(r),a=[],c=[],f=[];var b;s.dc.isEmpty()||(s.dc.forEach((b,L)=>{f.push(s.Rc(L,e,t).then(G=>{if((G||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,G?.fromCache?"not-current":"current"),G){a.push(G);const Q=hd.Bi(L.targetId,G);c.push(Q)}}))}),yield Promise.all(f),s.fc.eu(a),yield(b=(0,_t.Z)(function*(L,G){const Q=D(L);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ge=>Ye.forEach(G,Ge=>Ye.forEach(Ge.$i,Et=>Q.persistence.referenceDelegate.addReference(ge,Ge.targetId,Et)).next(()=>Ye.forEach(Ge.Fi,Et=>Q.persistence.referenceDelegate.removeReference(ge,Ge.targetId,Et)))))}catch(ge){if(!pu(ge))throw ge;Ot("LocalStore","Failed to update sequence numbers: "+ge)}for(const ge of G){const Ge=ge.targetId;if(!ge.fromCache){const Et=Q.Hi.get(Ge),rn=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);Q.Hi=Q.Hi.insert(Ge,rn)}}}),function(L,G){return b.apply(this,arguments)})(s.localStore,c))}),Dy.apply(this,arguments)}function Ag(r,e){return hh.apply(this,arguments)}function hh(){return hh=(0,_t.Z)(function*(r,e){const t=D(r);if(!t.currentUser.isEqual(e)){Ot("SyncEngine","User change. New user:",e.toKey());const s=yield tf(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(b=>{b.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uu(t,s.tr)}var a}),hh.apply(this,arguments)}function Du(r,e){const t=D(r),s=t.gc.get(e);if(s&&s.lc)return fr().add(s.key);{let a=fr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.dc.get(f);a=a.unionWith(b.view.ec)}return a}}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_t.Z)(function*(){t.serializer=pd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function O_(r,e,t,s){return new ef(r,e,t,s)}(this.persistence,new nh,e.initialUser,this.serializer)}createPersistence(e){return new iu(Qh.js,this.serializer)}createSharedClientState(e){return new af}terminate(){var e=this;return(0,_t.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Zl{initialize(e,t){var s=this;return(0,_t.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>vy(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ag.bind(null,s.syncEngine),yield function vd(r,e){return _d.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fy}createDatastore(e){const t=pd(e.databaseInfo.databaseId),s=new U_(e.databaseInfo);return new cf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>vy(this.syncEngine,b,0),f=uf.D()?new uf:new F_,new j_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,L,G){const Q=new ql(s,a,c,f,b,L);return G&&(Q.Ac=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_t.Z)(function*(t){const s=D(t);Ot("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield Fs(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class Ed{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Py{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ii.UNAUTHENTICATED,this.clientId=Xl.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,_t.Z)(function*(b){Ot("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Ot("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,_t.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_t.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ac(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function gh(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,_t.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,_t.Z)(function*(c){s.isEqual(c)||(yield tf(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Af.apply(this,arguments)}function Mf(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,_t.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Vg(r){return Ug.apply(this,arguments)}(r);Ot("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>gf(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>gf(e.remoteStore,c)),r._onlineComponents=e}),Lg.apply(this,arguments)}function Ug(){return Ug=(0,_t.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Oy(r){return"FirebaseError"===r.name?r.code===M.FAILED_PRECONDITION||r.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Is("Error using user provided cache. Falling back to memory cache: "+t),yield gh(r,new Rc)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield gh(r,new Rc);return r._offlineComponents}),Ug.apply(this,arguments)}function xf(r){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,_t.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mf(r,r._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield Mf(r,new Zl))),r._onlineComponents}),Bg.apply(this,arguments)}function wd(r){return jg.apply(this,arguments)}function jg(){return jg=(0,_t.Z)(function*(r){const e=yield xf(r),t=e.eventManager;return t.onListen=W_.bind(null,e.syncEngine),t.onUnlisten=_g.bind(null,e.syncEngine),t}),jg.apply(this,arguments)}const zg=new Map;function Pf(r,e,t){if(!t)throw new V(M.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Gg(r){if(!nn.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wg(r){if(nn.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":y()}function br(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Id(r);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class zy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function jy(r,e,t,s){if(!0===e&&!0===s)throw new V(M.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $u{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yt;switch(t.type){case"firstParty":return new Mi(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zg.get(e);t&&(Ot("ComponentProvider","Removing Datastore"),zg.delete(e),t.terminate())}(this),Promise.resolve()}}class fs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fs(this.firestore,e,this._key)}}class ra{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class Cu extends ra{constructor(e,t,s){super(e,t,Yc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fs(this.firestore,null,new nn(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function Gy(r,e,...t){if(r=(0,ve.m9)(r),Pf("collection","path",e),r instanceof $u){const s=Rr.fromString(e,...t);return Wg(s),new Cu(r,null,s)}{if(!(r instanceof fs||r instanceof Cu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rr.fromString(e,...t));return Wg(s),new Cu(r.firestore,null,s)}}function Bn(r,e,...t){if(r=(0,ve.m9)(r),1===arguments.length&&(e=Xl.A()),Pf("doc","path",e),r instanceof $u){const s=Rr.fromString(e,...t);return Gg(s),new fs(r,null,new nn(s))}{if(!(r instanceof fs||r instanceof Cu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Rr.fromString(e,...t));return Gg(s),new fs(r.firestore,r instanceof Cu?r.converter:null,new nn(s))}}class t0{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ig(this,"async_queue_retry"),this.Yc=()=>{const t=sh();t&&Ot("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=sh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Y;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,_t.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!pu(t))throw t;Ot("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,ei("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=lh.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&y()}verifyOperationInProgress(){}na(){var e=this;return(0,_t.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function Yl(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Pi extends $u{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new t0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qg(this),this._firestoreClient.terminate()}}function IE(r,e){const t="object"==typeof r?r:(0,Re.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,Re._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,ve.P0)("firestore");c&&function EE(r,e,t,s={}){var a;const c=(r=br(r,$u))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Is("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=Ii.MOCK_USER;else{f=(0,ve.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ii(L)}r._authCredentials=new tn(new xe(f,b))}}(a,...c)}return a}function Vs(r){return r._firestoreClient||qg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function qg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new cn(r._databaseId,b,r._persistenceKey,(G=a).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,G.useFetchStreams));var b,G;r._firestoreClient=new Py(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(d.fromBase64String(e))}catch(t){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ql(d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class Oc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}const yh=/^__.*__$/;class u0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ed(e,this.data,t,this.fieldTransforms)}}class qy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Zy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class vh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Zy(this.ua)&&yh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Yy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pd(e)}ga(e,t,s,a=!1){return new vh({ua:e,methodName:t,ma:s,path:Ki.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nc(r){const e=r._freezeSettings(),t=pd(r._databaseId);return new Yy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qg(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Fc("Data must be an object, but it was:",f,s);const b=Jy(s,f);let L,G;if(c.merge)L=new Jo(f.fieldMask),G=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const ge of c.mergeFields){const Ge=Eh(e,ge,t);if(!f.contains(Ge))throw new V(M.INVALID_ARGUMENT,`Field '${Ge}' is specified in your field mask but missing from your input data.`);d0(Q,Ge)||Q.push(Ge)}L=new Jo(Q),G=f.fieldTransforms.filter(ge=>L.covers(ge.field))}else L=null,G=f.fieldTransforms;return new u0(new Vo(b),L,G)}class Dd extends Yg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function kc(r,e){if(em(r=(0,ve.m9)(r)))return Fc("Unsupported field value:",e,r),Jy(r,e);if(r instanceof Yg)return function(t,s){if(!Zy(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=kc(f,s.da(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,ve.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Di.fromDate(t);return{timestampValue:rd(s.serializer,a)}}if(t instanceof Di){const a=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:rd(s.serializer,a)}}if(t instanceof Oc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ql)return{bytesValue:Rm(s.serializer,t._byteString)};if(t instanceof fs){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_p(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Id(t)}`)}(r,e)}function Jy(r,e){const t={};return Kc(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(r,(s,a)=>{const c=kc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function em(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Di||r instanceof Oc||r instanceof Ql||r instanceof fs||r instanceof Yg)}function Fc(r,e,t){if(!em(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Id(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Eh(r,e,t){if((e=(0,ve.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return kf(r,e);throw Ff("Field path arguments must be of type string or ",r,!1,void 0,t)}const c0=new RegExp("[~\\*/\\[\\]]");function kf(r,e,t){if(e.search(c0)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ff(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(c||f)&&(L+=" (found",c&&(L+=` in field ${s}`),f&&(L+=` in document ${a}`),L+=")"),new V(M.INVALID_ARGUMENT,b+r+L)}function d0(r,e){return r.some(t=>t.isEqual(e))}class tm{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new fs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xy extends tm{data(){return super.data()}}function Lf(r,e){return"string"==typeof e?kf(r,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function ev(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}class tv extends Lc{}function nv(r,e,...t){let s=[];e instanceof Lc&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Td).length,f=a.filter(b=>b instanceof wh).length;if(c>1||c>0&&f>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class wh extends tv{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new wh(e,t,s)}_apply(e){const t=this._parse(e);return uv(e._query,t),new ra(e.firestore,e.converter,vm(e._query,t))}_parse(e){const t=Nc(e.firestore);return function(a,c,f,b,L,G,Q){let ge;if(L.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){av(Q,G);const Ge=[];for(const Et of Q)Ge.push(ov(b,a,Et));ge={arrayValue:{values:Ge}}}else ge=ov(b,a,Q)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||av(Q,G),ge=function _h(r,e,t,s=!1){return kc(t,r.ga(s?4:3,e))}(f,"where",Q,"in"===G||"not-in"===G);return Kr.create(L,G,ge)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function rv(r,e,t){const s=e,a=Lf("where",r);return wh._create(a,s,t)}class Td extends Lc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:xi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)uv(c,b),c=vm(c,b)}(e._query,t),new ra(e.firestore,e.converter,vm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ih extends tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ih(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new vu(a,c);return function(b,L){if(null===_u(b)){const G=Al(b);null!==G&&lv(0,G,L.field)}}(s,f),f}(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new rl(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function f0(r,e="asc"){const t=e,s=Lf("orderBy",r);return Ih._create(s,t)}function ov(r,e,t){if("string"==typeof(t=(0,ve.m9)(t))){if(""===t)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fh(e)&&-1!==t.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rr.fromString(t));if(!nn.isDocumentKey(s))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tu(r,new nn(s))}if(t instanceof fs)return tu(r,t._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(t)}.`)}function av(r,e){if(!Array.isArray(r)||0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uv(r,e){if(e.isInequality()){const s=Al(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=_u(r);null!==c&&lv(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new V(M.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function lv(r,e,t){if(!t.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class m0{convertValue(e,t="none"){switch(_o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return z(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ee(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return za(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Oc(z(e.latitude),z(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ut(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp($t(e));default:return null}}convertTimestamp(e){const t=C(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rr.fromString(e);E(bp(s));const a=new En(s.get(1),s.get(3)),c=new nn(s.popFirst(5));return a.isEqual(t)||ei(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jl extends tm{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Cd extends Jl{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Cd(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,G=-1;return 0!==f.type&&(L=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),G=c.indexOf(f.doc.key)),{type:nm(f.type),doc:b,oldIndex:L,newIndex:G}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class ju extends m0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fs(this.firestore,null,t)}}function bd(r){r=br(r,ra);const e=br(r.firestore,Pi),t=Vs(e),s=new ju(e);return ev(r._query),function Hg(r,e,t={}){const s=new Y;return r.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function(a,c,f,b,L){const G=new Ed({next:ge=>{c.enqueueAndForget(()=>_f(a,Q)),ge.fromCache&&"server"===b.source?L.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(ge)},error:ge=>L.reject(ge)}),Q=new ch(f,G,{includeMetadataChanges:!0,Uu:!0});return yf(a,Q)}(yield wd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Uc(e,s,r,a))}function HE(r,e,t){r=br(r,fs);const s=br(r.firestore,Pi),a=function Bf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Sd(s,[Qg(Nc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,Qi.none())])}function hv(r,e,t,...s){r=br(r,fs);const a=br(r.firestore,Pi),c=Nc(a);let f;return f="string"==typeof(e=(0,ve.m9)(e))||e instanceof Pc?function Xg(r,e,t,s,a,c){const f=r.ga(1,e,t),b=[Eh(e,s,t)],L=[a];if(c.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ge=0;Ge<c.length;Ge+=2)b.push(Eh(e,c[Ge])),L.push(c[Ge+1]);const G=[],Q=Vo.empty();for(let Ge=b.length-1;Ge>=0;--Ge)if(!d0(G,b[Ge])){const Et=b[Ge];let Ht=L[Ge];Ht=(0,ve.m9)(Ht);const rn=f.fa(Et);if(Ht instanceof Dd)G.push(Et);else{const Tn=kc(Ht,rn);null!=Tn&&(G.push(Et),Q.set(Et,Tn))}}const ge=new Jo(G);return new qy(Q,ge,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function l0(r,e,t,s){const a=r.ga(1,e,t);Fc("Data must be an object, but it was:",a,s);const c=[],f=Vo.empty();za(s,(L,G)=>{const Q=kf(e,L,t);G=(0,ve.m9)(G);const ge=a.fa(Q);if(G instanceof Dd)c.push(Q);else{const Ge=kc(G,ge);null!=Ge&&(c.push(Q),f.set(Q,Ge))}});const b=new Jo(c);return new qy(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),Sd(a,[f.toMutation(r._key,Qi.exists(!0))])}function rm(r){return Sd(br(r.firestore,Pi),[new kl(r._key,Qi.none())])}function Sd(r,e){return function(t,s){const a=new Y;return t.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return function wg(r,e,t){return yy.apply(this,arguments)}(yield function $g(r){return xf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Vs(r),e)}!function(r,e=!0){Sa=Re.SDK_VERSION,(0,Re._registerComponent)(new Ve.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Pi(new Yt(t.getProvider("auth-internal")),new Yo(t.getProvider("app-check-internal")),function(b,L){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new En(b.options.projectId,L)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(Ua,"3.11.0",r),(0,Re.registerVersion)(Ua,"3.11.0","esm2017")}();var vv=H(9751),sm=H(4004),_v={includeMetadataChanges:!1};function jf(r,e){return void 0===e&&(e=_v),new vv.y(function(t){var s=function im(r,...e){var t,s,a;r=(0,ve.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Yl(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Yl(e[f])){const ge=e[f];e[f]=null===(t=ge.next)||void 0===t?void 0:t.bind(ge),e[f+1]=null===(s=ge.error)||void 0===s?void 0:s.bind(ge),e[f+2]=null===(a=ge.complete)||void 0===a?void 0:a.bind(ge)}let L,G,Q;if(r instanceof fs)G=br(r.firestore,Pi),Q=Yc(r._key.path),L={next:ge=>{e[f]&&e[f](function Th(r,e,t){const s=t.docs.get(e._key),a=new ju(r);return new Jl(r,a,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}(G,r,ge))},error:e[f+1],complete:e[f+2]};else{const ge=br(r,ra);G=br(ge.firestore,Pi),Q=ge._query;const Ge=new ju(G);L={next:Et=>{e[f]&&e[f](new Uc(G,Ge,ge,Et))},error:e[f+1],complete:e[f+2]},ev(r._query)}return function(ge,Ge,Et,Ht){const rn=new Ed(Ht),Tn=new ch(Ge,rn,Et);return ge.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return yf(yield wd(ge),Tn)})),()=>{rn.Sc(),ge.asyncQueue.enqueueAndForget((0,_t.Z)(function*(){return _f(yield wd(ge),Tn)}))}}(Vs(G),Q,b,L)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Ch(r,e){return void 0===e&&(e={}),function Hu(r){return jf(r,{includeMetadataChanges:!0}).pipe((0,sm.U)(function(e){return e.docs}))}(r).pipe((0,sm.U)(function(t){return t.map(function(s){return function wv(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class zf{constructor(e){return e}}const Tv="firestore",Md=new B.OlP("angularfire2.firestore-instances");function F0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new zf(s)}}const Cv={provide:class N0{constructor(){return(0,p.vb)(Tv)}},deps:[[new B.FiY,Md]]},bv={provide:zf,useFactory:function k0(r,e){const t=(0,p.JM)(Tv,r,e);return t&&new zf(t)},deps:[[new B.FiY,Md],q.Ot]};let Gf=(()=>{class r{constructor(){(0,Ie.KN)("angularfire",p.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=B.oAB({type:r}),r.\u0275inj=B.cJS({providers:[bv,Cv]}),r})();function Sv(r,...e){return{ngModule:Gf,providers:[{provide:Md,useFactory:F0(r),multi:!0,deps:[B.R0b,B.zs3,p.HU,q.z6,[new B.FiY,Se],[new B.FiY,Rn.nm],...e]}]}}const um=(0,p.u3)(Ch,!0),Pv=(0,p.u3)(Gy,!0),Ov=(0,p.u3)(rm,!0),Nv=(0,p.u3)(Bn,!0),Sh=(0,p.u3)(bd,!0),G0=(0,p.u3)(IE,!0),cm=(0,p.u3)(f0,!0),gw=(0,p.u3)(nv,!0),Q0=(0,p.u3)(HE,!0),X0=(0,p.u3)(hv,!0),eE=(0,p.u3)(rv,!0)},4976:(Xt,Xe,H)=>{H.d(Xe,{q4:()=>Ru,iC:()=>sc,HU:()=>Zs,vb:()=>ic,JM:()=>pa,u3:()=>Pu});var p=H(4650),B=H(259),q=H(5861),Ie=H(6881),Ee=H(2090),ve=H(4859),Re=H(1877);const Te=(T,R)=>R.some(W=>T instanceof W);let Ve,de;const ft=new WeakMap,dt=new WeakMap,At=new WeakMap,Rt=new WeakMap,nt=new WeakMap;let bt={get(T,R,W){if(T instanceof IDBTransaction){if("done"===R)return dt.get(T);if("objectStoreNames"===R)return T.objectStoreNames||At.get(T);if("store"===R)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Dt(T[R])},set:(T,R,W)=>(T[R]=W,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function et(T){return"function"==typeof T?function we(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Se(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(ot(this),R),Dt(ft.get(this))}:function(...R){return Dt(T.apply(ot(this),R))}:function(R,...W){const oe=T.call(ot(this),R,...W);return At.set(oe,R.sort?R.sort():[R]),Dt(oe)}}(T):(T instanceof IDBTransaction&&function Ct(T){if(dt.has(T))return;const R=new Promise((W,oe)=>{const Ce=()=>{T.removeEventListener("complete",Fe),T.removeEventListener("error",ht),T.removeEventListener("abort",ht)},Fe=()=>{W(),Ce()},ht=()=>{oe(T.error||new DOMException("AbortError","AbortError")),Ce()};T.addEventListener("complete",Fe),T.addEventListener("error",ht),T.addEventListener("abort",ht)});dt.set(T,R)}(T),Te(T,function he(){return Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,bt):T)}function Dt(T){if(T instanceof IDBRequest)return function gt(T){const R=new Promise((W,oe)=>{const Ce=()=>{T.removeEventListener("success",Fe),T.removeEventListener("error",ht)},Fe=()=>{W(Dt(T.result)),Ce()},ht=()=>{oe(T.error),Ce()};T.addEventListener("success",Fe),T.addEventListener("error",ht)});return R.then(W=>{W instanceof IDBCursor&&ft.set(W,T)}).catch(()=>{}),nt.set(R,T),R}(T);if(Rt.has(T))return Rt.get(T);const R=et(T);return R!==T&&(Rt.set(T,R),nt.set(R,T)),R}const ot=T=>nt.get(T),sn=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],_n=new Map;function Ut(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(_n.get(R))return _n.get(R);const W=R.replace(/FromIndex$/,""),oe=R!==W,Ce=zt.includes(W);if(!(W in(oe?IDBIndex:IDBObjectStore).prototype)||!Ce&&!sn.includes(W))return;const Fe=function(){var ht=(0,q.Z)(function*(on,...Zt){const Dn=this.transaction(on,Ce?"readwrite":"readonly");let Kn=Dn.store;return oe&&(Kn=Kn.index(Zt.shift())),(yield Promise.all([Kn[W](...Zt),Ce&&Dn.done]))[0]});return function(Zt){return ht.apply(this,arguments)}}();return _n.set(R,Fe),Fe}!function je(T){bt=T(bt)}(T=>({...T,get:(R,W,oe)=>Ut(R,W)||T.get(R,W,oe),has:(R,W)=>!!Ut(R,W)||T.has(R,W)}));const $e="@firebase/installations",rt="0.6.4",qe=1e4,lt=`w:${rt}`,wt="FIS_v2",ct="https://firebaseinstallations.googleapis.com/v1",kt=36e5,Ue=new Ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(T){return T instanceof Ee.ZR&&T.code.includes("request-failed")}function jt({projectId:T}){return`${ct}/projects/${T}/installations`}function Zn(T){return{token:T.token,requestStatus:2,expiresIn:ln(T.expiresIn),creationTime:Date.now()}}function $n(T,R){return wr.apply(this,arguments)}function wr(){return(wr=(0,q.Z)(function*(T,R){const oe=(yield R.json()).error;return Ue.create("request-failed",{requestName:T,serverCode:oe.code,serverMessage:oe.message,serverStatus:oe.status})})).apply(this,arguments)}function gr({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function cr(T){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,q.Z)(function*(T){const R=yield T();return R.status>=500&&R.status<600?T():R})).apply(this,arguments)}function ln(T){return Number(T.replace("s","000"))}function Ft(){return(Ft=(0,q.Z)(function*({appConfig:T,heartbeatServiceProvider:R},{fid:W}){const oe=jt(T),Ce=gr(T),Fe=R.getImmediate({optional:!0});if(Fe){const Dn=yield Fe.getHeartbeatsHeader();Dn&&Ce.append("x-firebase-client",Dn)}const on={method:"POST",headers:Ce,body:JSON.stringify({fid:W,authVersion:wt,appId:T.appId,sdkVersion:lt})},Zt=yield cr(()=>fetch(oe,on));if(Zt.ok){const Dn=yield Zt.json();return{fid:Dn.fid||W,registrationStatus:2,refreshToken:Dn.refreshToken,authToken:Zn(Dn.authToken)}}throw yield $n("Create Installation",Zt)})).apply(this,arguments)}function jn(T){return new Promise(R=>{setTimeout(R,T)})}const ir=/^[cdef][\w-]{21}$/,qr="";function vi(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const W=function Yn(T){return function Pr(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return ir.test(W)?W:qr}catch{return qr}}function gn(T){return`${T.appName}!${T.appId}`}const Bt=new Map;function Vt(T,R){const W=gn(T);yr(W,R),function li(T,R){const W=function kr(){return!Gr&&"BroadcastChannel"in self&&(Gr=new BroadcastChannel("[Firebase] FID Change"),Gr.onmessage=T=>{yr(T.data.key,T.data.fid)}),Gr}();W&&W.postMessage({key:T,fid:R}),function lr(){0===Bt.size&&Gr&&(Gr.close(),Gr=null)}()}(W,R)}function yr(T,R){const W=Bt.get(T);if(W)for(const oe of W)oe(R)}let Gr=null;const Bi="firebase-installations-database",Xn=1,Ti="firebase-installations-store";let Rn=null;function _t(){return Rn||(Rn=function Le(T,R,{blocked:W,upgrade:oe,blocking:Ce,terminated:Fe}={}){const ht=indexedDB.open(T,R),on=Dt(ht);return oe&&ht.addEventListener("upgradeneeded",Zt=>{oe(Dt(ht.result),Zt.oldVersion,Zt.newVersion,Dt(ht.transaction))}),W&&ht.addEventListener("blocked",()=>W()),on.then(Zt=>{Fe&&Zt.addEventListener("close",()=>Fe()),Ce&&Zt.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),on}(Bi,Xn,{upgrade:(T,R)=>{0===R&&T.createObjectStore(Ti)}})),Rn}function Mr(T,R){return st.apply(this,arguments)}function st(){return(st=(0,q.Z)(function*(T,R){const W=gn(T),Ce=(yield _t()).transaction(Ti,"readwrite"),Fe=Ce.objectStore(Ti),ht=yield Fe.get(W);return yield Fe.put(R,W),yield Ce.done,(!ht||ht.fid!==R.fid)&&Vt(T,R.fid),R})).apply(this,arguments)}function re(T){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,q.Z)(function*(T){const R=gn(T),oe=(yield _t()).transaction(Ti,"readwrite");yield oe.objectStore(Ti).delete(R),yield oe.done})).apply(this,arguments)}function Ke(T,R){return pt.apply(this,arguments)}function pt(){return(pt=(0,q.Z)(function*(T,R){const W=gn(T),Ce=(yield _t()).transaction(Ti,"readwrite"),Fe=Ce.objectStore(Ti),ht=yield Fe.get(W),on=R(ht);return void 0===on?yield Fe.delete(W):yield Fe.put(on,W),yield Ce.done,on&&(!ht||ht.fid!==on.fid)&&Vt(T,on.fid),on})).apply(this,arguments)}function se(T){return ie.apply(this,arguments)}function ie(){return ie=(0,q.Z)(function*(T){let R;const W=yield Ke(T.appConfig,oe=>{const Ce=function pe(T){return fe(T||{fid:vi(),registrationStatus:0})}(oe),Fe=function He(T,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Ue.create("app-offline"))};const W={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},oe=function Oe(T,R){return Mt.apply(this,arguments)}(T,W);return{installationEntry:W,registrationPromise:oe}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:me(T)}:{installationEntry:R}}(T,Ce);return R=Fe.registrationPromise,Fe.installationEntry});return W.fid===qr?{installationEntry:yield R}:{installationEntry:W,registrationPromise:R}}),ie.apply(this,arguments)}function Mt(){return Mt=(0,q.Z)(function*(T,R){try{const W=yield function Mn(T,R){return Ft.apply(this,arguments)}(T,R);return Mr(T.appConfig,W)}catch(W){throw It(W)&&409===W.customData.serverCode?yield re(T.appConfig):yield Mr(T.appConfig,{fid:R.fid,registrationStatus:0}),W}}),Mt.apply(this,arguments)}function me(T){return le.apply(this,arguments)}function le(){return(le=(0,q.Z)(function*(T){let R=yield ne(T.appConfig);for(;1===R.registrationStatus;)yield jn(100),R=yield ne(T.appConfig);if(0===R.registrationStatus){const{installationEntry:W,registrationPromise:oe}=yield se(T);return oe||W}return R})).apply(this,arguments)}function ne(T){return Ke(T,R=>{if(!R)throw Ue.create("installation-not-found");return fe(R)})}function fe(T){return function Qe(T){return 1===T.registrationStatus&&T.registrationTime+qe<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function an(){return(an=(0,q.Z)(function*({appConfig:T,heartbeatServiceProvider:R},W){const oe=function Ln(T,{fid:R}){return`${jt(T)}/${R}/authTokens:generate`}(T,W),Ce=function mr(T,{refreshToken:R}){const W=gr(T);return W.append("Authorization",function zr(T){return`${wt} ${T}`}(R)),W}(T,W),Fe=R.getImmediate({optional:!0});if(Fe){const Dn=yield Fe.getHeartbeatsHeader();Dn&&Ce.append("x-firebase-client",Dn)}const on={method:"POST",headers:Ce,body:JSON.stringify({installation:{sdkVersion:lt,appId:T.appId}})},Zt=yield cr(()=>fetch(oe,on));if(Zt.ok)return Zn(yield Zt.json());throw yield $n("Generate Auth Token",Zt)})).apply(this,arguments)}function sr(T){return er.apply(this,arguments)}function er(){return er=(0,q.Z)(function*(T,R=!1){let W;const oe=yield Ke(T.appConfig,Fe=>{if(!wn(Fe))throw Ue.create("not-registered");const ht=Fe.authToken;if(!R&&function en(T){return 2===T.requestStatus&&!function Nn(T){const R=Date.now();return R<T.creationTime||T.creationTime+T.expiresIn<R+kt}(T)}(ht))return Fe;if(1===ht.requestStatus)return W=function at(T,R){return Be.apply(this,arguments)}(T,R),Fe;{if(!navigator.onLine)throw Ue.create("app-offline");const on=function Wn(T){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:R})}(Fe);return W=function Qt(T,R){return fn.apply(this,arguments)}(T,on),on}});return W?yield W:oe.authToken}),er.apply(this,arguments)}function Be(){return(Be=(0,q.Z)(function*(T,R){let W=yield St(T.appConfig);for(;1===W.authToken.requestStatus;)yield jn(100),W=yield St(T.appConfig);const oe=W.authToken;return 0===oe.requestStatus?sr(T,R):oe})).apply(this,arguments)}function St(T){return Ke(T,R=>{if(!wn(R))throw Ue.create("not-registered");return function Or(T){return 1===T.requestStatus&&T.requestTime+qe<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function fn(){return fn=(0,q.Z)(function*(T,R){try{const W=yield function Pt(T,R){return an.apply(this,arguments)}(T,R),oe=Object.assign(Object.assign({},R),{authToken:W});return yield Mr(T.appConfig,oe),W}catch(W){if(!It(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const oe=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Mr(T.appConfig,oe)}else yield re(T.appConfig);throw W}}),fn.apply(this,arguments)}function wn(T){return void 0!==T&&2===T.registrationStatus}function Us(){return(Us=(0,q.Z)(function*(T){const R=T,{installationEntry:W,registrationPromise:oe}=yield se(R);return oe?oe.catch(console.error):sr(R).catch(console.error),W.fid})).apply(this,arguments)}function $i(){return $i=(0,q.Z)(function*(T,R=!1){const W=T;return yield function tr(T){return Wt.apply(this,arguments)}(W),(yield sr(W,R)).token}),$i.apply(this,arguments)}function Wt(){return(Wt=(0,q.Z)(function*(T){const{registrationPromise:R}=yield se(T);R&&(yield R)})).apply(this,arguments)}function De(T){return Ue.create("missing-app-config-values",{valueName:T})}const Me="installations",xt=T=>{const R=T.getProvider("app").getImmediate(),W=function ke(T){if(!T||!T.options)throw De("App Configuration");if(!T.name)throw De("App Name");const R=["projectId","apiKey","appId"];for(const W of R)if(!T.options[W])throw De(W);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(R);return{app:R,appConfig:W,heartbeatServiceProvider:(0,Ie._getProvider)(R,"heartbeat"),_delete:()=>Promise.resolve()}},yn=T=>{const R=T.getProvider("app").getImmediate(),W=(0,Ie._getProvider)(R,Me).getImmediate();return{getId:()=>function Br(T){return Us.apply(this,arguments)}(W),getToken:Ce=>function Bs(T){return $i.apply(this,arguments)}(W,Ce)}};(function Pn(){(0,Ie._registerComponent)(new ve.wA(Me,xt,"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("installations-internal",yn,"PRIVATE"))})(),(0,Ie.registerVersion)($e,rt),(0,Ie.registerVersion)($e,rt,"esm2017");const vn="@firebase/remote-config",si=new Ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bo{constructor(R,W,oe,Ce){this.client=R,this.storage=W,this.storageCache=oe,this.logger=Ce}isCachedDataFresh(R,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const oe=Date.now()-W,Ce=oe<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Ce}.`),Ce}fetch(R){var W=this;return(0,q.Z)(function*(){const[oe,Ce]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Ce&&W.isCachedDataFresh(R.cacheMaxAgeMillis,oe))return Ce;R.eTag=Ce&&Ce.eTag;const Fe=yield W.client.fetch(R),ht=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&ht.push(W.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(ht),Fe})()}}function Io(T=navigator){return T.languages&&T.languages[0]||T.language}class rs{constructor(R,W,oe,Ce,Fe,ht){this.firebaseInstallations=R,this.sdkVersion=W,this.namespace=oe,this.projectId=Ce,this.apiKey=Fe,this.appId=ht}fetch(R){var W=this;return(0,q.Z)(function*(){const[oe,Ce]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,on={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Zt={sdk_version:W.sdkVersion,app_instance_id:oe,app_instance_id_token:Ce,app_id:W.appId,language_code:Io()},Dn={method:"POST",headers:on,body:JSON.stringify(Zt)},Kn=fetch(ht,Dn),qn=new Promise((Fo,Lo)=>{R.signal.addEventListener(()=>{const uc=new Error("The operation was aborted.");uc.name="AbortError",Lo(uc)})});let fo;try{yield Promise.race([Kn,qn]),fo=yield Kn}catch(Fo){let Lo="fetch-client-network";throw"AbortError"===Fo?.name&&(Lo="fetch-timeout"),si.create(Lo,{originalErrorMessage:Fo?.message})}let Os=fo.status;const gu=fo.headers.get("ETag")||void 0;let ac,mu;if(200===fo.status){let Fo;try{Fo=yield fo.json()}catch(Lo){throw si.create("fetch-client-parse",{originalErrorMessage:Lo?.message})}ac=Fo.entries,mu=Fo.state}if("INSTANCE_STATE_UNSPECIFIED"===mu?Os=500:"NO_CHANGE"===mu?Os=304:("NO_TEMPLATE"===mu||"EMPTY_CONFIG"===mu)&&(ac={}),304!==Os&&200!==Os)throw si.create("fetch-status",{httpStatus:Os});return{status:Os,eTag:gu,config:ac}})()}}class Do{constructor(R,W){this.client=R,this.storage=W}fetch(R){var W=this;return(0,q.Z)(function*(){const oe=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(R,oe)})()}attemptFetch(R,{throttleEndTimeMillis:W,backoffCount:oe}){var Ce=this;return(0,q.Z)(function*(){yield function bs(T,R){return new Promise((W,oe)=>{const Ce=Math.max(R-Date.now(),0),Fe=setTimeout(W,Ce);T.addEventListener(()=>{clearTimeout(Fe),oe(si.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,W);try{const Fe=yield Ce.client.fetch(R);return yield Ce.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function ia(T){if(!(T instanceof Ee.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Fe))throw Fe;const ht={throttleEndTimeMillis:Date.now()+(0,Ee.$s)(oe),backoffCount:oe+1};return yield Ce.storage.setThrottleMetadata(ht),Ce.attemptFetch(R,ht)}})()}}class To{constructor(R,W,oe,Ce,Fe){this.app=R,this._client=W,this._storageCache=oe,this._storage=Ce,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ss(T,R){const W=T.target.error||void 0;return si.create(R,{originalErrorMessage:W&&W?.message})}const os="app_namespace_store";class jo{constructor(R,W,oe,Ce=function bo(){return new Promise((T,R)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=oe=>{R(ss(oe,"storage-open"))},W.onsuccess=oe=>{T(oe.target.result)},W.onupgradeneeded=oe=>{0===oe.oldVersion&&oe.target.result.createObjectStore(os,{keyPath:"compositeKey"})}}catch(W){R(si.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=R,this.appName=W,this.namespace=oe,this.openDbPromise=Ce}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var W=this;return(0,q.Z)(function*(){const oe=yield W.openDbPromise;return new Promise((Ce,Fe)=>{const on=oe.transaction([os],"readonly").objectStore(os),Zt=W.createCompositeKey(R);try{const Dn=on.get(Zt);Dn.onerror=Kn=>{Fe(ss(Kn,"storage-get"))},Dn.onsuccess=Kn=>{const qn=Kn.target.result;Ce(qn?qn.value:void 0)}}catch(Dn){Fe(si.create("storage-get",{originalErrorMessage:Dn?.message}))}})})()}set(R,W){var oe=this;return(0,q.Z)(function*(){const Ce=yield oe.openDbPromise;return new Promise((Fe,ht)=>{const Zt=Ce.transaction([os],"readwrite").objectStore(os),Dn=oe.createCompositeKey(R);try{const Kn=Zt.put({compositeKey:Dn,value:W});Kn.onerror=qn=>{ht(ss(qn,"storage-set"))},Kn.onsuccess=()=>{Fe()}}catch(Kn){ht(si.create("storage-set",{originalErrorMessage:Kn?.message}))}})})()}delete(R){var W=this;return(0,q.Z)(function*(){const oe=yield W.openDbPromise;return new Promise((Ce,Fe)=>{const on=oe.transaction([os],"readwrite").objectStore(os),Zt=W.createCompositeKey(R);try{const Dn=on.delete(Zt);Dn.onerror=Kn=>{Fe(ss(Kn,"storage-delete"))},Dn.onsuccess=()=>{Ce()}}catch(Dn){Fe(si.create("storage-delete",{originalErrorMessage:Dn?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class zi{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,q.Z)(function*(){const W=R.storage.getLastFetchStatus(),oe=R.storage.getLastSuccessfulFetchTimestampMillis(),Ce=R.storage.getActiveConfig(),Fe=yield W;Fe&&(R.lastFetchStatus=Fe);const ht=yield oe;ht&&(R.lastSuccessfulFetchTimestampMillis=ht);const on=yield Ce;on&&(R.activeConfig=on)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function ro(){return io.apply(this,arguments)}function io(){return(io=(0,q.Z)(function*(){if(!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}!function no(){(0,Ie._registerComponent)(new ve.wA("remote-config",function T(R,{instanceIdentifier:W}){const oe=R.getProvider("app").getImmediate(),Ce=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw si.create("registration-window");if(!(0,Ee.hl)())throw si.create("indexed-db-unavailable");const{projectId:Fe,apiKey:ht,appId:on}=oe.options;if(!Fe)throw si.create("registration-project-id");if(!ht)throw si.create("registration-api-key");if(!on)throw si.create("registration-app-id");const Zt=new jo(on,oe.name,W=W||"firebase"),Dn=new zi(Zt),Kn=new Re.Yd(vn);Kn.logLevel=Re.in.ERROR;const qn=new rs(Ce,Ie.SDK_VERSION,W,Fe,ht,on),fo=new Do(qn,Zt),Os=new Bo(fo,Zt,Dn,Kn),gu=new To(oe,Os,Dn,Zt,Kn);return function Ci(T){const R=(0,Ee.m9)(T);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(gu),gu},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(vn,"0.4.4"),(0,Ie.registerVersion)(vn,"0.4.4","esm2017")}();const sa=(T,R)=>R.some(W=>T instanceof W);let bi,ys;const as=new WeakMap,Ni=new WeakMap,Nr=new WeakMap,oi=new WeakMap,Ss=new WeakMap;let ls={get(T,R,W){if(T instanceof IDBTransaction){if("done"===R)return Ni.get(T);if("objectStoreNames"===R)return T.objectStoreNames||Nr.get(T);if("store"===R)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return hi(T[R])},set:(T,R,W)=>(T[R]=W,!0),has:(T,R)=>T instanceof IDBTransaction&&("done"===R||"store"===R)||R in T};function Ao(T){return"function"==typeof T?function Ho(T){return T!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Hs(){return ys||(ys=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(T)?function(...R){return T.apply(Qr(this),R),hi(as.get(this))}:function(...R){return hi(T.apply(Qr(this),R))}:function(R,...W){const oe=T.call(Qr(this),R,...W);return Nr.set(oe,R.sort?R.sort():[R]),hi(oe)}}(T):(T instanceof IDBTransaction&&function us(T){if(Ni.has(T))return;const R=new Promise((W,oe)=>{const Ce=()=>{T.removeEventListener("complete",Fe),T.removeEventListener("error",ht),T.removeEventListener("abort",ht)},Fe=()=>{W(),Ce()},ht=()=>{oe(T.error||new DOMException("AbortError","AbortError")),Ce()};T.addEventListener("complete",Fe),T.addEventListener("error",ht),T.addEventListener("abort",ht)});Ni.set(T,R)}(T),sa(T,function So(){return bi||(bi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(T,ls):T)}function hi(T){if(T instanceof IDBRequest)return function Hn(T){const R=new Promise((W,oe)=>{const Ce=()=>{T.removeEventListener("success",Fe),T.removeEventListener("error",ht)},Fe=()=>{W(hi(T.result)),Ce()},ht=()=>{oe(T.error),Ce()};T.addEventListener("success",Fe),T.addEventListener("error",ht)});return R.then(W=>{W instanceof IDBCursor&&as.set(W,T)}).catch(()=>{}),Ss.set(R,T),R}(T);if(oi.has(T))return oi.get(T);const R=Ao(T);return R!==T&&(oi.set(T,R),Ss.set(R,T)),R}const Qr=T=>Ss.get(T);function vs(T,R,{blocked:W,upgrade:oe,blocking:Ce,terminated:Fe}={}){const ht=indexedDB.open(T,R),on=hi(ht);return oe&&ht.addEventListener("upgradeneeded",Zt=>{oe(hi(ht.result),Zt.oldVersion,Zt.newVersion,hi(ht.transaction))}),W&&ht.addEventListener("blocked",()=>W()),on.then(Zt=>{Fe&&Zt.addEventListener("close",()=>Fe()),Ce&&Zt.addEventListener("versionchange",()=>Ce())}).catch(()=>{}),on}function _s(T,{blocked:R}={}){const W=indexedDB.deleteDatabase(T);return R&&W.addEventListener("blocked",()=>R()),hi(W).then(()=>{})}const mo=["get","getKey","getAll","getAllKeys","count"],Jr=["put","add","delete","clear"],ti=new Map;function fi(T,R){if(!(T instanceof IDBDatabase)||R in T||"string"!=typeof R)return;if(ti.get(R))return ti.get(R);const W=R.replace(/FromIndex$/,""),oe=R!==W,Ce=Jr.includes(W);if(!(W in(oe?IDBIndex:IDBObjectStore).prototype)||!Ce&&!mo.includes(W))return;const Fe=function(){var ht=(0,q.Z)(function*(on,...Zt){const Dn=this.transaction(on,Ce?"readwrite":"readonly");let Kn=Dn.store;return oe&&(Kn=Kn.index(Zt.shift())),(yield Promise.all([Kn[W](...Zt),Ce&&Dn.done]))[0]});return function(Zt){return ht.apply(this,arguments)}}();return ti.set(R,Fe),Fe}!function di(T){ls=T(ls)}(T=>({...T,get:(R,W,oe)=>fi(R,W)||T.get(R,W,oe),has:(R,W)=>!!fi(R,W)||T.has(R,W)}));const xn="/firebase-messaging-sw.js",oa="/firebase-cloud-messaging-push-scope",zo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zs="https://fcmregistrations.googleapis.com/v1",Mo="google.c.a.c_id",yo="google.c.a.c_l",so="google.c.a.ts",oo="google.c.a.e";var x=(()=>{return(T=x||(x={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",x;var T})();function N(T){const R=new Uint8Array(T);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(T){const W=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),oe=atob(W),Ce=new Uint8Array(oe.length);for(let Fe=0;Fe<oe.length;++Fe)Ce[Fe]=oe.charCodeAt(Fe);return Ce}const X="fcm_token_details_db",ze=5,pn="fcm_token_object_Store";function Lr(){return Lr=(0,q.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(X))return null;let R=null;return(yield vs(X,ze,{upgrade:(oe=(0,q.Z)(function*(Ce,Fe,ht,on){var Zt;if(Fe<2||!Ce.objectStoreNames.contains(pn))return;const Dn=on.objectStore(pn),Kn=yield Dn.index("fcmSenderId").get(T);if(yield Dn.clear(),Kn)if(2===Fe){const qn=Kn;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;R={token:qn.fcmToken,createTime:null!==(Zt=qn.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:N(qn.vapidKey)}}}else if(3===Fe){const qn=Kn;R={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:N(qn.auth),p256dh:N(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:N(qn.vapidKey)}}}else if(4===Fe){const qn=Kn;R={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:N(qn.auth),p256dh:N(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:N(qn.vapidKey)}}}}),function(Fe,ht,on,Zt){return oe.apply(this,arguments)})})).close(),yield _s(X),yield _s("fcm_vapid_details_db"),yield _s("undefined"),function Li(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:R}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var oe}),Lr.apply(this,arguments)}const Gs="firebase-messaging-database",xo=1,pi="firebase-messaging-store";let Si=null;function Wr(){return Si||(Si=vs(Gs,xo,{upgrade:(T,R)=>{0===R&&T.createObjectStore(pi)}})),Si}function ki(T){return ao.apply(this,arguments)}function ao(){return ao=(0,q.Z)(function*(T){const R=ka(T),oe=yield(yield Wr()).transaction(pi).objectStore(pi).get(R);if(oe)return oe;{const Ce=yield function Cr(T){return Lr.apply(this,arguments)}(T.appConfig.senderId);if(Ce)return yield Dr(T,Ce),Ce}}),ao.apply(this,arguments)}function Dr(T,R){return cs.apply(this,arguments)}function cs(){return(cs=(0,q.Z)(function*(T,R){const W=ka(T),Ce=(yield Wr()).transaction(pi,"readwrite");return yield Ce.objectStore(pi).put(R,W),yield Ce.done,R})).apply(this,arguments)}function ds(){return(ds=(0,q.Z)(function*(T){const R=ka(T),oe=(yield Wr()).transaction(pi,"readwrite");yield oe.objectStore(pi).delete(R),yield oe.done})).apply(this,arguments)}function ka({appConfig:T}){return T.appId}const Ei=new Ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ea(T,R){return wa.apply(this,arguments)}function wa(){return(wa=(0,q.Z)(function*(T,R){const W=yield Go(T),oe=$(R),Ce={method:"POST",headers:W,body:JSON.stringify(oe)};let Fe;try{Fe=yield(yield fetch(aa(T.appConfig),Ce)).json()}catch(ht){throw Ei.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(Fe.error)throw Ei.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function uo(){return(uo=(0,q.Z)(function*(T,R){const W=yield Go(T),oe=$(R.subscriptionOptions),Ce={method:"PATCH",headers:W,body:JSON.stringify(oe)};let Fe;try{Fe=yield(yield fetch(`${aa(T.appConfig)}/${R.token}`,Ce)).json()}catch(ht){throw Ei.create("token-update-failed",{errorInfo:ht?.toString()})}if(Fe.error)throw Ei.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function As(T,R){return Es.apply(this,arguments)}function Es(){return(Es=(0,q.Z)(function*(T,R){const oe={method:"DELETE",headers:yield Go(T)};try{const Fe=yield(yield fetch(`${aa(T.appConfig)}/${R}`,oe)).json();if(Fe.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ce){throw Ei.create("token-unsubscribe-failed",{errorInfo:Ce?.toString()})}})).apply(this,arguments)}function aa({projectId:T}){return`${zs}/projects/${T}/registrations`}function Go(T){return vo.apply(this,arguments)}function vo(){return(vo=(0,q.Z)(function*({appConfig:T,installations:R}){const W=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function $({p256dh:T,auth:R,endpoint:W,vapidKey:oe}){const Ce={web:{endpoint:W,auth:R,p256dh:T}};return oe!==zo&&(Ce.web.applicationPubKey=oe),Ce}const _=6048e5;function F(){return F=(0,q.Z)(function*(T){const R=yield function Jt(T,R){return un.apply(this,arguments)}(T.swRegistration,T.vapidKey),W={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:R.endpoint,auth:N(R.getKey("auth")),p256dh:N(R.getKey("p256dh"))},oe=yield ki(T.firebaseDependencies);if(oe){if(function ur(T,R){return R.vapidKey===T.vapidKey&&R.endpoint===T.endpoint&&R.auth===T.auth&&R.p256dh===T.p256dh}(oe.subscriptionOptions,W))return Date.now()>=oe.createTime+_?function ce(T,R){return _e.apply(this,arguments)}(T,{token:oe.token,createTime:Date.now(),subscriptionOptions:W}):oe.token;try{yield As(T.firebaseDependencies,oe.token)}catch(Ce){console.warn(Ce)}return We(T.firebaseDependencies,W)}return We(T.firebaseDependencies,W)}),F.apply(this,arguments)}function te(){return te=(0,q.Z)(function*(T){const R=yield ki(T.firebaseDependencies);R&&(yield As(T.firebaseDependencies,R.token),yield function Ro(T){return ds.apply(this,arguments)}(T.firebaseDependencies));const W=yield T.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()}),te.apply(this,arguments)}function _e(){return _e=(0,q.Z)(function*(T,R){try{const W=yield function Ia(T,R){return uo.apply(this,arguments)}(T.firebaseDependencies,R),oe=Object.assign(Object.assign({},R),{token:W,createTime:Date.now()});return yield Dr(T.firebaseDependencies,oe),W}catch(W){throw yield function K(T){return te.apply(this,arguments)}(T),W}}),_e.apply(this,arguments)}function We(T,R){return vt.apply(this,arguments)}function vt(){return(vt=(0,q.Z)(function*(T,R){const oe={token:yield Ea(T,R),createTime:Date.now(),subscriptionOptions:R};return yield Dr(T,oe),oe.token})).apply(this,arguments)}function un(){return(un=(0,q.Z)(function*(T,R){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(R)})})).apply(this,arguments)}function Un(T){const R={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function In(T,R){if(!R.notification)return;T.notification={};const W=R.notification.title;W&&(T.notification.title=W);const oe=R.notification.body;oe&&(T.notification.body=oe);const Ce=R.notification.image;Ce&&(T.notification.image=Ce);const Fe=R.notification.icon;Fe&&(T.notification.icon=Fe)}(R,T),function An(T,R){R.data&&(T.data=R.data)}(R,T),function A(T,R){var W,oe,Ce,Fe,ht;if(!(R.fcmOptions||null!==(W=R.notification)&&void 0!==W&&W.click_action))return;T.fcmOptions={};const on=null!==(Ce=null===(oe=R.fcmOptions)||void 0===oe?void 0:oe.link)&&void 0!==Ce?Ce:null===(Fe=R.notification)||void 0===Fe?void 0:Fe.click_action;on&&(T.fcmOptions.link=on);const Zt=null===(ht=R.fcmOptions)||void 0===ht?void 0:ht.analytics_label;Zt&&(T.fcmOptions.analyticsLabel=Zt)}(R,T),R}function P(T,R){const W=[];for(let oe=0;oe<T.length;oe++)W.push(T.charAt(oe)),oe<R.length&&W.push(R.charAt(oe));return W.join("")}function ae(T){return Ei.create("missing-app-config-values",{valueName:T})}P("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),P("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class it{constructor(R,W,oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ce=function Z(T){if(!T||!T.options)throw ae("App Configuration Object");if(!T.name)throw ae("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:W}=T;for(const oe of R)if(!W[oe])throw ae(oe);return{appName:T.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Ce,installations:W,analyticsProvider:oe}}_delete(){return Promise.resolve()}}function tt(T){return qt.apply(this,arguments)}function qt(){return(qt=(0,q.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(xn,{scope:oa}),T.swRegistration.update().catch(()=>{})}catch(R){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function Vn(){return(Vn=(0,q.Z)(function*(T,R){if(!R&&!T.swRegistration&&(yield tt(T)),R||!T.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");T.swRegistration=R}})).apply(this,arguments)}function zn(){return(zn=(0,q.Z)(function*(T,R){R?T.vapidKey=R:T.vapidKey||(T.vapidKey=zo)})).apply(this,arguments)}function ar(){return ar=(0,q.Z)(function*(T,R){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield function nr(T,R){return zn.apply(this,arguments)}(T,R?.vapidKey),yield function or(T,R){return Vn.apply(this,arguments)}(T,R?.serviceWorkerRegistration),function w(T){return F.apply(this,arguments)}(T)}),ar.apply(this,arguments)}function hs(){return(hs=(0,q.Z)(function*(T,R,W){const oe=function Gt(T){switch(T){case x.NOTIFICATION_CLICKED:return"notification_open";case x.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(oe,{message_id:W[Mo],message_name:W[yo],message_time:W[so],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function dn(){return dn=(0,q.Z)(function*(T,R){const W=R.data;if(!W.isFirebaseMessaging)return;T.onMessageHandler&&W.messageType===x.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Un(W)):T.onMessageHandler.next(Un(W)));const oe=W.data;(function U(T){return"object"==typeof T&&!!T&&Mo in T})(oe)&&"1"===oe[oo]&&(yield function ai(T,R,W){return hs.apply(this,arguments)}(T,W.messageType,oe))}),dn.apply(this,arguments)}const Fn="@firebase/messaging",gi=T=>{const R=new it(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function mn(T,R){return dn.apply(this,arguments)}(R,W)),R},wi=T=>{const R=T.getProvider("messaging").getImmediate();return{getToken:oe=>function Vr(T,R){return ar.apply(this,arguments)}(R,oe)}};function ui(){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,q.Z)(function*(){try{yield(0,Ee.eu)()}catch{return!1}return typeof window<"u"&&(0,Ee.hl)()&&(0,Ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yi(){(0,Ie._registerComponent)(new ve.wA("messaging",gi,"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("messaging-internal",wi,"PRIVATE")),(0,Ie.registerVersion)(Fn,"0.12.4"),(0,Ie.registerVersion)(Fn,"0.12.4","esm2017")}();const la="analytics",Fa="firebase_id",Wu="origin",Ko=6e4,au="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uu="https://www.googletagmanager.com/gtag/js",Vi=new Re.Yd("@firebase/analytics"),ni=new Ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ri(T){if(!T.startsWith(uu)){const R=ni.create("invalid-gtag-resource",{gtagURL:T});return Vi.warn(R.message),""}return T}function Ta(T){return Promise.all(T.map(R=>R.catch(W=>W)))}function Ca(){return(Ca=(0,q.Z)(function*(T,R,W,oe,Ce,Fe){const ht=oe[Ce];try{if(ht)yield R[ht];else{const Zt=(yield Ta(W)).find(Dn=>Dn.measurementId===Ce);Zt&&(yield R[Zt.appId])}}catch(on){Vi.error(on)}T("config",Ce,Fe)})).apply(this,arguments)}function Ya(){return(Ya=(0,q.Z)(function*(T,R,W,oe,Ce){try{let Fe=[];if(Ce&&Ce.send_to){let ht=Ce.send_to;Array.isArray(ht)||(ht=[ht]);const on=yield Ta(W);for(const Zt of ht){const Dn=on.find(qn=>qn.measurementId===Zt),Kn=Dn&&R[Dn.appId];if(!Kn){Fe=[];break}Fe.push(Kn)}}0===Fe.length&&(Fe=Object.values(R)),yield Promise.all(Fe),T("event",oe,Ce||{})}catch(Fe){Vi.error(Fe)}})).apply(this,arguments)}const La=30,da=new class Su{constructor(R={},W=1e3){this.throttleMetadata=R,this.intervalMillis=W}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,W){this.throttleMetadata[R]=W}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function Rs(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Jn(){return(Jn=(0,q.Z)(function*(T){var R;const{appId:W,apiKey:oe}=T,Ce={method:"GET",headers:Rs(oe)},Fe=au.replace("{app-id}",W),ht=yield fetch(Fe,Ce);if(200!==ht.status&&304!==ht.status){let on="";try{const Zt=yield ht.json();null!==(R=Zt.error)&&void 0!==R&&R.message&&(on=Zt.error.message)}catch{}throw ni.create("config-fetch-failed",{httpStatus:ht.status,responseMessage:on})}return ht.json()})).apply(this,arguments)}function Au(){return(Au=(0,q.Z)(function*(T,R=da,W){const{appId:oe,apiKey:Ce,measurementId:Fe}=T.options;if(!oe)throw ni.create("no-app-id");if(!Ce){if(Fe)return{measurementId:Fe,appId:oe};throw ni.create("no-api-key")}const ht=R.getThrottleMetadata(oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},on=new jc;return setTimeout((0,q.Z)(function*(){on.abort()}),void 0!==W?W:Ko),Qa({appId:oe,apiKey:Ce,measurementId:Fe},ht,on,R)})).apply(this,arguments)}function Qa(T,R,W){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,q.Z)(function*(T,{throttleEndTimeMillis:R,backoffCount:W},oe,Ce=da){var Fe;const{appId:ht,measurementId:on}=T;try{yield function du(T,R){return new Promise((W,oe)=>{const Ce=Math.max(R-Date.now(),0),Fe=setTimeout(W,Ce);T.addEventListener(()=>{clearTimeout(Fe),oe(ni.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(oe,R)}catch(Zt){if(on)return Vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${Zt?.message}]`),{appId:ht,measurementId:on};throw Zt}try{const Zt=yield function Ks(T){return Jn.apply(this,arguments)}(T);return Ce.deleteThrottleMetadata(ht),Zt}catch(Zt){const Dn=Zt;if(!function hu(T){if(!(T instanceof Ee.ZR&&T.customData))return!1;const R=Number(T.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Dn)){if(Ce.deleteThrottleMetadata(ht),on)return Vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${on} provided in the "measurementId" field in the local Firebase config. [${Dn?.message}]`),{appId:ht,measurementId:on};throw Zt}const Kn=503===Number(null===(Fe=Dn?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,Ee.$s)(W,Ce.intervalMillis,La):(0,Ee.$s)(W,Ce.intervalMillis),qn={throttleEndTimeMillis:Date.now()+Kn,backoffCount:W+1};return Ce.setThrottleMetadata(ht,qn),Vi.debug(`Calling attemptFetch again in ${Kn} millis`),Qa(T,qn,oe,Ce)}}),Ja.apply(this,arguments)}class jc{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Va,Oo;function gl(){return(gl=(0,q.Z)(function*(T,R,W,oe,Ce){if(Ce&&Ce.global)T("event",W,oe);else{const Fe=yield R;T("event",W,Object.assign(Object.assign({},oe),{send_to:Fe}))}})).apply(this,arguments)}function ei(){return(ei=(0,q.Z)(function*(){if(!(0,Ee.hl)())return Vi.warn(ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ee.eu)()}catch(T){return Vi.warn(ni.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function fa(){return fa=(0,q.Z)(function*(T,R,W,oe,Ce,Fe,ht){var on;const Zt=function cu(T){return Au.apply(this,arguments)}(T);Zt.then(Os=>{W[Os.measurementId]=Os.appId,T.options.measurementId&&Os.measurementId!==T.options.measurementId&&Vi.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Os.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Os=>Vi.error(Os)),R.push(Zt);const Dn=function Ot(){return ei.apply(this,arguments)}().then(Os=>{if(Os)return oe.getId()}),[Kn,qn]=yield Promise.all([Zt,Dn]);(function Gi(T){const R=window.document.getElementsByTagName("script");for(const W of Object.values(R))if(W.src&&W.src.includes(uu)&&W.src.includes(T))return W;return null})(Fe)||function Po(T,R){const W=function ca(T,R){let W;return window.trustedTypes&&(W=window.trustedTypes.createPolicy(T,R)),W}("firebase-js-sdk-policy",{createScriptURL:ri}),oe=document.createElement("script"),Ce=`${uu}?l=${T}&id=${R}`;oe.src=W?W?.createScriptURL(Ce):Ce,oe.async=!0,document.head.appendChild(oe)}(Fe,Kn.measurementId),Oo&&(Ce("consent","default",Oo),function Ba(T){Oo=T}(void 0)),Ce("js",new Date);const fo=null!==(on=ht?.config)&&void 0!==on?on:{};return fo[Wu]="firebase",fo.update=!0,null!=qn&&(fo[Fa]=qn),Ce("config",Kn.measurementId,fo),Va&&(Ce("set",Va),function ml(T){Va=T}(void 0)),Kn.measurementId}),fa.apply(this,arguments)}class y{constructor(R){this.app=R}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},m=[];const D={};let Y,xe,M="dataLayer",V="gtag",yt=!1;function _r(T,R,W){!function Yt(){const T=[];if((0,Ee.ru)()&&T.push("This is a browser extension environment."),(0,Ee.zI)()||T.push("Cookies are not available."),T.length>0){const R=T.map((oe,Ce)=>`(${Ce+1}) ${oe}`).join(" "),W=ni.create("invalid-analytics-context",{errorInfo:R});Vi.warn(W.message)}}();const oe=T.options.appId;if(!oe)throw ni.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ni.create("no-api-key");Vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[oe])throw ni.create("already-exists",{id:oe});if(!yt){!function Ku(T){let R=[];Array.isArray(window[T])?R=window[T]:window[T]=R}(M);const{wrappedGtag:Fe,gtagCore:ht}=function ws(T,R,W,oe,Ce){let Fe=function(...ht){window[oe].push(arguments)};return window[Ce]&&"function"==typeof window[Ce]&&(Fe=window[Ce]),window[Ce]=function ba(T,R,W,oe){function Fe(){return Fe=(0,q.Z)(function*(ht,...on){try{if("event"===ht){const[Zt,Dn]=on;yield function Xr(T,R,W,oe,Ce){return Ya.apply(this,arguments)}(T,R,W,Zt,Dn)}else if("config"===ht){const[Zt,Dn]=on;yield function Ws(T,R,W,oe,Ce,Fe){return Ca.apply(this,arguments)}(T,R,W,oe,Zt,Dn)}else if("consent"===ht){const[Zt]=on;T("consent","update",Zt)}else if("get"===ht){const[Zt,Dn,Kn]=on;T("get",Zt,Dn,Kn)}else if("set"===ht){const[Zt]=on;T("set",Zt)}else T(ht,...on)}catch(Zt){Vi.error(Zt)}}),Fe.apply(this,arguments)}return function Ce(ht){return Fe.apply(this,arguments)}}(Fe,T,R,W),{gtagCore:Fe,wrappedGtag:window[Ce]}}(E,m,D,M,V);xe=Fe,Y=ht,yt=!0}return E[oe]=function Is(T,R,W,oe,Ce,Fe,ht){return fa.apply(this,arguments)}(T,m,D,R,Y,M,W),new y(T)}function Yo(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,q.Z)(function*(){if((0,Ee.ru)()||!(0,Ee.zI)()||!(0,Ee.hl)())return!1;try{return yield(0,Ee.eu)()}catch{return!1}})).apply(this,arguments)}const Hc="@firebase/analytics";!function nn(){(0,Ie._registerComponent)(new ve.wA(la,(R,{options:W})=>_r(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,Ie._registerComponent)(new ve.wA("analytics-internal",function T(R){try{const W=R.getProvider(la).getImmediate();return{logEvent:(oe,Ce,Fe)=>function Zu(T,R,W,oe){T=(0,Ee.m9)(T),function qu(T,R,W,oe,Ce){return gl.apply(this,arguments)}(xe,E[T.app.options.appId],R,W,oe).catch(Ce=>Vi.error(Ce))}(W,oe,Ce,Fe)}}catch(W){throw ni.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,Ie.registerVersion)(Hc,"0.10.0"),(0,Ie.registerVersion)(Hc,"0.10.0","esm2017")}();var yl=H(4408),Qo=H(7565);const vl=new class zc extends Qo.v{}(class ec extends yl.o{constructor(R,W){super(R,W),this.scheduler=R,this.work=W}schedule(R,W=0){return W>0?super.schedule(R,W):(this.delay=W,this.state=R,this.scheduler.flush(this),this)}execute(R,W){return W>0||this.closed?super.execute(R,W):this._execute(R,W)}requestAsyncId(R,W,oe=0){return null!=oe&&oe>0||null==oe&&this.delay>0?super.requestAsyncId(R,W,oe):(R.flush(this),0)}});var _l=H(4986),xu=H(9751),nc=H(8505),qs=H(9468),Yu=H(5363);const Ru=new p.GfV("7.5.0"),Gc="__angularfire_symbol__analyticsIsSupportedValue",Aa="__angularfire_symbol__analyticsIsSupported",eu="__angularfire_symbol__remoteConfigIsSupportedValue",Ye="__angularfire_symbol__remoteConfigIsSupported",Qu="__angularfire_symbol__messagingIsSupportedValue",ko="__angularfire_symbol__messagingIsSupported";function pa(T,R,W){if(R){if(1===R.length)return R[0];const Fe=R.filter(ht=>ht.app===W);if(1===Fe.length)return Fe[0]}return W.container.getProvider(T).getImmediate({optional:!0})}globalThis[Aa]||(globalThis[Aa]=Yo().then(T=>globalThis[Gc]=T).catch(()=>globalThis[Gc]=!1)),globalThis[ko]||(globalThis[ko]=ui().then(T=>globalThis[Qu]=T).catch(()=>globalThis[Qu]=!1)),globalThis[Ye]||(globalThis[Ye]=ro().then(T=>globalThis[eu]=T).catch(()=>globalThis[eu]=!1));const ic=(T,R)=>{const W=R?[R]:(0,B.C6)(),oe=[];return W.forEach(Ce=>{Ce.container.getProvider(T).instances.forEach(ht=>{oe.includes(ht)||oe.push(ht)})}),oe};function ja(){}class wl{constructor(R,W=vl){this.zone=R,this.delegate=W}now(){return this.delegate.now()}schedule(R,W,oe){const Ce=this.zone;return this.delegate.schedule(function(ht){Ce.runGuarded(()=>{R.apply(this,[ht])})},W,oe)}}class Ma{constructor(R){this.zone=R,this.task=null}call(R,W){const oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),W.pipe((0,nc.b)({next:oe,complete:oe,error:oe})).subscribe(R).add(oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zs=(()=>{class T{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new wl(Zone.current)),this.insideAngular=W.run(()=>new wl(Zone.current,_l.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(W){return new(W||T)(p.LFG(p.R0b))},T.\u0275prov=p.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function ga(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ha(T){return ga().ngZone.run(()=>T())}function sc(T){return ga(),function xa(T){return function(W){return(W=W.lift(new Ma(T.ngZone))).pipe((0,qs.R)(T.outsideAngular),(0,Yu.Q)(T.insideAngular))}}(ga())(T)}const oc=(T,R)=>function(){const oe=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),Ha(()=>T.apply(void 0,oe))},Pu=(T,R)=>function(){let W;const oe=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof oe[Fe]&&(R&&(W||(W=Ha(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)))),oe[Fe]=oc(oe[Fe],W));const Ce=function Ju(T){return ga().ngZone.runOutsideAngular(()=>T())}(()=>T.apply(this,oe));if(!R){if(Ce instanceof xu.y){const Fe=ga();return Ce.pipe((0,qs.R)(Fe.outsideAngular),(0,Yu.Q)(Fe.insideAngular))}return Ha(()=>Ce)}return Ce instanceof xu.y?Ce.pipe(sc):Ce instanceof Promise?Ha(()=>new Promise((Fe,ht)=>Ce.then(on=>Ha(()=>Fe(on)),on=>Ha(()=>ht(on))))):"function"==typeof Ce&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Ce.apply(this,arguments)}:Ha(()=>Ce)}},8502:(Xt,Xe,H)=>{H.d(Xe,{$:()=>xn,A:()=>he,D:()=>dt,I:()=>Fr,J:()=>xt,L:()=>ns,N:()=>Ke,P:()=>Is,Q:()=>jo,R:()=>Mu,U:()=>va,V:()=>ro,W:()=>io,X:()=>Oi,Y:()=>So,Z:()=>Hs,_:()=>Ss,a:()=>mi,a0:()=>zo,a1:()=>Mo,a2:()=>_a,a3:()=>pn,a4:()=>Lr,a5:()=>Gs,a6:()=>pi,a7:()=>Wr,a8:()=>ao,a9:()=>cs,aA:()=>Le,aB:()=>Aa,aC:()=>re,aD:()=>pt,aE:()=>nc,aF:()=>bn,aG:()=>Di,aH:()=>Qn,aL:()=>xs,aO:()=>bi,aa:()=>Ro,ab:()=>ka,ac:()=>ou,ad:()=>Ia,ae:()=>As,af:()=>aa,ai:()=>_,aj:()=>F,ak:()=>K,an:()=>Ho,ao:()=>In,aq:()=>zn,ar:()=>Fn,as:()=>sn,at:()=>fe,au:()=>me,av:()=>je,aw:()=>qn,ax:()=>ko,ay:()=>Qe,az:()=>we,b:()=>Da,c:()=>xe,d:()=>_r,e:()=>tn,f:()=>Hc,g:()=>zc,h:()=>yl,i:()=>lo,j:()=>_l,k:()=>mu,l:()=>Ua,m:()=>uc,p:()=>Te,r:()=>Sa,s:()=>Zo,u:()=>Ot});var p=H(5861),B=H(2090),q=H(6881),Ie=H(655),Ee=H(1877),ve=H(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const dt=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},At=function ft(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Rt=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gt=new Ee.Yd("@firebase/auth");function bt(I,...d){gt.logLevel<=Ee.in.ERROR&&gt.error(`Auth (${q.SDK_VERSION}): ${I}`,...d)}function je(I,...d){throw ot(I,...d)}function we(I,...d){return ot(I,...d)}function et(I,d,g){const C=Object.assign(Object.assign({},At()),{[d]:g});return new B.LL("auth","Firebase",C).create(d,{appName:I.name})}function Dt(I,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&je(I,"argument-error"),et(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(I,...d){if("string"!=typeof I){const g=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(g,...C)}return Rt.create(I,...d)}function Le(I,d,...g){if(!I)throw ot(d,...g)}function Nt(I){const d="INTERNAL ASSERTION FAILED: "+I;throw bt(d),new Error(d)}function sn(I,d){I||Nt(d)}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function _n(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class qe{constructor(d,g){this.shortDelay=d,this.longDelay=g,sn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function $e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(I,d){sn(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class wt{static initialize(d,g,C){this.fetchImpl=d,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},kt=new qe(3e4,6e4);function be(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function Ze(I,d,g,C){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(I,d,g,C,z={}){return Ue(I,z,(0,p.Z)(function*(){let ee={},Ne={};C&&("GET"===d?Ne=C:ee={body:JSON.stringify(C)});const ut=(0,B.xO)(Object.assign({key:I.config.apiKey},Ne)).slice(1),$t=yield I._getAdditionalHeaders();return $t["Content-Type"]="application/json",I.languageCode&&($t["X-Firebase-Locale"]=I.languageCode),wt.fetch()($n(I,I.config.apiHost,g,ut),Object.assign({method:d,headers:$t,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Ue(I,d,g){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(I,d,g){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},ct),d);try{const z=new wr(I),ee=yield Promise.race([g(),z.promise]);z.clearNetworkTimeout();const Ne=yield ee.json();if("needConfirmation"in Ne)throw gr(I,"account-exists-with-different-credential",Ne);if(ee.ok&&!("errorMessage"in Ne))return Ne;{const ut=ee.ok?Ne.errorMessage:Ne.error.message,[$t,cn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw gr(I,"credential-already-in-use",Ne);if("EMAIL_EXISTS"===$t)throw gr(I,"email-already-in-use",Ne);if("USER_DISABLED"===$t)throw gr(I,"user-disabled",Ne);const En=C[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(cn)throw et(I,En,cn);je(I,En)}}catch(z){if(z instanceof B.ZR)throw z;je(I,"network-request-failed",{message:String(z)})}})).apply(this,arguments)}function jt(I,d,g,C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(I,d,g,C,z={}){const ee=yield Ze(I,d,g,C,z);return"mfaPendingCredential"in ee&&je(I,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function $n(I,d,g,C){const z=`${d}${g}?${C}`;return I.config.emulator?lt(I.config,z):`${I.config.apiScheme}://${z}`}class wr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(we(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(I,d,g){const C={appName:I.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const z=we(I,d,C);return z.customData._tokenResponse=g,z}function cr(){return(cr=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Mn(){return(Mn=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Ft(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ir(){return(ir=(0,p.Z)(function*(I,d=!1){const g=(0,B.m9)(I),C=yield g.getIdToken(d),z=vi(C);Le(z&&z.exp&&z.auth_time&&z.iat,g.auth,"internal-error");const ee="object"==typeof z.firebase?z.firebase:void 0,Ne=ee?.sign_in_provider;return{claims:z,token:C,authTime:Ft(qr(z.auth_time)),issuedAtTime:Ft(qr(z.iat)),expirationTime:Ft(qr(z.exp)),signInProvider:Ne||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function qr(I){return 1e3*Number(I)}function vi(I){const[d,g,C]=I.split(".");if(void 0===d||void 0===g||void 0===C)return bt("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,B.tV)(g);return z?JSON.parse(z):(bt("Failed to decode base64 JWT payload"),null)}catch(z){return bt("Caught error parsing JWT payload as JSON",z?.toString()),null}}function gn(I,d){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(C){throw C instanceof B.ZR&&function Vt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class Ar{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),C)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Ur{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yr(I){return li.apply(this,arguments)}function li(){return li=(0,p.Z)(function*(I){var d;const g=I.auth,C=yield I.getIdToken(),z=yield gn(I,function zr(I,d){return Mn.apply(this,arguments)}(g,{idToken:C}));Le(z?.users.length,g,"internal-error");const ee=z.users[0];I._notifyReloadListener(ee);const Ne=null!==(d=ee.providerUserInfo)&&void 0!==d&&d.length?function Bi(I){return I.map(d=>{var{providerId:g}=d,C=(0,Ie._T)(d,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ee.providerUserInfo):[],ut=function lr(I,d){return[...I.filter(C=>!d.some(z=>z.providerId===C.providerId)),...d]}(I.providerData,Ne),En=!!I.isAnonymous&&!(I.email&&ee.passwordHash||ut?.length),Gn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:ut,metadata:new Ur(ee.createdAt,ee.lastLoginAt),isAnonymous:En};Object.assign(I,Gn)}),li.apply(this,arguments)}function kr(){return(kr=(0,p.Z)(function*(I){const d=(0,B.m9)(I);yield yr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(I,d){const g=yield Ue(I,{},(0,p.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:z,apiKey:ee}=I.config,Ne=$n(I,z,"/v1/token",`key=${ee}`),ut=yield I._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(Ne,{method:"POST",headers:ut,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Le(d.idToken,"internal-error"),Le(typeof d.idToken<"u","internal-error"),Le(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Yn(I){const d=vi(I);return Le(d,"internal-error"),Le(typeof d.exp<"u","internal-error"),Le(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var C=this;return(0,p.Z)(function*(){return Le(!C.accessToken||C.refreshToken,d,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var C=this;return(0,p.Z)(function*(){const{accessToken:z,refreshToken:ee,expiresIn:Ne}=yield function Xn(I,d){return Ti.apply(this,arguments)}(d,g);C.updateTokensAndExpiration(z,ee,Number(Ne))})()}updateTokensAndExpiration(d,g,C){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,g){const{refreshToken:C,accessToken:z,expirationTime:ee}=g,Ne=new Rn;return C&&(Le("string"==typeof C,"internal-error",{appName:d}),Ne.refreshToken=C),z&&(Le("string"==typeof z,"internal-error",{appName:d}),Ne.accessToken=z),ee&&(Le("number"==typeof ee,"internal-error",{appName:d}),Ne.expirationTime=ee),Ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Rn,this.toJSON())}_performRefresh(){return Nt("not implemented")}}function _t(I,d){Le("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Mr{constructor(d){var{uid:g,auth:C,stsTokenManager:z}=d,ee=(0,Ie._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Ur(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const C=yield gn(g,g.stsTokenManager.getToken(g.auth,d));return Le(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(d){return function Pr(I){return ir.apply(this,arguments)}(this,d)}reload(){return function Gr(I){return kr.apply(this,arguments)}(this)}_assign(d){this!==d&&(Le(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Mr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var C=this;return(0,p.Z)(function*(){let z=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),z=!0),g&&(yield yr(C)),yield C.auth._persistUserIfCurrent(C),z&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield gn(d,function mr(I,d){return cr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var C,z,ee,Ne,ut,$t,cn,En;const Gn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Qs=null!==(z=g.email)&&void 0!==z?z:void 0,_o=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,ma=null!==(Ne=g.photoURL)&&void 0!==Ne?Ne:void 0,cc=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,ya=null!==($t=g._redirectEventId)&&void 0!==$t?$t:void 0,Pd=null!==(cn=g.createdAt)&&void 0!==cn?cn:void 0,Ou=null!==(En=g.lastLoginAt)&&void 0!==En?En:void 0,{uid:Dl,emailVerified:Tl,isAnonymous:tu,providerData:Cl,stsTokenManager:yu}=g;Le(Dl&&yu,d,"internal-error");const dc=Rn.fromJSON(this.name,yu);Le("string"==typeof Dl,d,"internal-error"),_t(Gn,d.name),_t(Qs,d.name),Le("boolean"==typeof Tl,d,"internal-error"),Le("boolean"==typeof tu,d,"internal-error"),_t(_o,d.name),_t(ma,d.name),_t(cc,d.name),_t(ya,d.name),_t(Pd,d.name),_t(Ou,d.name);const hc=new Mr({uid:Dl,auth:d,email:Qs,emailVerified:Tl,displayName:Gn,isAnonymous:tu,photoURL:ma,phoneNumber:_o,tenantId:cc,stsTokenManager:dc,createdAt:Pd,lastLoginAt:Ou});return Cl&&Array.isArray(Cl)&&(hc.providerData=Cl.map(bl=>Object.assign({},bl))),ya&&(hc._redirectEventId=ya),hc}static _fromIdTokenResponse(d,g,C=!1){return(0,p.Z)(function*(){const z=new Rn;z.updateFromServerResponse(g);const ee=new Mr({uid:g.localId,auth:d,stsTokenManager:z,isAnonymous:C});return yield yr(ee),ee})()}}const st=new Map;function re(I){sn(I instanceof Function,"Expected a class definition");let d=st.get(I);return d?(sn(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,st.set(I,d),d)}const Ke=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,C){var z=this;return(0,p.Z)(function*(){z.storage[g]=C})()}_get(g){var C=this;return(0,p.Z)(function*(){const z=C.storage[g];return void 0===z?null:z})()}_remove(g){var C=this;return(0,p.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return I.type="NONE",I})();function pt(I,d,g){return`firebase:${I}:${d}:${g}`}class se{constructor(d,g,C){this.persistence=d,this.auth=g,this.userKey=C;const{config:z,name:ee}=this.auth;this.fullUserKey=pt(this.userKey,z.apiKey,ee),this.fullPersistenceKey=pt("persistence",z.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Mr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,C="authUser"){return(0,p.Z)(function*(){if(!g.length)return new se(re(Ke),d,C);const z=(yield Promise.all(g.map(function(){var cn=(0,p.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return cn.apply(this,arguments)}}()))).filter(cn=>cn);let ee=z[0]||re(Ke);const Ne=pt(C,d.config.apiKey,d.name);let ut=null;for(const cn of g)try{const En=yield cn._get(Ne);if(En){const Gn=Mr._fromJSON(d,En);cn!==ee&&(ut=Gn),ee=cn;break}}catch{}const $t=z.filter(cn=>cn._shouldAllowMigration);return ee._shouldAllowMigration&&$t.length?(ee=$t[0],ut&&(yield ee._set(Ne,ut.toJSON())),yield Promise.all(g.map(function(){var cn=(0,p.Z)(function*(En){if(En!==ee)try{yield En._remove(Ne)}catch{}});return function(En){return cn.apply(this,arguments)}}())),new se(ee,d,C)):new se(ee,d,C)})()}}function ie(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Mt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(pe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(ne(d))return"Webos";if(He(d))return"Safari";if((d.includes("chrome/")||Oe(d))&&!d.includes("edge/"))return"Chrome";if(me(d))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function pe(I=(0,B.z$)()){return/firefox\//i.test(I)}function He(I=(0,B.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Oe(I=(0,B.z$)()){return/crios\//i.test(I)}function Mt(I=(0,B.z$)()){return/iemobile/i.test(I)}function me(I=(0,B.z$)()){return/android/i.test(I)}function le(I=(0,B.z$)()){return/blackberry/i.test(I)}function ne(I=(0,B.z$)()){return/webos/i.test(I)}function fe(I=(0,B.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function Qe(I=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Ln(I=(0,B.z$)()){return fe(I)||me(I)||ne(I)||le(I)||/windows phone/i.test(I)||Mt(I)}function er(I,d=[]){let g;switch(I){case"Browser":g=ie((0,B.z$)());break;case"Worker":g=`${ie((0,B.z$)())}-${I}`;break;default:g=I}const C=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${q.SDK_VERSION}/${C}`}function Be(){return(Be=(0,p.Z)(function*(I){return(yield Ze(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function St(I,d){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,p.Z)(function*(I,d){return Ze(I,"GET","/v2/recaptchaConfig",be(I,d))})).apply(this,arguments)}function fn(I){return void 0!==I&&void 0!==I.getResponse}function wn(I){return void 0!==I&&void 0!==I.enterprise}class en{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Wn(I){return new Promise((d,g)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=d,C.onerror=z=>{const ee=we("internal-error");ee.customData=z,g(ee)},C.type="text/javascript",C.charset="UTF-8",function Nn(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(C)})}function Or(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Bs="NO_RECAPTCHA";class $i{constructor(d){this.type="recaptcha-enterprise",this.auth=Qn(d)}verify(d="verify",g=!1){var C=this;return(0,p.Z)(function*(){function ee(){return ee=(0,p.Z)(function*(ut){if(!g){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var $t=(0,p.Z)(function*(cn,En){St(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gn=>{if(void 0!==Gn.recaptchaKey){const Qs=new en(Gn);return null==ut.tenantId?ut._agentRecaptchaConfig=Qs:ut._tenantRecaptchaConfigs[ut.tenantId]=Qs,cn(Qs.siteKey)}En(new Error("recaptcha Enterprise site key undefined"))}).catch(Gn=>{En(Gn)})});return function(cn,En){return $t.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Ne(ut,$t,cn){const En=window.grecaptcha;wn(En)?En.enterprise.ready(()=>{En.enterprise.execute(ut,{action:d}).then(Gn=>{$t(Gn)}).catch(()=>{$t(Bs)})}):cn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,$t)=>{(function z(ut){return ee.apply(this,arguments)})(C.auth).then(cn=>{if(!g&&wn(window.grecaptcha))Ne(cn,ut,$t);else{if(typeof window>"u")return void $t(new Error("RecaptchaVerifier is only supported in browser"));Wn("https://www.google.com/recaptcha/enterprise.js?render="+cn).then(()=>{Ne(cn,ut,$t)}).catch(En=>{$t(En)})}}).catch(cn=>{$t(cn)})})})()}}function tr(I,d,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(I,d,g,C=!1){const z=new $i(I);let ee;try{ee=yield z.verify(g)}catch{ee=yield z.verify(g,!0)}const Ne=Object.assign({},d);return Object.assign(Ne,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Ne,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ne,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ne})).apply(this,arguments)}class Cn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const C=ee=>new Promise((Ne,ut)=>{try{Ne(d(ee))}catch($t){ut($t)}});C.onAbort=g,this.queue.push(C);const z=this.queue.length-1;return()=>{this.queue[z]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const C=[];try{for(const z of g.queue)yield z(d),z.onAbort&&C.push(z.onAbort)}catch(z){C.reverse();for(const ee of C)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:z?.message})}})()}}class vr{constructor(d,g,C,z){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=z,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=z.sdkClientVersion}_initializeWithPersistence(d,g){var C=this;return g&&(this._popupRedirectResolver=re(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var z,ee;if(!C._deleted&&(C.persistenceManager=yield se.create(C,d),!C._deleted)){if(null!==(z=C._popupRedirectResolver)&&void 0!==z&&z._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var C;const z=yield g.assertedPersistence.getCurrentUser();let ee=z,Ne=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,$t=ee?._redirectEventId,cn=yield g.tryRedirectSignIn(d);(!ut||ut===$t)&&cn?.user&&(ee=cn.user,Ne=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Ne)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(ut){ee=z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return Le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield yr(d)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function rt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const C=d?(0,B.m9)(d):null;return C&&Le(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(d,g=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return d&&Le(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(re(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield St(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new en(g);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new $i(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new B.LL("auth","Firebase",d())}onAuthStateChanged(d,g,C){return this.registerStateListener(this.authStateSubscription,d,g,C)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,C){return this.registerStateListener(this.idTokenSubscription,d,g,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var C=this;return(0,p.Z)(function*(){const z=yield C.getOrInitRedirectPersistenceManager(g);return null===d?z.removeCurrentUser():z.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const C=d&&re(d)||g._popupRedirectResolver;Le(C,g,"argument-error"),g.redirectPersistenceManager=yield se.create(g,[re(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var C,z;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===d?g._currentUser:(null===(z=g.redirectUser)||void 0===z?void 0:z._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,C,z){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g),Ne=this._isInitialized?Promise.resolve():this._initializationPromise;return Le(Ne,this,"internal-error"),Ne.then(()=>ee(this.currentUser)),"function"==typeof g?d.addObserver(g,C,z):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=er(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const z=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();z&&(C["X-Firebase-Client"]=z);const ee=yield d._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const C=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function Ct(I,...d){gt.logLevel<=Ee.in.WARN&&gt.warn(`Auth (${q.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Qn(I){return(0,B.m9)(I)}class Ji{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fr(I,d,g){const C=Qn(I);Le(C._canInitEmulator,C,"emulator-config-failed"),Le(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const z=!!g?.disableWarnings,ee=ke(d),{host:Ne,port:ut}=function De(I){const d=ke(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(C);if(z){const ee=z[1];return{host:ee,port:Me(C.substr(ee.length+1))}}{const[ee,Ne]=C.split(":");return{host:ee,port:Me(Ne)}}}(d);C.config.emulator={url:`${ee}//${Ne}${null===ut?"":`:${ut}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ne,port:ut,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function mt(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ke(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function Me(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class xt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Nt("not implemented")}_getIdTokenResponse(d){return Nt("not implemented")}_linkToIdToken(d,g){return Nt("not implemented")}_getReauthenticationResolver(d){return Nt("not implemented")}}function yn(I,d){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:resetPassword",be(I,d))})).apply(this,arguments)}function vn(I,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function $r(){return($r=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:update",be(I,d))})).apply(this,arguments)}function Zr(I,d){return si.apply(this,arguments)}function si(){return(si=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPassword",be(I,d))})).apply(this,arguments)}function Ir(I,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:sendOobCode",be(I,d))})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Hi(I,d){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Zi(I,d){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(I,d){return Ir(I,d)})).apply(this,arguments)}function $s(){return($s=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",be(I,d))})).apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithEmailLink",be(I,d))})).apply(this,arguments)}class dr extends xt{constructor(d,g,C,z=null){super("password",C),this._email=d,this._password=g,this._tenantId=z}static _fromEmailAndPassword(d,g){return new dr(d,g,"password")}static _fromEmailAndCode(d,g,C=null){return new dr(d,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var C;switch(g.signInMethod){case"password":const z={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield tr(d,z,"signInWithPassword");return Zr(d,ee)}return Zr(d,z).catch(function(){var ee=(0,p.Z)(function*(Ne){if("auth/missing-recaptcha-token"===Ne.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield tr(d,z,"signInWithPassword");return Zr(d,ut)}return Promise.reject(Ne)});return function(Ne){return ee.apply(this,arguments)}}());case"emailLink":return function es(I,d){return $s.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:je(d,"internal-error")}})()}_linkToIdToken(d,g){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return vn(d,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function js(I,d){return Cs.apply(this,arguments)}(d,{idToken:g,email:C._email,oobCode:C._password});default:je(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function xr(I,d){return ts.apply(this,arguments)}function ts(){return(ts=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithIdp",be(I,d))})).apply(this,arguments)}class ns extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ns(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):je("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:z}=g,ee=(0,Ie._T)(g,["providerId","signInMethod"]);if(!C||!z)return null;const Ne=new ns(C,z);return Ne.idToken=ee.idToken||void 0,Ne.accessToken=ee.accessToken||void 0,Ne.secret=ee.secret,Ne.nonce=ee.nonce,Ne.pendingToken=ee.pendingToken||null,Ne}_getIdTokenResponse(d){return xr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,xr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,xr(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,B.xO)(g)}return d}}function Io(){return(Io=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:sendVerificationCode",be(I,d))})).apply(this,arguments)}function bs(){return(bs=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,d))})).apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(I,d){const g=yield jt(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,d));if(g.temporaryProof)throw gr(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $o={USER_NOT_FOUND:"user-not-found"};function To(){return(To=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithPhoneNumber",be(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),$o)})).apply(this,arguments)}class ss extends xt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new ss({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new ss({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function rs(I,d){return bs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function ia(I,d){return Do.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function is(I,d){return To.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:C,verificationCode:z}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:C,code:z}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:C,phoneNumber:z,temporaryProof:ee}=d;return C||g||z||ee?new ss({verificationId:g,verificationCode:C,phoneNumber:z,temporaryProof:ee}):null}}class ms{constructor(d){var g,C,z,ee,Ne,ut;const $t=(0,B.zd)((0,B.pd)(d)),cn=null!==(g=$t.apiKey)&&void 0!==g?g:null,En=null!==(C=$t.oobCode)&&void 0!==C?C:null,Gn=function os(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=$t.mode)&&void 0!==z?z:null);Le(cn&&En&&Gn,"argument-error"),this.apiKey=cn,this.operation=Gn,this.code=En,this.continueUrl=null!==(ee=$t.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Ne=$t.languageCode)&&void 0!==Ne?Ne:null,this.tenantId=null!==(ut=$t.tenantId)&&void 0!==ut?ut:null}static parseLink(d){const g=function Co(I){const d=(0,B.zd)((0,B.pd)(I)).link,g=d?(0,B.zd)((0,B.pd)(d)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(I)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||g||d||I}(d);try{return new ms(g)}catch{return null}}}let jo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,C){return dr._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const z=ms.parseLink(C);return Le(z,"argument-error"),dr._fromEmailAndCode(g,z.code,z.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class zi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class no extends zi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Oi extends no{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return Le("providerId"in g&&"signInMethod"in g,"argument-error"),ns._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Le(d.idToken||d.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Oi.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Oi.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:z,pendingToken:ee,nonce:Ne,providerId:ut}=d;if(!C&&!z&&!g&&!ee||!ut)return null;try{return new Oi(ut)._credential({idToken:g,accessToken:C,nonce:Ne,pendingToken:ee})}catch{return null}}}let va=(()=>{class I extends no{constructor(){super("facebook.com")}static credential(g){return ns._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ro=(()=>{class I extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return ns._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:z}=g;if(!C&&!z)return null;try{return I.credential(C,z)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),io=(()=>{class I extends no{constructor(){super("github.com")}static credential(g){return ns._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class bi extends xt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return xr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,xr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,xr(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:z,pendingToken:ee}=g;return C&&z&&ee&&C===z?new bi(C,ee):null}static _create(d,g){return new bi(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class So extends zi{constructor(d){Le(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return So.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return So.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=bi.fromJSON(d);return Le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:C}=d;if(!g||!C)return null;try{return bi._create(C,g)}catch{return null}}}let Hs=(()=>{class I extends no{constructor(){super("twitter.com")}static credential(g,C){return ns._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:z}=g;if(!C||!z)return null;try{return I.credential(C,z)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function as(I,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signUp",be(I,d))})).apply(this,arguments)}class Nr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,C,z=!1){return(0,p.Z)(function*(){const ee=yield Mr._fromIdTokenResponse(d,C,z),Ne=oi(C);return new Nr({user:ee,providerId:Ne,_tokenResponse:C,operationType:g})})()}static _forOperation(d,g,C){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const z=oi(C);return new Nr({user:d,providerId:z,_tokenResponse:C,operationType:g})})()}}function oi(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Ss(I){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,p.Z)(function*(I){var d;const g=Qn(I);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new Nr({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield as(g,{returnSecureToken:!0}),z=yield Nr._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(z.user),z})).apply(this,arguments)}class us extends B.ZR{constructor(d,g,C,z){var ee;super(g.code,g.message),this.operationType=C,this.user=z,Object.setPrototypeOf(this,us.prototype),this.customData={appName:d.name,tenantId:null!==(ee=d.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,g,C,z){return new us(d,g,C,z)}}function ls(I,d,g,C){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?us._fromErrorAndOperation(I,ee,d,C):ee})}function di(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function Ho(I,d){return Ao.apply(this,arguments)}function Ao(){return Ao=(0,p.Z)(function*(I,d){const g=(0,B.m9)(I);yield vs(!0,g,d);const{providerUserInfo:C}=yield function Hr(I,d){return ln.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),z=di(C||[]);return g.providerData=g.providerData.filter(ee=>z.has(ee.providerId)),z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Ao.apply(this,arguments)}function hi(I,d){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(I,d,g=!1){const C=yield gn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return Nr._forOperation(I,"link",C)})).apply(this,arguments)}function vs(I,d,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(I,d,g){yield yr(d);const z=!1===I?"provider-already-linked":"no-such-provider";Le(di(d.providerData).has(g)===I,d.auth,z)})).apply(this,arguments)}function mo(I,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(I,d,g=!1){const{auth:C}=I,z="reauthenticate";try{const ee=yield gn(I,ls(C,z,d,I),g);Le(ee.idToken,C,"internal-error");const Ne=vi(ee.idToken);Le(Ne,C,"internal-error");const{sub:ut}=Ne;return Le(I.uid===ut,C,"user-mismatch"),Nr._forOperation(I,z,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&je(C,"user-mismatch"),ee}})).apply(this,arguments)}function ti(I,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(I,d,g=!1){const C="signIn",z=yield ls(I,C,d),ee=yield Nr._fromIdTokenResponse(I,C,z);return g||(yield I._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function xn(I,d){return oa.apply(this,arguments)}function oa(){return(oa=(0,p.Z)(function*(I,d){return ti(Qn(I),d)})).apply(this,arguments)}function zo(I,d){return zs.apply(this,arguments)}function zs(){return(zs=(0,p.Z)(function*(I,d){const g=(0,B.m9)(I);return yield vs(!1,g,d.providerId),hi(g,d)})).apply(this,arguments)}function Mo(I,d){return yo.apply(this,arguments)}function yo(){return(yo=(0,p.Z)(function*(I,d){return mo((0,B.m9)(I),d)})).apply(this,arguments)}function oo(){return(oo=(0,p.Z)(function*(I,d){return jt(I,"POST","/v1/accounts:signInWithCustomToken",be(I,d))})).apply(this,arguments)}function _a(I,d){return x.apply(this,arguments)}function x(){return x=(0,p.Z)(function*(I,d){const g=Qn(I),C=yield function so(I,d){return oo.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),z=yield Nr._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(z.user),z}),x.apply(this,arguments)}class N{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?k._fromServerResponse(d,g):"totpInfo"in g?X._fromServerResponse(d,g):je(d,"internal-error")}}class k extends N{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new k(g)}}class X extends N{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new X(g)}}function ze(I,d,g){var C;Le((null===(C=g.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),Le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Le(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Le(g.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function pn(I,d,g){return Cr.apply(this,arguments)}function Cr(){return Cr=(0,p.Z)(function*(I,d,g){var C;const z=Qn(I),ee={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=z._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Ne=yield tr(z,ee,"getOobCode",!0);g&&ze(z,Ne,g),yield Hi(z,Ne)}else g&&ze(z,ee,g),yield Hi(z,ee).catch(function(){var Ne=(0,p.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $t=yield tr(z,ee,"getOobCode",!0);g&&ze(z,$t,g),yield Hi(z,$t)}});return function(ut){return Ne.apply(this,arguments)}}())}),Cr.apply(this,arguments)}function Lr(I,d,g){return Li.apply(this,arguments)}function Li(){return(Li=(0,p.Z)(function*(I,d,g){yield yn((0,B.m9)(I),{oobCode:d,newPassword:g})})).apply(this,arguments)}function Gs(I,d){return xo.apply(this,arguments)}function xo(){return xo=(0,p.Z)(function*(I,d){yield function _i(I,d){return $r.apply(this,arguments)}((0,B.m9)(I),{oobCode:d})}),xo.apply(this,arguments)}function pi(I,d){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(I,d){const g=(0,B.m9)(I),C=yield yn(g,{oobCode:d}),z=C.requestType;switch(Le(z,g,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Le(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Le(C.mfaInfo,g,"internal-error");default:Le(C.email,g,"internal-error")}let ee=null;return C.mfaInfo&&(ee=N._fromServerResponse(Qn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:z}})).apply(this,arguments)}function Wr(I,d){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(I,d){const{data:g}=yield pi((0,B.m9)(I),d);return g.email})).apply(this,arguments)}function ao(I,d,g){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,p.Z)(function*(I,d,g){var C;const z=Qn(I),ee={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Ne;if(null!==(C=z._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const cn=yield tr(z,ee,"signUpPassword");Ne=as(z,cn)}else Ne=as(z,ee).catch(function(){var cn=(0,p.Z)(function*(En){if("auth/missing-recaptcha-token"===En.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Gn=yield tr(z,ee,"signUpPassword");return as(z,Gn)}return Promise.reject(En)});return function(En){return cn.apply(this,arguments)}}());const ut=yield Ne.catch(cn=>Promise.reject(cn)),$t=yield Nr._fromIdTokenResponse(z,"signIn",ut);return yield z._updateCurrentUser($t.user),$t}),Dr.apply(this,arguments)}function cs(I,d,g){return xn((0,B.m9)(I),jo.credential(d,g))}function Ro(I,d,g){return ds.apply(this,arguments)}function ds(){return ds=(0,p.Z)(function*(I,d,g){var C;const z=Qn(I),ee={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Ne(ut,$t){Le($t.handleCodeInApp,z,"argument-error"),$t&&ze(z,ut,$t)}if(null!==(C=z._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ut=yield tr(z,ee,"getOobCode",!0);Ne(ut,g),yield Zi(z,ut)}else Ne(ee,g),yield Zi(z,ee).catch(function(){var ut=(0,p.Z)(function*($t){if("auth/missing-recaptcha-token"!==$t.code)return Promise.reject($t);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const cn=yield tr(z,ee,"getOobCode",!0);Ne(cn,g),yield Zi(z,cn)}});return function($t){return ut.apply(this,arguments)}}())}),ds.apply(this,arguments)}function ka(I,d){return"EMAIL_SIGNIN"===ms.parseLink(d)?.operation}function ou(I,d,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I),z=jo.credentialWithLink(d,g||zt());return Le(z._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),xn(C,z)})).apply(this,arguments)}function wa(){return(wa=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:createAuthUri",be(I,d))})).apply(this,arguments)}function Ia(I,d){return uo.apply(this,arguments)}function uo(){return uo=(0,p.Z)(function*(I,d){const C={identifier:d,continueUri:_n()?zt():"http://localhost"},{signinMethods:z}=yield function Ea(I,d){return wa.apply(this,arguments)}((0,B.m9)(I),C);return z||[]}),uo.apply(this,arguments)}function As(I,d){return Es.apply(this,arguments)}function Es(){return Es=(0,p.Z)(function*(I,d){const g=(0,B.m9)(I),z={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&ze(g.auth,z,d);const{email:ee}=yield function wo(I,d){return eo.apply(this,arguments)}(g.auth,z);ee!==I.email&&(yield I.reload())}),Es.apply(this,arguments)}function aa(I,d,g){return Go.apply(this,arguments)}function Go(){return Go=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};g&&ze(C.auth,ee,g);const{email:Ne}=yield function Uo(I,d){return Ci.apply(this,arguments)}(C.auth,ee);Ne!==I.email&&(yield I.reload())}),Go.apply(this,arguments)}function $(){return($=(0,p.Z)(function*(I,d){return Ze(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function _(I,d){return w.apply(this,arguments)}function w(){return w=(0,p.Z)(function*(I,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const C=(0,B.m9)(I),ee={idToken:yield C.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Ne=yield gn(C,function vo(I,d){return $.apply(this,arguments)}(C.auth,ee));C.displayName=Ne.displayName||null,C.photoURL=Ne.photoUrl||null;const ut=C.providerData.find(({providerId:$t})=>"password"===$t);ut&&(ut.displayName=C.displayName,ut.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ne)}),w.apply(this,arguments)}function F(I,d){return te((0,B.m9)(I),d,null)}function K(I,d){return te((0,B.m9)(I),null,d)}function te(I,d,g){return ce.apply(this,arguments)}function ce(){return(ce=(0,p.Z)(function*(I,d,g){const{auth:C}=I,ee={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(ee.email=d),g&&(ee.password=g);const Ne=yield gn(I,vn(C,ee));yield I._updateTokensIfNecessary(Ne,!0)})).apply(this,arguments)}class We{constructor(d,g,C={}){this.isNewUser=d,this.providerId=g,this.profile=C}}class vt extends We{constructor(d,g,C,z){super(d,g,C),this.username=z}}class Jt extends We{constructor(d,g){super(d,"facebook.com",g)}}class un extends vt{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ur extends We{constructor(d,g){super(d,"google.com",g)}}class Un extends vt{constructor(d,g,C){super(d,"twitter.com",g,C)}}function In(I){const{user:d,_tokenResponse:g}=I;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function _e(I){var d,g;if(!I)return null;const{providerId:C}=I,z=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ee=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Ne=null===(g=null===(d=vi(I.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ne)return new We(ee,"anonymous"!==Ne&&"custom"!==Ne?Ne:null)}if(!C)return null;switch(C){case"facebook.com":return new Jt(ee,z);case"github.com":return new un(ee,z);case"google.com":return new ur(ee,z);case"twitter.com":return new Un(ee,z,I.screenName||null);case"custom":case"anonymous":return new We(ee,null);default:return new We(ee,C,z)}}(g)}class Vn{constructor(d,g,C){this.type=d,this.credential=g,this.auth=C}static _fromIdtoken(d,g){return new Vn("enroll",d,g)}static _fromMfaPendingCredential(d){return new Vn("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,C;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Vn._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return Vn._fromIdtoken(d.multiFactorSession.idToken)}return null}}class nr{constructor(d,g,C){this.session=d,this.hints=g,this.signInResolver=C}static _fromError(d,g){const C=Qn(d),z=g.customData._serverResponse,ee=(z.mfaInfo||[]).map(ut=>N._fromServerResponse(C,ut));Le(z.mfaPendingCredential,C,"internal-error");const Ne=Vn._fromMfaPendingCredential(z.mfaPendingCredential);return new nr(Ne,ee,function(){var ut=(0,p.Z)(function*($t){const cn=yield $t._process(C,Ne);delete z.mfaInfo,delete z.mfaPendingCredential;const En=Object.assign(Object.assign({},z),{idToken:cn.idToken,refreshToken:cn.refreshToken});switch(g.operationType){case"signIn":const Gn=yield Nr._fromIdTokenResponse(C,g.operationType,En);return yield C._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return Le(g.user,C,"internal-error"),Nr._forOperation(g.user,g.operationType,En);default:je(C,"internal-error")}});return function($t){return ut.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function zn(I,d){var g;const C=(0,B.m9)(I),z=d;return Le(d.customData.operationType,C,"argument-error"),Le(null===(g=z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),nr._fromError(C,z)}class mn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>N._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new mn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return Vn._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var C=this;return(0,p.Z)(function*(){const z=d,ee=yield C.getSession(),Ne=yield gn(C.user,z._process(C.user.auth,ee,g));return yield C.user._updateTokensIfNecessary(Ne),C.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const C="string"==typeof d?d:d.uid,z=yield g.user.getIdToken();try{const ee=yield gn(g.user,function Gt(I,d){return Ze(I,"POST","/v2/accounts/mfaEnrollment:withdraw",be(I,d))}(g.user.auth,{idToken:z,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ne})=>Ne!==C),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const dn=new WeakMap;function Fn(I){const d=(0,B.m9)(I);return dn.has(d)||dn.set(d,mn._fromUser(d)),dn.get(d)}const hr="__sak";class gi{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(hr,"1"),this.storage.removeItem(hr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const Da=(()=>{class I extends gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wi(){const I=(0,B.z$)();return He(I)||fe(I)}()&&function sr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ln(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const z=this.storage.getItem(C),ee=this.localCache[C];z!==ee&&g(C,ee,z)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((ut,$t,cn)=>{this.notifyListeners(ut,cn)});const z=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(z);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem(z,g.newValue):this.storage.removeItem(z);else if(this.localCache[z]===g.newValue&&!C)return}const ee=()=>{const ut=this.storage.getItem(z);!C&&this.localCache[z]===ut||this.notifyListeners(z,ut)},Ne=this.storage.getItem(z);!function an(){return(0,B.w1)()&&10===document.documentMode}()||Ne===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const z=this.listeners[g];if(z)for(const ee of Array.from(z))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var z=()=>super._set,ee=this;return(0,p.Z)(function*(){yield z().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,z=this;return(0,p.Z)(function*(){const ee=yield C().call(z,g);return z.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,z=this;return(0,p.Z)(function*(){yield C().call(z,g),delete z.localCache[g]})()}}return I.type="LOCAL",I})(),mi=(()=>{class I extends gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return I.type="SESSION",I})();let ua=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const z=new I(g);return this.receivers.push(z),z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,p.Z)(function*(){const z=g,{eventId:ee,eventType:Ne,data:ut}=z.data,$t=C.handlersMap[Ne];if(!$t?.size)return;z.ports[0].postMessage({status:"ack",eventId:ee,eventType:Ne});const cn=Array.from($t).map(function(){var Gn=(0,p.Z)(function*(Qs){return Qs(z.origin,ut)});return function(Qs){return Gn.apply(this,arguments)}}()),En=yield function Ms(I){return Promise.all(I.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return d.apply(this,arguments)}}()))}(cn);z.ports[0].postMessage({status:"done",eventId:ee,eventType:Ne,response:En})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xs(I="",d=10){let g="";for(let C=0;C<d;C++)g+=Math.floor(10*Math.random());return I+g}class Gu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,C=50){var z=this;return(0,p.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Ne,ut;return new Promise(($t,cn)=>{const En=xs("",20);ee.port1.start();const Gn=setTimeout(()=>{cn(new Error("unsupported_event"))},C);ut={messageChannel:ee,onMessage(Qs){const _o=Qs;if(_o.data.eventId===En)switch(_o.data.status){case"ack":clearTimeout(Gn),Ne=setTimeout(()=>{cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),$t(_o.data.response);break;default:clearTimeout(Gn),clearTimeout(Ne),cn(new Error("invalid_response"))}}},z.handlers.add(ut),ee.port1.addEventListener("message",ut.onMessage),z.target.postMessage({eventType:d,eventId:En,data:g},[ee.port2])}).finally(()=>{ut&&z.removeMessageHandler(ut)})})()}}function Ri(){return window}function Fa(){return typeof Ri().WorkerGlobalScope<"u"&&"function"==typeof Ri().importScripts}function Ko(){return(Ko=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Vi="firebaseLocalStorageDb",lu=1,ni="firebaseLocalStorage",ri="fbase_key";class Ta{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ca(I,d){return I.transaction([ni],d?"readwrite":"readonly").objectStore(ni)}function Ku(){const I=indexedDB.open(Vi,lu);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(ni,{keyPath:ri})}catch(z){g(z)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(ni)?d(C):(C.close(),yield function Po(){const I=indexedDB.deleteDatabase(Vi);return new Ta(I).toPromise()}(),d(yield Ku()))}))})}function Ws(I,d,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,p.Z)(function*(I,d,g){const C=ca(I,!0).put({[ri]:d,value:g});return new Ta(C).toPromise()})).apply(this,arguments)}function Ya(){return(Ya=(0,p.Z)(function*(I,d){const g=ca(I,!1).get(d),C=yield new Ta(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function ba(I,d){const g=ca(I,!0).delete(d);return new Ta(g).toPromise()}const lo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Ku()),g.db})()}_withRetries(g){var C=this;return(0,p.Z)(function*(){let z=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(z++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Fa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=ua._getInstance(function uu(){return Fa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(z,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(z,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(z,ee){return["keyChanged"]});return function(z,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var C,z;if(g.activeServiceWorker=yield function Wu(){return Ko.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Gu(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==(z=ee[0])&&void 0!==z&&z.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function au(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ku();return yield Ws(g,hr,"1"),yield ba(g,hr),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var z=this;return(0,p.Z)(function*(){return z._withPendingWrite((0,p.Z)(function*(){return yield z._withRetries(ee=>Ws(ee,g,C)),z.localCache[g]=C,z.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,p.Z)(function*(){const z=yield C._withRetries(ee=>function Xr(I,d){return Ya.apply(this,arguments)}(ee,g));return C.localCache[g]=z,z})()}_remove(g){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(z=>ba(z,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const C=yield g._withRetries(Ne=>{const ut=ca(Ne,!1).getAll();return new Ta(ut).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const z=[],ee=new Set;for(const{fbase_key:Ne,value:ut}of C)ee.add(Ne),JSON.stringify(g.localCache[Ne])!==JSON.stringify(ut)&&(g.notifyListeners(Ne,ut),z.push(Ne));for(const Ne of Object.keys(g.localCache))g.localCache[Ne]&&!ee.has(Ne)&&(g.notifyListeners(Ne,null),z.push(Ne));return z})()}notifyListeners(g,C){this.localCache[g]=C;const z=this.listeners[g];if(z)for(const ee of Array.from(z))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),cu=1e12;class Au{constructor(d){this.auth=d,this.counter=cu,this._widgets=new Map}render(d,g){const C=this.counter;return this._widgets.set(C,new Qa(d,this.auth.name,g||{})),this.counter++,C}reset(d){var g;const C=d||cu;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(d){var g;return(null===(g=this._widgets.get(d||cu))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var C;return null===(C=g._widgets.get(d||cu))||void 0===C||C.execute(),""})()}}class Qa{constructor(d,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof d?document.getElementById(d):d;Le(z,"argument-error",{appName:g}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ja(I){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const du=Or("rcb"),hu=new qe(3e4,6e4);class Va{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Ri().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return Le(function qu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&fn(Ri().grecaptcha)?Promise.resolve(Ri().grecaptcha):new Promise((C,z)=>{const ee=Ri().setTimeout(()=>{z(we(d,"network-request-failed"))},hu.get());Ri()[du]=()=>{Ri().clearTimeout(ee),delete Ri()[du];const ut=Ri().grecaptcha;if(!ut||!fn(ut))return void z(we(d,"internal-error"));const $t=ut.render;ut.render=(cn,En)=>{const Gn=$t(cn,En);return this.counter++,Gn},this.hostLanguage=g,C(ut)},Wn(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:du,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),z(we(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Ri().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gl{load(d){return(0,p.Z)(function*(){return new Au(d)})()}clearedOneInstance(){}}const Wi="recaptcha",fu={theme:"light",type:"image"};class Mu{constructor(d,g=Object.assign({},fu),C){this.parameters=g,this.type=Wi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(C),this.isInvisible="invisible"===this.parameters.size,Le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof d?document.getElementById(d):d;Le(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gl:new Va,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ee=>{const Ne=ut=>{ut&&(d.tokenChangeListeners.delete(Ne),ee(ut))};d.tokenChangeListeners.add(Ne),d.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Le(!this.parameters.sitekey,this.auth,"argument-error"),Le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof d)d(g);else if("string"==typeof d){const C=Ri()[d];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){Le(_n()&&!Fa(),d.auth,"internal-error"),yield function qo(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function at(I){return Be.apply(this,arguments)}(d.auth);Le(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return Le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class co{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=ss._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Zo(I,d,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,p.Z)(function*(I,d,g){const C=Qn(I),z=yield Ba(C,d,(0,B.m9)(g));return new co(z,ee=>xn(C,ee))})).apply(this,arguments)}function Ua(I,d,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I);yield vs(!1,C,"phone");const z=yield Ba(C.auth,d,(0,B.m9)(g));return new co(z,ee=>zo(C,ee))})).apply(this,arguments)}function Sa(I,d,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I),z=yield Ba(C.auth,d,(0,B.m9)(g));return new co(z,ee=>Mo(C,ee))})).apply(this,arguments)}function Ba(I,d,g){return ml.apply(this,arguments)}function ml(){return ml=(0,p.Z)(function*(I,d,g){var C;const z=yield g.verify();try{let ee;if(Le("string"==typeof z,I,"argument-error"),Le(g.type===Wi,I,"argument-error"),ee="string"==typeof d?{phoneNumber:d}:d,"session"in ee){const Ne=ee.session;if("phoneNumber"in ee)return Le("enroll"===Ne.type,I,"internal-error"),(yield function Vr(I,d){return Ze(I,"POST","/v2/accounts/mfaEnrollment:start",be(I,d))}(I,{idToken:Ne.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Le("signin"===Ne.type,I,"internal-error");const ut=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return Le(ut,I,"missing-multi-factor-info"),(yield function Su(I,d){return Ze(I,"POST","/v2/accounts/mfaSignIn:start",be(I,d))}(I,{mfaPendingCredential:Ne.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ne}=yield function Bo(I,d){return Io.apply(this,arguments)}(I,{phoneNumber:ee.phoneNumber,recaptchaToken:z});return Ne}}finally{g._reset()}}),ml.apply(this,arguments)}function Ot(I,d){return ei.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(I,d){yield hi((0,B.m9)(I),d)})).apply(this,arguments)}let Is=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Qn(g)}verifyPhoneNumber(g,C){return Ba(this.auth,g,(0,B.m9)(C))}static credential(g,C){return ss._fromVerification(g,C)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:z}=g;return C&&z?ss._fromTokenResponse(C,z):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function fa(I,d){return d?re(d):(Le(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class y extends xt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return xr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return xr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return xr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function E(I){return ti(I.auth,new y(I),I.bypassAuthState)}function m(I){const{auth:d,user:g}=I;return Le(g,d,"internal-error"),mo(g,new y(I),I.bypassAuthState)}function D(I){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(function*(I){const{auth:d,user:g}=I;return Le(g,d,"internal-error"),hi(g,new y(I),I.bypassAuthState)})).apply(this,arguments)}class V{constructor(d,g,C,z,ee=!1){this.auth=d,this.resolver=C,this.user=z,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(C,z){d.pendingPromise={resolve:C,reject:z};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ee){d.reject(ee)}});return function(C,z){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:z,postBody:ee,tenantId:Ne,error:ut,type:$t}=d;if(ut)return void g.reject(ut);const cn={auth:g.auth,requestUri:C,sessionId:z,tenantId:Ne||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask($t)(cn))}catch(En){g.reject(En)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return D;case"reauthViaPopup":case"reauthViaRedirect":return m;default:je(this.auth,"internal-error")}}resolve(d){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){sn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y=new qe(2e3,1e4);function xe(I,d,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(I,d,g){const C=Qn(I);Dt(I,d,zi);const z=fa(C,g);return new No(C,"signInViaPopup",d,z).executeNotNull()})).apply(this,arguments)}function tn(I,d,g){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I);Dt(C.auth,d,zi);const z=fa(C.auth,g);return new No(C.auth,"reauthViaPopup",d,z,C).executeNotNull()})).apply(this,arguments)}function _r(I,d,g){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I);Dt(C.auth,d,zi);const z=fa(C.auth,g);return new No(C.auth,"linkViaPopup",d,z,C).executeNotNull()})).apply(this,arguments)}let No=(()=>{class I extends V{constructor(g,C,z,ee,Ne){super(g,C,ee,Ne),this.provider=z,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const C=yield g.execute();return Le(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,p.Z)(function*(){sn(1===g.filter.length,"Popup operations only handle one event");const C=xs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(z=>{g.reject(z)}),g.resolver._isIframeWebStorageSupported(g.auth,z=>{z||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,z;this.pollId=null!==(z=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==z&&z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Y.get())};g()}}return I.currentPopupAction=null,I})();const Yo="pendingRedirect",Ds=new Map;class ho extends V{constructor(d,g,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let C=Ds.get(g.auth._key());if(!C){try{const ee=(yield function Xl(I,d){return On.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;C=()=>Promise.resolve(ee)}catch(z){C=()=>Promise.reject(z)}Ds.set(g.auth._key(),C)}return g.bypassAuthState||Ds.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(C,d);if("unknown"!==d.type){if(d.eventId){const z=yield C.auth._redirectUserForId(d.eventId);if(z)return C.user=z,g().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function On(){return(On=(0,p.Z)(function*(I,d){const g=Rr(d),C=Zu(I);if(!(yield C._isAvailable()))return!1;const z="true"===(yield C._get(g));return yield C._remove(g),z})).apply(this,arguments)}function $a(I,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,p.Z)(function*(I,d){return Zu(I)._set(Rr(d),"true")})).apply(this,arguments)}function Di(){Ds.clear()}function bn(I,d){Ds.set(I._key(),d)}function Zu(I){return re(I._redirectPersistence)}function Rr(I){return pt(Yo,I.config.apiKey,I.name)}function Hc(I,d,g){return function Ki(I,d,g){return nn.apply(this,arguments)}(I,d,g)}function nn(){return(nn=(0,p.Z)(function*(I,d,g){const C=Qn(I);Dt(I,d,zi),yield C._initializationPromise;const z=fa(C,g);return yield $a(z,C),z._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function yl(I,d,g){return function ec(I,d,g){return Qo.apply(this,arguments)}(I,d,g)}function Qo(){return(Qo=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I);Dt(C.auth,d,zi),yield C.auth._initializationPromise;const z=fa(C.auth,g);yield $a(z,C.auth);const ee=yield Yu(C);return z._openRedirect(C.auth,d,"reauthViaRedirect",ee)})).apply(this,arguments)}function zc(I,d,g){return function vl(I,d,g){return tc.apply(this,arguments)}(I,d,g)}function tc(){return(tc=(0,p.Z)(function*(I,d,g){const C=(0,B.m9)(I);Dt(C.auth,d,zi),yield C.auth._initializationPromise;const z=fa(C.auth,g);yield vs(!1,C,d.providerId),yield $a(z,C.auth);const ee=yield Yu(C);return z._openRedirect(C.auth,d,"linkViaRedirect",ee)})).apply(this,arguments)}function _l(I,d){return xu.apply(this,arguments)}function xu(){return(xu=(0,p.Z)(function*(I,d){return yield Qn(I)._initializationPromise,nc(I,d,!1)})).apply(this,arguments)}function nc(I,d){return qs.apply(this,arguments)}function qs(){return(qs=(0,p.Z)(function*(I,d,g=!1){const C=Qn(I),z=fa(C,d),Ne=yield new ho(C,z,g).execute();return Ne&&!g&&(delete Ne.user._redirectEventId,yield C._persistUserIfCurrent(Ne.user),yield C._setRedirectUser(null,d)),Ne})).apply(this,arguments)}function Yu(I){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,p.Z)(function*(I){const d=xs(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class Aa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(g=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Qu(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ye(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var C;if(d.error&&!Ye(d)){const z=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(we(this.auth,z))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const C=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eu(d))}saveEventToCache(d){this.cachedEventUids.add(eu(d)),this.lastProcessedEventTime=Date.now()}}function eu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function Ye({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function ko(I){return El.apply(this,arguments)}function El(){return(El=(0,p.Z)(function*(I,d={}){return Ze(I,"GET","/v1/projects",d)})).apply(this,arguments)}const rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pu=/^https?/;function pa(){return(pa=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield ko(I);for(const g of d)try{if(ic(g))return}catch{}je(I,"unauthorized-domain")})).apply(this,arguments)}function ic(I){const d=zt(),{protocol:g,hostname:C}=new URL(d);if(I.startsWith("chrome-extension://")){const Ne=new URL(I);return""===Ne.hostname&&""===C?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Ne.hostname===C}if(!pu.test(g))return!1;if(rc.test(I))return C===I;const z=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(C)}const ja=new qe(3e4,6e4);function wl(){const I=Ri().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let Zs=null;const Ju=new qe(5e3,15e3),Ha="__/auth/iframe",Ps="emulator/auth/iframe",xh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xa(I){const d=I.config;Le(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?lt(d,Ps):`https://${I.config.authDomain}/${Ha}`,C={apiKey:d.apiKey,appName:I.name,v:q.SDK_VERSION},z=sc.get(I.config.apiHost);z&&(C.eid=z);const ee=I._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,B.xO)(C).slice(1)}`}function Pu(){return Pu=(0,p.Z)(function*(I){const d=yield function ga(I){return Zs=Zs||function Ma(I){return new Promise((d,g)=>{var C,z,ee;function Ne(){wl(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{wl(),g(we(I,"network-request-failed"))},timeout:ja.get()})}if(null!==(z=null===(C=Ri().gapi)||void 0===C?void 0:C.iframes)&&void 0!==z&&z.Iframe)d(gapi.iframes.getContext());else{if(null===(ee=Ri().gapi)||void 0===ee||!ee.load){const ut=Or("iframefcb");return Ri()[ut]=()=>{gapi.load?Ne():g(we(I,"network-request-failed"))},Wn(`https://apis.google.com/js/api.js?onload=${ut}`).catch($t=>g($t))}Ne()}}).catch(d=>{throw Zs=null,d})}(I),Zs}(I),g=Ri().gapi;return Le(g,I,"internal-error"),d.open({where:document.body,url:xa(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xh,dontclear:!0},C=>new Promise(function(){var z=(0,p.Z)(function*(ee,Ne){yield C.restyle({setHideOnLeave:!1});const ut=we(I,"network-request-failed"),$t=Ri().setTimeout(()=>{Ne(ut)},Ju.get());function cn(){Ri().clearTimeout($t),ee(C)}C.ping(cn).then(cn,()=>{Ne(ut)})});return function(ee,Ne){return z.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R=500,W=600,oe="_blank",Ce="http://localhost";class Fe{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zt="__/auth/handler",Dn="emulator/auth/handler",Kn=encodeURIComponent("fac");function qn(I,d,g,C,z,ee){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(I,d,g,C,z,ee){Le(I.config.authDomain,I,"auth-domain-config-required"),Le(I.config.apiKey,I,"invalid-api-key");const Ne={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:C,v:q.SDK_VERSION,eventId:z};if(d instanceof zi){d.setDefaultLanguage(I.languageCode),Ne.providerId=d.providerId||"",(0,B.xb)(d.getCustomParameters())||(Ne.customParameters=JSON.stringify(d.getCustomParameters()));for(const[En,Gn]of Object.entries(ee||{}))Ne[En]=Gn}if(d instanceof no){const En=d.getScopes().filter(Gn=>""!==Gn);En.length>0&&(Ne.scopes=En.join(","))}I.tenantId&&(Ne.tid=I.tenantId);const ut=Ne;for(const En of Object.keys(ut))void 0===ut[En]&&delete ut[En];const $t=yield I._getAppCheckToken(),cn=$t?`#${Kn}=${encodeURIComponent($t)}`:"";return`${function Os({config:I}){return I.emulator?lt(I,Dn):`https://${I.authDomain}/${Zt}`}(I)}?${(0,B.xO)(ut).slice(1)}${cn}`})).apply(this,arguments)}const gu="webStorageSupport",mu=class ac{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mi,this._completeRedirectFn=nc,this._overrideRedirectResult=bn}_openPopup(d,g,C,z){var ee=this;return(0,p.Z)(function*(){var Ne;sn(null===(Ne=ee.eventManagers[d._key()])||void 0===Ne?void 0:Ne.manager,"_initialize() not called before _openPopup()");const ut=yield qn(d,g,C,zt(),z);return function ht(I,d,g,C=R,z=W){const ee=Math.max((window.screen.availHeight-z)/2,0).toString(),Ne=Math.max((window.screen.availWidth-C)/2,0).toString();let ut="";const $t=Object.assign(Object.assign({},T),{width:C.toString(),height:z.toString(),top:ee,left:Ne}),cn=(0,B.z$)().toLowerCase();g&&(ut=Oe(cn)?oe:g),pe(cn)&&(d=d||Ce,$t.scrollbars="yes");const En=Object.entries($t).reduce((Qs,[_o,ma])=>`${Qs}${_o}=${ma},`,"");if(function Pt(I=(0,B.z$)()){var d;return fe(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(cn)&&"_self"!==ut)return function on(I,d){const g=document.createElement("a");g.href=I,g.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(d||"",ut),new Fe(null);const Gn=window.open(d||"",ut,En);Le(Gn,I,"popup-blocked");try{Gn.focus()}catch{}return new Fe(Gn)}(d,ut,xs())})()}_openRedirect(d,g,C,z){var ee=this;return(0,p.Z)(function*(){return yield ee._originValidation(d),function la(I){Ri().location.href=I}(yield qn(d,g,C,zt(),z)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:z,promise:ee}=this.eventManagers[g];return z?Promise.resolve(z):(sn(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(d);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const C=yield function oc(I){return Pu.apply(this,arguments)}(d),z=new Aa(d);return C.register("authEvent",ee=>(Le(ee?.authEvent,d,"invalid-auth-event"),{status:z.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:z},g.iframes[d._key()]=C,z})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(gu,{type:gu},z=>{var ee;const Ne=null===(ee=z?.[0])||void 0===ee?void 0:ee[gu];void 0!==Ne&&g(!!Ne),je(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Rd(I){return pa.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ln()||He()||fe()}};class Fo{constructor(d){this.factorId=d}_process(d,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,C);case"signin":return this._finalizeSignIn(d,g.credential);default:return Nt("unexpected MultiFactorSessionType")}}}class Lo extends Fo{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Lo(d)}_finalizeEnroll(d,g,C){return function ar(I,d){return Ze(I,"POST","/v2/accounts/mfaEnrollment:finalize",be(I,d))}(d,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function da(I,d){return Ze(I,"POST","/v2/accounts/mfaSignIn:finalize",be(I,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let uc=(()=>{class I{constructor(){}static assertion(g){return Lo._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var za="@firebase/auth";class ii{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,B.Pz)("authIdTokenMaxAge"),function Ys(I){(0,q._registerComponent)(new ve.wA("auth",(d,{options:g})=>{const C=d.getProvider("app").getImmediate(),z=d.getProvider("heartbeat"),ee=d.getProvider("app-check-internal"),{apiKey:Ne,authDomain:ut}=C.options;Le(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:C.name}),Le(!ut?.includes(":"),"argument-error",{appName:C.name});const $t={apiKey:Ne,authDomain:ut,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:er(I)},cn=new vr(C,z,ee,$t);return function gs(I,d){const g=d?.persistence||[],C=(Array.isArray(g)?g:[g]).map(re);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(C,d?.popupRedirectResolver)}(cn,g),cn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,C)=>{d.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new ve.wA("auth-internal",d=>{const g=Qn(d.getProvider("auth").getImmediate());return new ii(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(za,"0.23.1",function Il(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,q.registerVersion)(za,"0.23.1","esm2017")}("Browser")},2090:(Xt,Xe,H)=>{H.d(Xe,{$s:()=>re,BH:()=>et,L:()=>Ve,LL:()=>ye,P0:()=>bt,Pz:()=>we,Sg:()=>Dt,UG:()=>Nt,US:()=>ve,ZB:()=>Se,ZR:()=>Ze,aH:()=>je,b$:()=>_n,eu:()=>ct,hl:()=>wt,jU:()=>sn,m9:()=>pt,ne:()=>gn,pd:()=>vi,r3:()=>Hr,ru:()=>zt,tV:()=>de,uI:()=>Le,vZ:()=>Ft,w1:()=>$e,xO:()=>ir,xb:()=>zr,z$:()=>ot,zI:()=>kt,zd:()=>qr});const Ie=function(se){const ie=[];let pe=0;for(let He=0;He<se.length;He++){let Oe=se.charCodeAt(He);Oe<128?ie[pe++]=Oe:Oe<2048?(ie[pe++]=Oe>>6|192,ie[pe++]=63&Oe|128):55296==(64512&Oe)&&He+1<se.length&&56320==(64512&se.charCodeAt(He+1))?(Oe=65536+((1023&Oe)<<10)+(1023&se.charCodeAt(++He)),ie[pe++]=Oe>>18|240,ie[pe++]=Oe>>12&63|128,ie[pe++]=Oe>>6&63|128,ie[pe++]=63&Oe|128):(ie[pe++]=Oe>>12|224,ie[pe++]=Oe>>6&63|128,ie[pe++]=63&Oe|128)}return ie},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,ie){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=ie?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let Oe=0;Oe<se.length;Oe+=3){const Mt=se[Oe],me=Oe+1<se.length,le=me?se[Oe+1]:0,ne=Oe+2<se.length,fe=ne?se[Oe+2]:0;let an=(15&le)<<2|fe>>6,Ln=63&fe;ne||(Ln=64,me||(an=64)),He.push(pe[Mt>>2],pe[(3&Mt)<<4|le>>4],pe[an],pe[Ln])}return He.join("")},encodeString(se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?btoa(se):this.encodeByteArray(Ie(se),ie)},decodeString(se,ie){return this.HAS_NATIVE_SUPPORT&&!ie?atob(se):function(se){const ie=[];let pe=0,He=0;for(;pe<se.length;){const Oe=se[pe++];if(Oe<128)ie[He++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const Mt=se[pe++];ie[He++]=String.fromCharCode((31&Oe)<<6|63&Mt)}else if(Oe>239&&Oe<365){const ne=((7&Oe)<<18|(63&se[pe++])<<12|(63&se[pe++])<<6|63&se[pe++])-65536;ie[He++]=String.fromCharCode(55296+(ne>>10)),ie[He++]=String.fromCharCode(56320+(1023&ne))}else{const Mt=se[pe++],me=se[pe++];ie[He++]=String.fromCharCode((15&Oe)<<12|(63&Mt)<<6|63&me)}}return ie.join("")}(this.decodeStringToByteArray(se,ie))},decodeStringToByteArray(se,ie){this.init_();const pe=ie?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let Oe=0;Oe<se.length;){const Mt=pe[se.charAt(Oe++)],le=Oe<se.length?pe[se.charAt(Oe)]:0;++Oe;const fe=Oe<se.length?pe[se.charAt(Oe)]:64;++Oe;const Pt=Oe<se.length?pe[se.charAt(Oe)]:64;if(++Oe,null==Mt||null==le||null==fe||null==Pt)throw new Re;He.push(Mt<<2|le>>4),64!==fe&&(He.push(le<<4&240|fe>>2),64!==Pt&&He.push(fe<<6&192|Pt))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ve=function(se){return function(se){const ie=Ie(se);return ve.encodeByteArray(ie,!0)}(se).replace(/\./g,"")},de=function(se){try{return ve.decodeString(se,!0)}catch(ie){console.error("base64Decode failed: ",ie)}return null};function Se(se,ie){if(!(ie instanceof Object))return ie;switch(ie.constructor){case Date:return new Date(ie.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return ie}for(const pe in ie)!ie.hasOwnProperty(pe)||!ft(pe)||(se[pe]=Se(se[pe],ie[pe]));return se}function ft(se){return"__proto__"!==se}const gt=()=>{try{return function dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ie=se&&de(se[1]);return ie&&JSON.parse(ie)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},bt=se=>{const ie=(se=>{var ie,pe;return null===(pe=null===(ie=gt())||void 0===ie?void 0:ie.emulatorHosts)||void 0===pe?void 0:pe[se]})(se);if(!ie)return;const pe=ie.lastIndexOf(":");if(pe<=0||pe+1===ie.length)throw new Error(`Invalid host ${ie} with no separate hostname and port!`);const He=parseInt(ie.substring(pe+1),10);return"["===ie[0]?[ie.substring(1,pe-1),He]:[ie.substring(0,pe),He]},je=()=>{var se;return null===(se=gt())||void 0===se?void 0:se.config},we=se=>{var ie;return null===(ie=gt())||void 0===ie?void 0:ie[`_${se}`]};class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ie,pe)=>{this.resolve=ie,this.reject=pe})}wrapCallback(ie){return(pe,He)=>{pe?this.reject(pe):this.resolve(He),"function"==typeof ie&&(this.promise.catch(()=>{}),1===ie.length?ie(pe):ie(pe,He))}}}function Dt(se,ie){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=ie||"demo-project",Oe=se.iat||0,Mt=se.sub||se.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(me)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Le(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Nt(){var se;const ie=null===(se=gt())||void 0===se?void 0:se.forceEnvironment;if("node"===ie)return!0;if("browser"===ie)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sn(){return"object"==typeof self&&self.self===self}function zt(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function $e(){const se=ot();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function ct(){return new Promise((se,ie)=>{try{let pe=!0;const He="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(He);Oe.onsuccess=()=>{Oe.result.close(),pe||self.indexedDB.deleteDatabase(He),se(!0)},Oe.onupgradeneeded=()=>{pe=!1},Oe.onerror=()=>{var Mt;ie((null===(Mt=Oe.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(pe){ie(pe)}})}function kt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ze extends Error{constructor(ie,pe,He){super(pe),this.code=ie,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(ie,pe,He){this.service=ie,this.serviceName=pe,this.errors=He}create(ie,...pe){const He=pe[0]||{},Oe=`${this.service}/${ie}`,Mt=this.errors[ie],me=Mt?function Ue(se,ie){return se.replace(It,(pe,He)=>{const Oe=ie[He];return null!=Oe?String(Oe):`<${He}?>`})}(Mt,He):"Error";return new Ze(Oe,`${this.serviceName}: ${me} (${Oe}).`,He)}}const It=/\{\$([^}]+)}/g;function Hr(se,ie){return Object.prototype.hasOwnProperty.call(se,ie)}function zr(se){for(const ie in se)if(Object.prototype.hasOwnProperty.call(se,ie))return!1;return!0}function Ft(se,ie){if(se===ie)return!0;const pe=Object.keys(se),He=Object.keys(ie);for(const Oe of pe){if(!He.includes(Oe))return!1;const Mt=se[Oe],me=ie[Oe];if(jn(Mt)&&jn(me)){if(!Ft(Mt,me))return!1}else if(Mt!==me)return!1}for(const Oe of He)if(!pe.includes(Oe))return!1;return!0}function jn(se){return null!==se&&"object"==typeof se}function ir(se){const ie=[];for(const[pe,He]of Object.entries(se))Array.isArray(He)?He.forEach(Oe=>{ie.push(encodeURIComponent(pe)+"="+encodeURIComponent(Oe))}):ie.push(encodeURIComponent(pe)+"="+encodeURIComponent(He));return ie.length?"&"+ie.join("&"):""}function qr(se){const ie={};return se.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[Oe,Mt]=He.split("=");ie[decodeURIComponent(Oe)]=decodeURIComponent(Mt)}}),ie}function vi(se){const ie=se.indexOf("?");if(!ie)return"";const pe=se.indexOf("#",ie);return se.substring(ie,pe>0?pe:void 0)}function gn(se,ie){const pe=new Bt(se,ie);return pe.subscribe.bind(pe)}class Bt{constructor(ie,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{ie(this)}).catch(He=>{this.error(He)})}next(ie){this.forEachObserver(pe=>{pe.next(ie)})}error(ie){this.forEachObserver(pe=>{pe.error(ie)}),this.close(ie)}complete(){this.forEachObserver(ie=>{ie.complete()}),this.close()}subscribe(ie,pe,He){let Oe;if(void 0===ie&&void 0===pe&&void 0===He)throw new Error("Missing Observer.");Oe=function Ar(se,ie){if("object"!=typeof se||null===se)return!1;for(const pe of ie)if(pe in se&&"function"==typeof se[pe])return!0;return!1}(ie,["next","error","complete"])?ie:{next:ie,error:pe,complete:He},void 0===Oe.next&&(Oe.next=Ur),void 0===Oe.error&&(Oe.error=Ur),void 0===Oe.complete&&(Oe.complete=Ur);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),Mt}unsubscribeOne(ie){void 0===this.observers||void 0===this.observers[ie]||(delete this.observers[ie],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ie){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,ie)}sendOne(ie,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ie])try{pe(this.observers[ie])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(ie){this.finalized||(this.finalized=!0,void 0!==ie&&(this.finalError=ie),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ur(){}const Rn=1e3,_t=2,Mr=144e5,st=.5;function re(se,ie=Rn,pe=_t){const He=ie*Math.pow(pe,se),Oe=Math.round(st*He*(Math.random()-.5)*2);return Math.min(Mr,He+Oe)}function pt(se){return se&&se._delegate?se._delegate:se}},7677:(Xt,Xe,H)=>{H.d(Xe,{I:()=>Ee});var p=H(4650),B=H(1205);let q=(()=>{class ve{constructor(){}guardarItem(Te,Ve){localStorage.setItem(Te,JSON.stringify(Ve))}obtenerItem(Te){const Ve=localStorage.getItem(Te);return null!=Ve?JSON.parse(Ve):Ve}eliminarItem(Te){localStorage.removeItem(Te)}}return ve.\u0275fac=function(Te){return new(Te||ve)},ve.\u0275prov=p.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();var Ie=H(6647);let Ee=(()=>{class ve{constructor(Te,Ve,de){this.auth=Te,this.localStorage=Ve,this.route=de,this.usuarioEstaLogueado=!1,this.usuarioAceptoTeminos=!1,this.suscripcion=this.auth.authState.subscribe(he=>{he&&(this.usuarioActual=he,this.localStorage.guardarItem("usuario",{id:he.uid,mail:he.email}),this.usuarioEstaLogueado=!0)})}get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuario"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuario")}get getUsuarioActualCompleto(){return this.usuarioActual}registrarUsuario(Te,Ve){return this.auth.createUserWithEmailAndPassword(Te,Ve)}loguearUsuario(Te,Ve){return this.auth.signInWithEmailAndPassword(Te,Ve)}desloguear(){return this.localStorage.eliminarItem("usuario"),this.usuarioEstaLogueado=!1,this.auth.signOut()}ObtenerCambiosDeEstado(){return this.auth.authState}}return ve.\u0275fac=function(Te){return new(Te||ve)(p.LFG(B.zQ),p.LFG(q),p.LFG(Ie.F0))},ve.\u0275prov=p.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})()},4443:(Xt,Xe,H)=>{H.d(Xe,{j:()=>q});var p=H(4650),B=H(7185);let q=(()=>{class Ie{constructor(ve){this.toastr=ve}exito(ve="",Re=""){this.toastr.success(""!=ve?ve:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=Re?Re:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(ve="",Re=""){this.toastr.error(""!=ve?ve:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=Re?Re:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}perdio(ve="",Re="",Te=4e3){this.toastr.error(""!=ve?ve:"HA PERDIDO!!!.",""!=Re?Re:"Ha perdido.",{toastClass:"toast-custom-perdio",timeOut:Te,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position"})}gano(ve="",Re="",Te=5e3){this.toastr.success(""!=ve?ve:"HA GANADO!!!.",""!=Re?Re:"Ha ganado.",{toastClass:"toast-custom-gano",timeOut:Te,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}empate(ve="",Re=""){this.toastr.success(""!=ve?ve:"HA GANADO!!!.",""!=Re?Re:"Ha ganado.",{toastClass:"toast-custom-empate",timeOut:3e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}}return Ie.\u0275fac=function(ve){return new(ve||Ie)(p.LFG(B._W))},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})()},8535:(Xt,Xe,H)=>{var p=H(1481),B=H(6647),q=H(4650),Ie=H(7677);let Ee=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(Ie.I),q.LFG(B.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),ve=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canDeactivate(w,F,K,te){return!0}canLoad(w,F){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(Ie.I),q.LFG(B.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Ve=[{path:"home",loadChildren:()=>Promise.all([H.e(592),H.e(688)]).then(H.bind(H,2688)).then($=>$.HomeModule),canActivate:[ve]},{path:"",loadChildren:()=>Promise.all([H.e(592),H.e(688)]).then(H.bind(H,2688)).then($=>$.HomeModule),canActivate:[ve]},{path:"quien-soy",loadChildren:()=>H.e(937).then(H.bind(H,937)).then($=>$.QuienSoyModule),canActivate:[(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(Ie.I),q.LFG(B.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"registro",loadChildren:()=>Promise.all([H.e(592),H.e(856)]).then(H.bind(H,7856)).then($=>$.RegistroModule),canActivate:[(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(Ie.I),q.LFG(B.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"login",loadChildren:()=>Promise.all([H.e(592),H.e(633)]).then(H.bind(H,7633)).then($=>$.LoginModule),canActivate:[Ee]},{path:"**",loadChildren:()=>H.e(908).then(H.bind(H,4908)).then($=>$.ErrorModule)}];let de=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({imports:[B.Bz.forRoot(Ve),B.Bz]}),$})();var he=H(4443);let Se=(()=>{class ${constructor(w,F,K){this.router=w,this.firestoreLogin=F,this.toast=K,this.usuarioEstaLogueado=!1}ngOnInit(){}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe()}desloguear(){this.firestoreLogin.desloguear(),this.toast.exito("Sesi\xf3n cerrada con exito."," "),this.router.navigate(["../login"])}verificarEstadoDeUsuario(){return this.firestoreLogin.getUsuarioEstaLogueado}}return $.\u0275fac=function(w){return new(w||$)(q.Y36(B.F0),q.Y36(Ie.I),q.Y36(he.j))},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-header"]],decls:15,vars:5,consts:[[1,"navbar","bg-dark","navbar-expand-lg","text-light","m-0","p-1","fw-bold","d-flex","justify-content-between",2,"z-index","10"],[1,"row","w-100","justify-content-between"],[1,"col","col-1","mx-2",2,"display","flex","align-items","center"],["src","assets/logo/logo.jpg",1,"logo"],[1,"col","col-7","mx-5","d-flex","justify-content-end","p-1"],["routerLink","../home",1,"btn","fw-bold","fs-4","btn-warning","mx-2","texto",3,"hidden"],["routerLink","../quien-soy",1,"btn","fw-bold","fs-4","btn-warning","mx-2","texto",3,"hidden"],["routerLink","../login",1,"btn","fw-bold","fs-4","btn-outline-primary","mx-2","texto",3,"hidden"],["routerLink","../registro",1,"btn","fw-bold","fs-4","btn-outline-primary","mx-2","texto",3,"hidden"],[1,"btn","fw-bold","fs-4","btn-outline-danger","mx-2","texto",3,"hidden","click"]],template:function(w,F){1&w&&(q.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),q._UZ(3,"img",3),q.qZA(),q.TgZ(4,"div",4)(5,"button",5),q._uU(6," Home "),q.qZA(),q.TgZ(7,"button",6),q._uU(8," Quien Soy "),q.qZA(),q.TgZ(9,"button",7),q._uU(10," Login "),q.qZA(),q.TgZ(11,"button",8),q._uU(12," Registro "),q.qZA(),q.TgZ(13,"button",9),q.NdJ("click",function(){return F.desloguear()}),q._uU(14," Logout "),q.qZA()()()()),2&w&&(q.xp6(5),q.Q6J("hidden",!F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",!F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",!F.verificarEstadoDeUsuario()))},dependencies:[B.rH],styles:[".logo[_ngcontent-%COMP%]{height:55px;border-radius:30px}@media screen and (max-width: 550px){.texto[_ngcontent-%COMP%]{font-size:16px!important}}"]}),$})(),ft=(()=>{class ${constructor(){this.title="sala-de-juego"}ngOnInit(){}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid","p-0","m-0","fondo-app",2,"min-height","100vh"],[1,"sticky"],[2,"flex-grow","1"]],template:function(w,F){1&w&&(q.TgZ(0,"div",0),q._UZ(1,"app-header",1)(2,"router-outlet",2),q.qZA())},dependencies:[B.lC,Se],styles:[".altura[_ngcontent-%COMP%]{height:100vh}.sticky[_ngcontent-%COMP%]{position:sticky!important;top:0!important;z-index:9999!important}"]}),$})();const dt_firebase={projectId:"sala-de-juegos-6b9fd",appId:"1:280462303398:web:5727a83fec375e25341467",storageBucket:"sala-de-juegos-6b9fd.appspot.com",apiKey:"AIzaSyC6gK6WUsBf6Wom0zU2TrOOtXkWCkxs1qI",authDomain:"sala-de-juegos-6b9fd.firebaseapp.com",messagingSenderId:"280462303398"};var At=H(433),Rt=H(7340);function gt($){return new q.vHH(3e3,!1)}function Ft(){return typeof window<"u"&&typeof window.document<"u"}function jn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Pr($){switch($.length){case 0:return new Rt.ZN;case 1:return $[0];default:return new Rt.ZE($)}}function ir($,_,w,F,K=new Map,te=new Map){const ce=[],_e=[];let We=-1,vt=null;if(F.forEach(Jt=>{const un=Jt.get("offset"),ur=un==We,Un=ur&&vt||new Map;Jt.forEach((In,An)=>{let A=An,U=In;if("offset"!==An)switch(A=_.normalizePropertyName(A,ce),U){case Rt.k1:U=K.get(An);break;case Rt.l3:U=te.get(An);break;default:U=_.normalizeStyleValue(An,A,U,ce)}Un.set(A,U)}),ur||_e.push(Un),vt=Un,We=un}),ce.length)throw function Ue($){return new q.vHH(3502,!1)}();return _e}function qr($,_,w,F){switch(_){case"start":$.onStart(()=>F(w&&vi(w,"start",$)));break;case"done":$.onDone(()=>F(w&&vi(w,"done",$)));break;case"destroy":$.onDestroy(()=>F(w&&vi(w,"destroy",$)))}}function vi($,_,w){const te=Yn($.element,$.triggerName,$.fromState,$.toState,_||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),ce=$._data;return null!=ce&&(te._data=ce),te}function Yn($,_,w,F,K="",te=0,ce){return{element:$,triggerName:_,fromState:w,toState:F,phaseName:K,totalTime:te,disabled:!!ce}}function gn($,_,w){let F=$.get(_);return F||$.set(_,F=w),F}function Bt($){const _=$.indexOf(":");return[$.substring(1,_),$.slice(_+1)]}let Vt=($,_)=>!1,Ar=($,_,w)=>[],Ur=null;function yr($){const _=$.parentNode||$.host;return _===Ur?null:_}(jn()||typeof Element<"u")&&(Ft()?(Ur=(()=>document.documentElement)(),Vt=($,_)=>{for(;_;){if(_===$)return!0;_=yr(_)}return!1}):Vt=($,_)=>$.contains(_),Ar=($,_,w)=>{if(w)return Array.from($.querySelectorAll(_));const F=$.querySelector(_);return F?[F]:[]});let kr=null,lr=!1;const Rn=Vt,_t=Ar;let st=(()=>{class ${validateStyleProperty(w){return function Bi($){kr||(kr=function Ti(){return typeof document<"u"?document.body:null}()||{},lr=!!kr.style&&"WebkitAppearance"in kr.style);let _=!0;return kr.style&&!function Gr($){return"ebkit"==$.substring(1,6)}($)&&(_=$ in kr.style,!_&&lr&&(_="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in kr.style)),_}(w)}matchesElement(w,F){return!1}containsElement(w,F){return Rn(w,F)}getParentElement(w){return yr(w)}query(w,F,K){return _t(w,F,K)}computeStyle(w,F,K){return K||""}animate(w,F,K,te,ce,_e=[],We){return new Rt.ZN(K,te)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})(),re=(()=>{class ${}return $.NOOP=new st,$})();const Ae=1e3,se="ng-enter",ie="ng-leave",pe="ng-trigger",He=".ng-trigger",Oe="ng-animating",Mt=".ng-animating";function me($){if("number"==typeof $)return $;const _=$.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:le(parseFloat(_[1]),_[2])}function le($,_){return"s"===_?$*Ae:$}function ne($,_,w){return $.hasOwnProperty("duration")?$:function fe($,_,w){let K,te=0,ce="";if("string"==typeof $){const _e=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return _.push(gt()),{duration:0,delay:0,easing:""};K=le(parseFloat(_e[1]),_e[2]);const We=_e[3];null!=We&&(te=le(parseFloat(We),_e[4]));const vt=_e[5];vt&&(ce=vt)}else K=$;if(!w){let _e=!1,We=_.length;K<0&&(_.push(function Ct(){return new q.vHH(3100,!1)}()),_e=!0),te<0&&(_.push(function bt(){return new q.vHH(3101,!1)}()),_e=!0),_e&&_.splice(We,0,gt())}return{duration:K,delay:te,easing:ce}}($,_,w)}function Qe($,_={}){return Object.keys($).forEach(w=>{_[w]=$[w]}),_}function Pt($){const _=new Map;return Object.keys($).forEach(w=>{_.set(w,$[w])}),_}function sr($,_=new Map,w){if(w)for(let[F,K]of w)_.set(F,K);for(let[F,K]of $)_.set(F,K);return _}function er($,_,w){return w?_+":"+w+";":""}function at($){let _="";for(let w=0;w<$.style.length;w++){const F=$.style.item(w);_+=er(0,F,$.style.getPropertyValue(F))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(_+=er(0,Us(w),$.style[w]));$.setAttribute("style",_)}function Be($,_,w){$.style&&(_.forEach((F,K)=>{const te=Br(K);w&&!w.has(K)&&w.set(K,$.style[te]),$.style[te]=F}),jn()&&at($))}function St($,_){$.style&&(_.forEach((w,F)=>{const K=Br(F);$.style[K]=""}),jn()&&at($))}function Qt($){return Array.isArray($)?1==$.length?$[0]:(0,Rt.vP)($):$}const wn=new RegExp("{{\\s*(.+?)\\s*}}","g");function en($){let _=[];if("string"==typeof $){let w;for(;w=wn.exec($);)_.push(w[1]);wn.lastIndex=0}return _}function Nn($,_,w){const F=$.toString(),K=F.replace(wn,(te,ce)=>{let _e=_[ce];return null==_e&&(w.push(function we($){return new q.vHH(3003,!1)}()),_e=""),_e.toString()});return K==F?$:K}function Wn($){const _=[];let w=$.next();for(;!w.done;)_.push(w.value),w=$.next();return _}const Or=/-+([a-z0-9])/g;function Br($){return $.replace(Or,(..._)=>_[1].toUpperCase())}function Us($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr($,_,w){switch(_.type){case 7:return $.visitTrigger(_,w);case 0:return $.visitState(_,w);case 1:return $.visitTransition(_,w);case 2:return $.visitSequence(_,w);case 3:return $.visitGroup(_,w);case 4:return $.visitAnimate(_,w);case 5:return $.visitKeyframes(_,w);case 6:return $.visitStyle(_,w);case 8:return $.visitReference(_,w);case 9:return $.visitAnimateChild(_,w);case 10:return $.visitAnimateRef(_,w);case 11:return $.visitQuery(_,w);case 12:return $.visitStagger(_,w);default:throw function et($){return new q.vHH(3004,!1)}()}}function Wt($,_){return window.getComputedStyle($)[_]}const ke="*";function De($,_){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(F=>function Me($,_,w){if(":"==$[0]){const We=function mt($,_){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,F)=>parseFloat(F)>parseFloat(w);case":decrement":return(w,F)=>parseFloat(F)<parseFloat(w);default:return _.push(function kt($){return new q.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof We)return void _.push(We);$=We}const F=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return w.push(function ct($){return new q.vHH(3015,!1)}()),_;const K=F[1],te=F[2],ce=F[3];_.push(Pn(K,ce));"<"==te[0]&&!(K==ke&&ce==ke)&&_.push(Pn(ce,K))}(F,w,_)):w.push($),w}const xt=new Set(["true","1"]),yn=new Set(["false","0"]);function Pn($,_){const w=xt.has($)||yn.has($),F=xt.has(_)||yn.has(_);return(K,te)=>{let ce=$==ke||$==K,_e=_==ke||_==te;return!ce&&w&&"boolean"==typeof K&&(ce=K?xt.has($):yn.has($)),!_e&&F&&"boolean"==typeof te&&(_e=te?xt.has(_):yn.has(_)),ce&&_e}}const kn=new RegExp("s*:selfs*,?","g");function _i($,_,w,F){return new Zr($).build(_,w,F)}class Zr{constructor(_){this._driver=_}build(_,w,F){const K=new ji(w);return this._resetContextStyleTimingState(K),tr(this,Qt(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,w){let F=w.queryCount=0,K=w.depCount=0;const te=[],ce=[];return"@"==_.name.charAt(0)&&w.errors.push(function ot(){return new q.vHH(3006,!1)}()),_.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(w),0==_e.type){const We=_e,vt=We.name;vt.toString().split(/\s*,\s*/).forEach(Jt=>{We.name=Jt,te.push(this.visitState(We,w))}),We.name=vt}else if(1==_e.type){const We=this.visitTransition(_e,w);F+=We.queryCount,K+=We.depCount,ce.push(We)}else w.errors.push(function Le(){return new q.vHH(3007,!1)}())}),{type:7,name:_.name,states:te,transitions:ce,queryCount:F,depCount:K,options:null}}visitState(_,w){const F=this.visitStyle(_.styles,w),K=_.options&&_.options.params||null;if(F.containsDynamicStyles){const te=new Set,ce=K||{};F.styles.forEach(_e=>{_e instanceof Map&&_e.forEach(We=>{en(We).forEach(vt=>{ce.hasOwnProperty(vt)||te.add(vt)})})}),te.size&&(Wn(te.values()),w.errors.push(function Nt($,_){return new q.vHH(3008,!1)}()))}return{type:0,name:_.name,style:F,options:K?{params:K}:null}}visitTransition(_,w){w.queryCount=0,w.depCount=0;const F=tr(this,Qt(_.animation),w);return{type:1,matchers:De(_.expr,w.errors),animation:F,queryCount:w.queryCount,depCount:w.depCount,options:Hi(_.options)}}visitSequence(_,w){return{type:2,steps:_.steps.map(F=>tr(this,F,w)),options:Hi(_.options)}}visitGroup(_,w){const F=w.currentTime;let K=0;const te=_.steps.map(ce=>{w.currentTime=F;const _e=tr(this,ce,w);return K=Math.max(K,w.currentTime),_e});return w.currentTime=K,{type:3,steps:te,options:Hi(_.options)}}visitAnimate(_,w){const F=function eo($,_){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return Xi(ne($,_).duration,0,"");const w=$;if(w.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Xi(0,0,"");return te.dynamic=!0,te.strValue=w,te}const K=ne(w,_);return Xi(K.duration,K.delay,K.easing)}(_.timings,w.errors);w.currentAnimateTimings=F;let K,te=_.styles?_.styles:(0,Rt.oB)({});if(5==te.type)K=this.visitKeyframes(te,w);else{let ce=_.styles,_e=!1;if(!ce){_e=!0;const vt={};F.easing&&(vt.easing=F.easing),ce=(0,Rt.oB)(vt)}w.currentTime+=F.duration+F.delay;const We=this.visitStyle(ce,w);We.isEmptyStep=_e,K=We}return w.currentAnimateTimings=null,{type:4,timings:F,style:K,options:null}}visitStyle(_,w){const F=this._makeStyleAst(_,w);return this._validateStyleAst(F,w),F}_makeStyleAst(_,w){const F=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let _e of K)"string"==typeof _e?_e===Rt.l3?F.push(_e):w.errors.push(new q.vHH(3002,!1)):F.push(Pt(_e));let te=!1,ce=null;return F.forEach(_e=>{if(_e instanceof Map&&(_e.has("easing")&&(ce=_e.get("easing"),_e.delete("easing")),!te))for(let We of _e.values())if(We.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:F,easing:ce,offset:_.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(_,w){const F=w.currentAnimateTimings;let K=w.currentTime,te=w.currentTime;F&&te>0&&(te-=F.duration+F.delay),_.styles.forEach(ce=>{"string"!=typeof ce&&ce.forEach((_e,We)=>{const vt=w.collectedStyles.get(w.currentQuerySelector),Jt=vt.get(We);let un=!0;Jt&&(te!=K&&te>=Jt.startTime&&K<=Jt.endTime&&(w.errors.push(function _n($,_,w,F,K){return new q.vHH(3010,!1)}()),un=!1),te=Jt.startTime),un&&vt.set(We,{startTime:te,endTime:K}),w.options&&function fn($,_,w){const F=_.params||{},K=en($);K.length&&K.forEach(te=>{F.hasOwnProperty(te)||w.push(function je($){return new q.vHH(3001,!1)}())})}(_e,w.options,w.errors)})})}visitKeyframes(_,w){const F={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Ut(){return new q.vHH(3011,!1)}()),F;let te=0;const ce=[];let _e=!1,We=!1,vt=0;const Jt=_.steps.map(U=>{const P=this._makeStyleAst(U,w);let Z=null!=P.offset?P.offset:function wo($){if("string"==typeof $)return null;let _=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const F=w;_=parseFloat(F.get("offset")),F.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;_=parseFloat(w.get("offset")),w.delete("offset")}return _}(P.styles),ae=0;return null!=Z&&(te++,ae=P.offset=Z),We=We||ae<0||ae>1,_e=_e||ae<vt,vt=ae,ce.push(ae),P});We&&w.errors.push(function $e(){return new q.vHH(3012,!1)}()),_e&&w.errors.push(function rt(){return new q.vHH(3200,!1)}());const un=_.steps.length;let ur=0;te>0&&te<un?w.errors.push(function qe(){return new q.vHH(3202,!1)}()):0==te&&(ur=1/(un-1));const Un=un-1,In=w.currentTime,An=w.currentAnimateTimings,A=An.duration;return Jt.forEach((U,P)=>{const Z=ur>0?P==Un?1:ur*P:ce[P],ae=Z*A;w.currentTime=In+An.delay+ae,An.duration=ae,this._validateStyleAst(U,w),U.offset=Z,F.styles.push(U)}),F}visitReference(_,w){return{type:8,animation:tr(this,Qt(_.animation),w),options:Hi(_.options)}}visitAnimateChild(_,w){return w.depCount++,{type:9,options:Hi(_.options)}}visitAnimateRef(_,w){return{type:10,animation:this.visitReference(_.animation,w),options:Hi(_.options)}}visitQuery(_,w){const F=w.currentQuerySelector,K=_.options||{};w.queryCount++,w.currentQuery=_;const[te,ce]=function si($){const _=!!$.split(/\s*,\s*/).find(w=>":self"==w);return _&&($=$.replace(kn,"")),$=$.replace(/@\*/g,He).replace(/@\w+/g,w=>He+"-"+w.slice(1)).replace(/:animating/g,Mt),[$,_]}(_.selector);w.currentQuerySelector=F.length?F+" "+te:te,gn(w.collectedStyles,w.currentQuerySelector,new Map);const _e=tr(this,Qt(_.animation),w);return w.currentQuery=null,w.currentQuerySelector=F,{type:11,selector:te,limit:K.limit||0,optional:!!K.optional,includeSelf:ce,animation:_e,originalSelector:_.selector,options:Hi(_.options)}}visitStagger(_,w){w.currentQuery||w.errors.push(function lt(){return new q.vHH(3013,!1)}());const F="full"===_.timings?{duration:0,delay:0,easing:"full"}:ne(_.timings,w.errors,!0);return{type:12,animation:tr(this,Qt(_.animation),w),timings:F,options:null}}}class ji{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hi($){return $?($=Qe($)).params&&($.params=function Ir($){return $?Qe($):null}($.params)):$={},$}function Xi($,_,w){return{duration:$,delay:_,easing:w}}function Zi($,_,w,F,K,te,ce=null,_e=!1){return{type:1,element:$,keyframes:_,preStyleProps:w,postStyleProps:F,duration:K,delay:te,totalTime:K+te,easing:ce,subTimeline:_e}}class Yr{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,w){let F=this._map.get(_);F||this._map.set(_,F=[]),F.push(...w)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const es=new RegExp(":enter","g"),js=new RegExp(":leave","g");function Cs($,_,w,F,K,te=new Map,ce=new Map,_e,We,vt=[]){return(new dr).buildKeyframes($,_,w,F,K,te,ce,_e,We,vt)}class dr{buildKeyframes(_,w,F,K,te,ce,_e,We,vt,Jt=[]){vt=vt||new Yr;const un=new ts(_,w,vt,K,te,Jt,[]);un.options=We;const ur=We.delay?me(We.delay):0;un.currentTimeline.delayNextStep(ur),un.currentTimeline.setStyles([ce],null,un.errors,We),tr(this,F,un);const Un=un.timelines.filter(In=>In.containsAnimation());if(Un.length&&_e.size){let In;for(let An=Un.length-1;An>=0;An--){const A=Un[An];if(A.element===w){In=A;break}}In&&!In.allowOnlyTimelineStyles()&&In.setStyles([_e],null,un.errors,We)}return Un.length?Un.map(In=>In.buildKeyframes()):[Zi(w,[],[],[],0,ur,"",!1)]}visitTrigger(_,w){}visitState(_,w){}visitTransition(_,w){}visitAnimateChild(_,w){const F=w.subInstructions.get(w.element);if(F){const K=w.createSubContext(_.options),te=w.currentTimeline.currentTime,ce=this._visitSubInstructions(F,K,K.options);te!=ce&&w.transformIntoNewTimeline(ce)}w.previousNode=_}visitAnimateRef(_,w){const F=w.createSubContext(_.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],w,F),this.visitReference(_.animation,F),w.transformIntoNewTimeline(F.currentTimeline.currentTime),w.previousNode=_}_applyAnimationRefDelays(_,w,F){for(const K of _){const te=K?.delay;if(te){const ce="number"==typeof te?te:me(Nn(te,K?.params??{},w.errors));F.delayNextStep(ce)}}}_visitSubInstructions(_,w,F){let te=w.currentTimeline.currentTime;const ce=null!=F.duration?me(F.duration):null,_e=null!=F.delay?me(F.delay):null;return 0!==ce&&_.forEach(We=>{const vt=w.appendInstructionToTimeline(We,ce,_e);te=Math.max(te,vt.duration+vt.delay)}),te}visitReference(_,w){w.updateOptions(_.options,!0),tr(this,_.animation,w),w.previousNode=_}visitSequence(_,w){const F=w.subContextCount;let K=w;const te=_.options;if(te&&(te.params||te.delay)&&(K=w.createSubContext(te),K.transformIntoNewTimeline(),null!=te.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=xr);const ce=me(te.delay);K.delayNextStep(ce)}_.steps.length&&(_.steps.forEach(ce=>tr(this,ce,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>F&&K.transformIntoNewTimeline()),w.previousNode=_}visitGroup(_,w){const F=[];let K=w.currentTimeline.currentTime;const te=_.options&&_.options.delay?me(_.options.delay):0;_.steps.forEach(ce=>{const _e=w.createSubContext(_.options);te&&_e.delayNextStep(te),tr(this,ce,_e),K=Math.max(K,_e.currentTimeline.currentTime),F.push(_e.currentTimeline)}),F.forEach(ce=>w.currentTimeline.mergeTimelineCollectedStyles(ce)),w.transformIntoNewTimeline(K),w.previousNode=_}_visitTiming(_,w){if(_.dynamic){const F=_.strValue;return ne(w.params?Nn(F,w.params,w.errors):F,w.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,w){const F=w.currentAnimateTimings=this._visitTiming(_.timings,w),K=w.currentTimeline;F.delay&&(w.incrementTime(F.delay),K.snapshotCurrentStyles());const te=_.style;5==te.type?this.visitKeyframes(te,w):(w.incrementTime(F.duration),this.visitStyle(te,w),K.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=_}visitStyle(_,w){const F=w.currentTimeline,K=w.currentAnimateTimings;!K&&F.hasCurrentStyleProperties()&&F.forwardFrame();const te=K&&K.easing||_.easing;_.isEmptyStep?F.applyEmptyStep(te):F.setStyles(_.styles,te,w.errors,w.options),w.previousNode=_}visitKeyframes(_,w){const F=w.currentAnimateTimings,K=w.currentTimeline.duration,te=F.duration,_e=w.createSubContext().currentTimeline;_e.easing=F.easing,_.styles.forEach(We=>{_e.forwardTime((We.offset||0)*te),_e.setStyles(We.styles,We.easing,w.errors,w.options),_e.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(_e),w.transformIntoNewTimeline(K+te),w.previousNode=_}visitQuery(_,w){const F=w.currentTimeline.currentTime,K=_.options||{},te=K.delay?me(K.delay):0;te&&(6===w.previousNode.type||0==F&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=xr);let ce=F;const _e=w.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,w.errors);w.currentQueryTotal=_e.length;let We=null;_e.forEach((vt,Jt)=>{w.currentQueryIndex=Jt;const un=w.createSubContext(_.options,vt);te&&un.delayNextStep(te),vt===w.element&&(We=un.currentTimeline),tr(this,_.animation,un),un.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,un.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(ce),We&&(w.currentTimeline.mergeTimelineCollectedStyles(We),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=_}visitStagger(_,w){const F=w.parentContext,K=w.currentTimeline,te=_.timings,ce=Math.abs(te.duration),_e=ce*(w.currentQueryTotal-1);let We=ce*w.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":We=_e-We;break;case"full":We=F.currentStaggerTime}const Jt=w.currentTimeline;We&&Jt.delayNextStep(We);const un=Jt.currentTime;tr(this,_.animation,w),w.previousNode=_,F.currentStaggerTime=K.currentTime-un+(K.startTime-F.currentTimeline.startTime)}}const xr={};class ts{constructor(_,w,F,K,te,ce,_e,We){this._driver=_,this.element=w,this.subInstructions=F,this._enterClassName=K,this._leaveClassName=te,this.errors=ce,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=We||new to(this._driver,w,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,w){if(!_)return;const F=_;let K=this.options;null!=F.duration&&(K.duration=me(F.duration)),null!=F.delay&&(K.delay=me(F.delay));const te=F.params;if(te){let ce=K.params;ce||(ce=this.options.params={}),Object.keys(te).forEach(_e=>{(!w||!ce.hasOwnProperty(_e))&&(ce[_e]=Nn(te[_e],ce,this.errors))})}}_copyOptions(){const _={};if(this.options){const w=this.options.params;if(w){const F=_.params={};Object.keys(w).forEach(K=>{F[K]=w[K]})}}return _}createSubContext(_=null,w,F){const K=w||this.element,te=new ts(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,F||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(_),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(_){return this.previousNode=xr,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,w,F){const K={duration:w??_.duration,delay:this.currentTimeline.currentTime+(F??0)+_.delay,easing:""},te=new ns(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(te),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,w,F,K,te,ce){let _e=[];if(K&&_e.push(this.element),_.length>0){_=(_=_.replace(es,"."+this._enterClassName)).replace(js,"."+this._leaveClassName);let vt=this._driver.query(this.element,_,1!=F);0!==F&&(vt=F<0?vt.slice(vt.length+F,vt.length):vt.slice(0,F)),_e.push(...vt)}return!te&&0==_e.length&&ce.push(function wt($){return new q.vHH(3014,!1)}()),_e}}class to{constructor(_,w,F,K){this._driver=_,this.element=w,this.startTime=F,this._elementTimelineStylesLookup=K,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+_),w&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,w){return this.applyStylesToKeyframe(),new to(this._driver,_,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,w){this._localTimelineStyles.set(_,w),this._globalTimelineStyles.set(_,w),this._styleSummary.set(_,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[w,F]of this._globalTimelineStyles)this._backFill.set(w,F||Rt.l3),this._currentKeyframe.set(w,Rt.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,w,F,K){w&&this._previousKeyframe.set("easing",w);const te=K&&K.params||{},ce=function Io($,_){const w=new Map;let F;return $.forEach(K=>{if("*"===K){F=F||_.keys();for(let te of F)w.set(te,Rt.l3)}else sr(K,w)}),w}(_,this._globalTimelineStyles);for(let[_e,We]of ce){const vt=Nn(We,te,F);this._pendingStyles.set(_e,vt),this._localTimelineStyles.has(_e)||this._backFill.set(_e,this._globalTimelineStyles.get(_e)??Rt.l3),this._updateStyle(_e,vt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,w)=>{this._currentKeyframe.set(w,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,_)}))}snapshotCurrentStyles(){for(let[_,w]of this._localTimelineStyles)this._pendingStyles.set(_,w),this._updateStyle(_,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let w in this._currentKeyframe)_.push(w);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((w,F)=>{const K=this._styleSummary.get(F);(!K||w.time>K.time)&&this._updateStyle(F,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,w=new Set,F=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((_e,We)=>{const vt=sr(_e,new Map,this._backFill);vt.forEach((Jt,un)=>{Jt===Rt.k1?_.add(un):Jt===Rt.l3&&w.add(un)}),F||vt.set("offset",We/this.duration),K.push(vt)});const te=_.size?Wn(_.values()):[],ce=w.size?Wn(w.values()):[];if(F){const _e=K[0],We=new Map(_e);_e.set("offset",0),We.set("offset",1),K=[_e,We]}return Zi(this.element,K,te,ce,this.duration,this.startTime,this.easing,!1)}}class ns extends to{constructor(_,w,F,K,te,ce,_e=!1){super(_,w,ce.delay),this.keyframes=F,this.preStyleProps=K,this.postStyleProps=te,this._stretchStartingKeyframe=_e,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:w,duration:F,easing:K}=this.timings;if(this._stretchStartingKeyframe&&w){const te=[],ce=F+w,_e=w/ce,We=sr(_[0]);We.set("offset",0),te.push(We);const vt=sr(_[0]);vt.set("offset",Bo(_e)),te.push(vt);const Jt=_.length-1;for(let un=1;un<=Jt;un++){let ur=sr(_[un]);const Un=ur.get("offset");ur.set("offset",Bo((w+Un*F)/ce)),te.push(ur)}F=ce,w=0,K="",_=te}return Zi(this.element,_,this.preStyleProps,this.postStyleProps,F,w,K,!0)}}function Bo($,_=3){const w=Math.pow(10,_-1);return Math.round($*w)/w}class bs{}const Do=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class $o extends bs{normalizePropertyName(_,w){return Br(_)}normalizeStyleValue(_,w,F,K){let te="";const ce=F.toString().trim();if(Do.has(w)&&0!==F&&"0"!==F)if("number"==typeof F)te="px";else{const _e=F.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&K.push(function Dt($,_){return new q.vHH(3005,!1)}())}return ce+te}}function is($,_,w,F,K,te,ce,_e,We,vt,Jt,un,ur){return{type:0,element:$,triggerName:_,isRemovalTransition:K,fromState:w,fromStyles:te,toState:F,toStyles:ce,timelines:_e,queriedElements:We,preStyleProps:vt,postStyleProps:Jt,totalTime:un,errors:ur}}const To={};class ss{constructor(_,w,F){this._triggerName=_,this.ast=w,this._stateStyles=F}match(_,w,F,K){return function Co($,_,w,F,K){return $.some(te=>te(_,w,F,K))}(this.ast.matchers,_,w,F,K)}buildStyles(_,w,F){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(w,F):new Map}build(_,w,F,K,te,ce,_e,We,vt,Jt){const un=[],ur=this.ast.options&&this.ast.options.params||To,In=this.buildStyles(F,_e&&_e.params||To,un),An=We&&We.params||To,A=this.buildStyles(K,An,un),U=new Set,P=new Map,Z=new Map,ae="void"===K,it={params:ms(An,ur),delay:this.ast.options?.delay},tt=Jt?[]:Cs(_,w,this.ast.animation,te,ce,In,A,it,vt,un);let qt=0;if(tt.forEach(Vn=>{qt=Math.max(Vn.duration+Vn.delay,qt)}),un.length)return is(w,this._triggerName,F,K,ae,In,A,[],[],P,Z,qt,un);tt.forEach(Vn=>{const nr=Vn.element,zn=gn(P,nr,new Set);Vn.preStyleProps.forEach(ar=>zn.add(ar));const Vr=gn(Z,nr,new Set);Vn.postStyleProps.forEach(ar=>Vr.add(ar)),nr!==w&&U.add(nr)});const or=Wn(U.values());return is(w,this._triggerName,F,K,ae,In,A,tt,or,P,Z,qt)}}function ms($,_){const w=Qe(_);for(const F in $)$.hasOwnProperty(F)&&null!=$[F]&&(w[F]=$[F]);return w}class bo{constructor(_,w,F){this.styles=_,this.defaultParams=w,this.normalizer=F}buildStyles(_,w){const F=new Map,K=Qe(this.defaultParams);return Object.keys(_).forEach(te=>{const ce=_[te];null!==ce&&(K[te]=ce)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ce,_e)=>{ce&&(ce=Nn(ce,K,w));const We=this.normalizer.normalizePropertyName(_e,w);ce=this.normalizer.normalizeStyleValue(_e,We,ce,w),F.set(_e,ce)})}),F}}class zi{constructor(_,w,F){this.name=_,this.ast=w,this._normalizer=F,this.transitionFactories=[],this.states=new Map,w.states.forEach(K=>{this.states.set(K.name,new bo(K.style,K.options&&K.options.params||{},F))}),Oi(this.states,"true","1"),Oi(this.states,"false","0"),w.transitions.forEach(K=>{this.transitionFactories.push(new ss(_,K,this.states))}),this.fallbackTransition=function no($,_,w){return new ss($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,_e)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,w,F,K){return this.transitionFactories.find(ce=>ce.match(_,w,F,K))||null}matchStyles(_,w,F){return this.fallbackTransition.buildStyles(_,w,F)}}function Oi($,_,w){$.has(_)?$.has(w)||$.set(w,$.get(_)):$.has(w)&&$.set(_,$.get(w))}const va=new Yr;class ro{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,w){const F=[],K=[],te=_i(this._driver,w,F,K);if(F.length)throw function It($){return new q.vHH(3503,!1)}();this._animations.set(_,te)}_buildPlayer(_,w,F){const K=_.element,te=ir(0,this._normalizer,0,_.keyframes,w,F);return this._driver.animate(K,te,_.duration,_.delay,_.easing,[],!0)}create(_,w,F={}){const K=[],te=this._animations.get(_);let ce;const _e=new Map;if(te?(ce=Cs(this._driver,w,te,se,ie,new Map,new Map,F,va,K),ce.forEach(Jt=>{const un=gn(_e,Jt.element,new Map);Jt.postStyleProps.forEach(ur=>un.set(ur,null))})):(K.push(function jt(){return new q.vHH(3300,!1)}()),ce=[]),K.length)throw function Zn($){return new q.vHH(3504,!1)}();_e.forEach((Jt,un)=>{Jt.forEach((ur,Un)=>{Jt.set(Un,this._driver.computeStyle(un,Un,Rt.l3))})});const vt=Pr(ce.map(Jt=>{const un=_e.get(Jt.element);return this._buildPlayer(Jt,new Map,un)}));return this._playersById.set(_,vt),vt.onDestroy(()=>this.destroy(_)),this.players.push(vt),vt}destroy(_){const w=this._getPlayer(_);w.destroy(),this._playersById.delete(_);const F=this.players.indexOf(w);F>=0&&this.players.splice(F,1)}_getPlayer(_){const w=this._playersById.get(_);if(!w)throw function $n($){return new q.vHH(3301,!1)}();return w}listen(_,w,F,K){const te=Yn(w,"","","");return qr(this._getPlayer(_),F,te,K),()=>{}}command(_,w,F,K){if("register"==F)return void this.register(_,K[0]);if("create"==F)return void this.create(_,w,K[0]||{});const te=this._getPlayer(_);switch(F){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const io="ng-animate-queued",bi="ng-animate-disabled",as=[],Ni={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},oi="__ng_removed";class Ss{get params(){return this.options.params}constructor(_,w=""){this.namespaceId=w;const F=_&&_.hasOwnProperty("value");if(this.value=function hi($){return $??null}(F?_.value:_),F){const te=Qe(_);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const w=_.params;if(w){const F=this.options.params;Object.keys(w).forEach(K=>{null==F[K]&&(F[K]=w[K])})}}}const Hn="void",us=new Ss(Hn);class ls{constructor(_,w,F){this.id=_,this.hostElement=w,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,ti(w,this._hostClassName)}listen(_,w,F,K){if(!this._triggers.has(w))throw function wr($,_){return new q.vHH(3302,!1)}();if(null==F||0==F.length)throw function gr($){return new q.vHH(3303,!1)}();if(!function vs($){return"start"==$||"done"==$}(F))throw function mr($,_){return new q.vHH(3400,!1)}();const te=gn(this._elementListeners,_,[]),ce={name:w,phase:F,callback:K};te.push(ce);const _e=gn(this._engine.statesByElement,_,new Map);return _e.has(w)||(ti(_,pe),ti(_,pe+"-"+w),_e.set(w,us)),()=>{this._engine.afterFlush(()=>{const We=te.indexOf(ce);We>=0&&te.splice(We,1),this._triggers.has(w)||_e.delete(w)})}}register(_,w){return!this._triggers.has(_)&&(this._triggers.set(_,w),!0)}_getTrigger(_){const w=this._triggers.get(_);if(!w)throw function cr($){return new q.vHH(3401,!1)}();return w}trigger(_,w,F,K=!0){const te=this._getTrigger(w),ce=new Ho(this.id,w,_);let _e=this._engine.statesByElement.get(_);_e||(ti(_,pe),ti(_,pe+"-"+w),this._engine.statesByElement.set(_,_e=new Map));let We=_e.get(w);const vt=new Ss(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&We&&vt.absorbOptions(We.options),_e.set(w,vt),We||(We=us),vt.value!==Hn&&We.value===vt.value){if(!function zs($,_){const w=Object.keys($),F=Object.keys(_);if(w.length!=F.length)return!1;for(let K=0;K<w.length;K++){const te=w[K];if(!_.hasOwnProperty(te)||$[te]!==_[te])return!1}return!0}(We.params,vt.params)){const An=[],A=te.matchStyles(We.value,We.params,An),U=te.matchStyles(vt.value,vt.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{St(_,A),Be(_,U)})}return}const ur=gn(this._engine.playersByElement,_,[]);ur.forEach(An=>{An.namespaceId==this.id&&An.triggerName==w&&An.queued&&An.destroy()});let Un=te.matchTransition(We.value,vt.value,_,vt.params),In=!1;if(!Un){if(!K)return;Un=te.fallbackTransition,In=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:w,transition:Un,fromState:We,toState:vt,player:ce,isFallbackTransition:In}),In||(ti(_,io),ce.onStart(()=>{fi(_,io)})),ce.onDone(()=>{let An=this.players.indexOf(ce);An>=0&&this.players.splice(An,1);const A=this._engine.playersByElement.get(_);if(A){let U=A.indexOf(ce);U>=0&&A.splice(U,1)}}),this.players.push(ce),ur.push(ce),ce}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(w=>w.delete(_)),this._elementListeners.forEach((w,F)=>{this._elementListeners.set(F,w.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const w=this._engine.playersByElement.get(_);w&&(w.forEach(F=>F.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,w){const F=this._engine.driver.query(_,He,!0);F.forEach(K=>{if(K[oi])return;const te=this._engine.fetchNamespacesByElement(K);te.size?te.forEach(ce=>ce.triggerLeaveAnimation(K,w,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,w,F,K){const te=this._engine.statesByElement.get(_),ce=new Map;if(te){const _e=[];if(te.forEach((We,vt)=>{if(ce.set(vt,We.value),this._triggers.has(vt)){const Jt=this.trigger(_,vt,Hn,K);Jt&&_e.push(Jt)}}),_e.length)return this._engine.markElementAsRemoved(this.id,_,!0,w,ce),F&&Pr(_e).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const w=this._elementListeners.get(_),F=this._engine.statesByElement.get(_);if(w&&F){const K=new Set;w.forEach(te=>{const ce=te.name;if(K.has(ce))return;K.add(ce);const We=this._triggers.get(ce).fallbackTransition,vt=F.get(ce)||us,Jt=new Ss(Hn),un=new Ho(this.id,ce,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ce,transition:We,fromState:vt,toState:Jt,player:un,isFallbackTransition:!0})})}}removeNode(_,w){const F=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,w),this.triggerLeaveAnimation(_,w,!0))return;let K=!1;if(F.totalAnimations){const te=F.players.length?F.playersByQueriedElement.get(_):[];if(te&&te.length)K=!0;else{let ce=_;for(;ce=ce.parentNode;)if(F.statesByElement.get(ce)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)F.markElementAsRemoved(this.id,_,!1,w);else{const te=_[oi];(!te||te===Ni)&&(F.afterFlush(()=>this.clearElementCache(_)),F.destroyInnerAnimations(_),F._onRemovalComplete(_,w))}}insertNode(_,w){ti(_,this._hostClassName)}drainQueuedTransitions(_){const w=[];return this._queue.forEach(F=>{const K=F.player;if(K.destroyed)return;const te=F.element,ce=this._elementListeners.get(te);ce&&ce.forEach(_e=>{if(_e.name==F.triggerName){const We=Yn(te,F.triggerName,F.fromState.value,F.toState.value);We._data=_,qr(F.player,_e.phase,We,_e.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):w.push(F)}),this._queue=[],w.sort((F,K)=>{const te=F.transition.ast.depCount,ce=K.transition.ast.depCount;return 0==te||0==ce?te-ce:this._engine.driver.containsElement(F.element,K.element)?1:-1})}destroy(_){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let w=!1;return this._elementListeners.has(_)&&(w=!0),w=!!this._queue.find(F=>F.element===_)||w,w}}class di{_onRemovalComplete(_,w){this.onRemovalComplete(_,w)}constructor(_,w,F){this.bodyNode=_,this.driver=w,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,te)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(w=>{w.players.forEach(F=>{F.queued&&_.push(F)})}),_}createNamespace(_,w){const F=new ls(_,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(F,w):(this.newHostElements.set(w,F),this.collectEnterElement(w)),this._namespaceLookup[_]=F}_balanceNamespaceList(_,w){const F=this._namespaceList,K=this.namespacesByHostElement;if(F.length-1>=0){let ce=!1,_e=this.driver.getParentElement(w);for(;_e;){const We=K.get(_e);if(We){const vt=F.indexOf(We);F.splice(vt+1,0,_),ce=!0;break}_e=this.driver.getParentElement(_e)}ce||F.unshift(_)}else F.push(_);return K.set(w,_),_}register(_,w){let F=this._namespaceLookup[_];return F||(F=this.createNamespace(_,w)),F}registerTrigger(_,w,F){let K=this._namespaceLookup[_];K&&K.register(w,F)&&this.totalAnimations++}destroy(_,w){if(!_)return;const F=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(F);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>F.destroy(w))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const w=new Set,F=this.statesByElement.get(_);if(F)for(let K of F.values())if(K.namespaceId){const te=this._fetchNamespace(K.namespaceId);te&&w.add(te)}return w}trigger(_,w,F,K){if(Qr(w)){const te=this._fetchNamespace(_);if(te)return te.trigger(w,F,K),!0}return!1}insertNode(_,w,F,K){if(!Qr(w))return;const te=w[oi];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(w);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(_){const ce=this._fetchNamespace(_);ce&&ce.insertNode(w,F)}K&&this.collectEnterElement(w)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,w){w?this.disabledNodes.has(_)||(this.disabledNodes.add(_),ti(_,bi)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),fi(_,bi))}removeNode(_,w,F,K){if(Qr(w)){const te=_?this._fetchNamespace(_):null;if(te?te.removeNode(w,K):this.markElementAsRemoved(_,w,!1,K),F){const ce=this.namespacesByHostElement.get(w);ce&&ce.id!==_&&ce.removeNode(w,K)}}else this._onRemovalComplete(w,K)}markElementAsRemoved(_,w,F,K,te){this.collectedLeaveElements.push(w),w[oi]={namespaceId:_,setForRemoval:K,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:te}}listen(_,w,F,K,te){return Qr(w)?this._fetchNamespace(_).listen(w,F,K,te):()=>{}}_buildInstruction(_,w,F,K,te){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,F,K,_.fromState.options,_.toState.options,w,te)}destroyInnerAnimations(_){let w=this.driver.query(_,He,!0);w.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(_,Mt,!0),w.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(_){const w=this.playersByElement.get(_);w&&w.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(_){const w=this.playersByQueriedElement.get(_);w&&w.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Pr(this.players).onDone(()=>_());_()})}processLeaveNode(_){const w=_[oi];if(w&&w.setForRemoval){if(_[oi]=Ni,w.namespaceId){this.destroyInnerAnimations(_);const F=this._fetchNamespace(w.namespaceId);F&&F.clearElementCache(_)}this._onRemovalComplete(_,w.setForRemoval)}_.classList?.contains(bi)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(_=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,K)=>this._balanceNamespaceList(F,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)ti(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{w=this._flushAnimations(F,_)}finally{for(let K=0;K<F.length;K++)F[K]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],w.length?Pr(w).onDone(()=>{F.forEach(K=>K())}):F.forEach(K=>K())}}reportError(_){throw function Hr($){return new q.vHH(3402,!1)}()}_flushAnimations(_,w){const F=new Yr,K=[],te=new Map,ce=[],_e=new Map,We=new Map,vt=new Map,Jt=new Set;this.disabledNodes.forEach(Gt=>{Jt.add(Gt);const mn=this.driver.query(Gt,".ng-animate-queued",!0);for(let dn=0;dn<mn.length;dn++)Jt.add(mn[dn])});const un=this.bodyNode,ur=Array.from(this.statesByElement.keys()),Un=Jr(ur,this.collectedEnterElements),In=new Map;let An=0;Un.forEach((Gt,mn)=>{const dn=se+An++;In.set(mn,dn),Gt.forEach(Fn=>ti(Fn,dn))});const A=[],U=new Set,P=new Set;for(let Gt=0;Gt<this.collectedLeaveElements.length;Gt++){const mn=this.collectedLeaveElements[Gt],dn=mn[oi];dn&&dn.setForRemoval&&(A.push(mn),U.add(mn),dn.hasAnimation?this.driver.query(mn,".ng-star-inserted",!0).forEach(Fn=>U.add(Fn)):P.add(mn))}const Z=new Map,ae=Jr(ur,Array.from(U));ae.forEach((Gt,mn)=>{const dn=ie+An++;Z.set(mn,dn),Gt.forEach(Fn=>ti(Fn,dn))}),_.push(()=>{Un.forEach((Gt,mn)=>{const dn=In.get(mn);Gt.forEach(Fn=>fi(Fn,dn))}),ae.forEach((Gt,mn)=>{const dn=Z.get(mn);Gt.forEach(Fn=>fi(Fn,dn))}),A.forEach(Gt=>{this.processLeaveNode(Gt)})});const it=[],tt=[];for(let Gt=this._namespaceList.length-1;Gt>=0;Gt--)this._namespaceList[Gt].drainQueuedTransitions(w).forEach(dn=>{const Fn=dn.player,hr=dn.element;if(it.push(Fn),this.collectedEnterElements.length){const Ai=hr[oi];if(Ai&&Ai.setForMove){if(Ai.previousTriggersValues&&Ai.previousTriggersValues.has(dn.triggerName)){const mi=Ai.previousTriggersValues.get(dn.triggerName),Ms=this.statesByElement.get(dn.element);if(Ms&&Ms.has(dn.triggerName)){const ua=Ms.get(dn.triggerName);ua.value=mi,Ms.set(dn.triggerName,ua)}}return void Fn.destroy()}}const gi=!un||!this.driver.containsElement(un,hr),wi=Z.get(hr),Yi=In.get(hr),ui=this._buildInstruction(dn,F,Yi,wi,gi);if(ui.errors&&ui.errors.length)return void tt.push(ui);if(gi)return Fn.onStart(()=>St(hr,ui.fromStyles)),Fn.onDestroy(()=>Be(hr,ui.toStyles)),void K.push(Fn);if(dn.isFallbackTransition)return Fn.onStart(()=>St(hr,ui.fromStyles)),Fn.onDestroy(()=>Be(hr,ui.toStyles)),void K.push(Fn);const Wo=[];ui.timelines.forEach(Ai=>{Ai.stretchStartingKeyframe=!0,this.disabledNodes.has(Ai.element)||Wo.push(Ai)}),ui.timelines=Wo,F.append(hr,ui.timelines),ce.push({instruction:ui,player:Fn,element:hr}),ui.queriedElements.forEach(Ai=>gn(_e,Ai,[]).push(Fn)),ui.preStyleProps.forEach((Ai,mi)=>{if(Ai.size){let Ms=We.get(mi);Ms||We.set(mi,Ms=new Set),Ai.forEach((ua,xs)=>Ms.add(xs))}}),ui.postStyleProps.forEach((Ai,mi)=>{let Ms=vt.get(mi);Ms||vt.set(mi,Ms=new Set),Ai.forEach((ua,xs)=>Ms.add(xs))})});if(tt.length){const Gt=[];tt.forEach(mn=>{Gt.push(function zr($,_){return new q.vHH(3505,!1)}())}),it.forEach(mn=>mn.destroy()),this.reportError(Gt)}const qt=new Map,or=new Map;ce.forEach(Gt=>{const mn=Gt.element;F.has(mn)&&(or.set(mn,mn),this._beforeAnimationBuild(Gt.player.namespaceId,Gt.instruction,qt))}),K.forEach(Gt=>{const mn=Gt.element;this._getPreviousPlayers(mn,!1,Gt.namespaceId,Gt.triggerName,null).forEach(Fn=>{gn(qt,mn,[]).push(Fn),Fn.destroy()})});const Vn=A.filter(Gt=>Mo(Gt,We,vt)),nr=new Map;mo(nr,this.driver,P,vt,Rt.l3).forEach(Gt=>{Mo(Gt,We,vt)&&Vn.push(Gt)});const Vr=new Map;Un.forEach((Gt,mn)=>{mo(Vr,this.driver,new Set(Gt),We,Rt.k1)}),Vn.forEach(Gt=>{const mn=nr.get(Gt),dn=Vr.get(Gt);nr.set(Gt,new Map([...Array.from(mn?.entries()??[]),...Array.from(dn?.entries()??[])]))});const ar=[],ai=[],hs={};ce.forEach(Gt=>{const{element:mn,player:dn,instruction:Fn}=Gt;if(F.has(mn)){if(Jt.has(mn))return dn.onDestroy(()=>Be(mn,Fn.toStyles)),dn.disabled=!0,dn.overrideTotalTime(Fn.totalTime),void K.push(dn);let hr=hs;if(or.size>1){let wi=mn;const Yi=[];for(;wi=wi.parentNode;){const ui=or.get(wi);if(ui){hr=ui;break}Yi.push(wi)}Yi.forEach(ui=>or.set(ui,hr))}const gi=this._buildAnimation(dn.namespaceId,Fn,qt,te,Vr,nr);if(dn.setRealPlayer(gi),hr===hs)ar.push(dn);else{const wi=this.playersByElement.get(hr);wi&&wi.length&&(dn.parentPlayer=Pr(wi)),K.push(dn)}}else St(mn,Fn.fromStyles),dn.onDestroy(()=>Be(mn,Fn.toStyles)),ai.push(dn),Jt.has(mn)&&K.push(dn)}),ai.forEach(Gt=>{const mn=te.get(Gt.element);if(mn&&mn.length){const dn=Pr(mn);Gt.setRealPlayer(dn)}}),K.forEach(Gt=>{Gt.parentPlayer?Gt.syncPlayerEvents(Gt.parentPlayer):Gt.destroy()});for(let Gt=0;Gt<A.length;Gt++){const mn=A[Gt],dn=mn[oi];if(fi(mn,ie),dn&&dn.hasAnimation)continue;let Fn=[];if(_e.size){let gi=_e.get(mn);gi&&gi.length&&Fn.push(...gi);let wi=this.driver.query(mn,Mt,!0);for(let Yi=0;Yi<wi.length;Yi++){let ui=_e.get(wi[Yi]);ui&&ui.length&&Fn.push(...ui)}}const hr=Fn.filter(gi=>!gi.destroyed);hr.length?xn(this,mn,hr):this.processLeaveNode(mn)}return A.length=0,ar.forEach(Gt=>{this.players.push(Gt),Gt.onDone(()=>{Gt.destroy();const mn=this.players.indexOf(Gt);this.players.splice(mn,1)}),Gt.play()}),ar}elementContainsData(_,w){let F=!1;const K=w[oi];return K&&K.setForRemoval&&(F=!0),this.playersByElement.has(w)&&(F=!0),this.playersByQueriedElement.has(w)&&(F=!0),this.statesByElement.has(w)&&(F=!0),this._fetchNamespace(_).elementContainsData(w)||F}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,w,F,K,te){let ce=[];if(w){const _e=this.playersByQueriedElement.get(_);_e&&(ce=_e)}else{const _e=this.playersByElement.get(_);if(_e){const We=!te||te==Hn;_e.forEach(vt=>{vt.queued||!We&&vt.triggerName!=K||ce.push(vt)})}}return(F||K)&&(ce=ce.filter(_e=>!(F&&F!=_e.namespaceId||K&&K!=_e.triggerName))),ce}_beforeAnimationBuild(_,w,F){const te=w.element,ce=w.isRemovalTransition?void 0:_,_e=w.isRemovalTransition?void 0:w.triggerName;for(const We of w.timelines){const vt=We.element,Jt=vt!==te,un=gn(F,vt,[]);this._getPreviousPlayers(vt,Jt,ce,_e,w.toState).forEach(Un=>{const In=Un.getRealPlayer();In.beforeDestroy&&In.beforeDestroy(),Un.destroy(),un.push(Un)})}St(te,w.fromStyles)}_buildAnimation(_,w,F,K,te,ce){const _e=w.triggerName,We=w.element,vt=[],Jt=new Set,un=new Set,ur=w.timelines.map(In=>{const An=In.element;Jt.add(An);const A=An[oi];if(A&&A.removedBeforeQueried)return new Rt.ZN(In.duration,In.delay);const U=An!==We,P=function oa($){const _=[];return zo($,_),_}((F.get(An)||as).map(qt=>qt.getRealPlayer())).filter(qt=>!!qt.element&&qt.element===An),Z=te.get(An),ae=ce.get(An),it=ir(0,this._normalizer,0,In.keyframes,Z,ae),tt=this._buildPlayer(In,it,P);if(In.subTimeline&&K&&un.add(An),U){const qt=new Ho(_,_e,An);qt.setRealPlayer(tt),vt.push(qt)}return tt});vt.forEach(In=>{gn(this.playersByQueriedElement,In.element,[]).push(In),In.onDone(()=>function Ao($,_,w){let F=$.get(_);if(F){if(F.length){const K=F.indexOf(w);F.splice(K,1)}0==F.length&&$.delete(_)}return F}(this.playersByQueriedElement,In.element,In))}),Jt.forEach(In=>ti(In,Oe));const Un=Pr(ur);return Un.onDestroy(()=>{Jt.forEach(In=>fi(In,Oe)),Be(We,w.toStyles)}),un.forEach(In=>{gn(K,In,[]).push(Un)}),Un}_buildPlayer(_,w,F){return w.length>0?this.driver.animate(_.element,w,_.duration,_.delay,_.easing,F):new Rt.ZN(_.duration,_.delay)}}class Ho{constructor(_,w,F){this.namespaceId=_,this.triggerName=w,this.element=F,this._player=new Rt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((w,F)=>{w.forEach(K=>qr(_,F,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const w=this._player;w.triggerCallback&&_.onStart(()=>w.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,w){gn(this._queuedCallbacks,_,[]).push(w)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const w=this._player;w.triggerCallback&&w.triggerCallback(_)}}function Qr($){return $&&1===$.nodeType}function _s($,_){const w=$.style.display;return $.style.display=_??"none",w}function mo($,_,w,F,K){const te=[];w.forEach(We=>te.push(_s(We)));const ce=[];F.forEach((We,vt)=>{const Jt=new Map;We.forEach(un=>{const ur=_.computeStyle(vt,un,K);Jt.set(un,ur),(!ur||0==ur.length)&&(vt[oi]=Nr,ce.push(vt))}),$.set(vt,Jt)});let _e=0;return w.forEach(We=>_s(We,te[_e++])),ce}function Jr($,_){const w=new Map;if($.forEach(_e=>w.set(_e,[])),0==_.length)return w;const F=1,K=new Set(_),te=new Map;function ce(_e){if(!_e)return F;let We=te.get(_e);if(We)return We;const vt=_e.parentNode;return We=w.has(vt)?vt:K.has(vt)?F:ce(vt),te.set(_e,We),We}return _.forEach(_e=>{const We=ce(_e);We!==F&&w.get(We).push(_e)}),w}function ti($,_){$.classList?.add(_)}function fi($,_){$.classList?.remove(_)}function xn($,_,w){Pr(w).onDone(()=>$.processLeaveNode(_))}function zo($,_){for(let w=0;w<$.length;w++){const F=$[w];F instanceof Rt.ZE?zo(F.players,_):_.push(F)}}function Mo($,_,w){const F=w.get($);if(!F)return!1;let K=_.get($);return K?F.forEach(te=>K.add(te)):_.set($,F),w.delete($),!0}class yo{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(K,te)=>{},this._transitionEngine=new di(_,w,F),this._timelineEngine=new ro(_,w,F),this._transitionEngine.onRemovalComplete=(K,te)=>this.onRemovalComplete(K,te)}registerTrigger(_,w,F,K,te){const ce=_+"-"+K;let _e=this._triggerCache[ce];if(!_e){const We=[],vt=[],Jt=_i(this._driver,te,We,vt);if(We.length)throw function ye($,_){return new q.vHH(3404,!1)}();_e=function jo($,_,w){return new zi($,_,w)}(K,Jt,this._normalizer),this._triggerCache[ce]=_e}this._transitionEngine.registerTrigger(w,K,_e)}register(_,w){this._transitionEngine.register(_,w)}destroy(_,w){this._transitionEngine.destroy(_,w)}onInsert(_,w,F,K){this._transitionEngine.insertNode(_,w,F,K)}onRemove(_,w,F,K){this._transitionEngine.removeNode(_,w,K||!1,F)}disableAnimations(_,w){this._transitionEngine.markElementAsDisabled(_,w)}process(_,w,F,K){if("@"==F.charAt(0)){const[te,ce]=Bt(F);this._timelineEngine.command(te,w,ce,K)}else this._transitionEngine.trigger(_,w,F,K)}listen(_,w,F,K,te){if("@"==F.charAt(0)){const[ce,_e]=Bt(F);return this._timelineEngine.listen(ce,w,_e,te)}return this._transitionEngine.listen(_,w,F,K,te)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let oo=(()=>{class ${constructor(w,F,K){this._element=w,this._startStyles=F,this._endStyles=K,this._state=0;let te=$.initialStylesByElement.get(w);te||$.initialStylesByElement.set(w,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Be(this._element,this._initialStyles),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(St(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),Be(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function _a($){let _=null;return $.forEach((w,F)=>{(function x($){return"display"===$||"position"===$})(F)&&(_=_||new Map,_.set(F,w))}),_}class N{constructor(_,w,F,K){this.element=_,this.keyframes=w,this.options=F,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const w=[];return _.forEach(F=>{w.push(Object.fromEntries(F))}),w}_triggerWebAnimation(_,w,F){return _.animate(this._convertKeyframesToObject(w),F)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,K)=>{"offset"!==K&&_.set(K,this._finished?F:Wt(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const w="start"===_?this._onStartFns:this._onDoneFns;w.forEach(F=>F()),w.length=0}}class k{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,w){return!1}containsElement(_,w){return Rn(_,w)}getParentElement(_){return yr(_)}query(_,w,F){return _t(_,w,F)}computeStyle(_,w,F){return window.getComputedStyle(_)[w]}animate(_,w,F,K,te,ce=[]){const We={duration:F,delay:K,fill:0==K?"both":"forwards"};te&&(We.easing=te);const vt=new Map,Jt=ce.filter(Un=>Un instanceof N);(function Bs($,_){return 0===$||0===_})(F,K)&&Jt.forEach(Un=>{Un.currentSnapshot.forEach((In,An)=>vt.set(An,In))});let un=function an($){return $.length?$[0]instanceof Map?$:$.map(_=>Pt(_)):[]}(w).map(Un=>sr(Un));un=function $i($,_,w){if(w.size&&_.length){let F=_[0],K=[];if(w.forEach((te,ce)=>{F.has(ce)||K.push(ce),F.set(ce,te)}),K.length)for(let te=1;te<_.length;te++){let ce=_[te];K.forEach(_e=>ce.set(_e,Wt($,_e)))}}return _}(_,un,vt);const ur=function so($,_){let w=null,F=null;return Array.isArray(_)&&_.length?(w=_a(_[0]),_.length>1&&(F=_a(_[_.length-1]))):_ instanceof Map&&(w=_a(_)),w||F?new oo($,w,F):null}(_,un);return new N(_,un,We,ur)}}var X=H(6895);let ze=(()=>{class $ extends Rt._j{constructor(w,F){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(F.body,{id:"0",encapsulation:q.ifc.None,styles:[],data:{animation:[]}})}build(w){const F=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(w)?(0,Rt.vP)(w):w;return Lr(this._renderer,null,F,"register",[K]),new pn(F,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(X.K0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class pn extends Rt.LC{constructor(_,w){super(),this._id=_,this._renderer=w}create(_,w){return new Cr(this._id,_,w||{},this._renderer)}}class Cr{constructor(_,w,F,K){this.id=_,this.element=w,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(_,w){return this._renderer.listen(this.element,`@@${this.id}:${_}`,w)}_command(_,...w){return Lr(this._renderer,this.element,this.id,_,w)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Lr($,_,w,F,K){return $.setProperty(_,`@@${w}:${F}`,K)}const Gs="@.disabled";let xo=(()=>{class ${constructor(w,F,K){this.delegate=w,this.engine=F,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(te,ce)=>{const _e=ce?.parentNode(te);_e&&ce.removeChild(_e,te)}}createRenderer(w,F){const te=this.delegate.createRenderer(w,F);if(!(w&&F&&F.data&&F.data.animation)){let Jt=this._rendererCache.get(te);return Jt||(Jt=new pi("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,Jt)),Jt}const ce=F.id,_e=F.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,w);const We=Jt=>{Array.isArray(Jt)?Jt.forEach(We):this.engine.registerTrigger(ce,_e,w,Jt.name,Jt)};return F.data.animation.forEach(We),new Si(this,_e,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,F,K){w>=0&&w<this._microtaskId?this._zone.run(()=>F(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ce,_e]=te;ce(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(yo),q.LFG(q.R0b))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class pi{constructor(_,w,F,K){this.namespaceId=_,this.delegate=w,this.engine=F,this._onDestroy=K,this.destroyNode=this.delegate.destroyNode?te=>w.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,w){return this.delegate.createElement(_,w)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,w){this.delegate.appendChild(_,w),this.engine.onInsert(this.namespaceId,w,_,!1)}insertBefore(_,w,F,K=!0){this.delegate.insertBefore(_,w,F),this.engine.onInsert(this.namespaceId,w,_,K)}removeChild(_,w,F){this.engine.onRemove(this.namespaceId,w,this.delegate,F)}selectRootElement(_,w){return this.delegate.selectRootElement(_,w)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,w,F,K){this.delegate.setAttribute(_,w,F,K)}removeAttribute(_,w,F){this.delegate.removeAttribute(_,w,F)}addClass(_,w){this.delegate.addClass(_,w)}removeClass(_,w){this.delegate.removeClass(_,w)}setStyle(_,w,F,K){this.delegate.setStyle(_,w,F,K)}removeStyle(_,w,F){this.delegate.removeStyle(_,w,F)}setProperty(_,w,F){"@"==w.charAt(0)&&w==Gs?this.disableAnimations(_,!!F):this.delegate.setProperty(_,w,F)}setValue(_,w){this.delegate.setValue(_,w)}listen(_,w,F){return this.delegate.listen(_,w,F)}disableAnimations(_,w){this.engine.disableAnimations(_,w)}}class Si extends pi{constructor(_,w,F,K,te){super(w,F,K,te),this.factory=_,this.namespaceId=w}setProperty(_,w,F){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Gs?this.disableAnimations(_,F=void 0===F||!!F):this.engine.process(this.namespaceId,_,w.slice(1),F):this.delegate.setProperty(_,w,F)}listen(_,w,F){if("@"==w.charAt(0)){const K=function Wr($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(_);let te=w.slice(1),ce="";return"@"!=te.charAt(0)&&([te,ce]=function ki($){const _=$.indexOf(".");return[$.substring(0,_),$.slice(_+1)]}(te)),this.engine.listen(this.namespaceId,K,te,ce,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,F,_e)})}return this.delegate.listen(_,w,F)}}const Ro=[{provide:Rt._j,useClass:ze},{provide:bs,useFactory:function Dr(){return new $o}},{provide:yo,useClass:(()=>{class $ extends yo{constructor(w,F,K,te){super(w.body,F,K)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(X.K0),q.LFG(re),q.LFG(bs),q.LFG(q.z2F))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:q.FYo,useFactory:function cs($,_,w){return new xo($,_,w)},deps:[p.se,yo,q.R0b]}],ds=[{provide:re,useFactory:()=>new k},{provide:q.QbO,useValue:"BrowserAnimations"},...Ro],ka=[{provide:re,useClass:st},{provide:q.QbO,useValue:"NoopAnimations"},...Ro];let ou=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?ka:ds}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({providers:ds,imports:[p.b2]}),$})();var Ia=H(7185),uo=H(2011),As=H(1205),Es=H(9313),aa=H(3692),Go=H(529);let vo=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$,bootstrap:[ft]}),$.\u0275inj=q.cJS({imports:[Go.JF,p.b2,de,(0,aa.hX)(()=>(0,aa.ZF)(dt_firebase)),(0,Es.Cm)(()=>(0,Es.ad)()),As.ww,uo.hO.initializeApp(dt_firebase),Es.Um,At.u5,X.ez,At.UX,ou,Ia.Rh.forRoot()]}),$})();p.q6().bootstrapModule(vo).catch($=>console.error($))},9751:(Xt,Xe,H)=>{H.d(Xe,{y:()=>Te});var p=H(2961),B=H(727),q=H(8822),Ie=H(9635),Ee=H(2416),ve=H(576),Re=H(2806);let Te=(()=>{class Se{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const At=new Se;return At.source=this,At.operator=dt,At}subscribe(dt,At,Rt){const nt=function he(Se){return Se&&Se instanceof p.Lv||function de(Se){return Se&&(0,ve.m)(Se.next)&&(0,ve.m)(Se.error)&&(0,ve.m)(Se.complete)}(Se)&&(0,B.Nn)(Se)}(dt)?dt:new p.Hp(dt,At,Rt);return(0,Re.x)(()=>{const{operator:gt,source:Ct}=this;nt.add(gt?gt.call(nt,Ct):Ct?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(At){dt.error(At)}}forEach(dt,At){return new(At=Ve(At))((Rt,nt)=>{const gt=new p.Hp({next:Ct=>{try{dt(Ct)}catch(bt){nt(bt),gt.unsubscribe()}},error:nt,complete:Rt});this.subscribe(gt)})}_subscribe(dt){var At;return null===(At=this.source)||void 0===At?void 0:At.subscribe(dt)}[q.L](){return this}pipe(...dt){return(0,Ie.U)(dt)(this)}toPromise(dt){return new(dt=Ve(dt))((At,Rt)=>{let nt;this.subscribe(gt=>nt=gt,gt=>Rt(gt),()=>At(nt))})}}return Se.create=ft=>new Se(ft),Se})();function Ve(Se){var ft;return null!==(ft=Se??Ee.v.Promise)&&void 0!==ft?ft:Promise}},7579:(Xt,Xe,H)=>{H.d(Xe,{x:()=>Re});var p=H(9751),B=H(727);const Ie=(0,H(3888).d)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=H(8737),ve=H(2806);let Re=(()=>{class Ve extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Se=new Te(this,this);return Se.operator=he,Se}_throwIfClosed(){if(this.closed)throw new Ie}next(he){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(he)}})}error(he){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Se}=this;for(;Se.length;)Se.shift().error(he)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Se,isStopped:ft,observers:dt}=this;return Se||ft?B.Lc:(this.currentObservers=null,dt.push(he),new B.w0(()=>{this.currentObservers=null,(0,Ee.P)(dt,he)}))}_checkFinalizedStatuses(he){const{hasError:Se,thrownError:ft,isStopped:dt}=this;Se?he.error(ft):dt&&he.complete()}asObservable(){const he=new p.y;return he.source=this,he}}return Ve.create=(de,he)=>new Te(de,he),Ve})();class Te extends Re{constructor(de,he){super(),this.destination=de,this.source=he}next(de){var he,Se;null===(Se=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Se||Se.call(he,de)}error(de){var he,Se;null===(Se=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Se||Se.call(he,de)}complete(){var de,he;null===(he=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===he||he.call(de)}_subscribe(de){var he,Se;return null!==(Se=null===(he=this.source)||void 0===he?void 0:he.subscribe(de))&&void 0!==Se?Se:B.Lc}}},2961:(Xt,Xe,H)=>{H.d(Xe,{Hp:()=>Rt,Lv:()=>Se});var p=H(576),B=H(727),q=H(2416),Ie=H(7849);function Ee(){}const ve=Ve("C",void 0,void 0);function Ve(je,we,et){return{kind:je,value:we,error:et}}var de=H(3410),he=H(2806);class Se extends B.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,B.Nn)(we)&&we.add(this)):this.destination=bt}static create(we,et,Dt){return new Rt(we,et,Dt)}next(we){this.isStopped?Ct(function Te(je){return Ve("N",je,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ct(function Re(je){return Ve("E",void 0,je)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ct(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function dt(je,we){return ft.call(je,we)}class At{constructor(we){this.partialObserver=we}next(we){const{partialObserver:et}=this;if(et.next)try{et.next(we)}catch(Dt){nt(Dt)}}error(we){const{partialObserver:et}=this;if(et.error)try{et.error(we)}catch(Dt){nt(Dt)}else nt(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(et){nt(et)}}}class Rt extends Se{constructor(we,et,Dt){let ot;if(super(),(0,p.m)(we)||!we)ot={next:we??void 0,error:et??void 0,complete:Dt??void 0};else{let Le;this&&q.v.useDeprecatedNextContext?(Le=Object.create(we),Le.unsubscribe=()=>this.unsubscribe(),ot={next:we.next&&dt(we.next,Le),error:we.error&&dt(we.error,Le),complete:we.complete&&dt(we.complete,Le)}):ot=we}this.destination=new At(ot)}}function nt(je){q.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(je):(0,Ie.h)(je)}function Ct(je,we){const{onStoppedNotification:et}=q.v;et&&de.z.setTimeout(()=>et(je,we))}const bt={closed:!0,next:Ee,error:function gt(je){throw je},complete:Ee}},727:(Xt,Xe,H)=>{H.d(Xe,{Lc:()=>ve,w0:()=>Ee,Nn:()=>Re});var p=H(576);const q=(0,H(3888).d)(Ve=>function(he){Ve(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Se,ft)=>`${ft+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var Ie=H(8737);class Ee{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const dt of he)dt.remove(this);else he.remove(this);const{initialTeardown:Se}=this;if((0,p.m)(Se))try{Se()}catch(dt){de=dt instanceof q?dt.errors:[dt]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const dt of ft)try{Te(dt)}catch(At){de=de??[],At instanceof q?de=[...de,...At.errors]:de.push(At)}}if(de)throw new q(de)}}add(de){var he;if(de&&de!==this)if(this.closed)Te(de);else{if(de instanceof Ee){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(de)}}_hasParent(de){const{_parentage:he}=this;return he===de||Array.isArray(he)&&he.includes(de)}_addParent(de){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(de),he):he?[he,de]:de}_removeParent(de){const{_parentage:he}=this;he===de?this._parentage=null:Array.isArray(he)&&(0,Ie.P)(he,de)}remove(de){const{_finalizers:he}=this;he&&(0,Ie.P)(he,de),de instanceof Ee&&de._removeParent(this)}}Ee.EMPTY=(()=>{const Ve=new Ee;return Ve.closed=!0,Ve})();const ve=Ee.EMPTY;function Re(Ve){return Ve instanceof Ee||Ve&&"closed"in Ve&&(0,p.m)(Ve.remove)&&(0,p.m)(Ve.add)&&(0,p.m)(Ve.unsubscribe)}function Te(Ve){(0,p.m)(Ve)?Ve():Ve.unsubscribe()}},2416:(Xt,Xe,H)=>{H.d(Xe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Xt,Xe,H)=>{H.d(Xe,{E:()=>B});const B=new(H(9751).y)(Ee=>Ee.complete())},8996:(Xt,Xe,H)=>{H.d(Xe,{D:()=>we});var p=H(8421),B=H(5363),q=H(9468),ve=H(9751),Te=H(2202),Ve=H(576),de=H(9672);function Se(et,Dt){if(!et)throw new Error("Iterable cannot be null");return new ve.y(ot=>{(0,de.f)(ot,Dt,()=>{const Le=et[Symbol.asyncIterator]();(0,de.f)(ot,Dt,()=>{Le.next().then(Nt=>{Nt.done?ot.complete():ot.next(Nt.value)})},0,!0)})})}var ft=H(3670),dt=H(8239),At=H(1144),Rt=H(6495),nt=H(2206),gt=H(4532),Ct=H(3260);function we(et,Dt){return Dt?function je(et,Dt){if(null!=et){if((0,ft.c)(et))return function Ie(et,Dt){return(0,p.Xf)(et).pipe((0,q.R)(Dt),(0,B.Q)(Dt))}(et,Dt);if((0,At.z)(et))return function Re(et,Dt){return new ve.y(ot=>{let Le=0;return Dt.schedule(function(){Le===et.length?ot.complete():(ot.next(et[Le++]),ot.closed||this.schedule())})})}(et,Dt);if((0,dt.t)(et))return function Ee(et,Dt){return(0,p.Xf)(et).pipe((0,q.R)(Dt),(0,B.Q)(Dt))}(et,Dt);if((0,nt.D)(et))return Se(et,Dt);if((0,Rt.T)(et))return function he(et,Dt){return new ve.y(ot=>{let Le;return(0,de.f)(ot,Dt,()=>{Le=et[Te.h](),(0,de.f)(ot,Dt,()=>{let Nt,sn;try{({value:Nt,done:sn}=Le.next())}catch(zt){return void ot.error(zt)}sn?ot.complete():ot.next(Nt)},0,!0)}),()=>(0,Ve.m)(Le?.return)&&Le.return()})}(et,Dt);if((0,Ct.L)(et))return function bt(et,Dt){return Se((0,Ct.Q)(et),Dt)}(et,Dt)}throw(0,gt.z)(et)}(et,Dt):(0,p.Xf)(et)}},8421:(Xt,Xe,H)=>{H.d(Xe,{Xf:()=>ft});var p=H(655),B=H(1144),q=H(8239),Ie=H(9751),Ee=H(3670),ve=H(2206),Re=H(4532),Te=H(6495),Ve=H(3260),de=H(576),he=H(7849),Se=H(8822);function ft(je){if(je instanceof Ie.y)return je;if(null!=je){if((0,Ee.c)(je))return function dt(je){return new Ie.y(we=>{const et=je[Se.L]();if((0,de.m)(et.subscribe))return et.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(je);if((0,B.z)(je))return function At(je){return new Ie.y(we=>{for(let et=0;et<je.length&&!we.closed;et++)we.next(je[et]);we.complete()})}(je);if((0,q.t)(je))return function Rt(je){return new Ie.y(we=>{je.then(et=>{we.closed||(we.next(et),we.complete())},et=>we.error(et)).then(null,he.h)})}(je);if((0,ve.D)(je))return gt(je);if((0,Te.T)(je))return function nt(je){return new Ie.y(we=>{for(const et of je)if(we.next(et),we.closed)return;we.complete()})}(je);if((0,Ve.L)(je))return function Ct(je){return gt((0,Ve.Q)(je))}(je)}throw(0,Re.z)(je)}function gt(je){return new Ie.y(we=>{(function bt(je,we){var et,Dt,ot,Le;return(0,p.mG)(this,void 0,void 0,function*(){try{for(et=(0,p.KL)(je);!(Dt=yield et.next()).done;)if(we.next(Dt.value),we.closed)return}catch(Nt){ot={error:Nt}}finally{try{Dt&&!Dt.done&&(Le=et.return)&&(yield Le.call(et))}finally{if(ot)throw ot.error}}we.complete()})})(je,we).catch(et=>we.error(et))})}},6451:(Xt,Xe,H)=>{H.d(Xe,{T:()=>ve});var p=H(8189),B=H(8421),q=H(515),Ie=H(3269),Ee=H(8996);function ve(...Re){const Te=(0,Ie.yG)(Re),Ve=(0,Ie._6)(Re,1/0),de=Re;return de.length?1===de.length?(0,B.Xf)(de[0]):(0,p.J)(Ve)((0,Ee.D)(de,Te)):q.E}},9646:(Xt,Xe,H)=>{H.d(Xe,{of:()=>q});var p=H(3269),B=H(8996);function q(...Ie){const Ee=(0,p.yG)(Ie);return(0,B.D)(Ie,Ee)}},5403:(Xt,Xe,H)=>{H.d(Xe,{x:()=>B});var p=H(2961);function B(Ie,Ee,ve,Re,Te){return new q(Ie,Ee,ve,Re,Te)}class q extends p.Lv{constructor(Ee,ve,Re,Te,Ve,de){super(Ee),this.onFinalize=Ve,this.shouldUnsubscribe=de,this._next=ve?function(he){try{ve(he)}catch(Se){Ee.error(Se)}}:super._next,this._error=Te?function(he){try{Te(he)}catch(Se){Ee.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(he){Ee.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(Ee=this.onFinalize)||void 0===Ee||Ee.call(this))}}}},4351:(Xt,Xe,H)=>{H.d(Xe,{b:()=>q});var p=H(5577),B=H(576);function q(Ie,Ee){return(0,B.m)(Ee)?(0,p.z)(Ie,Ee,1):(0,p.z)(Ie,1)}},6590:(Xt,Xe,H)=>{H.d(Xe,{d:()=>q});var p=H(4482),B=H(5403);function q(Ie){return(0,p.e)((Ee,ve)=>{let Re=!1;Ee.subscribe((0,B.x)(ve,Te=>{Re=!0,ve.next(Te)},()=>{Re||ve.next(Ie),ve.complete()}))})}},9300:(Xt,Xe,H)=>{H.d(Xe,{h:()=>q});var p=H(4482),B=H(5403);function q(Ie,Ee){return(0,p.e)((ve,Re)=>{let Te=0;ve.subscribe((0,B.x)(Re,Ve=>Ie.call(Ee,Ve,Te++)&&Re.next(Ve)))})}},590:(Xt,Xe,H)=>{H.d(Xe,{P:()=>Re});var p=H(6805),B=H(9300),q=H(5698),Ie=H(6590),Ee=H(8068),ve=H(4671);function Re(Te,Ve){const de=arguments.length>=2;return he=>he.pipe(Te?(0,B.h)((Se,ft)=>Te(Se,ft,he)):ve.y,(0,q.q)(1),de?(0,Ie.d)(Ve):(0,Ee.T)(()=>new p.K))}},4004:(Xt,Xe,H)=>{H.d(Xe,{U:()=>q});var p=H(4482),B=H(5403);function q(Ie,Ee){return(0,p.e)((ve,Re)=>{let Te=0;ve.subscribe((0,B.x)(Re,Ve=>{Re.next(Ie.call(Ee,Ve,Te++))}))})}},8189:(Xt,Xe,H)=>{H.d(Xe,{J:()=>q});var p=H(5577),B=H(4671);function q(Ie=1/0){return(0,p.z)(B.y,Ie)}},5577:(Xt,Xe,H)=>{H.d(Xe,{z:()=>Te});var p=H(4004),B=H(8421),q=H(4482),Ie=H(9672),Ee=H(5403),Re=H(576);function Te(Ve,de,he=1/0){return(0,Re.m)(de)?Te((Se,ft)=>(0,p.U)((dt,At)=>de(Se,dt,ft,At))((0,B.Xf)(Ve(Se,ft))),he):("number"==typeof de&&(he=de),(0,q.e)((Se,ft)=>function ve(Ve,de,he,Se,ft,dt,At,Rt){const nt=[];let gt=0,Ct=0,bt=!1;const je=()=>{bt&&!nt.length&&!gt&&de.complete()},we=Dt=>gt<Se?et(Dt):nt.push(Dt),et=Dt=>{dt&&de.next(Dt),gt++;let ot=!1;(0,B.Xf)(he(Dt,Ct++)).subscribe((0,Ee.x)(de,Le=>{ft?.(Le),dt?we(Le):de.next(Le)},()=>{ot=!0},void 0,()=>{if(ot)try{for(gt--;nt.length&&gt<Se;){const Le=nt.shift();At?(0,Ie.f)(de,At,()=>et(Le)):et(Le)}je()}catch(Le){de.error(Le)}}))};return Ve.subscribe((0,Ee.x)(de,we,()=>{bt=!0,je()})),()=>{Rt?.()}}(Se,ft,Ve,he)))}},5363:(Xt,Xe,H)=>{H.d(Xe,{Q:()=>Ie});var p=H(9672),B=H(4482),q=H(5403);function Ie(Ee,ve=0){return(0,B.e)((Re,Te)=>{Re.subscribe((0,q.x)(Te,Ve=>(0,p.f)(Te,Ee,()=>Te.next(Ve),ve),()=>(0,p.f)(Te,Ee,()=>Te.complete(),ve),Ve=>(0,p.f)(Te,Ee,()=>Te.error(Ve),ve)))})}},3099:(Xt,Xe,H)=>{H.d(Xe,{B:()=>Ee});var p=H(8421),B=H(7579),q=H(2961),Ie=H(4482);function Ee(Re={}){const{connector:Te=(()=>new B.x),resetOnError:Ve=!0,resetOnComplete:de=!0,resetOnRefCountZero:he=!0}=Re;return Se=>{let ft,dt,At,Rt=0,nt=!1,gt=!1;const Ct=()=>{dt?.unsubscribe(),dt=void 0},bt=()=>{Ct(),ft=At=void 0,nt=gt=!1},je=()=>{const we=ft;bt(),we?.unsubscribe()};return(0,Ie.e)((we,et)=>{Rt++,!gt&&!nt&&Ct();const Dt=At=At??Te();et.add(()=>{Rt--,0===Rt&&!gt&&!nt&&(dt=ve(je,he))}),Dt.subscribe(et),!ft&&Rt>0&&(ft=new q.Hp({next:ot=>Dt.next(ot),error:ot=>{gt=!0,Ct(),dt=ve(bt,Ve,ot),Dt.error(ot)},complete:()=>{nt=!0,Ct(),dt=ve(bt,de),Dt.complete()}}),(0,p.Xf)(we).subscribe(ft))})(Se)}}function ve(Re,Te,...Ve){if(!0===Te)return void Re();if(!1===Te)return;const de=new q.Hp({next:()=>{de.unsubscribe(),Re()}});return(0,p.Xf)(Te(...Ve)).subscribe(de)}},9468:(Xt,Xe,H)=>{H.d(Xe,{R:()=>B});var p=H(4482);function B(q,Ie=0){return(0,p.e)((Ee,ve)=>{ve.add(q.schedule(()=>Ee.subscribe(ve),Ie))})}},3900:(Xt,Xe,H)=>{H.d(Xe,{w:()=>Ie});var p=H(8421),B=H(4482),q=H(5403);function Ie(Ee,ve){return(0,B.e)((Re,Te)=>{let Ve=null,de=0,he=!1;const Se=()=>he&&!Ve&&Te.complete();Re.subscribe((0,q.x)(Te,ft=>{Ve?.unsubscribe();let dt=0;const At=de++;(0,p.Xf)(Ee(ft,At)).subscribe(Ve=(0,q.x)(Te,Rt=>Te.next(ve?ve(ft,Rt,At,dt++):Rt),()=>{Ve=null,Se()}))},()=>{he=!0,Se()}))})}},5698:(Xt,Xe,H)=>{H.d(Xe,{q:()=>Ie});var p=H(515),B=H(4482),q=H(5403);function Ie(Ee){return Ee<=0?()=>p.E:(0,B.e)((ve,Re)=>{let Te=0;ve.subscribe((0,q.x)(Re,Ve=>{++Te<=Ee&&(Re.next(Ve),Ee<=Te&&Re.complete())}))})}},8505:(Xt,Xe,H)=>{H.d(Xe,{b:()=>Ee});var p=H(576),B=H(4482),q=H(5403),Ie=H(4671);function Ee(ve,Re,Te){const Ve=(0,p.m)(ve)||Re||Te?{next:ve,error:Re,complete:Te}:ve;return Ve?(0,B.e)((de,he)=>{var Se;null===(Se=Ve.subscribe)||void 0===Se||Se.call(Ve);let ft=!0;de.subscribe((0,q.x)(he,dt=>{var At;null===(At=Ve.next)||void 0===At||At.call(Ve,dt),he.next(dt)},()=>{var dt;ft=!1,null===(dt=Ve.complete)||void 0===dt||dt.call(Ve),he.complete()},dt=>{var At;ft=!1,null===(At=Ve.error)||void 0===At||At.call(Ve,dt),he.error(dt)},()=>{var dt,At;ft&&(null===(dt=Ve.unsubscribe)||void 0===dt||dt.call(Ve)),null===(At=Ve.finalize)||void 0===At||At.call(Ve)}))}):Ie.y}},8068:(Xt,Xe,H)=>{H.d(Xe,{T:()=>Ie});var p=H(6805),B=H(4482),q=H(5403);function Ie(ve=Ee){return(0,B.e)((Re,Te)=>{let Ve=!1;Re.subscribe((0,q.x)(Te,de=>{Ve=!0,Te.next(de)},()=>Ve?Te.complete():Te.error(ve())))})}function Ee(){return new p.K}},4408:(Xt,Xe,H)=>{H.d(Xe,{o:()=>Ee});var p=H(727);class B extends p.w0{constructor(Re,Te){super()}schedule(Re,Te=0){return this}}const q={setInterval(ve,Re,...Te){const{delegate:Ve}=q;return Ve?.setInterval?Ve.setInterval(ve,Re,...Te):setInterval(ve,Re,...Te)},clearInterval(ve){const{delegate:Re}=q;return(Re?.clearInterval||clearInterval)(ve)},delegate:void 0};var Ie=H(8737);class Ee extends B{constructor(Re,Te){super(Re,Te),this.scheduler=Re,this.work=Te,this.pending=!1}schedule(Re,Te=0){var Ve;if(this.closed)return this;this.state=Re;const de=this.id,he=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(he,de,Te)),this.pending=!0,this.delay=Te,this.id=null!==(Ve=this.id)&&void 0!==Ve?Ve:this.requestAsyncId(he,this.id,Te),this}requestAsyncId(Re,Te,Ve=0){return q.setInterval(Re.flush.bind(Re,this),Ve)}recycleAsyncId(Re,Te,Ve=0){if(null!=Ve&&this.delay===Ve&&!1===this.pending)return Te;null!=Te&&q.clearInterval(Te)}execute(Re,Te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ve=this._execute(Re,Te);if(Ve)return Ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,Te){let de,Ve=!1;try{this.work(Re)}catch(he){Ve=!0,de=he||new Error("Scheduled action threw falsy error")}if(Ve)return this.unsubscribe(),de}unsubscribe(){if(!this.closed){const{id:Re,scheduler:Te}=this,{actions:Ve}=Te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ie.P)(Ve,this),null!=Re&&(this.id=this.recycleAsyncId(Te,Re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Xt,Xe,H)=>{H.d(Xe,{v:()=>q});var p=H(6063);class B{constructor(Ee,ve=B.now){this.schedulerActionCtor=Ee,this.now=ve}schedule(Ee,ve=0,Re){return new this.schedulerActionCtor(this,Ee).schedule(Re,ve)}}B.now=p.l.now;class q extends B{constructor(Ee,ve=B.now){super(Ee,ve),this.actions=[],this._active=!1}flush(Ee){const{actions:ve}=this;if(this._active)return void ve.push(Ee);let Re;this._active=!0;do{if(Re=Ee.execute(Ee.state,Ee.delay))break}while(Ee=ve.shift());if(this._active=!1,Re){for(;Ee=ve.shift();)Ee.unsubscribe();throw Re}}}},4986:(Xt,Xe,H)=>{H.d(Xe,{P:()=>Ie,z:()=>q});var p=H(4408);const q=new(H(7565).v)(p.o),Ie=q},6063:(Xt,Xe,H)=>{H.d(Xe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(Xt,Xe,H)=>{H.d(Xe,{z:()=>p});const p={setTimeout(B,q,...Ie){const{delegate:Ee}=p;return Ee?.setTimeout?Ee.setTimeout(B,q,...Ie):setTimeout(B,q,...Ie)},clearTimeout(B){const{delegate:q}=p;return(q?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(Xt,Xe,H)=>{H.d(Xe,{h:()=>B});const B=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Xt,Xe,H)=>{H.d(Xe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Xt,Xe,H)=>{H.d(Xe,{K:()=>B});const B=(0,H(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Xt,Xe,H)=>{H.d(Xe,{_6:()=>ve,jO:()=>Ie,yG:()=>Ee});var p=H(576),B=H(3532);function q(Re){return Re[Re.length-1]}function Ie(Re){return(0,p.m)(q(Re))?Re.pop():void 0}function Ee(Re){return(0,B.K)(q(Re))?Re.pop():void 0}function ve(Re,Te){return"number"==typeof q(Re)?Re.pop():Te}},4742:(Xt,Xe,H)=>{H.d(Xe,{D:()=>Ee});const{isArray:p}=Array,{getPrototypeOf:B,prototype:q,keys:Ie}=Object;function Ee(Re){if(1===Re.length){const Te=Re[0];if(p(Te))return{args:Te,keys:null};if(function ve(Re){return Re&&"object"==typeof Re&&B(Re)===q}(Te)){const Ve=Ie(Te);return{args:Ve.map(de=>Te[de]),keys:Ve}}}return{args:Re,keys:null}}},8737:(Xt,Xe,H)=>{function p(B,q){if(B){const Ie=B.indexOf(q);0<=Ie&&B.splice(Ie,1)}}H.d(Xe,{P:()=>p})},3888:(Xt,Xe,H)=>{function p(B){const Ie=B(Ee=>{Error.call(Ee),Ee.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}H.d(Xe,{d:()=>p})},1810:(Xt,Xe,H)=>{function p(B,q){return B.reduce((Ie,Ee,ve)=>(Ie[Ee]=q[ve],Ie),{})}H.d(Xe,{n:()=>p})},2806:(Xt,Xe,H)=>{H.d(Xe,{O:()=>Ie,x:()=>q});var p=H(2416);let B=null;function q(Ee){if(p.v.useDeprecatedSynchronousErrorHandling){const ve=!B;if(ve&&(B={errorThrown:!1,error:null}),Ee(),ve){const{errorThrown:Re,error:Te}=B;if(B=null,Re)throw Te}}else Ee()}function Ie(Ee){p.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=Ee)}},9672:(Xt,Xe,H)=>{function p(B,q,Ie,Ee=0,ve=!1){const Re=q.schedule(function(){Ie(),ve?B.add(this.schedule(null,Ee)):this.unsubscribe()},Ee);if(B.add(Re),!ve)return Re}H.d(Xe,{f:()=>p})},4671:(Xt,Xe,H)=>{function p(B){return B}H.d(Xe,{y:()=>p})},1144:(Xt,Xe,H)=>{H.d(Xe,{z:()=>p});const p=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(Xt,Xe,H)=>{H.d(Xe,{D:()=>B});var p=H(576);function B(q){return Symbol.asyncIterator&&(0,p.m)(q?.[Symbol.asyncIterator])}},576:(Xt,Xe,H)=>{function p(B){return"function"==typeof B}H.d(Xe,{m:()=>p})},3670:(Xt,Xe,H)=>{H.d(Xe,{c:()=>q});var p=H(8822),B=H(576);function q(Ie){return(0,B.m)(Ie[p.L])}},6495:(Xt,Xe,H)=>{H.d(Xe,{T:()=>q});var p=H(2202),B=H(576);function q(Ie){return(0,B.m)(Ie?.[p.h])}},8239:(Xt,Xe,H)=>{H.d(Xe,{t:()=>B});var p=H(576);function B(q){return(0,p.m)(q?.then)}},3260:(Xt,Xe,H)=>{H.d(Xe,{L:()=>Ie,Q:()=>q});var p=H(655),B=H(576);function q(Ee){return(0,p.FC)(this,arguments,function*(){const Re=Ee.getReader();try{for(;;){const{value:Te,done:Ve}=yield(0,p.qq)(Re.read());if(Ve)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Te)}}finally{Re.releaseLock()}})}function Ie(Ee){return(0,B.m)(Ee?.getReader)}},3532:(Xt,Xe,H)=>{H.d(Xe,{K:()=>B});var p=H(576);function B(q){return q&&(0,p.m)(q.schedule)}},4482:(Xt,Xe,H)=>{H.d(Xe,{A:()=>B,e:()=>q});var p=H(576);function B(Ie){return(0,p.m)(Ie?.lift)}function q(Ie){return Ee=>{if(B(Ee))return Ee.lift(function(ve){try{return Ie(ve,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Xt,Xe,H)=>{H.d(Xe,{Z:()=>Ie});var p=H(4004);const{isArray:B}=Array;function Ie(Ee){return(0,p.U)(ve=>function q(Ee,ve){return B(ve)?Ee(...ve):Ee(ve)}(Ee,ve))}},9635:(Xt,Xe,H)=>{H.d(Xe,{U:()=>q,z:()=>B});var p=H(4671);function B(...Ie){return q(Ie)}function q(Ie){return 0===Ie.length?p.y:1===Ie.length?Ie[0]:function(ve){return Ie.reduce((Re,Te)=>Te(Re),ve)}}},7849:(Xt,Xe,H)=>{H.d(Xe,{h:()=>q});var p=H(2416),B=H(3410);function q(Ie){B.z.setTimeout(()=>{const{onUnhandledError:Ee}=p.v;if(!Ee)throw Ie;Ee(Ie)})}},4532:(Xt,Xe,H)=>{function p(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Xe,{z:()=>p})},655:(Xt,Xe,H)=>{function Ie($e,rt){var qe={};for(var lt in $e)Object.prototype.hasOwnProperty.call($e,lt)&&rt.indexOf(lt)<0&&(qe[lt]=$e[lt]);if(null!=$e&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(lt=Object.getOwnPropertySymbols($e);wt<lt.length;wt++)rt.indexOf(lt[wt])<0&&Object.prototype.propertyIsEnumerable.call($e,lt[wt])&&(qe[lt[wt]]=$e[lt[wt]])}return qe}function Se($e,rt,qe,lt){return new(qe||(qe=Promise))(function(ct,kt){function be(Ue){try{ye(lt.next(Ue))}catch(It){kt(It)}}function Ze(Ue){try{ye(lt.throw(Ue))}catch(It){kt(It)}}function ye(Ue){Ue.done?ct(Ue.value):function wt(ct){return ct instanceof qe?ct:new qe(function(kt){kt(ct)})}(Ue.value).then(be,Ze)}ye((lt=lt.apply($e,rt||[])).next())})}function je($e){return this instanceof je?(this.v=$e,this):new je($e)}function we($e,rt,qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,lt=qe.apply($e,rt||[]),ct=[];return wt={},kt("next"),kt("throw"),kt("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function kt(jt){lt[jt]&&(wt[jt]=function(Zn){return new Promise(function($n,wr){ct.push([jt,Zn,$n,wr])>1||be(jt,Zn)})})}function be(jt,Zn){try{!function Ze(jt){jt.value instanceof je?Promise.resolve(jt.value.v).then(ye,Ue):It(ct[0][2],jt)}(lt[jt](Zn))}catch($n){It(ct[0][3],$n)}}function ye(jt){be("next",jt)}function Ue(jt){be("throw",jt)}function It(jt,Zn){jt(Zn),ct.shift(),ct.length&&be(ct[0][0],ct[0][1])}}function Dt($e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,rt=$e[Symbol.asyncIterator];return rt?rt.call($e):($e=function Rt($e){var rt="function"==typeof Symbol&&Symbol.iterator,qe=rt&&$e[rt],lt=0;if(qe)return qe.call($e);if($e&&"number"==typeof $e.length)return{next:function(){return $e&&lt>=$e.length&&($e=void 0),{value:$e&&$e[lt++],done:!$e}}};throw new TypeError(rt?"Object is not iterable.":"Symbol.iterator is not defined.")}($e),qe={},lt("next"),lt("throw"),lt("return"),qe[Symbol.asyncIterator]=function(){return this},qe);function lt(ct){qe[ct]=$e[ct]&&function(kt){return new Promise(function(be,Ze){!function wt(ct,kt,be,Ze){Promise.resolve(Ze).then(function(ye){ct({value:ye,done:be})},kt)}(be,Ze,(kt=$e[ct](kt)).done,kt.value)})}}}H.d(Xe,{FC:()=>we,KL:()=>Dt,_T:()=>Ie,mG:()=>Se,qq:()=>je})},7340:(Xt,Xe,H)=>{H.d(Xe,{LC:()=>B,SB:()=>Ve,X$:()=>Ie,ZE:()=>Ct,ZN:()=>gt,_j:()=>p,eR:()=>he,jt:()=>Ee,k1:()=>bt,l3:()=>q,oB:()=>Te,vP:()=>Re});class p{}class B{}const q="*";function Ie(je,we){return{type:7,name:je,definitions:we,options:{}}}function Ee(je,we=null){return{type:4,styles:we,timings:je}}function Re(je,we=null){return{type:2,steps:je,options:we}}function Te(je){return{type:6,styles:je,offset:null}}function Ve(je,we,et){return{type:0,name:je,styles:we,options:et}}function he(je,we,et=null){return{type:1,expr:je,animation:we,options:et}}function nt(je){Promise.resolve().then(je)}class gt{constructor(we=0,et=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+et}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){nt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Dt=>Dt()),et.length=0}}class Ct{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let et=0,Dt=0,ot=0;const Le=this.players.length;0==Le?nt(()=>this._onFinish()):this.players.forEach(Nt=>{Nt.onDone(()=>{++et==Le&&this._onFinish()}),Nt.onDestroy(()=>{++Dt==Le&&this._onDestroy()}),Nt.onStart(()=>{++ot==Le&&this._onStart()})}),this.totalTime=this.players.reduce((Nt,sn)=>Math.max(Nt,sn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const et=we*this.totalTime;this.players.forEach(Dt=>{const ot=Dt.totalTime?Math.min(1,et/Dt.totalTime):1;Dt.setPosition(ot)})}getPosition(){const we=this.players.reduce((et,Dt)=>null===et||Dt.totalTime>et.totalTime?Dt:et,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const et="start"==we?this._onStartFns:this._onDoneFns;et.forEach(Dt=>Dt()),et.length=0}}const bt="!"},6895:(Xt,Xe,H)=>{H.d(Xe,{Do:()=>Ct,EM:()=>io,HT:()=>Ie,JF:()=>Hs,K0:()=>ve,Mx:()=>$i,O5:()=>De,PM:()=>no,S$:()=>Rt,V_:()=>Ve,Ye:()=>bt,b0:()=>gt,bD:()=>Co,ez:()=>os,mk:()=>Cn,q:()=>q,sg:()=>gs,w_:()=>Ee});var p=H(4650);let B=null;function q(){return B}function Ie(A){B||(B=A)}class Ee{}const ve=new p.OlP("DocumentToken");let Re=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Te(){return(0,p.LFG)(de)}()},providedIn:"platform"}),A})();const Ve=new p.OlP("Location Initialized");let de=(()=>{class A extends Re{constructor(P){super(),this._doc=P,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(P){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",P,!1),()=>Z.removeEventListener("popstate",P)}onHashChange(P){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",P,!1),()=>Z.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,Z,ae){he()?this._history.pushState(P,Z,ae):this._location.hash=ae}replaceState(P,Z,ae){he()?this._history.replaceState(P,Z,ae):this._location.hash=ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(ve))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Se(){return new de((0,p.LFG)(ve))}()},providedIn:"platform"}),A})();function he(){return!!window.history.pushState}function ft(A,U){if(0==A.length)return U;if(0==U.length)return A;let P=0;return A.endsWith("/")&&P++,U.startsWith("/")&&P++,2==P?A+U.substring(1):1==P?A+U:A+"/"+U}function dt(A){const U=A.match(/#|\?|$/),P=U&&U.index||A.length;return A.slice(0,P-("/"===A[P-1]?1:0))+A.slice(P)}function At(A){return A&&"?"!==A[0]?"?"+A:A}let Rt=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(gt)},providedIn:"root"}),A})();const nt=new p.OlP("appBaseHref");let gt=(()=>{class A extends Rt{constructor(P,Z){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return ft(this._baseHref,P)}path(P=!1){const Z=this._platformLocation.pathname+At(this._platformLocation.search),ae=this._platformLocation.hash;return ae&&P?`${Z}${ae}`:Z}pushState(P,Z,ae,it){const tt=this.prepareExternalUrl(ae+At(it));this._platformLocation.pushState(P,Z,tt)}replaceState(P,Z,ae,it){const tt=this.prepareExternalUrl(ae+At(it));this._platformLocation.replaceState(P,Z,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(Re),p.LFG(nt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Ct=(()=>{class A extends Rt{constructor(P,Z){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(P){const Z=ft(this._baseHref,P);return Z.length>0?"#"+Z:Z}pushState(P,Z,ae,it){let tt=this.prepareExternalUrl(ae+At(it));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(P,Z,tt)}replaceState(P,Z,ae,it){let tt=this.prepareExternalUrl(ae+At(it));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(P,Z,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(p.LFG(Re),p.LFG(nt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac}),A})(),bt=(()=>{class A{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const Z=this._locationStrategy.getBaseHref();this._basePath=function Dt(A){if(new RegExp("^(https?:)?//").test(A)){const[,P]=A.split(/\/\/[^\/]+/);return P}return A}(dt(et(Z))),this._locationStrategy.onPopState(ae=>{this._subject.emit({url:this.path(!0),pop:!0,state:ae.state,type:ae.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,Z=""){return this.path()==this.normalize(P+At(Z))}normalize(P){return A.stripTrailingSlash(function we(A,U){if(!A||!U.startsWith(A))return U;const P=U.substring(A.length);return""===P||["/",";","?","#"].includes(P[0])?P:U}(this._basePath,et(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,Z="",ae=null){this._locationStrategy.pushState(ae,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+At(Z)),ae)}replaceState(P,Z="",ae=null){this._locationStrategy.replaceState(ae,"",P,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+At(Z)),ae)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",Z){this._urlChangeListeners.forEach(ae=>ae(P,Z))}subscribe(P,Z,ae){return this._subject.subscribe({next:P,error:Z,complete:ae})}}return A.normalizeQueryParams=At,A.joinWithSlash=ft,A.stripTrailingSlash=dt,A.\u0275fac=function(P){return new(P||A)(p.LFG(Rt))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function je(){return new bt((0,p.LFG)(Rt))}()},providedIn:"root"}),A})();function et(A){return A.replace(/\/index.html$/,"")}function $i(A,U){U=encodeURIComponent(U);for(const P of A.split(";")){const Z=P.indexOf("="),[ae,it]=-1==Z?[P,""]:[P.slice(0,Z),P.slice(Z+1)];if(ae.trim()===U)return decodeURIComponent(it)}return null}const tr=/\s+/,Wt=[];let Cn=(()=>{class A{constructor(P,Z,ae,it){this._iterableDiffers=P,this._keyValueDiffers=Z,this._ngEl=ae,this._renderer=it,this.initialClasses=Wt,this.stateMap=new Map}set klass(P){this.initialClasses=null!=P?P.trim().split(tr):Wt}set ngClass(P){this.rawClass="string"==typeof P?P.trim().split(tr):P}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const P=this.rawClass;if(Array.isArray(P)||P instanceof Set)for(const Z of P)this._updateState(Z,!0);else if(null!=P)for(const Z of Object.keys(P))this._updateState(Z,Boolean(P[Z]));this._applyStateDiff()}_updateState(P,Z){const ae=this.stateMap.get(P);void 0!==ae?(ae.enabled!==Z&&(ae.changed=!0,ae.enabled=Z),ae.touched=!0):this.stateMap.set(P,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const P of this.stateMap){const Z=P[0],ae=P[1];ae.changed?(this._toggleClass(Z,ae.enabled),ae.changed=!1):ae.touched||(ae.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),ae.touched=!1}}_toggleClass(P,Z){(P=P.trim()).length>0&&P.split(tr).forEach(ae=>{Z?this._renderer.addClass(this._ngEl.nativeElement,ae):this._renderer.removeClass(this._ngEl.nativeElement,ae)})}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class ci{constructor(U,P,Z,ae){this.$implicit=U,this.ngForOf=P,this.index=Z,this.count=ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class A{set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}constructor(P,Z,ae){this._viewContainer=P,this._template=Z,this._differs=ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Z=this._viewContainer;P.forEachOperation((ae,it,tt)=>{if(null==ae.previousIndex)Z.createEmbeddedView(this._template,new ci(ae.item,this._ngForOf,-1,-1),null===tt?void 0:tt);else if(null==tt)Z.remove(null===it?void 0:it);else if(null!==it){const qt=Z.get(it);Z.move(qt,tt),Fr(qt,ae)}});for(let ae=0,it=Z.length;ae<it;ae++){const qt=Z.get(ae).context;qt.index=ae,qt.count=it,qt.ngForOf=this._ngForOf}P.forEachIdentityChange(ae=>{Fr(Z.get(ae.currentIndex),ae)})}static ngTemplateContextGuard(P,Z){return!0}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Fr(A,U){A.context.$implicit=U.item}let De=(()=>{class A{constructor(P,Z){this._viewContainer=P,this._context=new Me,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){mt("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){mt("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Z){return!0}}return A.\u0275fac=function(P){return new(P||A)(p.Y36(p.s_b),p.Y36(p.Rgc))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Me{constructor(){this.$implicit=null,this.ngIf=null}}function mt(A,U){if(U&&!U.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,p.AaK)(U)}'.`)}let os=(()=>{class A{}return A.\u0275fac=function(P){return new(P||A)},A.\u0275mod=p.oAB({type:A}),A.\u0275inj=p.cJS({}),A})();const Co="browser",ms="server";function no(A){return A===ms}let io=(()=>{class A{}return A.\u0275prov=(0,p.Yz7)({token:A,providedIn:"root",factory:()=>new sa((0,p.LFG)(ve),window)}),A})();class sa{constructor(U,P){this.document=U,this.window=P,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const P=function ys(A,U){const P=A.getElementById(U)||A.getElementsByName(U)[0];if(P)return P;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const Z=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ae=Z.currentNode;for(;ae;){const it=ae.shadowRoot;if(it){const tt=it.getElementById(U)||it.querySelector(`[name="${U}"]`);if(tt)return tt}ae=Z.nextNode()}}return null}(this.document,U);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=U)}}scrollToElement(U){const P=U.getBoundingClientRect(),Z=P.left+this.window.pageXOffset,ae=P.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(Z-it[0],ae-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=bi(this.window.history)||bi(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bi(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Hs{}},529:(Xt,Xe,H)=>{H.d(Xe,{JF:()=>Rn,eN:()=>rt});var p=H(6895),B=H(4650),q=H(9646),Ie=H(9751),Ee=H(4351),ve=H(9300),Re=H(4004);class Te{}class Ve{}class de{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(Ae=>{const Ke=Ae.indexOf(":");if(Ke>0){const pt=Ae.slice(0,Ke),se=pt.toLowerCase(),ie=Ae.slice(Ke+1).trim();this.maybeSetNormalizedName(pt,se),this.headers.has(se)?this.headers.get(se).push(ie):this.headers.set(se,[ie])}})}:()=>{this.headers=new Map,Object.entries(re).forEach(([Ae,Ke])=>{let pt;if(pt="string"==typeof Ke?[Ke]:"number"==typeof Ke?[Ke.toString()]:Ke.map(se=>se.toString()),pt.length>0){const se=Ae.toLowerCase();this.headers.set(se,pt),this.maybeSetNormalizedName(Ae,se)}})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const Ae=this.headers.get(re.toLowerCase());return Ae&&Ae.length>0?Ae[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,Ae){return this.clone({name:re,value:Ae,op:"a"})}set(re,Ae){return this.clone({name:re,value:Ae,op:"s"})}delete(re,Ae){return this.clone({name:re,value:Ae,op:"d"})}maybeSetNormalizedName(re,Ae){this.normalizedNames.has(Ae)||this.normalizedNames.set(Ae,re)}init(){this.lazyInit&&(this.lazyInit instanceof de?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(Ae=>{this.headers.set(Ae,re.headers.get(Ae)),this.normalizedNames.set(Ae,re.normalizedNames.get(Ae))})}clone(re){const Ae=new de;return Ae.lazyInit=this.lazyInit&&this.lazyInit instanceof de?this.lazyInit:this,Ae.lazyUpdate=(this.lazyUpdate||[]).concat([re]),Ae}applyUpdate(re){const Ae=re.name.toLowerCase();switch(re.op){case"a":case"s":let Ke=re.value;if("string"==typeof Ke&&(Ke=[Ke]),0===Ke.length)return;this.maybeSetNormalizedName(re.name,Ae);const pt=("a"===re.op?this.headers.get(Ae):void 0)||[];pt.push(...Ke),this.headers.set(Ae,pt);break;case"d":const se=re.value;if(se){let ie=this.headers.get(Ae);if(!ie)return;ie=ie.filter(pe=>-1===se.indexOf(pe)),0===ie.length?(this.headers.delete(Ae),this.normalizedNames.delete(Ae)):this.headers.set(Ae,ie)}else this.headers.delete(Ae),this.normalizedNames.delete(Ae)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ae=>re(this.normalizedNames.get(Ae),this.headers.get(Ae)))}}class Se{encodeKey(re){return Rt(re)}encodeValue(re){return Rt(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const dt=/%(\d[a-f0-9])/gi,At={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rt(st){return encodeURIComponent(st).replace(dt,(re,Ae)=>At[Ae]??re)}function nt(st){return`${st}`}class gt{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new Se,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ft(st,re){const Ae=new Map;return st.length>0&&st.replace(/^\?/,"").split("&").forEach(pt=>{const se=pt.indexOf("="),[ie,pe]=-1==se?[re.decodeKey(pt),""]:[re.decodeKey(pt.slice(0,se)),re.decodeValue(pt.slice(se+1))],He=Ae.get(ie)||[];He.push(pe),Ae.set(ie,He)}),Ae}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(Ae=>{const Ke=re.fromObject[Ae],pt=Array.isArray(Ke)?Ke.map(nt):[nt(Ke)];this.map.set(Ae,pt)})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const Ae=this.map.get(re);return Ae?Ae[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,Ae){return this.clone({param:re,value:Ae,op:"a"})}appendAll(re){const Ae=[];return Object.keys(re).forEach(Ke=>{const pt=re[Ke];Array.isArray(pt)?pt.forEach(se=>{Ae.push({param:Ke,value:se,op:"a"})}):Ae.push({param:Ke,value:pt,op:"a"})}),this.clone(Ae)}set(re,Ae){return this.clone({param:re,value:Ae,op:"s"})}delete(re,Ae){return this.clone({param:re,value:Ae,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const Ae=this.encoder.encodeKey(re);return this.map.get(re).map(Ke=>Ae+"="+this.encoder.encodeValue(Ke)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const Ae=new gt({encoder:this.encoder});return Ae.cloneFrom=this.cloneFrom||this,Ae.updates=(this.updates||[]).concat(re),Ae}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const Ae=("a"===re.op?this.map.get(re.param):void 0)||[];Ae.push(nt(re.value)),this.map.set(re.param,Ae);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let Ke=this.map.get(re.param)||[];const pt=Ke.indexOf(nt(re.value));-1!==pt&&Ke.splice(pt,1),Ke.length>0?this.map.set(re.param,Ke):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class bt{constructor(){this.map=new Map}set(re,Ae){return this.map.set(re,Ae),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}has(re){return this.map.has(re)}keys(){return this.map.keys()}}function we(st){return typeof ArrayBuffer<"u"&&st instanceof ArrayBuffer}function et(st){return typeof Blob<"u"&&st instanceof Blob}function Dt(st){return typeof FormData<"u"&&st instanceof FormData}class Le{constructor(re,Ae,Ke,pt){let se;if(this.url=Ae,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function je(st){switch(st){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||pt?(this.body=void 0!==Ke?Ke:null,se=pt):se=Ke,se&&(this.reportProgress=!!se.reportProgress,this.withCredentials=!!se.withCredentials,se.responseType&&(this.responseType=se.responseType),se.headers&&(this.headers=se.headers),se.context&&(this.context=se.context),se.params&&(this.params=se.params)),this.headers||(this.headers=new de),this.context||(this.context=new bt),this.params){const ie=this.params.toString();if(0===ie.length)this.urlWithParams=Ae;else{const pe=Ae.indexOf("?");this.urlWithParams=Ae+(-1===pe?"?":pe<Ae.length-1?"&":"")+ie}}else this.params=new gt,this.urlWithParams=Ae}serializeBody(){return null===this.body?null:we(this.body)||et(this.body)||Dt(this.body)||function ot(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof gt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Dt(this.body)?null:et(this.body)?this.body.type||null:we(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof gt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){const Ae=re.method||this.method,Ke=re.url||this.url,pt=re.responseType||this.responseType,se=void 0!==re.body?re.body:this.body,ie=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,pe=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let He=re.headers||this.headers,Oe=re.params||this.params;const Mt=re.context??this.context;return void 0!==re.setHeaders&&(He=Object.keys(re.setHeaders).reduce((me,le)=>me.set(le,re.setHeaders[le]),He)),re.setParams&&(Oe=Object.keys(re.setParams).reduce((me,le)=>me.set(le,re.setParams[le]),Oe)),new Le(Ae,Ke,se,{params:Oe,headers:He,context:Mt,reportProgress:pe,responseType:pt,withCredentials:ie})}}var Nt=(()=>((Nt=Nt||{})[Nt.Sent=0]="Sent",Nt[Nt.UploadProgress=1]="UploadProgress",Nt[Nt.ResponseHeader=2]="ResponseHeader",Nt[Nt.DownloadProgress=3]="DownloadProgress",Nt[Nt.Response=4]="Response",Nt[Nt.User=5]="User",Nt))();class sn{constructor(re,Ae=200,Ke="OK"){this.headers=re.headers||new de,this.status=void 0!==re.status?re.status:Ae,this.statusText=re.statusText||Ke,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class zt extends sn{constructor(re={}){super(re),this.type=Nt.ResponseHeader}clone(re={}){return new zt({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class _n extends sn{constructor(re={}){super(re),this.type=Nt.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new _n({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class Ut extends sn{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function $e(st,re){return{body:re,headers:st.headers,context:st.context,observe:st.observe,params:st.params,reportProgress:st.reportProgress,responseType:st.responseType,withCredentials:st.withCredentials}}let rt=(()=>{class st{constructor(Ae){this.handler=Ae}request(Ae,Ke,pt={}){let se;if(Ae instanceof Le)se=Ae;else{let He,Oe;He=pt.headers instanceof de?pt.headers:new de(pt.headers),pt.params&&(Oe=pt.params instanceof gt?pt.params:new gt({fromObject:pt.params})),se=new Le(Ae,Ke,void 0!==pt.body?pt.body:null,{headers:He,context:pt.context,params:Oe,reportProgress:pt.reportProgress,responseType:pt.responseType||"json",withCredentials:pt.withCredentials})}const ie=(0,q.of)(se).pipe((0,Ee.b)(He=>this.handler.handle(He)));if(Ae instanceof Le||"events"===pt.observe)return ie;const pe=ie.pipe((0,ve.h)(He=>He instanceof _n));switch(pt.observe||"body"){case"body":switch(se.responseType){case"arraybuffer":return pe.pipe((0,Re.U)(He=>{if(null!==He.body&&!(He.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return He.body}));case"blob":return pe.pipe((0,Re.U)(He=>{if(null!==He.body&&!(He.body instanceof Blob))throw new Error("Response is not a Blob.");return He.body}));case"text":return pe.pipe((0,Re.U)(He=>{if(null!==He.body&&"string"!=typeof He.body)throw new Error("Response is not a string.");return He.body}));default:return pe.pipe((0,Re.U)(He=>He.body))}case"response":return pe;default:throw new Error(`Unreachable: unhandled observe type ${pt.observe}}`)}}delete(Ae,Ke={}){return this.request("DELETE",Ae,Ke)}get(Ae,Ke={}){return this.request("GET",Ae,Ke)}head(Ae,Ke={}){return this.request("HEAD",Ae,Ke)}jsonp(Ae,Ke){return this.request("JSONP",Ae,{params:(new gt).append(Ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ae,Ke={}){return this.request("OPTIONS",Ae,Ke)}patch(Ae,Ke,pt={}){return this.request("PATCH",Ae,$e(pt,Ke))}post(Ae,Ke,pt={}){return this.request("POST",Ae,$e(pt,Ke))}put(Ae,Ke,pt={}){return this.request("PUT",Ae,$e(pt,Ke))}}return st.\u0275fac=function(Ae){return new(Ae||st)(B.LFG(Te))},st.\u0275prov=B.Yz7({token:st,factory:st.\u0275fac}),st})();function qe(st,re){return re(st)}function lt(st,re){return(Ae,Ke)=>re.intercept(Ae,{handle:pt=>st(pt,Ke)})}const ct=new B.OlP("HTTP_INTERCEPTORS"),kt=new B.OlP("HTTP_INTERCEPTOR_FNS");function be(){let st=null;return(re,Ae)=>(null===st&&(st=((0,B.f3M)(ct,{optional:!0})??[]).reduceRight(lt,qe)),st(re,Ae))}let Ze=(()=>{class st extends Te{constructor(Ae,Ke){super(),this.backend=Ae,this.injector=Ke,this.chain=null}handle(Ae){if(null===this.chain){const Ke=Array.from(new Set(this.injector.get(kt)));this.chain=Ke.reduceRight((pt,se)=>function wt(st,re,Ae){return(Ke,pt)=>Ae.runInContext(()=>re(Ke,se=>st(se,pt)))}(pt,se,this.injector),qe)}return this.chain(Ae,Ke=>this.backend.handle(Ke))}}return st.\u0275fac=function(Ae){return new(Ae||st)(B.LFG(Ve),B.LFG(B.lqb))},st.\u0275prov=B.Yz7({token:st,factory:st.\u0275fac}),st})();const ln=/^\)\]\}',?\n/;let Mn=(()=>{class st{constructor(Ae){this.xhrFactory=Ae}handle(Ae){if("JSONP"===Ae.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ie.y(Ke=>{const pt=this.xhrFactory.build();if(pt.open(Ae.method,Ae.urlWithParams),Ae.withCredentials&&(pt.withCredentials=!0),Ae.headers.forEach((ne,fe)=>pt.setRequestHeader(ne,fe.join(","))),Ae.headers.has("Accept")||pt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ae.headers.has("Content-Type")){const ne=Ae.detectContentTypeHeader();null!==ne&&pt.setRequestHeader("Content-Type",ne)}if(Ae.responseType){const ne=Ae.responseType.toLowerCase();pt.responseType="json"!==ne?ne:"text"}const se=Ae.serializeBody();let ie=null;const pe=()=>{if(null!==ie)return ie;const ne=pt.statusText||"OK",fe=new de(pt.getAllResponseHeaders()),Qe=function zr(st){return"responseURL"in st&&st.responseURL?st.responseURL:/^X-Request-URL:/m.test(st.getAllResponseHeaders())?st.getResponseHeader("X-Request-URL"):null}(pt)||Ae.url;return ie=new zt({headers:fe,status:pt.status,statusText:ne,url:Qe}),ie},He=()=>{let{headers:ne,status:fe,statusText:Qe,url:Pt}=pe(),an=null;204!==fe&&(an=typeof pt.response>"u"?pt.responseText:pt.response),0===fe&&(fe=an?200:0);let Ln=fe>=200&&fe<300;if("json"===Ae.responseType&&"string"==typeof an){const sr=an;an=an.replace(ln,"");try{an=""!==an?JSON.parse(an):null}catch(er){an=sr,Ln&&(Ln=!1,an={error:er,text:an})}}Ln?(Ke.next(new _n({body:an,headers:ne,status:fe,statusText:Qe,url:Pt||void 0})),Ke.complete()):Ke.error(new Ut({error:an,headers:ne,status:fe,statusText:Qe,url:Pt||void 0}))},Oe=ne=>{const{url:fe}=pe(),Qe=new Ut({error:ne,status:pt.status||0,statusText:pt.statusText||"Unknown Error",url:fe||void 0});Ke.error(Qe)};let Mt=!1;const me=ne=>{Mt||(Ke.next(pe()),Mt=!0);let fe={type:Nt.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),"text"===Ae.responseType&&pt.responseText&&(fe.partialText=pt.responseText),Ke.next(fe)},le=ne=>{let fe={type:Nt.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(fe.total=ne.total),Ke.next(fe)};return pt.addEventListener("load",He),pt.addEventListener("error",Oe),pt.addEventListener("timeout",Oe),pt.addEventListener("abort",Oe),Ae.reportProgress&&(pt.addEventListener("progress",me),null!==se&&pt.upload&&pt.upload.addEventListener("progress",le)),pt.send(se),Ke.next({type:Nt.Sent}),()=>{pt.removeEventListener("error",Oe),pt.removeEventListener("abort",Oe),pt.removeEventListener("load",He),pt.removeEventListener("timeout",Oe),Ae.reportProgress&&(pt.removeEventListener("progress",me),null!==se&&pt.upload&&pt.upload.removeEventListener("progress",le)),pt.readyState!==pt.DONE&&pt.abort()}})}}return st.\u0275fac=function(Ae){return new(Ae||st)(B.LFG(p.JF))},st.\u0275prov=B.Yz7({token:st,factory:st.\u0275fac}),st})();const Ft=new B.OlP("XSRF_ENABLED"),Pr=new B.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qr=new B.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vi{}let Yn=(()=>{class st{constructor(Ae,Ke,pt){this.doc=Ae,this.platform=Ke,this.cookieName=pt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ae=this.doc.cookie||"";return Ae!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(Ae,this.cookieName),this.lastCookieString=Ae),this.lastToken}}return st.\u0275fac=function(Ae){return new(Ae||st)(B.LFG(p.K0),B.LFG(B.Lbi),B.LFG(Pr))},st.\u0275prov=B.Yz7({token:st,factory:st.\u0275fac}),st})();function gn(st,re){const Ae=st.url.toLowerCase();if(!(0,B.f3M)(Ft)||"GET"===st.method||"HEAD"===st.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return re(st);const Ke=(0,B.f3M)(vi).getToken(),pt=(0,B.f3M)(qr);return null!=Ke&&!st.headers.has(pt)&&(st=st.clone({headers:st.headers.set(pt,Ke)})),re(st)}var Vt=(()=>((Vt=Vt||{})[Vt.Interceptors=0]="Interceptors",Vt[Vt.LegacyInterceptors=1]="LegacyInterceptors",Vt[Vt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Vt[Vt.NoXsrfProtection=3]="NoXsrfProtection",Vt[Vt.JsonpSupport=4]="JsonpSupport",Vt[Vt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Vt))();function Ar(st,re){return{\u0275kind:st,\u0275providers:re}}function Ur(...st){const re=[rt,Mn,Ze,{provide:Te,useExisting:Ze},{provide:Ve,useExisting:Mn},{provide:kt,useValue:gn,multi:!0},{provide:Ft,useValue:!0},{provide:vi,useClass:Yn}];for(const Ae of st)re.push(...Ae.\u0275providers);return(0,B.MR2)(re)}const li=new B.OlP("LEGACY_INTERCEPTOR_FN");let Rn=(()=>{class st{}return st.\u0275fac=function(Ae){return new(Ae||st)},st.\u0275mod=B.oAB({type:st}),st.\u0275inj=B.cJS({providers:[Ur(Ar(Vt.LegacyInterceptors,[{provide:li,useFactory:be},{provide:kt,useExisting:li,multi:!0}]))]}),st})()},4650:(Xt,Xe,H)=>{H.d(Xe,{$8M:()=>ba,$WT:()=>Or,$Z:()=>Jd,AFp:()=>Ew,AaK:()=>Te,Akn:()=>Du,AsE:()=>Ed,BQk:()=>_d,CHM:()=>k,CRH:()=>$0,CZH:()=>Uv,CqO:()=>Mc,D6c:()=>GI,EJc:()=>aI,EiD:()=>rp,EpF:()=>hl,F4k:()=>Ac,FYo:()=>nd,FiY:()=>Yt,Gf:()=>B0,GfV:()=>mp,Gpc:()=>he,JOm:()=>Ma,JVY:()=>Jf,JZr:()=>Rt,Jf7:()=>Pm,KtG:()=>X,L6k:()=>gc,LAX:()=>Nh,LFG:()=>Rn,LSH:()=>fr,Lbi:()=>rI,Lck:()=>jE,MAs:()=>hy,MMx:()=>im,MR2:()=>Cm,NdJ:()=>mf,OlP:()=>Jn,Oqu:()=>Zl,P3R:()=>Bd,PXZ:()=>II,Q6J:()=>uh,QGY:()=>lh,QbO:()=>iI,Qsj:()=>$h,R0b:()=>zu,RDi:()=>qf,Rgc:()=>Ch,SBq:()=>sl,Sil:()=>lI,Suo:()=>Pv,TTD:()=>ro,TgZ:()=>pf,Tol:()=>Cf,Udp:()=>Ag,VKq:()=>yv,W1O:()=>H0,WLB:()=>A0,X6Q:()=>SI,XFs:()=>Ft,Xpm:()=>Ln,Xts:()=>Rl,Y36:()=>Fu,YKP:()=>_0,YNc:()=>dy,Yjl:()=>wn,Yz7:()=>It,Z0I:()=>wr,ZZ4:()=>fE,_Bn:()=>v0,_UZ:()=>gf,_Vd:()=>td,_c5:()=>HI,_uU:()=>Fg,aQg:()=>pE,c2e:()=>sI,cJS:()=>Zn,cg1:()=>fs,d8E:()=>Id,dDg:()=>vI,dqk:()=>Yn,eBb:()=>Ld,eFA:()=>Ow,eJc:()=>kv,ekj:()=>hh,eoX:()=>Mw,f3M:()=>Mr,g9A:()=>Iw,h0i:()=>bd,hGG:()=>zI,hij:()=>ph,iGM:()=>U0,ifc:()=>He,ip1:()=>_w,jDz:()=>Sd,kL8:()=>Cu,lG2:()=>fn,lqb:()=>Nl,lri:()=>Sw,mCW:()=>Vd,n5z:()=>Ws,oAB:()=>Be,oJD:()=>Em,oxw:()=>_f,pB0:()=>kh,q3G:()=>qi,q4F:()=>xm,qLn:()=>Kd,qOj:()=>af,qZA:()=>yd,qzn:()=>Zc,rWj:()=>Aw,sBO:()=>AI,s_b:()=>Md,soG:()=>Bv,tb:()=>Rw,tp0:()=>Mi,uIk:()=>oh,vHH:()=>nt,vpe:()=>Hu,wAp:()=>Bn,xp6:()=>bp,ynx:()=>vd,z2F:()=>$v,z3N:()=>nl,zSh:()=>cp,zs3:()=>Bl});var p=H(7579),B=H(727),q=H(9751),Ie=H(6451),Ee=H(3099);function ve(n){for(let i in n)if(n[i]===ve)return i;throw Error("Could not find renamed property on target object.")}function Re(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ve(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=ve({__forward_ref__:ve});function he(n){return n.__forward_ref__=he,n.toString=function(){return Te(this())},n}function Se(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===he}function dt(n){return n&&!!n.\u0275providers}const Rt="https://g.co/ng/security#xss";class nt extends Error{constructor(i,o){super(gt(i,o)),this.code=i}}function gt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Ct(n){return"string"==typeof n?n:null==n?"":String(n)}function Dt(n,i){throw new nt(-201,!1)}function kt(n,i){null==n&&function be(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Zn(n){return{providers:n.providers||[],imports:n.imports||[]}}function $n(n){return gr(n,Hr)||gr(n,zr)}function wr(n){return null!==$n(n)}function gr(n,i){return n.hasOwnProperty(i)?n[i]:null}function cr(n){return n&&(n.hasOwnProperty(ln)||n.hasOwnProperty(Mn))?n[ln]:null}const Hr=ve({\u0275prov:ve}),ln=ve({\u0275inj:ve}),zr=ve({ngInjectableDef:ve}),Mn=ve({ngInjectorDef:ve});var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();let jn;function ir(n){const i=jn;return jn=n,i}function qr(n,i,o){const u=$n(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ft.Optional?null:void 0!==i?i:void Dt(Te(n))}const Yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ar={},Ur="__NG_DI_FLAG__",yr="ngTempTokenPath",li="ngTokenPath",Gr=/\n/gm,kr="\u0275",lr="__source";let Bi;function Xn(n){const i=Bi;return Bi=n,i}function Ti(n,i=Ft.Default){if(void 0===Bi)throw new nt(-203,!1);return null===Bi?qr(n,void 0,i):Bi.get(n,i&Ft.Optional?null:void 0,i)}function Rn(n,i=Ft.Default){return(function Pr(){return jn}()||Ti)(Se(n),i)}function Mr(n,i=Ft.Default){return Rn(n,st(i))}function st(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function re(n){const i=[];for(let o=0;o<n.length;o++){const u=Se(n[o]);if(Array.isArray(u)){if(0===u.length)throw new nt(900,!1);let l,h=Ft.Default;for(let v=0;v<u.length;v++){const S=u[v],O=Ke(S);"number"==typeof O?-1===O?l=S.token:h|=O:l=S}i.push(Rn(l,h))}else i.push(Rn(u))}return i}function Ae(n,i){return n[Ur]=i,n.prototype[Ur]=i,n}function Ke(n){return n[Ur]}function ie(n){return{toString:n}.toString()}var pe=(()=>((pe=pe||{})[pe.OnPush=0]="OnPush",pe[pe.Default=1]="Default",pe))(),He=(()=>{return(n=He||(He={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",He;var n})();const Oe={},Mt=[],me=ve({\u0275cmp:ve}),le=ve({\u0275dir:ve}),ne=ve({\u0275pipe:ve}),fe=ve({\u0275mod:ve}),Qe=ve({\u0275fac:ve}),Pt=ve({__NG_ELEMENT_ID__:ve});let an=0;function Ln(n){return ie(()=>{const i=Us(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||He.Emulated,id:"c"+an++,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null};Bs(o);const u=n.dependencies;return o.directiveDefs=$i(u,!1),o.pipeDefs=$i(u,!0),o})}function er(n){return en(n)||Nn(n)}function at(n){return null!==n}function Be(n){return ie(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qt(n,i){if(null==n)return Oe;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function fn(n){return ie(()=>{const i=Us(n);return Bs(i),i})}function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function en(n){return n[me]||null}function Nn(n){return n[le]||null}function Wn(n){return n[ne]||null}function Or(n){const i=en(n)||Nn(n)||Wn(n);return null!==i&&i.standalone}function Br(n,i){const o=n[fe]||null;if(!o&&!0===i)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return o}function Us(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qt(n.inputs,i),outputs:Qt(n.outputs)}}function Bs(n){n.features?.forEach(i=>i(n))}function $i(n,i){if(!n)return null;const o=i?Wn:er;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(at)}const tr=0,Wt=1,Cn=2,vr=3,Qn=4,Ji=5,ci=6,gs=7,Fr=8,ke=9,De=10,Me=11,mt=12,xt=13,yn=14,Pn=15,vn=16,kn=17,_i=18,$r=19,Zr=20,si=21,Ir=22,wo=1,eo=2,Hi=7,Xi=8,Zi=9,Yr=10;function Ci(n){return Array.isArray(n)&&"object"==typeof n[wo]}function es(n){return Array.isArray(n)&&!0===n[wo]}function $s(n){return 0!=(4&n.flags)}function js(n){return n.componentOffset>-1}function Cs(n){return 1==(1&n.flags)}function dr(n){return!!n.template}function xr(n){return 0!=(256&n[Cn])}function Oi(n,i){return n.hasOwnProperty(Qe)?n[Qe]:null}class va{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ro(){return io}function io(n){return n.type.prototype.ngOnChanges&&(n.setInput=bi),sa}function sa(){const n=So(this),i=n?.current;if(i){const o=n.previous;if(o===Oe)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function bi(n,i,o,u){const l=this.declaredInputs[o],h=So(n)||function Hs(n,i){return n[ys]=i}(n,{previous:Oe,current:null}),v=h.current||(h.current={}),S=h.previous,O=S[l];v[l]=new va(O&&O.currentValue,i,S===Oe),n[u]=i}ro.ngInherit=!0;const ys="__ngSimpleChanges__";function So(n){return n[ys]||null}const Nr=function(n,i,o){};function Hn(n){for(;Array.isArray(n);)n=n[tr];return n}function ls(n,i){return Hn(i[n])}function di(n,i){return Hn(i[n.index])}function Ao(n,i){return n.data[i]}function Qr(n,i){const o=i[n];return Ci(o)?o:o[tr]}function _s(n){return 64==(64&n[Cn])}function Jr(n,i){return null==i?null:n[i]}function ti(n){n[_i]=0}function fi(n,i){n[Ji]+=i;let o=n,u=n[vr];for(;null!==u&&(1===i&&1===o[Ji]||-1===i&&0===o[Ji]);)u[Ji]+=i,o=u,u=u[vr]}const xn={lFrame:Go(null),bindingsEnabled:!0};function so(){return xn.bindingsEnabled}function x(){return xn.lFrame.lView}function N(){return xn.lFrame.tView}function k(n){return xn.lFrame.contextLView=n,n[Fr]}function X(n){return xn.lFrame.contextLView=null,n}function ze(){let n=pn();for(;null!==n&&64===n.type;)n=n.parent;return n}function pn(){return xn.lFrame.currentTNode}function Lr(n,i){const o=xn.lFrame;o.currentTNode=n,o.isParent=i}function Li(){return xn.lFrame.isParent}function Gs(){xn.lFrame.isParent=!1}function Wr(){const n=xn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Dr(){return xn.lFrame.bindingIndex++}function cs(n){const i=xn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function ka(n,i){const o=xn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ei(i)}function Ei(n){xn.lFrame.currentDirectiveIndex=n}function Ea(n){const i=xn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function wa(){return xn.lFrame.currentQueryIndex}function Ia(n){xn.lFrame.currentQueryIndex=n}function uo(n){const i=n[Wt];return 2===i.type?i.declTNode:1===i.type?n[ci]:null}function As(n,i,o){if(o&Ft.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Ft.Host||(l=uo(h),null===l||(h=h[Pn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=xn.lFrame=aa();return u.currentTNode=i,u.lView=n,!0}function Es(n){const i=aa(),o=n[Wt];xn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function aa(){const n=xn.lFrame,i=null===n?null:n.child;return null===i?Go(n):i}function Go(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function vo(){const n=xn.lFrame;return xn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const $=vo;function _(){const n=vo();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function K(){return xn.lFrame.selectedIndex}function te(n){xn.lFrame.selectedIndex=n}function ce(){const n=xn.lFrame;return Ao(n.tView,n.selectedIndex)}function Un(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:j,ngOnDestroy:J}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),O&&(n.viewHooks??(n.viewHooks=[])).push(-o,O),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=J&&(n.destroyHooks??(n.destroyHooks=[])).push(o,J)}}function In(n,i,o){U(n,i,3,o)}function An(n,i,o,u){(3&n[Cn])===o&&U(n,i,o,u)}function A(n,i){let o=n[Cn];(3&o)===i&&(o&=2047,o+=1,n[Cn]=o)}function U(n,i,o,u){const h=u??-1,v=i.length-1;let S=0;for(let O=void 0!==u?65535&n[_i]:0;O<v;O++)if("number"==typeof i[O+1]){if(S=i[O],null!=u&&S>=u)break}else i[O]<0&&(n[_i]+=65536),(S<h||-1==h)&&(P(n,o,i,O),n[_i]=(4294901760&n[_i])+O+2),O++}function P(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[Cn]>>11<n[_i]>>16&&(3&n[Cn])===i){n[Cn]+=2048,Nr(4,S,h);try{h.call(S)}finally{Nr(5,S,h)}}}else{Nr(4,S,h);try{h.call(S)}finally{Nr(5,S,h)}}}const Z=-1;class ae{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ar(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],S=o[u++];n.setAttribute(i,v,S,h)}else{const h=l,v=o[++u];hs(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function ai(n){return 3===n||4===n||6===n}function hs(n){return 64===n.charCodeAt(0)}function Gt(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||mn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function mn(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){v=-1;break}if(S>i){v=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function dn(n){return n!==Z}function Fn(n){return 32767&n}function gi(n,i){let o=function hr(n){return n>>16}(n),u=i;for(;o>0;)u=u[Pn],o--;return u}let wi=!0;function Yi(n){const i=wi;return wi=n,i}const Wo=255,Da=5;let Ai=0;const mi={};function ua(n,i){const o=Gu(n,i);if(-1!==o)return o;const u=i[Wt];u.firstCreatePass&&(n.injectorIndex=i.length,xs(u.data,n),xs(i,null),xs(u.blueprint,null));const l=Ri(n,i),h=n.injectorIndex;if(dn(l)){const v=Fn(l),S=gi(l,i),O=S[Wt].data;for(let j=0;j<8;j++)i[h+j]=S[v+j]|O[v+j]}return i[h+8]=l,h}function xs(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Gu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Ri(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Ya(l),null===u)return Z;if(o++,l=l[Pn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Z}function la(n,i,o){!function Ms(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Pt)&&(u=o[Pt]),null==u&&(u=o[Pt]=Ai++);const l=u&Wo;i.data[n+(l>>Da)]|=1<<l}(n,i,o)}function Wu(n,i,o){if(o&Ft.Optional||void 0!==n)return n;Dt()}function Ko(n,i,o,u){if(o&Ft.Optional&&void 0===u&&(u=null),!(o&(Ft.Self|Ft.Host))){const l=n[ke],h=ir(void 0);try{return l?l.get(i,u,o&Ft.Optional):qr(i,u,o&Ft.Optional)}finally{ir(h)}}return Wu(u,0,o)}function au(n,i,o,u=Ft.Default,l){if(null!==n){if(1024&i[Cn]){const v=function Xr(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[Cn]&&!(256&v[Cn]);){const S=uu(h,v,o,u|Ft.Self,mi);if(S!==mi)return S;let O=h.parent;if(!O){const j=v[si];if(j){const J=j.get(o,mi,u);if(J!==mi)return J}O=Ya(v),v=v[Pn]}h=O}return l}(n,i,o,u,mi);if(v!==mi)return v}const h=uu(n,i,o,u,mi);if(h!==mi)return h}return Ko(i,o,u,l)}function uu(n,i,o,u,l){const h=function ri(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Pt)?n[Pt]:void 0;return"number"==typeof i?i>=0?i&Wo:Ku:i}(o);if("function"==typeof h){if(!As(i,n,u))return u&Ft.Host?Wu(l,0,u):Ko(i,o,u,l);try{const v=h(u);if(null!=v||u&Ft.Optional)return v;Dt()}finally{$()}}else if("number"==typeof h){let v=null,S=Gu(n,i),O=Z,j=u&Ft.Host?i[vn][ci]:null;for((-1===S||u&Ft.SkipSelf)&&(O=-1===S?Ri(n,i):i[S+8],O!==Z&&ca(u,!1)?(v=i[Wt],S=Fn(O),i=gi(O,i)):S=-1);-1!==S;){const J=i[Wt];if(Ta(h,S,J.data)){const ue=Vi(S,i,o,v,u,j);if(ue!==mi)return ue}O=i[S+8],O!==Z&&ca(u,i[Wt].data[S+8]===j)&&Ta(h,S,i)?(v=J,S=Fn(O),i=gi(O,i)):S=-1}}return l}function Vi(n,i,o,u,l,h){const v=i[Wt],S=v.data[n+8],J=lu(S,v,o,null==u?js(S)&&wi:u!=v&&0!=(3&S.type),l&Ft.Host&&h===S);return null!==J?ni(i,v,J,S):mi}function lu(n,i,o,u,l){const h=n.providerIndexes,v=i.data,S=1048575&h,O=n.directiveStart,J=h>>20,Pe=l?S+J:n.directiveEnd;for(let Je=u?S:S+J;Je<Pe;Je++){const Tt=v[Je];if(Je<O&&o===Tt||Je>=O&&Tt.type===o)return Je}if(l){const Je=v[O];if(Je&&dr(Je)&&Je.type===o)return O}return null}function ni(n,i,o,u){let l=n[o];const h=i.data;if(function it(n){return n instanceof ae}(l)){const v=l;v.resolving&&function je(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new nt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function bt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ct(n)}(h[o]));const S=Yi(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?ir(v.injectImpl):null;As(n,u,Ft.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function ur(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=io(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==O&&ir(O),Yi(S),v.resolving=!1,$()}}return l}function Ta(n,i,o){return!!(o[i+(n>>Da)]&1<<n)}function ca(n,i){return!(n&Ft.Self||n&Ft.Host&&i)}class Po{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return au(this._tNode,this._lView,i,st(u),o)}}function Ku(){return new Po(ze(),x())}function Ws(n){return ie(()=>{const i=n.prototype.constructor,o=i[Qe]||Ca(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Qe]||Ca(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ca(n){return ft(n)?()=>{const i=Ca(Se(n));return i&&i()}:Oi(n)}function Ya(n){const i=n[Wt],o=i.type;return 2===o?i.declTNode:1===o?n[ci]:null}function ba(n){return function Fa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(ai(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(ze(),n)}const Gi="__parameters__";function da(n,i,o){return ie(()=>{const u=function Su(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return S.annotation=v,S;function S(O,j,J){const ue=O.hasOwnProperty(Gi)?O[Gi]:Object.defineProperty(O,Gi,{value:[]})[Gi];for(;ue.length<=J;)ue.push(null);return(ue[J]=ue[J]||[]).push(v),O}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Jn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=It({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zo(n,i){n.forEach(o=>Array.isArray(o)?Zo(o,i):i(o))}function ha(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ua(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Ot(n,i,o){let u=Is(n,i);return u>=0?n[1|u]=o:(u=~u,function Ba(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ei(n,i){const o=Is(n,i);if(o>=0)return n[1|o]}function Is(n,i){return function y(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Yt=Ae(da("Optional"),8),Mi=Ae(da("SkipSelf"),4);var Ma=(()=>((Ma=Ma||{})[Ma.Important=1]="Important",Ma[Ma.DashCase=2]="DashCase",Ma))();const Ps=new Map;let xh=0;const Ce="__ngContext__";function Fe(n,i){Ci(i)?(n[Ce]=i[Zr],function xa(n){Ps.set(n[Zr],n)}(i)):n[Ce]=i}let Fo;function Lo(n,i){return Fo(n,i)}function Wc(n){const i=n[vr];return es(i)?i[vr]:i}function Xu(n){return Kc(n[xt])}function za(n){return Kc(n[Qn])}function Kc(n){for(;null!==n&&!es(n);)n=n[Qn];return n}function ii(n,i,o,u,l){if(null!=u){let h,v=!1;es(u)?h=u:Ci(u)&&(v=!0,u=u[tr]);const S=Hn(u);0===n&&null!==o?null==l?Qs(i,o,S):Gn(i,o,S,l||null,!0):1===n&&null!==o?Gn(i,o,S,l||null,!0):2===n?function fc(n,i,o){const u=ya(n,i);u&&function ma(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,v):3===n&&i.destroyNode(S),null!=h&&function dm(n,i,o,u,l){const h=o[Hi];h!==Hn(o)&&ii(i,n,u,h,l);for(let S=Yr;S<o.length;S++){const O=o[S];Od(O[Wt],O,n,i,u,h)}}(i,n,h,o,l)}}function qc(n,i,o){return n.createElement(i,o)}function C(n,i){const o=n[Zi],u=o.indexOf(i),l=i[vr];512&i[Cn]&&(i[Cn]&=-513,fi(l,-1)),o.splice(u,1)}function z(n,i){if(n.length<=Yr)return;const o=Yr+i,u=n[o];if(u){const l=u[kn];null!==l&&l!==n&&C(l,u),i>0&&(n[o-1][Qn]=u[Qn]);const h=Ua(n,Yr+i);!function el(n,i){Od(n,i,i[Me],2,null,null),i[tr]=null,i[ci]=null}(u[Wt],u);const v=h[$r];null!==v&&v.detachView(h[Wt]),u[vr]=null,u[Qn]=null,u[Cn]&=-65}return u}function ee(n,i){if(!(128&i[Cn])){const o=i[Me];o.destroyNode&&Od(n,i,o,3,null,null),function I(n){let i=n[xt];if(!i)return Ne(n[Wt],n);for(;i;){let o=null;if(Ci(i))o=i[xt];else{const u=i[Yr];u&&(o=u)}if(!o){for(;i&&!i[Qn]&&i!==n;)Ci(i)&&Ne(i[Wt],i),i=i[vr];null===i&&(i=n),Ci(i)&&Ne(i[Wt],i),o=i&&i[Qn]}i=o}}(i)}}function Ne(n,i){if(!(128&i[Cn])){i[Cn]&=-65,i[Cn]|=128,function $t(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ae)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const S=l[h[v]],O=h[v+1];Nr(4,S,O);try{O.call(S)}finally{Nr(5,S,O)}}else{Nr(4,l,h);try{h.call(l)}finally{Nr(5,l,h)}}}}}(n,i),function ut(n,i){const o=n.cleanup,u=i[gs];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[gs]=null}}(n,i),1===i[Wt].type&&i[Me].destroy();const o=i[kn];if(null!==o&&es(i[vr])){o!==i[vr]&&C(o,i);const u=i[$r];null!==u&&u.detachView(n)}!function Pu(n){Ps.delete(n[Zr])}(i)}}function cn(n,i,o){return function En(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[tr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===He.None||h===He.Emulated)return null}return di(u,o)}}(n,i.parent,o)}function Gn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Qs(n,i,o){n.appendChild(i,o)}function _o(n,i,o,u,l){null!==u?Gn(n,i,o,u,l):Qs(n,i,o)}function ya(n,i){return n.parentNode(i)}let tu,Nd,Sl,kd,Tl=function Dl(n,i,o){return 40&n.type?di(n,o):null};function yu(n,i,o,u){const l=cn(n,u,i),h=i[Me],S=function Ou(n,i,o){return Tl(n,i,o)}(u.parent||i[ci],u,i);if(null!=l)if(Array.isArray(o))for(let O=0;O<o.length;O++)_o(h,l,o[O],S,!1);else _o(h,l,o,S,!1);void 0!==tu&&tu(h,u,i,o,l)}function dc(n,i){if(null!==i){const o=i.type;if(3&o)return di(i,n);if(4&o)return bl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return dc(n,u);{const l=n[i.index];return es(l)?bl(-1,l):Hn(l)}}if(32&o)return Lo(i,n)()||Hn(n[i.index]);{const u=hc(n,i);return null!==u?Array.isArray(u)?u[0]:dc(Wc(n[vn]),u):dc(n,i.next)}}return null}function hc(n,i){return null!==i?n[vn][ci].projection[i.projection]:null}function bl(n,i){const o=Yr+n+1;if(o<i.length){const u=i[o],l=u[Wt].firstChild;if(null!==l)return dc(u,l)}return i[Hi]}function Rh(n,i,o,u,l,h,v){for(;null!=o;){const S=u[o.index],O=o.type;if(v&&0===i&&(S&&Fe(Hn(S),u),o.flags|=2),32!=(32&o.flags))if(8&O)Rh(n,i,o.child,u,l,h,!1),ii(i,n,l,S,h);else if(32&O){const j=Lo(o,u);let J;for(;J=j();)ii(i,n,l,J,h);ii(i,n,l,S,h)}else 16&O?Kf(n,i,u,o,l,h):ii(i,n,l,S,h);o=v?o.projectionNext:o.next}}function Od(n,i,o,u,l,h){Rh(o,u,n.firstChild,i,l,h,!1)}function Kf(n,i,o,u,l,h){const v=o[vn],O=v[ci].projection[u.projection];if(Array.isArray(O))for(let j=0;j<O.length;j++)ii(i,n,l,O[j],h);else Rh(n,i,O,v[vr],l,h,!0)}function Ui(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function tl(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&ar(n,i,u),null!==l&&Ui(n,i,l),null!==h&&function hm(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function vu(n){return function Ph(){if(void 0===Nd&&(Nd=null,Yn.trustedTypes))try{Nd=Yn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nd}()?.createHTML(n)||n}function qf(n){Sl=n}function Fd(){if(void 0===kd&&(kd=null,Yn.trustedTypes))try{kd=Yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kd}function Zf(n){return Fd()?.createHTML(n)||n}function Qf(n){return Fd()?.createScriptURL(n)||n}class pc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Rt})`}}class Kv extends pc{getTypeName(){return"HTML"}}class qv extends pc{getTypeName(){return"Style"}}class pm extends pc{getTypeName(){return"Script"}}class Zv extends pc{getTypeName(){return"URL"}}class gm extends pc{getTypeName(){return"ResourceURL"}}function nl(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function Zc(n,i){const o=function Yv(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Rt})`)}return o===i}function Jf(n){return new Kv(n)}function gc(n){return new qv(n)}function Ld(n){return new pm(n)}function Nh(n){return new Zv(n)}function kh(n){return new gm(n)}class mm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(vu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class rl{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=vu(i),o}}const Yc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vd(n){return(n=String(n)).match(Yc)?n:"unsafe:"+n}function _u(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Al(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Fh=_u("area,br,col,hr,img,wbr"),Ml=_u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xo=_u("rp,rt"),Vh=Al(Fh,Al(Ml,_u("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Al(Xo,_u("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Al(Xo,Ml)),Ud=_u("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=Al(Ud,_u("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_u("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Jv=_u("script,style,template");class il{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Vh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Jv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),v=h.name,S=v.toLowerCase();if(!tp.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let O=h.value;Ud[S]&&(O=Vd(O)),this.buf.push(" ",v,'="',np(O),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Vh.hasOwnProperty(o)&&!Fh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(np(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Xv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ra=/([^\#-~ |!])/g;function np(n){return n.replace(/&/g,"&amp;").replace(Xv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ra,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function rp(n,i){let o=null;try{xl=xl||function Xf(n){const i=new rl(n);return function ym(){try{return!!(new window.DOMParser).parseFromString(vu(""),"text/html")}catch{return!1}}()?new mm(i):i}(n);let u=i?String(i):"";o=xl.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=xl.getInertBodyElement(u)}while(u!==h);return vu((new il).sanitizeChildren(nu(o)||o))}finally{if(o){const u=nu(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function nu(n){return"content"in n&&function _m(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var qi=(()=>((qi=qi||{})[qi.NONE=0]="NONE",qi[qi.HTML=1]="HTML",qi[qi.STYLE=2]="STYLE",qi[qi.SCRIPT=3]="SCRIPT",qi[qi.URL=4]="URL",qi[qi.RESOURCE_URL=5]="RESOURCE_URL",qi))();function Em(n){const i=Qc();return i?Zf(i.sanitize(qi.HTML,n)||""):Zc(n,"HTML")?Zf(nl(n)):rp(function Oh(){return void 0!==Sl?Sl:typeof document<"u"?document:void 0}(),Ct(n))}function fr(n){const i=Qc();return i?i.sanitize(qi.URL,n)||"":Zc(n,"URL")?nl(n):Vd(Ct(n))}function wm(n){const i=Qc();if(i)return Qf(i.sanitize(qi.RESOURCE_URL,n)||"");if(Zc(n,"ResourceURL"))return Qf(nl(n));throw new nt(904,!1)}function Bd(n,i,o){return function Tm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?wm:fr}(i,o)(n)}function Qc(){const n=x();return n&&n[mt]}const Rl=new Jn("ENVIRONMENT_INITIALIZER"),Pl=new Jn("INJECTOR",-1),sp=new Jn("INJECTOR_DEF_TYPES");class Ol{get(i,o=Ar){if(o===Ar){const u=new Error(`NullInjectorError: No provider for ${Te(i)}!`);throw u.name="NullInjectorError",u}return o}}function Cm(n){return{\u0275providers:n}}function Jc(...n){return{\u0275providers:op(0,n),\u0275fromNgModule:!0}}function op(n,...i){const o=[],u=new Set;let l;return Zo(i,h=>{const v=h;mc(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&ap(l,o),o}function ap(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];up(l,h=>{i.push(h)})}}function mc(n,i,o,u){if(!(n=Se(n)))return!1;let l=null,h=cr(n);const v=!h&&en(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const O=n.ngModule;if(h=cr(O),!h)return!1;l=O}const S=u.has(l);if(v){if(S)return!1;if(u.add(l),v.dependencies){const O="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of O)mc(j,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let j;u.add(l);try{Zo(h.imports,J=>{mc(J,i,o,u)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&ap(j,i)}if(!S){const j=Oi(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:Mt},{provide:sp,useValue:l,multi:!0},{provide:Rl,useValue:()=>Rn(l),multi:!0})}const O=h.providers;null==O||S||up(O,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}function up(n,i){for(let o of n)dt(o)&&(o=o.\u0275providers),Array.isArray(o)?up(o,i):i(o)}const Qi=ve({provide:String,useValue:ve});function Xc(n){return null!==n&&"object"==typeof n&&Qi in n}function yc(n){return"function"==typeof n}const cp=new Jn("Set Injector scope."),Hd={},ed={};let Eu;function zd(){return void 0===Eu&&(Eu=new Ol),Eu}class Nl{}class dp extends Nl{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jr(i,v=>this.processProvider(v)),this.records.set(Pl,Fl(void 0,this)),l.has("environment")&&this.records.set(Nl,Fl(void 0,this));const h=this.records.get(cp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(sp.multi,Mt,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Xn(this),u=ir(void 0);try{return i()}finally{Xn(o),ir(u)}}get(i,o=Ar,u=Ft.Default){this.assertNotDestroyed(),u=st(u);const l=Xn(this),h=ir(void 0);try{if(!(u&Ft.SkipSelf)){let S=this.records.get(i);if(void 0===S){const O=function Js(n){return"function"==typeof n||"object"==typeof n&&n instanceof Jn}(i)&&$n(i);S=O&&this.injectableDefInScope(O)?Fl(kl(i),Hd):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&Ft.Self?zd():this.parent).get(i,o=u&Ft.Optional&&o===Ar?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[yr]=v[yr]||[]).unshift(Te(i)),l)throw v;return function pt(n,i,o,u){const l=n[yr];throw i[lr]&&l.unshift(i[lr]),n.message=function se(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==kr?n.slice(2):n;let l=Te(i);if(Array.isArray(i))l=i.map(Te).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let S=i[v];h.push(v+":"+("string"==typeof S?JSON.stringify(S):Te(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Gr,"\n  ")}`}("\n"+n.message,l,o,u),n[li]=l,n[yr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{ir(h),Xn(l)}}resolveInjectorInitializers(){const i=Xn(this),o=ir(void 0);try{const u=this.get(Rl.multi,Mt,Ft.Self);for(const l of u)l()}finally{Xn(i),ir(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Te(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processProvider(i){let o=yc(i=Se(i))?i:Se(i&&i.provide);const u=function fp(n){return Xc(n)?Fl(void 0,n.useValue):Fl(Bh(n),Hd)}(i);if(yc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Fl(void 0,Hd,!0),l.factory=()=>re(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===Hd&&(o.value=ed,o.value=o.factory()),"object"==typeof o.value&&o.value&&function n_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Se(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function kl(n){const i=$n(n),o=null!==i?i.factory:Oi(n);if(null!==o)return o;if(n instanceof Jn)throw new nt(204,!1);if(n instanceof Function)return function hp(n){const i=n.length;if(i>0)throw function Ii(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new nt(204,!1);const o=function mr(n){return n&&(n[Hr]||n[zr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new nt(204,!1)}function Bh(n,i,o){let u;if(yc(n)){const l=Se(n);return Oi(l)||kl(l)}if(Xc(n))u=()=>Se(n.useValue);else if(function lp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...re(n.deps||[]));else if(function $d(n){return!(!n||!n.useExisting)}(n))u=()=>Rn(Se(n.useExisting));else{const l=Se(n&&(n.useClass||n.provide));if(!function t_(n){return!!n.deps}(n))return Oi(l)||kl(l);u=()=>new l(...re(n.deps))}return u}function Fl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function jr(n,i){for(const o of n)Array.isArray(o)?jr(o,i):o&&dt(o)?jr(o.\u0275providers,i):i(o)}class bm{}class pp{}class i_{resolveComponentFactory(i){throw function gp(n){const i=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let td=(()=>{class n{}return n.NULL=new i_,n})();function Sm(){return Ll(ze(),x())}function Ll(n,i){return new sl(di(n,i))}let sl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Sm,n})();function Wd(n){return n instanceof sl?n.nativeElement:n}class nd{}let $h=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Am(){const n=x(),o=Qr(ze().index,n);return(Ci(o)?o:n)[Me]}(),n})(),Mm=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class mp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const xm=new mp("15.2.9"),jh={},Hh="ngOriginalError";function yp(n){return n[Hh]}class Kd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&yp(i);for(;o&&yp(o);)o=yp(o);return o||null}}function Pm(n){return n.ownerDocument.defaultView}function Ga(n){return n instanceof Function?n():n}function Ip(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Om="ng-template";function l_(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Ip(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function id(n){return 4===n.type&&n.value!==Om}function Dp(n,i,o){return i===(4!==n.type||o?n.value:Om)}function c_(n,i,o){let u=4;const l=n.attrs||[],h=function Nm(n){for(let i=0;i<n.length;i++)if(ai(n[i]))return i;return n.length}(l);let v=!1;for(let S=0;S<i.length;S++){const O=i[S];if("number"!=typeof O){if(!v)if(4&u){if(u=2|1&u,""!==O&&!Dp(n,O,o)||""===O&&1===i.length){if(ru(u))return!1;v=!0}}else{const j=8&u?O:i[++S];if(8&u&&null!==n.attrs){if(!l_(n.attrs,j,o)){if(ru(u))return!1;v=!0}continue}const ue=Tp(8&u?"class":O,l,id(n),o);if(-1===ue){if(ru(u))return!1;v=!0;continue}if(""!==j){let Pe;Pe=ue>h?"":l[ue+1].toLowerCase();const Je=8&u?Pe:null;if(Je&&-1!==Ip(Je,j,0)||2&u&&j!==Pe){if(ru(u))return!1;v=!0}}}}else{if(!v&&!ru(u)&&!ru(O))return!1;if(v&&ru(O))continue;v=!1,u=O|1&u}}return ru(u)||v}function ru(n){return 0==(1&n)}function Tp(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function h_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Cp(n,i,o=!1){for(let u=0;u<i.length;u++)if(c_(n,i[u],o))return!0;return!1}function km(n,i){return n?":not("+i.trim()+")":i}function Vl(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const S=n[++o];l+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!ru(v)&&(i+=km(h,l),l=""),u=v,h=h||!ru(u);o++}return""!==l&&(i+=km(h,l)),i}const pr={};function bp(n){ku(N(),x(),K()+n,!1)}function ku(n,i,o,u){if(!u)if(3==(3&i[Cn])){const h=n.preOrderCheckHooks;null!==h&&In(i,h,o)}else{const h=n.preOrderHooks;null!==h&&An(i,h,0,o)}te(o)}function Gh(n,i=null,o=null,u){const l=Wh(n,i,o,u);return l.resolveInjectorInitializers(),l}function Wh(n,i=null,o=null,u,l=new Set){const h=[o||Mt,Jc(n)];return u=u||("object"==typeof n?void 0:Te(n)),new dp(h,i||zd(),u||null,l)}let Bl=(()=>{class n{static create(o,u){if(Array.isArray(o))return Gh({name:""},u,o,"");{const l=o.name??"";return Gh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Ar,n.NULL=new Ol,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>Rn(Pl)}),n.__NG_ELEMENT_ID__=-1,n})();function Fu(n,i=Ft.Default){const o=x();return null===o?Rn(n,i):au(ze(),o,Se(n),i)}function Jd(){throw new Error("invalid")}function Fp(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];Ia(o[u]),v.contentQueries(2,i[h],h)}}}function eh(n,i,o,u,l,h,v,S,O,j,J){const ue=i.blueprint.slice();return ue[tr]=l,ue[Cn]=76|u,(null!==J||n&&1024&n[Cn])&&(ue[Cn]|=1024),ti(ue),ue[vr]=ue[Pn]=n,ue[Fr]=o,ue[De]=v||n&&n[De],ue[Me]=S||n&&n[Me],ue[mt]=O||n&&n[mt]||null,ue[ke]=j||n&&n[ke]||null,ue[ci]=h,ue[Zr]=function sc(){return xh++}(),ue[si]=J,ue[vn]=2==i.type?n[vn]:ue,ue}function ol(n,i,o,u,l){let h=n.data[i];if(null===h)h=function ld(n,i,o,u,l){const h=pn(),v=Li(),O=n.data[i]=function I_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=O),null!==h&&(v?null==h.child&&null!==O.parent&&(h.child=O):null===h.next&&(h.next=O,O.prev=h)),O}(n,i,o,u,l),function Ro(){return xn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function Cr(){const n=xn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Lr(h,!0),h}function cd(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Lu(n,i,o){Es(i);try{const u=n.viewQuery;null!==u&&tf(1,u,o);const l=n.template;null!==l&&Lp(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fp(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const h=n.components;null!==h&&function ea(n,i){for(let o=0;o<i.length;o++)Xh(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Cn]&=-5,_()}}function al(n,i,o,u){const l=i[Cn];if(128!=(128&l)){Es(i);try{ti(i),function ao(n){return xn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lp(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&In(i,j,null)}else{const j=n.preOrderHooks;null!==j&&An(i,j,0,null),A(i,0)}if(function zp(n){for(let i=Xu(n);null!==i;i=za(i)){if(!i[eo])continue;const o=i[Zi];for(let u=0;u<o.length;u++){const l=o[u];512&l[Cn]||fi(l[vr],1),l[Cn]|=512}}}(i),function Jm(n){for(let i=Xu(n);null!==i;i=za(i))for(let o=Yr;o<i.length;o++){const u=i[o],l=u[Wt];_s(u)&&al(l,u,l.template,u[Fr])}}(i),null!==n.contentQueries&&Fp(n,i),v){const j=n.contentCheckHooks;null!==j&&In(i,j)}else{const j=n.contentHooks;null!==j&&An(i,j,1),A(i,1)}!function Xd(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)te(~l);else{const h=l,v=o[++u],S=o[++u];ka(v,h),S(2,i[h])}}}finally{te(-1)}}(n,i);const S=n.components;null!==S&&function Gm(n,i){for(let o=0;o<i.length;o++)Gp(n,i[o])}(i,S);const O=n.viewQuery;if(null!==O&&tf(2,O,u),v){const j=n.viewCheckHooks;null!==j&&In(i,j)}else{const j=n.viewHooks;null!==j&&An(i,j,2),A(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Cn]&=-41,512&i[Cn]&&(i[Cn]&=-513,fi(i[vr],-1))}finally{_()}}}function Lp(n,i,o,u,l){const h=K(),v=2&u;try{te(-1),v&&i.length>Ir&&ku(n,i,Ir,!1),Nr(v?2:0,l),o(u,l)}finally{te(h),Nr(v?3:1,l)}}function ul(n,i,o){if($s(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function Vp(n,i,o){so()&&(function b_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;js(o)&&function P_(n,i,o){const u=di(i,n),l=Up(o),h=n[De],v=hd(n,eh(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||ua(o,i),Fe(u,i);const v=o.initialInputs;for(let S=l;S<h;S++){const O=n.data[S],j=ni(i,n,S,o);Fe(j,i),null!==v&&Qh(0,S-l,j,O,0,v),dr(O)&&(Qr(o.index,i)[Fr]=ni(i,n,S,o))}}(n,i,o,di(o,i)),64==(64&o.flags)&&jp(n,i,o))}function jl(n,i,o=di){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],S=-1===v?o(i,n):n[v];n[l++]=S}}}function Up(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Vu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Vu(n,i,o,u,l,h,v,S,O,j){const J=Ir+u,ue=J+l,Pe=function Wm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:pr);return o}(J,ue),Je="function"==typeof j?j():j;return Pe[Wt]={type:n,blueprint:Pe,template:o,queries:null,viewQuery:S,declTNode:i,data:Pe.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ue,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:O,consts:Je,incompleteFirstPass:!1}}function Bp(n,i,o,u){const l=ey(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Kp(n).push(u,l.length-1))}function $p(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Km(o,i,l,h):u.hasOwnProperty(l)&&Km(o,i,u[l],h)}return o}function Km(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Wa(n,i,o,u,l,h,v,S){const O=di(i,o);let J,j=i.inputs;!S&&null!=j&&(J=j[u])?(Zp(n,o,J,u,l),js(i)&&function qm(n,i){const o=Qr(i,n);16&o[Cn]||(o[Cn]|=32)}(o,i.index)):3&i.type&&(u=function D_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(O,u,l))}function ll(n,i,o,u){if(so()){const l=null===u?null:{"":-1},h=function A_(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(Cp(i,v.selectors,!1))if(u||(u=[]),dr(v))if(null!==v.findHostDirectiveDefs){const S=[];l=l||new Map,v.findHostDirectiveDefs(v,S,l),u.unshift(...S,v),th(n,i,S.length)}else u.unshift(v),th(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,S;null===h?v=S=null:[v,S]=h,null!==v&&dd(n,i,o,v,l,S),l&&function Eo(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new nt(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Gt(o.mergedAttrs,o.attrs)}function dd(n,i,o,u,l,h){for(let j=0;j<u.length;j++)la(ua(o,i),n,u[j].type);!function x_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const J=u[j];J.providersResolver&&J.providersResolver(J)}let v=!1,S=!1,O=cd(n,i,u.length,null);for(let j=0;j<u.length;j++){const J=u[j];o.mergedAttrs=Gt(o.mergedAttrs,J.hostAttrs),R_(n,o,i,O,J),M_(O,J,l),null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const ue=J.type.prototype;!v&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!S&&(ue.ngOnChanges||ue.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),O++}!function Yh(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,S=[];let O=null,j=null;for(let J=i.directiveStart;J<l;J++){const ue=h[J],Pe=o?o.get(ue):null,Tt=Pe?Pe.outputs:null;O=$p(ue.inputs,J,O,Pe?Pe.inputs:null),j=$p(ue.outputs,J,j,Tt);const Kt=null===O||null===v||id(i)?null:Jh(O,J,v);S.push(Kt)}null!==O&&(O.hasOwnProperty("class")&&(i.flags|=8),O.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=O,i.outputs=j}(n,o,h)}function jp(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function ou(){return xn.lFrame.currentDirectiveIndex}();try{te(h);for(let S=u;S<l;S++){const O=n.data[S],j=i[S];Ei(S),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&S_(O,j)}}finally{te(-1),Ei(v)}}function S_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function th(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function M_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;dr(i)&&(o[""]=n)}}function R_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Oi(l.type)),v=new ae(h,dr(l),Fu);n.blueprint[u]=v,o[u]=v,function Zm(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const S=~i.index;(function Ym(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=S&&v.push(S),v.push(o,u,h)}}(n,i,u,cd(n,o,l.hostVars,pr),l)}function iu(n,i,o,u,l,h){const v=di(n,i);!function Hp(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const S=null==v?Ct(h):v(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[Me],v,h,n.value,o,u,l)}function Qh(n,i,o,u,l,h){const v=h[i];if(null!==v){const S=u.setInput;for(let O=0;O<v.length;){const j=v[O++],J=v[O++],ue=v[O++];null!==S?u.setInput(o,ue,j,J):o[J]=ue}}}function Jh(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let S=0;S<v.length;S+=2)if(v[S]===i){u.push(h,v[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Qm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Gp(n,i){const o=Qr(i,n);if(_s(o)){const u=o[Wt];48&o[Cn]?al(u,o,u.template,o[Fr]):o[Ji]>0&&wc(o)}}function wc(n){for(let u=Xu(n);null!==u;u=za(u))for(let l=Yr;l<u.length;l++){const h=u[l];if(_s(h))if(512&h[Cn]){const v=h[Wt];al(v,h,v.template,h[Fr])}else h[Ji]>0&&wc(h)}const o=n[Wt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=Qr(o[u],n);_s(l)&&l[Ji]>0&&wc(l)}}function Xh(n,i){const o=Qr(i,n),u=o[Wt];(function Wp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Lu(u,o,o[Fr])}function hd(n,i){return n[xt]?n[yn][Qn]=i:n[xt]=i,n[yn]=i,i}function nh(n){for(;n;){n[Cn]|=32;const i=Wc(n);if(xr(n)&&!i)return n;n=i}return null}function ef(n,i,o,u=!0){const l=i[De];l.begin&&l.begin();try{al(n,i,n.template,o)}catch(v){throw u&&qp(i,v),v}finally{l.end&&l.end()}}function tf(n,i,o){Ia(0),i(n,o)}function ey(n){return n[gs]||(n[gs]=[])}function Kp(n){return n.cleanup||(n.cleanup=[])}function qp(n,i){const o=n[ke],u=o?o.get(Kd,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],S=o[h++],O=i[v],j=n.data[v];null!==j.setInput?j.setInput(O,l,u,S):O[S]=l}}function Pa(n,i,o){const u=ls(i,n);!function Ys(n,i,o){n.setValue(i,o)}(n[Me],u,o)}function cl(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const S=i[v];"number"==typeof S?h=S:1==h?l=Ve(l,S):2==h&&(u=Ve(u,S+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function fd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Hn(h)),es(h))for(let S=Yr;S<h.length;S++){const O=h[S],j=O[Wt].firstChild;null!==j&&fd(O[Wt],O,j,u)}const v=o.type;if(8&v)fd(n,i,o.child,u);else if(32&v){const S=Lo(o,i);let O;for(;O=S();)u.push(O)}else if(16&v){const S=hc(i,o);if(Array.isArray(S))u.push(...S);else{const O=Wc(i[vn]);fd(O[Wt],O,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class Hl{get rootNodes(){const i=this._lView,o=i[Wt];return fd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fr]}set context(i){this._lView[Fr]=i}get destroyed(){return 128==(128&this._lView[Cn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[vr];if(es(i)){const o=i[Xi],u=o?o.indexOf(this):-1;u>-1&&(z(i,u),Ua(o,u))}this._attachedToViewContainer=!1}ee(this._lView[Wt],this._lView)}onDestroy(i){Bp(this._lView[Wt],this._lView,null,i)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Cn]&=-65}reattach(){this._lView[Cn]|=64}detectChanges(){ef(this._lView[Wt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new nt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(n,i){Od(n,i,i[Me],2,null,null)}(this._lView[Wt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new nt(902,!1);this._appRef=i}}class ny extends Hl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[Wt],i,i[Fr],!1)}checkNoChanges(){}get context(){return null}}class Yp extends td{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=en(i);return new rh(o,this.ngModule)}}function Qp(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Jp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=st(u);const l=this.injector.get(i,jh,u);return l!==jh||o===jh?l:this.parentInjector.get(i,o,u)}}class rh extends pp{get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function sd(n){return n.map(Vl).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Nl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Jp(i,h):i,S=v.get(nd,null);if(null===S)throw new nt(407,!1);const O=v.get(Mm,null),j=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ue=u?function w_(n,i,o){return n.selectRootElement(i,o===He.ShadowDom)}(j,u,this.componentDef.encapsulation):qc(j,J,function N_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Pe=this.componentDef.onPush?288:272,Je=Vu(0,null,null,1,0,null,null,null,null,null),Tt=eh(null,Je,null,Pe,null,null,S,j,O,v,null);let Kt,hn;Es(Tt);try{const Sn=this.componentDef;let rr,Lt=null;Sn.findHostDirectiveDefs?(rr=[],Lt=new Map,Sn.findHostDirectiveDefs(Sn,rr,Lt),rr.push(Sn)):rr=[Sn];const Er=function ry(n,i){const o=n[Wt],u=Ir;return n[u]=i,ol(o,u,2,"#host",null)}(Tt,ue),Ts=function eg(n,i,o,u,l,h,v,S){const O=l[Wt];!function nf(n,i,o,u){for(const l of n)i.mergedAttrs=Gt(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(cl(i,i.mergedAttrs,!0),null!==o&&tl(u,o,i))}(u,n,i,v);const j=h.createRenderer(i,o),J=eh(l,Up(o),null,o.onPush?32:16,l[n.index],n,h,j,S||null,null,null);return O.firstCreatePass&&th(O,n,u.length-1),hd(l,J),l[n.index]=J}(Er,ue,Sn,rr,Tt,S,j);hn=Ao(Je,Ir),ue&&function rf(n,i,o,u){if(u)ar(n,o,["ng-version",xm.full]);else{const{attrs:l,classes:h}=function Fm(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!ru(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&ar(n,o,l),h&&h.length>0&&Ui(n,o,h.join(" "))}}(j,Sn,ue,u),void 0!==o&&function tg(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(hn,this.ngContentSelectors,o),Kt=function ih(n,i,o,u,l,h){const v=ze(),S=l[Wt],O=di(v,l);dd(S,l,v,o,null,u);for(let J=0;J<o.length;J++)Fe(ni(l,S,v.directiveStart+J,v),l);jp(S,l,v),O&&Fe(O,l);const j=ni(l,S,v.directiveStart+v.componentOffset,v);if(n[Fr]=l[Fr]=j,null!==h)for(const J of h)J(j,i);return ul(S,v,n),j}(Ts,Sn,rr,Lt,Tt,[ng]),Lu(Je,Tt,null)}finally{_()}return new Xp(this.componentType,Kt,Ll(hn,Tt),Tt,hn)}}class Xp extends bm{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ny(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Zp(h[Wt],h,l,i,o),nh(Qr(this._tNode.index,h))}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ng(){const n=ze();Un(x()[Wt],n)}function af(n){let i=function sf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(dr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new nt(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=uf(n.inputs),v.declaredInputs=uf(n.declaredInputs),v.outputs=uf(n.outputs);const S=l.hostBindings;S&&L_(n,S);const O=l.viewQuery,j=l.contentQueries;if(O&&lf(n,O),j&&rg(n,j),Re(n.inputs,l.inputs),Re(n.declaredInputs,l.declaredInputs),Re(n.outputs,l.outputs),dr(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const S=h[v];S&&S.ngInherit&&S(n),S===af&&(o=!1)}}i=Object.getPrototypeOf(i)}!function F_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Gt(l.hostAttrs,o=Gt(o,l.hostAttrs))}}(u)}function uf(n){return n===Oe?{}:n===Mt?[]:n}function lf(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function rg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function L_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function cf(n){return!!og(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function og(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oa(n,i,o){return n[i]=o}function Fs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function dl(n,i,o,u){const l=Fs(n,i,o);return Fs(n,i+1,u)||l}function oh(n,i,o,u){const l=x();return Fs(l,Dr(),i)&&(N(),iu(ce(),l,n,i,o,u)),oh}function Gl(n,i,o,u,l,h){const S=dl(n,function ki(){return xn.lFrame.bindingIndex}(),o,l);return cs(2),S?i+Ct(o)+u+Ct(l)+h:pr}function dy(n,i,o,u,l,h,v,S){const O=x(),j=N(),J=n+Ir,ue=j.firstCreatePass?function cy(n,i,o,u,l,h,v,S,O){const j=i.consts,J=ol(i,n,4,v||null,Jr(j,S));ll(i,o,J,Jr(j,O)),Un(i,J);const ue=J.tView=Vu(2,J,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,J),ue.queries=i.queries.embeddedTView(J)),J}(J,j,O,i,o,u,l,h,v):j.data[J];Lr(ue,!1);const Pe=O[Me].createComment("");yu(j,O,Pe,ue),Fe(Pe,O),hd(O,O[J]=Qm(Pe,O,Pe,ue)),Cs(ue)&&Vp(j,O,ue),null!=v&&jl(O,ue,S)}function hy(n){return function hi(n,i){return n[i]}(function xo(){return xn.lFrame.contextLView}(),Ir+n)}function uh(n,i,o){const u=x();return Fs(u,Dr(),i)&&Wa(N(),ce(),u,n,i,u[Me],o,!1),uh}function lg(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function pf(n,i,o,u){const l=x(),h=N(),v=Ir+n,S=l[Me],O=h.firstCreatePass?function cg(n,i,o,u,l,h){const v=i.consts,O=ol(i,n,2,u,Jr(v,l));return ll(i,o,O,Jr(v,h)),null!==O.attrs&&cl(O,O.attrs,!1),null!==O.mergedAttrs&&cl(O,O.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,O),O}(v,h,l,i,o,u):h.data[v],j=l[v]=qc(S,i,function un(){return xn.lFrame.currentNamespace}()),J=Cs(O);return Lr(O,!0),tl(S,j,O),32!=(32&O.flags)&&yu(h,l,j,O),0===function zs(){return xn.lFrame.elementDepthCount}()&&Fe(j,l),function Mo(){xn.lFrame.elementDepthCount++}(),J&&(Vp(h,l,O),ul(h,O,l)),null!==u&&jl(l,O),pf}function yd(){let n=ze();Li()?Gs():(n=n.parent,Lr(n,!1));const i=n;!function yo(){xn.lFrame.elementDepthCount--}();const o=N();return o.firstCreatePass&&(Un(o,n),$s(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Vn(n){return 0!=(8&n.flags)}(i)&&lg(o,i,x(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function nr(n){return 0!=(16&n.flags)}(i)&&lg(o,i,x(),i.stylesWithoutHost,!1),yd}function gf(n,i,o,u){return pf(n,i,o,u),yd(),gf}function vd(n,i,o){const u=x(),l=N(),h=n+Ir,v=l.firstCreatePass?function dg(n,i,o,u,l){const h=i.consts,v=Jr(h,u),S=ol(i,n,8,"ng-container",v);return null!==v&&cl(S,v,!0),ll(i,o,S,Jr(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];Lr(v,!0);const S=u[h]=u[Me].createComment("");return yu(l,u,S,v),Fe(S,u),Cs(v)&&(Vp(l,u,v),ul(l,v,u)),null!=o&&jl(u,v),vd}function _d(){let n=ze();const i=N();return Li()?Gs():(n=n.parent,Lr(n,!1)),i.firstCreatePass&&(Un(i,n),$s(n)&&i.queries.elementEnd(n)),_d}function hl(){return x()}function lh(n){return!!n&&"function"==typeof n.then}function Ac(n){return!!n&&"function"==typeof n.subscribe}const Mc=Ac;function mf(n,i,o,u){const l=x(),h=N(),v=ze();return function fy(n,i,o,u,l,h,v){const S=Cs(u),j=n.firstCreatePass&&Kp(n),J=i[Fr],ue=ey(i);let Pe=!0;if(3&u.type||v){const Kt=di(u,i),hn=v?v(Kt):Kt,Sn=ue.length,rr=v?Er=>v(Hn(Er[u.index])):u.index;let Lt=null;if(!v&&S&&(Lt=function H_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const S=i[gs],O=l[h+2];return S.length>O?S[O]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=h,Lt.__ngLastListenerFn__=h,Pe=!1;else{h=vf(u,i,J,h,!1);const Er=o.listen(hn,l,h);ue.push(h,Er),j&&j.push(l,rr,Sn,Sn+1)}}else h=vf(u,i,J,h,!1);const Je=u.outputs;let Tt;if(Pe&&null!==Je&&(Tt=Je[l])){const Kt=Tt.length;if(Kt)for(let hn=0;hn<Kt;hn+=2){const Ts=i[Tt[hn]][Tt[hn+1]].subscribe(h),go=ue.length;ue.push(h,Ts),j&&j.push(l,u.index,go,-(go+1))}}}(h,l,l[Me],v,n,i,u),mf}function yf(n,i,o,u){try{return Nr(6,i,o),!1!==o(u)}catch(l){return qp(n,l),!1}finally{Nr(7,i,o)}}function vf(n,i,o,u,l){return function h(v){if(v===Function)return u;nh(n.componentOffset>-1?Qr(n.index,i):i);let O=yf(i,o,u,v),j=h.__ngNextListenerFn__;for(;j;)O=yf(i,o,j,v)&&O,j=j.__ngNextListenerFn__;return l&&!1===O&&(v.preventDefault(),v.returnValue=!1),O}}function _f(n=1){return function w(n){return(xn.lFrame.contextLView=function F(n,i){for(;n>0;)i=i[Pn],n--;return i}(n,xn.lFrame.contextLView))[Fr]}(n)}function wf(n,i){return n<<17|i<<2}function ql(n){return n>>17&32767}function dh(n){return 2|n}function fl(n){return(131068&n)>>2}function _g(n,i){return-131069&n|i<<2}function wg(n){return 1|n}function _y(n,i,o,u,l){const h=n[o+1],v=null===i;let S=u?ql(h):fl(h),O=!1;for(;0!==S&&(!1===O||v);){const J=n[S+1];Dg(n[S],i)&&(O=!0,n[S+1]=u?wg(J):dh(J)),S=u?ql(J):fl(J)}O&&(n[o+1]=u?dh(h):wg(h))}function Dg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Is(n,i)>=0}const po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function If(n){return n.substring(po.key,po.keyEnd)}function q_(n){return n.substring(po.value,po.valueEnd)}function Ey(n,i){const o=po.textEnd;return o===i?-1:(i=po.keyEnd=function wy(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,po.key=i,o),Iu(n,i,o))}function Df(n,i){const o=po.textEnd;let u=po.key=Iu(n,i,o);return o===u?-1:(u=po.keyEnd=function bg(n,i,o){let u;for(;i<o&&(45===(u=n.charCodeAt(i))||95===u||(-33&u)>=65&&(-33&u)<=90||u>=48&&u<=57);)i++;return i}(n,u,o),u=Iy(n,u,o),u=po.value=Iu(n,u,o),u=po.valueEnd=function Sg(n,i,o){let u=-1,l=-1,h=-1,v=i,S=v;for(;v<o;){const O=n.charCodeAt(v++);if(59===O)return S;34===O||39===O?S=v=Uu(n,O,v,o):i===v-4&&85===h&&82===l&&76===u&&40===O?S=v=Uu(n,41,v,o):O>32&&(S=v),h=l,l=u,u=-33&O}return S}(n,u,o),Iy(n,u,o))}function Tf(n){po.key=0,po.keyEnd=0,po.value=0,po.valueEnd=0,po.textEnd=n.length}function Iu(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Iy(n,i,o,u){return(i=Iu(n,i,o))<o&&i++,i}function Uu(n,i,o,u){let l=-1,h=o;for(;h<u;){const v=n.charCodeAt(h++);if(v==i&&92!==l)return h;l=92==v&&92===l?0:v}throw new Error}function Ag(n,i,o){return qa(n,i,o,!1),Ag}function hh(n,i){return qa(n,i,null,!0),hh}function Du(n){Tu(Sy,Z_,n,!1)}function Z_(n,i){for(let o=function Cg(n){return Tf(n),Df(n,Iu(n,0,po.textEnd))}(i);o>=0;o=Df(i,o))Sy(n,If(i),q_(i))}function Cf(n){Tu(Og,Bu,n,!0)}function Bu(n,i){for(let o=function Tg(n){return Tf(n),Ey(n,Iu(n,0,po.textEnd))}(i);o>=0;o=Ey(i,o))Ot(n,If(i),!0)}function qa(n,i,o,u){const l=x(),h=N(),v=cs(2);h.firstUpdatePass&&Ty(h,n,v,u),i!==pr&&Fs(l,v,i)&&Sf(h,h.data[K()],l,l[Me],n,l[v+1]=function Y_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Te(nl(n)))),n}(i,o),u,v)}function Tu(n,i,o,u){const l=N(),h=cs(2);l.firstUpdatePass&&Ty(l,null,h,u);const v=x();if(o!==pr&&Fs(v,h,o)){const S=l.data[K()];if(kg(S,u)&&!bf(l,h)){let O=u?S.classesWithoutHost:S.stylesWithoutHost;null!==O&&(o=Ve(O,o||"")),lg(l,S,v,o,u)}else!function Ng(n,i,o,u,l,h,v,S){l===pr&&(l=Mt);let O=0,j=0,J=0<l.length?l[0]:null,ue=0<h.length?h[0]:null;for(;null!==J||null!==ue;){const Pe=O<l.length?l[O+1]:void 0,Je=j<h.length?h[j+1]:void 0;let Kt,Tt=null;J===ue?(O+=2,j+=2,Pe!==Je&&(Tt=ue,Kt=Je)):null===ue||null!==J&&J<ue?(O+=2,Tt=J):(j+=2,Tt=ue,Kt=Je),null!==Tt&&Sf(n,i,o,u,Tt,Kt,v,S),J=O<l.length?l[O]:null,ue=j<h.length?h[j]:null}}(l,S,v,v[Me],v[h+1],v[h+1]=function Pg(n,i,o){if(null==o||""===o)return Mt;const u=[],l=nl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}function bf(n,i){return i>=n.expandoStartIndex}function Ty(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[K()],v=bf(n,o);kg(h,u)&&null===i&&!v&&(i=!1),i=function Mg(n,i,o,u){const l=Ea(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=fh(o=Rg(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Rg(l,n,i,o,u),null===h){let O=function Cy(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==fl(u))return n[ql(u)]}(n,i,u);void 0!==O&&Array.isArray(O)&&(O=Rg(null,n,i,O[1],u),O=fh(O,i.attrs,u),function xg(n,i,o,u){n[ql(o?i.classBindings:i.styleBindings)]=u}(n,i,u,O))}else h=function by(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=fh(u,n[h].hostAttrs,o);return fh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Ig(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,S=ql(v),O=fl(v);n[u]=o;let J,j=!1;if(Array.isArray(o)?(J=o[1],(null===J||Is(o,J)>0)&&(j=!0)):J=o,l)if(0!==O){const Pe=ql(n[S+1]);n[u+1]=wf(Pe,S),0!==Pe&&(n[Pe+1]=_g(n[Pe+1],u)),n[S+1]=function vg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=wf(S,0),0!==S&&(n[S+1]=_g(n[S+1],u)),S=u;else n[u+1]=wf(O,0),0===S?S=u:n[O+1]=_g(n[O+1],u),O=u;j&&(n[u+1]=dh(n[u+1])),_y(n,J,u,!0),_y(n,J,u,!1),function vy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Is(h,i)>=0&&(o[u+1]=wg(o[u+1]))}(i,J,n,u,h),v=wf(S,O),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}function Rg(n,i,o,u,l){let h=null;const v=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<v&&(h=i[S],u=fh(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function fh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ot(n,v,!!o||i[++h]))}return void 0===n?null:n}function Sy(n,i,o){Ot(n,i,nl(o))}function Og(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&Ot(n,u,o)}function Sf(n,i,o,u,l,h,v,S){if(!(3&i.type))return;const O=n.data,j=O[S+1],J=function Eg(n){return 1==(1&n)}(j)?Ay(O,i,o,l,fl(j),v):void 0;Rc(J)||(Rc(h)||function W_(n){return 2==(2&n)}(j)&&(h=Ay(O,null,o,l,S,v)),function Vo(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Ma.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Ma.Important),n.setStyle(o,u,l,h))}}(u,v,ls(K(),o),l,h))}function Ay(n,i,o,u,l,h){const v=null===i;let S;for(;l>0;){const O=n[l],j=Array.isArray(O),J=j?O[1]:O,ue=null===J;let Pe=o[l+1];Pe===pr&&(Pe=ue?Mt:void 0);let Je=ue?ei(Pe,u):J===u?Pe:void 0;if(j&&!Rc(Je)&&(Je=ei(O,u)),Rc(Je)&&(S=Je,v))return S;const Tt=n[l+1];l=v?ql(Tt):fl(Tt)}if(null!==i){let O=h?i.residualClasses:i.residualStyles;null!=O&&(S=ei(O,u))}return S}function Rc(n){return void 0!==n}function kg(n,i){return 0!=(n.flags&(i?8:16))}function Fg(n,i=""){const o=x(),u=N(),l=n+Ir,h=u.firstCreatePass?ol(u,l,1,i,null):u.data[l],v=o[l]=function Il(n,i){return n.createText(i)}(o[Me],i);yu(u,o,v,h),Lr(h,!1)}function Zl(n){return ph("",n,""),Zl}function ph(n,i,o){const u=x(),l=function zl(n,i,o,u){return Fs(n,Dr(),o)?i+Ct(o)+u:pr}(u,n,i,o);return l!==pr&&Pa(u,K(),l),ph}function Ed(n,i,o,u,l){const h=x(),v=Gl(h,n,i,o,u,l);return v!==pr&&Pa(h,K(),v),Ed}function Id(n,i,o){const u=x();if(Fs(u,Dr(),i)){const h=N(),v=ce();Wa(h,v,u,n,i,function ty(n,i,o){return(null===n||dr(n))&&(o=function us(n){for(;Array.isArray(n);){if("object"==typeof n[wo])return n;n=n[tr]}return null}(o[i.index])),o[Me]}(Ea(h.data),v,u),o,!0)}return Id}const br=void 0;var zy=["en",[["a","p"],["AM","PM"],br],[["AM","PM"],br,br],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],br,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],br,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",br,"{1} 'at' {0}",br],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Hy(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let $u={};function fs(n){const i=function wE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Gy(i);if(o)return o;const u=i.split("-")[0];if(o=Gy(u),o)return o;if("en"===u)return zy;throw new nt(701,!1)}function Cu(n){return fs(n)[Bn.PluralCase]}function Gy(n){return n in $u||($u[n]=Yn.ng&&Yn.ng.common&&Yn.ng.common.locales&&Yn.ng.common.locales[n]),$u[n]}var Bn=(()=>((Bn=Bn||{})[Bn.LocaleId=0]="LocaleId",Bn[Bn.DayPeriodsFormat=1]="DayPeriodsFormat",Bn[Bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bn[Bn.DaysFormat=3]="DaysFormat",Bn[Bn.DaysStandalone=4]="DaysStandalone",Bn[Bn.MonthsFormat=5]="MonthsFormat",Bn[Bn.MonthsStandalone=6]="MonthsStandalone",Bn[Bn.Eras=7]="Eras",Bn[Bn.FirstDayOfWeek=8]="FirstDayOfWeek",Bn[Bn.WeekendRange=9]="WeekendRange",Bn[Bn.DateFormat=10]="DateFormat",Bn[Bn.TimeFormat=11]="TimeFormat",Bn[Bn.DateTimeFormat=12]="DateTimeFormat",Bn[Bn.NumberSymbols=13]="NumberSymbols",Bn[Bn.NumberFormats=14]="NumberFormats",Bn[Bn.CurrencyCode=15]="CurrencyCode",Bn[Bn.CurrencySymbol=16]="CurrencySymbol",Bn[Bn.CurrencyName=17]="CurrencyName",Bn[Bn.Currencies=18]="Currencies",Bn[Bn.Directionality=19]="Directionality",Bn[Bn.PluralCase=20]="PluralCase",Bn[Bn.ExtraData=21]="ExtraData",Bn))();const Yl="en-US";let Vs=Yl;function Jl(n,i,o,u,l){if(n=Se(n),Array.isArray(n))for(let h=0;h<n.length;h++)Jl(n[h],i,o,u,l);else{const h=N(),v=x();let S=yc(n)?n:Se(n.provide),O=Bh(n);const j=ze(),J=1048575&j.providerIndexes,ue=j.directiveStart,Pe=j.providerIndexes>>20;if(yc(n)||!n.multi){const Je=new ae(O,l,Fu),Tt=nm(S,i,l?J:J+Pe,ue);-1===Tt?(la(ua(j,v),h,S),Cd(h,n,i.length),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Je),v.push(Je)):(o[Tt]=Je,v[Tt]=Je)}else{const Je=nm(S,i,J+Pe,ue),Tt=nm(S,i,J,J+Pe),hn=Tt>=0&&o[Tt];if(l&&!hn||!l&&!(Je>=0&&o[Je])){la(ua(j,v),h,S);const Sn=function $E(n,i,o,u,l){const h=new ae(n,o,Fu);return h.multi=[],h.index=i,h.componentProviders=0,Uc(h,l,u&&!o),h}(l?BE:UE,o.length,l,u,O);!l&&hn&&(o[Tt].providerFactory=Sn),Cd(h,n,i.length,0),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Sn),v.push(Sn)}else Cd(h,n,Je>-1?Je:Tt,Uc(o[l?Tt:Je],O,!l&&u));!l&&u&&hn&&o[Tt].componentProviders++}}}function Cd(n,i,o,u){const l=yc(i),h=function jd(n){return!!n.useClass}(i);if(l||h){const O=(h?Se(i.useClass):i).prototype.ngOnDestroy;if(O){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=j.indexOf(o);-1===J?j.push(o,[u,O]):j[J+1].push(u,O)}else j.push(o,O)}}}function Uc(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function nm(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function UE(n,i,o,u){return ju(this.multi,[])}function BE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=ni(o,o[Wt],this.providerFactory.index,u);h=S.slice(0,v),ju(l,h);for(let O=v;O<S.length;O++)h.push(S[O])}else h=[],ju(l,h);return h}function ju(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function v0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Vc(n,i,o){const u=N();if(u.firstCreatePass){const l=dr(n);Jl(o,u.data,u.blueprint,l,!0),Jl(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class bd{}class _0{}function jE(n,i){return new hv(n,i??null)}class hv extends bd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yp(this);const u=Br(i);this._bootstrapComponents=Ga(u.bootstrap),this._r3Injector=Wh(i,o,[{provide:bd,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],Te(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rm extends _0{constructor(i){super(),this.moduleType=i}create(i){return new hv(this.moduleType,i)}}class zE extends bd{constructor(i,o,u){super(),this.componentFactoryResolver=new Yp(this),this.instance=null;const l=new dp([...i,{provide:bd,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],o||zd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function im(n,i,o=null){return new zE(n,i,o).injector}let GE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=op(0,o.type),l=u.length>0?im([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=It({token:n,providedIn:"environment",factory:()=>new n(Rn(Nl))}),n})();function Sd(n){n.getStandaloneInjector=i=>i.get(GE).getOrCreateStandaloneInjector(n)}function yv(n,i,o,u){return function vv(n,i,o,u,l,h){const v=i+o;return Fs(n,v,l)?Oa(n,v+1,h?u.call(h,l):u(l)):Ad(n,v+1)}(x(),Wr(),n,i,o,u)}function A0(n,i,o,u,l){return function sm(n,i,o,u,l,h,v){const S=i+o;return dl(n,S,l,h)?Oa(n,S+2,v?u.call(v,l,h):u(l,h)):Ad(n,S+2)}(x(),Wr(),n,i,o,u,l)}function Ad(n,i){const o=n[i];return o===pr?void 0:o}function Hf(n){return i=>{setTimeout(n,void 0,i)}}const Hu=class O0 extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const O=i;l=O.next?.bind(O),h=O.error?.bind(O),v=O.complete?.bind(O)}this.__isAsync&&(h=Hf(h),l&&(l=Hf(l)),v&&(v=Hf(v)));const S=super.subscribe({next:l,error:h,complete:v});return i instanceof B.w0&&i.add(S),S}};function nw(){return this._results[Symbol.iterator]()}class Dv{get changes(){return this._changes||(this._changes=new Hu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Dv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function co(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function qo(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=N0,n})();const zf=Ch,Tv=class extends zf{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=eh(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[kn]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[$r];return null!==v&&(l[$r]=v.createEmbeddedView(u)),Lu(u,l,i),new Hl(l)}};function N0(){return am(ze(),x())}function am(n,i){return 4&n.type?new Tv(i,n,Ll(n,i)):null}let Md=(()=>{class n{}return n.__NG_ELEMENT_ID__=k0,n})();function k0(){return Sv(ze(),x())}const F0=Md,Cv=class extends F0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ll(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ri(this._hostTNode,this._hostLView);if(dn(i)){const o=gi(i,this._hostLView),u=Fn(i);return new Po(o[Wt].data[u+8],o)}return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=bv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Mu(n){return"function"==typeof n}(i);let S;if(v)S=o;else{const ue=o||{};S=ue.index,u=ue.injector,l=ue.projectableNodes,h=ue.environmentInjector||ue.ngModuleRef}const O=v?i:new rh(en(i)),j=u||this.parentInjector;if(!h&&null==O.ngModule){const Pe=(v?j:this.parentInjector).get(Nl,null);Pe&&(h=Pe)}const J=O.create(j,l,void 0,h);return this.insert(J.hostView,S),J}insert(i,o){const u=i._lView,l=u[Wt];if(function mo(n){return es(n[vr])}(u)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ue=u[vr],Pe=new Cv(ue,ue[ci],ue[vr]);Pe.detach(Pe.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=Yr+u,h=o.length;u>0&&(o[l-1][Qn]=i),u<h-Yr?(i[Qn]=o[l],ha(o,Yr+u,i)):(o.push(i),i[Qn]=null),i[vr]=o;const v=i[kn];null!==v&&o!==v&&function g(n,i){const o=n[Zi];i[vn]!==i[vr][vr][vn]&&(n[eo]=!0),null===o?n[Zi]=[i]:o.push(i)}(v,i);const S=i[$r];null!==S&&S.insertView(n),i[Cn]|=64}(l,u,v,h);const S=bl(h,v),O=u[Me],j=ya(O,v[Hi]);return null!==j&&function Jo(n,i,o,u,l,h){u[tr]=l,u[ci]=i,Od(n,u,o,1,l,h)}(l,v[ci],O,u,j,S),i.attachToViewContainerRef(),ha(Gf(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=bv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=z(this._lContainer,o);u&&(Ua(Gf(this._lContainer),o),ee(u[Wt],u))}detach(i){const o=this._adjustIndex(i,-1),u=z(this._lContainer,o);return u&&null!=Ua(Gf(this._lContainer),o)?new Hl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function bv(n){return n[Xi]}function Gf(n){return n[Xi]||(n[Xi]=[])}function Sv(n,i){let o;const u=i[n.index];if(es(u))o=u;else{let l;if(8&n.type)l=Hn(u);else{const h=i[Me];l=h.createComment("");const v=di(n,i);Gn(h,ya(h,v),l,function Pd(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Qm(u,i,l,n),hd(i,o)}return new Cv(o,n,i)}class Av{constructor(i){this.queryList=i,this.matches=null}clone(){return new Av(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new Mv(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Nv(i,o).matches&&this.queries[o].setDirty()}}class L0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class xv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new xv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class um{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new um(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,rw(o,h)),this.matchTNodeWithReadOption(i,o,lu(o,i,h,!1,!1))}else u===Ch?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,lu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===sl||l===Md||l===Ch&&4&o.type)this.addMatch(o.index,-2);else{const h=lu(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function rw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function sw(n,i,o,u){return-1===o?function iw(n,i){return 11&n.type?Ll(n,i):4&n.type?am(n,i):null}(i,n):-2===o?function ow(n,i,o){return o===sl?Ll(i,n):o===Ch?am(i,n):o===Md?Sv(i,n):void 0}(n,i,u):ni(n,n[Wt],o,i)}function V0(n,i,o,u){const l=i[$r].queries[u];if(null===l.matches){const h=n.data,v=o.matches,S=[];for(let O=0;O<v.length;O+=2){const j=v[O];S.push(j<0?null:sw(i,h[j],v[O+1],o.metadata.read))}l.matches=S}return l.matches}function Rv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=V0(n,i,l,o);for(let S=0;S<h.length;S+=2){const O=h[S];if(O>0)u.push(v[S/2]);else{const j=h[S+1],J=i[-O];for(let ue=Yr;ue<J.length;ue++){const Pe=J[ue];Pe[kn]===Pe[vr]&&Rv(Pe[Wt],Pe,j,u)}if(null!==J[Zi]){const ue=J[Zi];for(let Pe=0;Pe<ue.length;Pe++){const Je=ue[Pe];Rv(Je[Wt],Je,j,u)}}}}}return u}function U0(n){const i=x(),o=N(),u=wa();Ia(u+1);const l=Nv(o,u);if(n.dirty&&function vs(n){return 4==(4&n[Cn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?Rv(o,i,u,[]):V0(o,i,l,u);n.reset(h,Wd),n.notifyOnChanges()}return!0}return!1}function B0(n,i,o){const u=N();u.firstCreatePass&&(j0(u,new L0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),Ov(u,x(),i)}function Pv(n,i,o,u){const l=N();if(l.firstCreatePass){const h=ze();j0(l,new L0(i,o,u),h.index),function uw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}Ov(l,x(),o)}function $0(){return function aw(n,i){return n[$r].queries[i].queryList}(x(),wa())}function Ov(n,i,o){const u=new Dv(4==(4&o));Bp(n,i,u,u.destroy),null===i[$r]&&(i[$r]=new Mv),i[$r].queries.push(new Av(u))}function j0(n,i,o){null===n.queries&&(n.queries=new xv),n.queries.track(new um(i,o))}function Nv(n,i){return n.queries.getByIndex(i)}function H0(n,i){return am(n,i)}function kv(n){return!!Br(n)}function bu(...n){}const _w=new Jn("Application Initializer");let Uv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=bu,this.reject=bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(lh(h))o.push(h);else if(Mc(h)){const v=new Promise((S,O)=>{h.subscribe({complete:S,error:O})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Rn(_w,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=new Jn("AppId",{providedIn:"root",factory:function ww(){return`${nE()}${nE()}${nE()}`}});function nE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new Jn("Platform Initializer"),rI=new Jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Jn("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Bv=new Jn("LocaleId",{providedIn:"root",factory:()=>Mr(Bv,Ft.Optional|Ft.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||Yl}()}),aI=new Jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new rm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Ga(Br(o).declarations).reduce((v,S)=>{const O=en(S);return O&&v.push(new rh(O)),v},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function rE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class zu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hu(!1),this.onMicrotaskEmpty=new Hu(!1),this.onStable=new Hu(!1),this.onError=new Hu(!1),typeof Zone>"u")throw new nt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=Yn.requestAnimationFrame,i=Yn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Yn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sE(n),n.isCheckStableRunning=!0,iE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,S)=>{try{return Cw(n),o.invokeTask(l,h,v,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),bw(n)}},onInvoke:(o,u,l,h,v,S,O)=>{try{return Cw(n),o.invoke(l,h,v,S,O)}finally{n.shouldCoalesceRunChangeDetection&&i(),bw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,sE(n),iE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zu.isInAngularZone())throw new nt(909,!1)}static assertNotInAngularZone(){if(zu.isInAngularZone())throw new nt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,bu,bu);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function iE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Cw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bw(n){n._nesting--,iE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hu,this.onMicrotaskEmpty=new Hu,this.onStable=new Hu,this.onError=new Hu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Sw=new Jn(""),Aw=new Jn("");let oE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oE||(function _I(n){oE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zu.assertNotInAngularZone(),rE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Rn(zu),Rn(Mw),Rn(Aw))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return oE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let xd=null;const xw=new Jn("AllowMultipleToken"),aE=new Jn("PlatformDestroyListeners"),Rw=new Jn("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Ow(n,i,o=[]){const u=`Platform: ${i}`,l=new Jn(u);return(h=[])=>{let v=uE();if(!v||v.injector.get(xw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(xd&&!xd.get(xw,!1))throw new nt(400,!1);xd=n;const i=n.get(kw);(function Pw(n){const i=n.get(Iw,null);i&&i.forEach(o=>o())})(n)}(function Nw(n=[],i){return Bl.create({name:i,providers:[{provide:cp,useValue:"platform"},{provide:aE,useValue:new Set([()=>xd=null])},...n]})}(S,u))}return function CI(n){const i=uE();if(!i)throw new nt(401,!1);return i}()}}function uE(){return xd?.get(kw)??null}let kw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Lw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new zu(i),o}(u?.ngZone,function Fw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:zu,useValue:l}];return l.run(()=>{const v=Bl.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(v),O=S.injector.get(Kd,null);if(!O)throw new nt(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:J=>{O.handleError(J)}});S.onDestroy(()=>{jv(this._modules,S),j.unsubscribe()})}),function Vw(n,i,o){try{const u=o();return lh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(O,l,()=>{const j=S.injector.get(Uv);return j.runInitializers(),j.donePromise.then(()=>(function qg(n){kt(n,"Expected localeId to be defined"),"string"==typeof n&&(Vs=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Bv,Yl)||Yl),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Uw({},u);return function EI(n,i,o){const u=new rm(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get($v);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new nt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(aE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Rn(Bl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Uw(n,i){return Array.isArray(i)?i.reduce(Uw,n):{...n,...i}}let $v=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new q.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new q.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{zu.assertNotInAngularZone(),rE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),j.unsubscribe()}});this.isStable=(0,Ie.T)(h,v.pipe((0,Ee.B)()))}bootstrap(o,u){const l=o instanceof pp;if(!this._injector.get(Uv).done){!l&&Or(o);throw new nt(405,$c)}let v;v=l?o:this._injector.get(td).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const S=function wI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(bd),j=v.create(Bl.NULL,[],u||v.selector,S),J=j.location.nativeElement,ue=j.injector.get(Sw,null);return ue?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),jv(this.components,j),ue?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new nt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;jv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Rw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>jv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new nt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Rn(zu),Rn(Nl),Rn(Kd))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function xI(n,i,o){if(js(n)&&!o){const u=Qr(n.index,i);return new Hl(u,u)}return 47&n.type?new Hl(i[vn],i):null}(ze(),x(),16==(16&n))}class zw{constructor(){}supports(i){return cf(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<Ww(u,l,h)?o:u,S=Ww(v,l,h),O=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const j=S-l,J=O-l;if(j!=J){for(let Pe=0;Pe<j;Pe++){const Je=Pe<h.length?h[Pe]:h[Pe]=0,Tt=Je+Pe;J<=Tt&&Tt<j&&(h[Pe]=Je+1)}h[v.previousIndex]=J-j}}S!==O&&i(v,S,O)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!cf(i))throw new nt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],v=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,S),u=!0),o=o._next}else l=0,function sg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{v=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,S,v,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ww(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Kw{constructor(){}supports(i){return i instanceof Map||og(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||og(i)))throw new nt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qw(){return new fE([new zw])}let fE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||qw()),deps:[[n,new Mi,new Yt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new nt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:qw}),n})();function Zw(){return new pE([new Kw])}let pE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Zw()),deps:[[n,new Mi,new Yt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new nt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:Zw}),n})();const HI=Ow(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Rn($v))},n.\u0275mod=Be({type:n}),n.\u0275inj=Zn({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(Xt,Xe,H)=>{H.d(Xe,{Fj:()=>je,NI:()=>vn,u:()=>ss,cw:()=>Qe,sg:()=>rs,u5:()=>oo,JJ:()=>Yn,JL:()=>gn,On:()=>Zi,UX:()=>_a,kI:()=>sn,_Y:()=>Yr});var p=H(4650),B=H(6895),q=H(8996),Ie=H(9751),Ee=H(4742),ve=H(8421),Re=H(3269),Te=H(5403),Ve=H(3268),de=H(1810),Se=H(4004);let ft=(()=>{class x{constructor(k,X){this._renderer=k,this._elementRef=X,this.onChange=ze=>{},this.onTouched=()=>{}}setProperty(k,X){this._renderer.setProperty(this._elementRef.nativeElement,k,X)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(p.Qsj),p.Y36(p.SBq))},x.\u0275dir=p.lG2({type:x}),x})(),dt=(()=>{class x extends ft{}return x.\u0275fac=function(){let N;return function(X){return(N||(N=p.n5z(x)))(X||x)}}(),x.\u0275dir=p.lG2({type:x,features:[p.qOj]}),x})();const At=new p.OlP("NgValueAccessor"),gt={provide:At,useExisting:(0,p.Gpc)(()=>je),multi:!0},bt=new p.OlP("CompositionEventMode");let je=(()=>{class x extends ft{constructor(k,X,ze){super(k,X),this._compositionMode=ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ct(){const x=(0,B.q)()?(0,B.q)().getUserAgent():"";return/android (\d+)/.test(x.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(bt,8))},x.\u0275dir=p.lG2({type:x,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(pn){return X._handleInput(pn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(pn){return X._compositionEnd(pn.target.value)})},features:[p._Bn([gt]),p.qOj]}),x})();const we=!1;function et(x){return null==x||("string"==typeof x||Array.isArray(x))&&0===x.length}function Dt(x){return null!=x&&"number"==typeof x.length}const ot=new p.OlP("NgValidators"),Le=new p.OlP("NgAsyncValidators"),Nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class sn{static min(N){return function zt(x){return N=>{if(et(N.value)||et(x))return null;const k=parseFloat(N.value);return!isNaN(k)&&k<x?{min:{min:x,actual:N.value}}:null}}(N)}static max(N){return function _n(x){return N=>{if(et(N.value)||et(x))return null;const k=parseFloat(N.value);return!isNaN(k)&&k>x?{max:{max:x,actual:N.value}}:null}}(N)}static required(N){return function Ut(x){return et(x.value)?{required:!0}:null}(N)}static requiredTrue(N){return function $e(x){return!0===x.value?null:{required:!0}}(N)}static email(N){return function rt(x){return et(x.value)||Nt.test(x.value)?null:{email:!0}}(N)}static minLength(N){return function qe(x){return N=>et(N.value)||!Dt(N.value)?null:N.value.length<x?{minlength:{requiredLength:x,actualLength:N.value.length}}:null}(N)}static maxLength(N){return function lt(x){return N=>Dt(N.value)&&N.value.length>x?{maxlength:{requiredLength:x,actualLength:N.value.length}}:null}(N)}static pattern(N){return function wt(x){if(!x)return ct;let N,k;return"string"==typeof x?(k="","^"!==x.charAt(0)&&(k+="^"),k+=x,"$"!==x.charAt(x.length-1)&&(k+="$"),N=new RegExp(k)):(k=x.toString(),N=x),X=>{if(et(X.value))return null;const ze=X.value;return N.test(ze)?null:{pattern:{requiredPattern:k,actualValue:ze}}}}(N)}static nullValidator(N){return null}static compose(N){return jt(N)}static composeAsync(N){return $n(N)}}function ct(x){return null}function kt(x){return null!=x}function be(x){const N=(0,p.QGY)(x)?(0,q.D)(x):x;if(we&&!(0,p.CqO)(N)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof x&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,k)}return N}function Ze(x){let N={};return x.forEach(k=>{N=null!=k?{...N,...k}:N}),0===Object.keys(N).length?null:N}function ye(x,N){return N.map(k=>k(x))}function It(x){return x.map(N=>function Ue(x){return!x.validate}(N)?N:k=>N.validate(k))}function jt(x){if(!x)return null;const N=x.filter(kt);return 0==N.length?null:function(k){return Ze(ye(k,N))}}function Zn(x){return null!=x?jt(It(x)):null}function $n(x){if(!x)return null;const N=x.filter(kt);return 0==N.length?null:function(k){return function he(...x){const N=(0,Re.jO)(x),{args:k,keys:X}=(0,Ee.D)(x),ze=new Ie.y(pn=>{const{length:Cr}=k;if(!Cr)return void pn.complete();const Lr=new Array(Cr);let Li=Cr,Gs=Cr;for(let xo=0;xo<Cr;xo++){let pi=!1;(0,ve.Xf)(k[xo]).subscribe((0,Te.x)(pn,Si=>{pi||(pi=!0,Gs--),Lr[xo]=Si},()=>Li--,void 0,()=>{(!Li||!pi)&&(Gs||pn.next(X?(0,de.n)(X,Lr):Lr),pn.complete())}))}});return N?ze.pipe((0,Ve.Z)(N)):ze}(ye(k,N).map(be)).pipe((0,Se.U)(Ze))}}function wr(x){return null!=x?$n(It(x)):null}function gr(x,N){return null===x?[N]:Array.isArray(x)?[...x,N]:[x,N]}function mr(x){return x._rawValidators}function cr(x){return x._rawAsyncValidators}function Hr(x){return x?Array.isArray(x)?x:[x]:[]}function ln(x,N){return Array.isArray(x)?x.includes(N):x===N}function zr(x,N){const k=Hr(N);return Hr(x).forEach(ze=>{ln(k,ze)||k.push(ze)}),k}function Mn(x,N){return Hr(N).filter(k=>!ln(x,k))}class Ft{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=Zn(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=wr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,k){return!!this.control&&this.control.hasError(N,k)}getError(N,k){return this.control?this.control.getError(N,k):null}}class jn extends Ft{get formDirective(){return null}get path(){return null}}class Pr extends Ft{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yn=(()=>{class x extends ir{constructor(k){super(k)}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(Pr,2))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),x})(),gn=(()=>{class x extends ir{constructor(k){super(k)}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(jn,10))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),x})();function _t(x,N){return x?`with name: '${N}'`:`at index: ${N}`}const Ae=!1,Ke="VALID",pt="INVALID",se="PENDING",ie="DISABLED";function pe(x){return(me(x)?x.validators:x)||null}function Oe(x,N){return(me(N)?N.asyncValidators:x)||null}function me(x){return null!=x&&!Array.isArray(x)&&"object"==typeof x}class fe{constructor(N,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===Ke}get invalid(){return this.status===pt}get pending(){return this.status==se}get disabled(){return this.status===ie}get enabled(){return this.status!==ie}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(zr(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(zr(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(Mn(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(Mn(N,this._rawAsyncValidators))}hasValidator(N){return ln(this._rawValidators,N)}hasAsyncValidator(N){return ln(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=se,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const k=this._parentMarkedDirty(N.onlySelf);this.status=ie,this.errors=null,this._forEachChild(X=>{X.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!0))}enable(N={}){const k=this._parentMarkedDirty(N.onlySelf);this.status=Ke,this._forEachChild(X=>{X.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ke||this.status===se)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ie:Ke}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=se,this._hasOwnPendingAsyncValidator=!0;const k=be(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,k={}){this.errors=N,this._updateControlsErrors(!1!==k.emitEvent)}get(N){let k=N;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((X,ze)=>X&&X._find(ze),this)}getError(N,k){const X=k?this.get(k):this;return X&&X.errors?X.errors[N]:null}hasError(N,k){return!!this.getError(N,k)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?ie:this.errors?pt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(se)?se:this._anyControlsHaveStatus(pt)?pt:Ke}_anyControlsHaveStatus(N){return this._anyControls(k=>k.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){me(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function He(x){return Array.isArray(x)?Zn(x):x||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function Mt(x){return Array.isArray(x)?wr(x):x||null}(this._rawAsyncValidators)}}class Qe extends fe{constructor(N,k,X){super(pe(k),Oe(X,k)),this.controls=N,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,k){return this.controls[N]?this.controls[N]:(this.controls[N]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(N,k,X={}){this.registerControl(N,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(N,k={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(N,k,X={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],k&&this.registerControl(N,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,k={}){(function ne(x,N,k){x._forEachChild((X,ze)=>{if(void 0===k[ze])throw new p.vHH(1002,Ae?function re(x,N){return`Must supply a value for form control ${_t(x,N)}`}(N,ze):"")})})(this,!0,N),Object.keys(N).forEach(X=>{(function le(x,N,k){const X=x.controls;if(!(N?Object.keys(X):X).length)throw new p.vHH(1e3,Ae?function Mr(x){return`\n    There are no form controls registered with this ${x?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(N):"");if(!X[k])throw new p.vHH(1001,Ae?function st(x,N){return`Cannot find form control ${_t(x,N)}`}(N,k):"")})(this,!0,X),this.controls[X].setValue(N[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(N,k={}){null!=N&&(Object.keys(N).forEach(X=>{const ze=this.controls[X];ze&&ze.patchValue(N[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(N={},k={}){this._forEachChild((X,ze)=>{X.reset(N[ze],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(N,k,X)=>(N[X]=k.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(k,X)=>!!X._syncPendingControls()||k);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(k=>{const X=this.controls[k];X&&N(X,k)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[k,X]of Object.entries(this.controls))if(this.contains(k)&&N(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,X,ze)=>((X.enabled||this.disabled)&&(k[ze]=X.value),k))}_reduceChildren(N,k){let X=N;return this._forEachChild((ze,pn)=>{X=k(X,ze,pn)}),X}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}const er=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>at}),at="always";function Be(x,N){return[...N.path,x]}function St(x,N,k=at){en(x,N),N.valueAccessor.writeValue(x.value),(x.disabled||"always"===k)&&N.valueAccessor.setDisabledState?.(x.disabled),function Wn(x,N){N.valueAccessor.registerOnChange(k=>{x._pendingValue=k,x._pendingChange=!0,x._pendingDirty=!0,"change"===x.updateOn&&Br(x,N)})}(x,N),function Us(x,N){const k=(X,ze)=>{N.valueAccessor.writeValue(X),ze&&N.viewToModelUpdate(X)};x.registerOnChange(k),N._registerOnDestroy(()=>{x._unregisterOnChange(k)})}(x,N),function Or(x,N){N.valueAccessor.registerOnTouched(()=>{x._pendingTouched=!0,"blur"===x.updateOn&&x._pendingChange&&Br(x,N),"submit"!==x.updateOn&&x.markAsTouched()})}(x,N),function wn(x,N){if(N.valueAccessor.setDisabledState){const k=X=>{N.valueAccessor.setDisabledState(X)};x.registerOnDisabledChange(k),N._registerOnDestroy(()=>{x._unregisterOnDisabledChange(k)})}}(x,N)}function Qt(x,N,k=!0){const X=()=>{};N.valueAccessor&&(N.valueAccessor.registerOnChange(X),N.valueAccessor.registerOnTouched(X)),Nn(x,N),x&&(N._invokeOnDestroyCallbacks(),x._registerOnCollectionChange(()=>{}))}function fn(x,N){x.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(N)})}function en(x,N){const k=mr(x);null!==N.validator?x.setValidators(gr(k,N.validator)):"function"==typeof k&&x.setValidators([k]);const X=cr(x);null!==N.asyncValidator?x.setAsyncValidators(gr(X,N.asyncValidator)):"function"==typeof X&&x.setAsyncValidators([X]);const ze=()=>x.updateValueAndValidity();fn(N._rawValidators,ze),fn(N._rawAsyncValidators,ze)}function Nn(x,N){let k=!1;if(null!==x){if(null!==N.validator){const ze=mr(x);if(Array.isArray(ze)&&ze.length>0){const pn=ze.filter(Cr=>Cr!==N.validator);pn.length!==ze.length&&(k=!0,x.setValidators(pn))}}if(null!==N.asyncValidator){const ze=cr(x);if(Array.isArray(ze)&&ze.length>0){const pn=ze.filter(Cr=>Cr!==N.asyncValidator);pn.length!==ze.length&&(k=!0,x.setAsyncValidators(pn))}}}const X=()=>{};return fn(N._rawValidators,X),fn(N._rawAsyncValidators,X),k}function Br(x,N){x._pendingDirty&&x.markAsDirty(),x.setValue(x._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(x._pendingValue),x._pendingChange=!1}function Ji(x,N){if(!x.hasOwnProperty("model"))return!1;const k=x.model;return!!k.isFirstChange()||!Object.is(N,k.currentValue)}function Fr(x,N){if(!N)return null;let k,X,ze;return Array.isArray(N),N.forEach(pn=>{pn.constructor===je?k=pn:function ci(x){return Object.getPrototypeOf(x.constructor)===dt}(pn)?X=pn:ze=pn}),ze||X||k||null}function yn(x,N){const k=x.indexOf(N);k>-1&&x.splice(k,1)}function Pn(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}const vn=class extends fe{constructor(N=null,k,X){super(pe(k),Oe(X,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),me(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Pn(N)?N.value:N)}setValue(N,k={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(N,k={}){this.setValue(N,k)}reset(N=this.defaultValue,k={}){this._applyFormState(N),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){yn(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){yn(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Pn(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}},Hi={provide:Pr,useExisting:(0,p.Gpc)(()=>Zi)},Xi=(()=>Promise.resolve())();let Zi=(()=>{class x extends Pr{constructor(k,X,ze,pn,Cr,Lr){super(),this._changeDetectorRef=Cr,this.callSetDisabledState=Lr,this.control=new vn,this._registered=!1,this.update=new p.vpe,this._parent=k,this._setValidators(X),this._setAsyncValidators(ze),this.valueAccessor=Fr(0,pn)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const X=k.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),Ji(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){Xi.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const X=k.isDisabled.currentValue,ze=0!==X&&(0,p.D6c)(X);Xi.then(()=>{ze&&!this.control.disabled?this.control.disable():!ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?Be(k,this._parent):[k]}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(jn,9),p.Y36(ot,10),p.Y36(Le,10),p.Y36(At,10),p.Y36(p.sBO,8),p.Y36(er,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Hi]),p.qOj,p.TTD]}),x})(),Yr=(()=>{class x{}return x.\u0275fac=function(k){return new(k||x)},x.\u0275dir=p.lG2({type:x,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),x})(),js=(()=>{class x{}return x.\u0275fac=function(k){return new(k||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({}),x})();const to=new p.OlP("NgModelWithFormControlWarning"),Io={provide:jn,useExisting:(0,p.Gpc)(()=>rs)};let rs=(()=>{class x extends jn{constructor(k,X,ze){super(),this.callSetDisabledState=ze,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(k),this._setAsyncValidators(X)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const X=this.form.get(k.path);return St(X,k,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),X}getControl(k){return this.form.get(k.path)}removeControl(k){Qt(k.control||null,k,!1),function ke(x,N){const k=x.indexOf(N);k>-1&&x.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,X){this.form.get(k.path).setValue(X)}onSubmit(k){return this.submitted=!0,function gs(x,N){x._syncPendingControls(),N.forEach(k=>{const X=k.control;"submit"===X.updateOn&&X._pendingChange&&(k.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const X=k.control,ze=this.form.get(k.path);X!==ze&&(Qt(X||null,k),(x=>x instanceof vn)(ze)&&(St(ze,k,this.callSetDisabledState),k.control=ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const X=this.form.get(k.path);(function Bs(x,N){en(x,N)})(X,k),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const X=this.form.get(k.path);X&&function $i(x,N){return Nn(x,N)}(X,k)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){en(this.form,this),this._oldForm&&Nn(this._oldForm,this)}_checkFormPresent(){}}return x.\u0275fac=function(k){return new(k||x)(p.Y36(ot,10),p.Y36(Le,10),p.Y36(er,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formGroup",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(pn){return X.onSubmit(pn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Io]),p.qOj,p.TTD]}),x})();const To={provide:Pr,useExisting:(0,p.Gpc)(()=>ss)};let ss=(()=>{class x extends Pr{set isDisabled(k){}constructor(k,X,ze,pn,Cr){super(),this._ngModelWarningConfig=Cr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(X),this._setAsyncValidators(ze),this.valueAccessor=Fr(0,pn)}ngOnChanges(k){this._added||this._setUpControl(),Ji(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Be(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return x._ngModelWarningSentOnce=!1,x.\u0275fac=function(k){return new(k||x)(p.Y36(jn,13),p.Y36(ot,10),p.Y36(Le,10),p.Y36(At,10),p.Y36(to,8))},x.\u0275dir=p.lG2({type:x,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([To]),p.qOj,p.TTD]}),x})(),ti=(()=>{class x{}return x.\u0275fac=function(k){return new(k||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[js]}),x})(),oo=(()=>{class x{static withConfig(k){return{ngModule:x,providers:[{provide:er,useValue:k.callSetDisabledState??at}]}}}return x.\u0275fac=function(k){return new(k||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[ti]}),x})(),_a=(()=>{class x{static withConfig(k){return{ngModule:x,providers:[{provide:to,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:er,useValue:k.callSetDisabledState??at}]}}}return x.\u0275fac=function(k){return new(k||x)},x.\u0275mod=p.oAB({type:x}),x.\u0275inj=p.cJS({imports:[ti]}),x})()},1481:(Xt,Xe,H)=>{H.d(Xe,{Dx:()=>gn,H7:()=>pe,b2:()=>Pr,q6:()=>zr,se:()=>Ut});var p=H(6895),B=H(4650);class q extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends q{static makeCurrent(){(0,p.HT)(new Ie)}onAndCancel(le,ne,fe){return le.addEventListener(ne,fe,!1),()=>{le.removeEventListener(ne,fe,!1)}}dispatchEvent(le,ne){le.dispatchEvent(ne)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,ne){return(ne=ne||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,ne){return"window"===ne?window:"document"===ne?le:"body"===ne?le.body:null}getBaseHref(le){const ne=function ve(){return Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null}();return null==ne?null:function Te(me){Re=Re||document.createElement("a"),Re.setAttribute("href",me);const le=Re.pathname;return"/"===le.charAt(0)?le:`/${le}`}(ne)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,p.Mx)(document.cookie,le)}}let Re,Ee=null;const Ve=new B.OlP("TRANSITION_ID"),he=[{provide:B.ip1,useFactory:function de(me,le,ne){return()=>{ne.get(B.CZH).donePromise.then(()=>{const fe=(0,p.q)(),Qe=le.querySelectorAll(`style[ng-transition="${me}"]`);for(let Pt=0;Pt<Qe.length;Pt++)fe.remove(Qe[Pt])})}},deps:[Ve,p.K0,B.zs3],multi:!0}];let ft=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();const dt=new B.OlP("EventManagerPlugins");let At=(()=>{class me{constructor(ne,fe){this._zone=fe,this._eventNameToPlugin=new Map,ne.forEach(Qe=>{Qe.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,fe,Qe){return this._findPluginFor(fe).addEventListener(ne,fe,Qe)}addGlobalEventListener(ne,fe,Qe){return this._findPluginFor(fe).addGlobalEventListener(ne,fe,Qe)}getZone(){return this._zone}_findPluginFor(ne){const fe=this._eventNameToPlugin.get(ne);if(fe)return fe;const Qe=this._plugins;for(let Pt=0;Pt<Qe.length;Pt++){const an=Qe[Pt];if(an.supports(ne))return this._eventNameToPlugin.set(ne,an),an}throw new Error(`No event manager plugin found for event ${ne}`)}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(dt),B.LFG(B.R0b))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();class Rt{constructor(le){this._doc=le}addGlobalEventListener(le,ne,fe){const Qe=(0,p.q)().getGlobalEventTarget(this._doc,le);if(!Qe)throw new Error(`Unsupported event target ${Qe} for event ${ne}`);return this.addEventListener(Qe,ne,fe)}}let nt=(()=>{class me{constructor(){this.usageCount=new Map}addStyles(ne){for(const fe of ne)1===this.changeUsageCount(fe,1)&&this.onStyleAdded(fe)}removeStyles(ne){for(const fe of ne)0===this.changeUsageCount(fe,-1)&&this.onStyleRemoved(fe)}onStyleRemoved(ne){}onStyleAdded(ne){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ne,fe){const Qe=this.usageCount;let Pt=Qe.get(ne)??0;return Pt+=fe,Pt>0?Qe.set(ne,Pt):Qe.delete(ne),Pt}ngOnDestroy(){for(const ne of this.getAllStyles())this.onStyleRemoved(ne);this.usageCount.clear()}}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})(),gt=(()=>{class me extends nt{constructor(ne){super(),this.doc=ne,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ne){for(const fe of this.hostNodes)this.addStyleToHost(fe,ne)}onStyleRemoved(ne){const fe=this.styleRef;fe.get(ne)?.forEach(Pt=>Pt.remove()),fe.delete(ne)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const fe of this.getAllStyles())this.addStyleToHost(ne,fe)}removeHost(ne){this.hostNodes.delete(ne)}addStyleToHost(ne,fe){const Qe=this.doc.createElement("style");Qe.textContent=fe,ne.appendChild(Qe);const Pt=this.styleRef.get(fe);Pt?Pt.push(Qe):this.styleRef.set(fe,[Qe])}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(p.K0))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bt=/%COMP%/g,Le=new B.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function zt(me,le){return le.flat(100).map(ne=>ne.replace(bt,me))}function _n(me){return le=>{if("__ngUnwrap__"===le)return me;!1===me(le)&&(le.preventDefault(),le.returnValue=!1)}}let Ut=(()=>{class me{constructor(ne,fe,Qe,Pt){this.eventManager=ne,this.sharedStylesHost=fe,this.appId=Qe,this.removeStylesOnCompDestory=Pt,this.rendererByCompId=new Map,this.defaultRenderer=new $e(ne)}createRenderer(ne,fe){if(!ne||!fe)return this.defaultRenderer;const Qe=this.getOrCreateRenderer(ne,fe);return Qe instanceof kt?Qe.applyToHost(ne):Qe instanceof ct&&Qe.applyStyles(),Qe}getOrCreateRenderer(ne,fe){const Qe=this.rendererByCompId;let Pt=Qe.get(fe.id);if(!Pt){const an=this.eventManager,Ln=this.sharedStylesHost,sr=this.removeStylesOnCompDestory;switch(fe.encapsulation){case B.ifc.Emulated:Pt=new kt(an,Ln,fe,this.appId,sr);break;case B.ifc.ShadowDom:return new wt(an,Ln,ne,fe);default:Pt=new ct(an,Ln,fe,sr)}Pt.onDestroy=()=>Qe.delete(fe.id),Qe.set(fe.id,Pt)}return Pt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(At),B.LFG(gt),B.LFG(B.AFp),B.LFG(Le))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();class $e{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,ne){return ne?document.createElementNS(Ct[ne]||ne,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,ne){(lt(le)?le.content:le).appendChild(ne)}insertBefore(le,ne,fe){le&&(lt(le)?le.content:le).insertBefore(ne,fe)}removeChild(le,ne){le&&le.removeChild(ne)}selectRootElement(le,ne){let fe="string"==typeof le?document.querySelector(le):le;if(!fe)throw new Error(`The selector "${le}" did not match any elements`);return ne||(fe.textContent=""),fe}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,ne,fe,Qe){if(Qe){ne=Qe+":"+ne;const Pt=Ct[Qe];Pt?le.setAttributeNS(Pt,ne,fe):le.setAttribute(ne,fe)}else le.setAttribute(ne,fe)}removeAttribute(le,ne,fe){if(fe){const Qe=Ct[fe];Qe?le.removeAttributeNS(Qe,ne):le.removeAttribute(`${fe}:${ne}`)}else le.removeAttribute(ne)}addClass(le,ne){le.classList.add(ne)}removeClass(le,ne){le.classList.remove(ne)}setStyle(le,ne,fe,Qe){Qe&(B.JOm.DashCase|B.JOm.Important)?le.style.setProperty(ne,fe,Qe&B.JOm.Important?"important":""):le.style[ne]=fe}removeStyle(le,ne,fe){fe&B.JOm.DashCase?le.style.removeProperty(ne):le.style[ne]=""}setProperty(le,ne,fe){le[ne]=fe}setValue(le,ne){le.nodeValue=ne}listen(le,ne,fe){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,ne,_n(fe)):this.eventManager.addEventListener(le,ne,_n(fe))}}function lt(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class wt extends $e{constructor(le,ne,fe,Qe){super(le),this.sharedStylesHost=ne,this.hostEl=fe,this.shadowRoot=fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Pt=zt(Qe.id,Qe.styles);for(const an of Pt){const Ln=document.createElement("style");Ln.textContent=an,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,ne){return super.appendChild(this.nodeOrShadowRoot(le),ne)}insertBefore(le,ne,fe){return super.insertBefore(this.nodeOrShadowRoot(le),ne,fe)}removeChild(le,ne){return super.removeChild(this.nodeOrShadowRoot(le),ne)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ct extends $e{constructor(le,ne,fe,Qe,Pt=fe.id){super(le),this.sharedStylesHost=ne,this.removeStylesOnCompDestory=Qe,this.rendererUsageCount=0,this.styles=zt(Pt,fe.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class kt extends ct{constructor(le,ne,fe,Qe,Pt){const an=Qe+"-"+fe.id;super(le,ne,fe,Pt,an),this.contentAttr=function Nt(me){return"_ngcontent-%COMP%".replace(bt,me)}(an),this.hostAttr=function sn(me){return"_nghost-%COMP%".replace(bt,me)}(an)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,ne){const fe=super.createElement(le,ne);return super.setAttribute(fe,this.contentAttr,""),fe}}let be=(()=>{class me extends Rt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,fe,Qe){return ne.addEventListener(fe,Qe,!1),()=>this.removeEventListener(ne,fe,Qe)}removeEventListener(ne,fe,Qe){return ne.removeEventListener(fe,Qe)}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(p.K0))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();const Ze=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ue={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let It=(()=>{class me extends Rt{constructor(ne){super(ne)}supports(ne){return null!=me.parseEventName(ne)}addEventListener(ne,fe,Qe){const Pt=me.parseEventName(fe),an=me.eventCallback(Pt.fullKey,Qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ne,Pt.domEventName,an))}static parseEventName(ne){const fe=ne.toLowerCase().split("."),Qe=fe.shift();if(0===fe.length||"keydown"!==Qe&&"keyup"!==Qe)return null;const Pt=me._normalizeKey(fe.pop());let an="",Ln=fe.indexOf("code");if(Ln>-1&&(fe.splice(Ln,1),an="code."),Ze.forEach(er=>{const at=fe.indexOf(er);at>-1&&(fe.splice(at,1),an+=er+".")}),an+=Pt,0!=fe.length||0===Pt.length)return null;const sr={};return sr.domEventName=Qe,sr.fullKey=an,sr}static matchEventFullKeyCode(ne,fe){let Qe=ye[ne.key]||ne.key,Pt="";return fe.indexOf("code.")>-1&&(Qe=ne.code,Pt="code."),!(null==Qe||!Qe)&&(Qe=Qe.toLowerCase()," "===Qe?Qe="space":"."===Qe&&(Qe="dot"),Ze.forEach(an=>{an!==Qe&&(0,Ue[an])(ne)&&(Pt+=an+".")}),Pt+=Qe,Pt===fe)}static eventCallback(ne,fe,Qe){return Pt=>{me.matchEventFullKeyCode(Pt,ne)&&Qe.runGuarded(()=>fe(Pt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(p.K0))},me.\u0275prov=B.Yz7({token:me,factory:me.\u0275fac}),me})();const zr=(0,B.eFA)(B._c5,"browser",[{provide:B.Lbi,useValue:p.bD},{provide:B.g9A,useValue:function mr(){Ie.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Hr(){return(0,B.RDi)(document),document},deps:[]}]),Mn=new B.OlP(""),Ft=[{provide:B.rWj,useClass:class Se{addToWindow(le){B.dqk.getAngularTestability=(fe,Qe=!0)=>{const Pt=le.findTestabilityInTree(fe,Qe);if(null==Pt)throw new Error("Could not find testability for element.");return Pt},B.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),B.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),B.dqk.frameworkStabilizers||(B.dqk.frameworkStabilizers=[]),B.dqk.frameworkStabilizers.push(fe=>{const Qe=B.dqk.getAllAngularTestabilities();let Pt=Qe.length,an=!1;const Ln=function(sr){an=an||sr,Pt--,0==Pt&&fe(an)};Qe.forEach(function(sr){sr.whenStable(Ln)})})}findTestabilityInTree(le,ne,fe){return null==ne?null:le.getTestability(ne)??(fe?(0,p.q)().isShadowRoot(ne)?this.findTestabilityInTree(le,ne.host,!0):this.findTestabilityInTree(le,ne.parentElement,!0):null)}},deps:[]},{provide:B.lri,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]},{provide:B.dDg,useClass:B.dDg,deps:[B.R0b,B.eoX,B.rWj]}],jn=[{provide:B.zSh,useValue:"root"},{provide:B.qLn,useFactory:function cr(){return new B.qLn},deps:[]},{provide:dt,useClass:be,multi:!0,deps:[p.K0,B.R0b,B.Lbi]},{provide:dt,useClass:It,multi:!0,deps:[p.K0]},{provide:Ut,useClass:Ut,deps:[At,gt,B.AFp,Le]},{provide:B.FYo,useExisting:Ut},{provide:nt,useExisting:gt},{provide:gt,useClass:gt,deps:[p.K0]},{provide:At,useClass:At,deps:[dt,B.R0b]},{provide:p.JF,useClass:ft,deps:[]},[]];let Pr=(()=>{class me{constructor(ne){}static withServerTransition(ne){return{ngModule:me,providers:[{provide:B.AFp,useValue:ne.appId},{provide:Ve,useExisting:B.AFp},he]}}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(Mn,12))},me.\u0275mod=B.oAB({type:me}),me.\u0275inj=B.cJS({providers:[...jn,...Ft],imports:[p.ez,B.hGG]}),me})(),gn=(()=>{class me{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(p.K0))},me.\u0275prov=B.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new ne:function Yn(){return new gn((0,B.LFG)(p.K0))}(),fe},providedIn:"root"}),me})();typeof window<"u"&&window;let pe=(()=>{class me{}return me.\u0275fac=function(ne){return new(ne||me)},me.\u0275prov=B.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new(ne||me):B.LFG(Oe),fe},providedIn:"root"}),me})(),Oe=(()=>{class me extends pe{constructor(ne){super(),this._doc=ne}sanitize(ne,fe){if(null==fe)return null;switch(ne){case B.q3G.NONE:return fe;case B.q3G.HTML:return(0,B.qzn)(fe,"HTML")?(0,B.z3N)(fe):(0,B.EiD)(this._doc,String(fe)).toString();case B.q3G.STYLE:return(0,B.qzn)(fe,"Style")?(0,B.z3N)(fe):fe;case B.q3G.SCRIPT:if((0,B.qzn)(fe,"Script"))return(0,B.z3N)(fe);throw new Error("unsafe value used in a script context");case B.q3G.URL:return(0,B.qzn)(fe,"URL")?(0,B.z3N)(fe):(0,B.mCW)(String(fe));case B.q3G.RESOURCE_URL:if((0,B.qzn)(fe,"ResourceURL"))return(0,B.z3N)(fe);throw new Error(`unsafe value used in a resource URL context (see ${B.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ne} (see ${B.JZr})`)}}bypassSecurityTrustHtml(ne){return(0,B.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,B.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,B.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,B.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,B.pB0)(ne)}}return me.\u0275fac=function(ne){return new(ne||me)(B.LFG(p.K0))},me.\u0275prov=B.Yz7({token:me,factory:function(ne){let fe=null;return fe=ne?new ne:function He(me){return new Oe(me.get(p.K0))}(B.LFG(B.zs3)),fe},providedIn:"root"}),me})()},6647:(Xt,Xe,H)=>{H.d(Xe,{F0:()=>ri,rH:()=>ca,Bz:()=>Ii,lC:()=>Nr});var p=H(4650),B=H(8996),q=H(9646),Ie=H(7579);class Ee extends Ie.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:D}=this;if(E)throw m;return this._throwIfClosed(),D}next(E){super.next(this._value=E)}}var ve=H(6805),Re=H(9751),Te=H(4742),Ve=H(4671),de=H(3268),he=H(3269),Se=H(1810),ft=H(5403),dt=H(9672);function At(...y){const E=(0,he.yG)(y),m=(0,he.jO)(y),{args:D,keys:M}=(0,Te.D)(y);if(0===D.length)return(0,B.D)([],E);const V=new Re.y(function Rt(y,E,m=Ve.y){return D=>{nt(E,()=>{const{length:M}=y,V=new Array(M);let Y=M,xe=M;for(let yt=0;yt<M;yt++)nt(E,()=>{const tn=(0,B.D)(y[yt],E);let Yt=!1;tn.subscribe((0,ft.x)(D,_r=>{V[yt]=_r,Yt||(Yt=!0,xe--),xe||D.next(m(V.slice()))},()=>{--Y||D.complete()}))},D)},D)}}(D,E,M?Y=>(0,Se.n)(M,Y):Ve.y));return m?V.pipe((0,de.Z)(m)):V}function nt(y,E,m){y?(0,dt.f)(m,y,E):E()}var gt=H(8189);function bt(...y){return function Ct(){return(0,gt.J)(1)}()((0,B.D)(y,(0,he.yG)(y)))}var je=H(8421);function we(y){return new Re.y(E=>{(0,je.Xf)(y()).subscribe(E)})}var et=H(9635),Dt=H(576);function ot(y,E){const m=(0,Dt.m)(y)?y:()=>y,D=M=>M.error(m());return new Re.y(E?M=>E.schedule(D,0,M):D)}var Le=H(515),Nt=H(727),sn=H(4482);function zt(){return(0,sn.e)((y,E)=>{let m=null;y._refCount++;const D=(0,ft.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const M=y._connection,V=m;m=null,M&&(!V||M===V)&&M.unsubscribe(),E.unsubscribe()});y.subscribe(D),D.closed||(m=y.connect())})}class _n extends Re.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,sn.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Nt.w0;const m=this.getSubject();E.add(this.source.subscribe((0,ft.x)(m,void 0,()=>{this._teardown(),m.complete()},D=>{this._teardown(),m.error(D)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Nt.w0.EMPTY)}return E}refCount(){return zt()(this)}}var Ut=H(6895),$e=H(4004),rt=H(3900),qe=H(5698),wt=H(9300),ct=H(5577),kt=H(590),be=H(4351),Ze=H(8505);function ye(y){return(0,sn.e)((E,m)=>{let V,D=null,M=!1;D=E.subscribe((0,ft.x)(m,void 0,void 0,Y=>{V=(0,je.Xf)(y(Y,ye(y)(E))),D?(D.unsubscribe(),D=null,V.subscribe(m)):M=!0})),M&&(D.unsubscribe(),D=null,V.subscribe(m))})}function It(y,E){return(0,sn.e)(function Ue(y,E,m,D,M){return(V,Y)=>{let xe=m,yt=E,tn=0;V.subscribe((0,ft.x)(Y,Yt=>{const _r=tn++;yt=xe?y(yt,Yt,_r):(xe=!0,Yt),D&&Y.next(yt)},M&&(()=>{xe&&Y.next(yt),Y.complete()})))}}(y,E,arguments.length>=2,!0))}function jt(y){return y<=0?()=>Le.E:(0,sn.e)((E,m)=>{let D=[];E.subscribe((0,ft.x)(m,M=>{D.push(M),y<D.length&&D.shift()},()=>{for(const M of D)m.next(M);m.complete()},void 0,()=>{D=null}))})}var Zn=H(8068),$n=H(6590);function wr(y,E){const m=arguments.length>=2;return D=>D.pipe(y?(0,wt.h)((M,V)=>y(M,V,D)):Ve.y,jt(1),m?(0,$n.d)(E):(0,Zn.T)(()=>new ve.K))}function cr(y){return(0,sn.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(y)}})}var Hr=H(1481);const ln="primary",zr=Symbol("RouteTitle");class Mn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Ft(y){return new Mn(y)}function jn(y,E,m){const D=m.path.split("/");if(D.length>y.length||"full"===m.pathMatch&&(E.hasChildren()||D.length<y.length))return null;const M={};for(let V=0;V<D.length;V++){const Y=D[V],xe=y[V];if(Y.startsWith(":"))M[Y.substring(1)]=xe;else if(Y!==xe.path)return null}return{consumed:y.slice(0,D.length),posParams:M}}function ir(y,E){const m=y?Object.keys(y):void 0,D=E?Object.keys(E):void 0;if(!m||!D||m.length!=D.length)return!1;let M;for(let V=0;V<m.length;V++)if(M=m[V],!qr(y[M],E[M]))return!1;return!0}function qr(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const m=[...y].sort(),D=[...E].sort();return m.every((M,V)=>D[V]===M)}return y===E}function vi(y){return Array.prototype.concat.apply([],y)}function Yn(y){return y.length>0?y[y.length-1]:null}function Bt(y,E){for(const m in y)y.hasOwnProperty(m)&&E(y[m],m)}function Vt(y){return(0,p.CqO)(y)?y:(0,p.QGY)(y)?(0,B.D)(Promise.resolve(y)):(0,q.of)(y)}const Ar=!1,Ur={exact:function kr(y,E,m){if(!re(y.segments,E.segments)||!Ti(y.segments,E.segments,m)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const D in E.children)if(!y.children[D]||!kr(y.children[D],E.children[D],m))return!1;return!0},subset:Bi},yr={exact:function Gr(y,E){return ir(y,E)},subset:function lr(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(m=>qr(y[m],E[m]))},ignored:()=>!0};function li(y,E,m){return Ur[m.paths](y.root,E.root,m.matrixParams)&&yr[m.queryParams](y.queryParams,E.queryParams)&&!("exact"===m.fragment&&y.fragment!==E.fragment)}function Bi(y,E,m){return Xn(y,E,E.segments,m)}function Xn(y,E,m,D){if(y.segments.length>m.length){const M=y.segments.slice(0,m.length);return!(!re(M,m)||E.hasChildren()||!Ti(M,m,D))}if(y.segments.length===m.length){if(!re(y.segments,m)||!Ti(y.segments,m,D))return!1;for(const M in E.children)if(!y.children[M]||!Bi(y.children[M],E.children[M],D))return!1;return!0}{const M=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(re(y.segments,M)&&Ti(y.segments,M,D)&&y.children[ln])&&Xn(y.children[ln],E,V,D)}}function Ti(y,E,m){return E.every((D,M)=>yr[m](y[M].parameters,D.parameters))}class Rn{constructor(E=new _t([],{}),m={},D=null){this.root=E,this.queryParams=m,this.fragment=D}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return se.serialize(this)}}class _t{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Bt(m,(D,M)=>D.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ie(this)}}class Mr{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Ft(this.parameters)),this._parameterMap}toString(){return fe(this)}}function re(y,E){return y.length===E.length&&y.every((m,D)=>m.path===E[D].path)}let Ke=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return new pt},providedIn:"root"}),y})();class pt{parse(E){const m=new St(E);return new Rn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${pe(E.root,!0)}`,D=function Pt(y){const E=Object.keys(y).map(m=>{const D=y[m];return Array.isArray(D)?D.map(M=>`${Oe(m)}=${Oe(M)}`).join("&"):`${Oe(m)}=${Oe(D)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${D}${"string"==typeof E.fragment?`#${function Mt(y){return encodeURI(y)}(E.fragment)}`:""}`}}const se=new pt;function ie(y){return y.segments.map(E=>fe(E)).join("/")}function pe(y,E){if(!y.hasChildren())return ie(y);if(E){const m=y.children[ln]?pe(y.children[ln],!1):"",D=[];return Bt(y.children,(M,V)=>{V!==ln&&D.push(`${V}:${pe(M,!1)}`)}),D.length>0?`${m}(${D.join("//")})`:m}{const m=function Ae(y,E){let m=[];return Bt(y.children,(D,M)=>{M===ln&&(m=m.concat(E(D,M)))}),Bt(y.children,(D,M)=>{M!==ln&&(m=m.concat(E(D,M)))}),m}(y,(D,M)=>M===ln?[pe(y.children[ln],!1)]:[`${M}:${pe(D,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ln]?`${ie(y)}/${m[0]}`:`${ie(y)}/(${m.join("//")})`}}function He(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(y){return He(y).replace(/%3B/gi,";")}function me(y){return He(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(y){return decodeURIComponent(y)}function ne(y){return le(y.replace(/\+/g,"%20"))}function fe(y){return`${me(y.path)}${function Qe(y){return Object.keys(y).map(E=>`;${me(E)}=${me(y[E])}`).join("")}(y.parameters)}`}const an=/^[^\/()?;=#]+/;function Ln(y){const E=y.match(an);return E?E[0]:""}const sr=/^[^=?&#]+/,at=/^[^&#]+/;class St{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let D={};return this.peekStartsWith("(")&&(D=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(D[ln]=new _t(E,m)),D}parseSegment(){const E=Ln(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,Ar);return this.capture(E),new Mr(le(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=Ln(this.remaining);if(!m)return;this.capture(m);let D="";if(this.consumeOptional("=")){const M=Ln(this.remaining);M&&(D=M,this.capture(D))}E[le(m)]=le(D)}parseQueryParam(E){const m=function er(y){const E=y.match(sr);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let D="";if(this.consumeOptional("=")){const Y=function Be(y){const E=y.match(at);return E?E[0]:""}(this.remaining);Y&&(D=Y,this.capture(D))}const M=ne(m),V=ne(D);if(E.hasOwnProperty(M)){let Y=E[M];Array.isArray(Y)||(Y=[Y],E[M]=Y),Y.push(V)}else E[M]=V}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const D=Ln(this.remaining),M=this.remaining[D.length];if("/"!==M&&")"!==M&&";"!==M)throw new p.vHH(4010,Ar);let V;D.indexOf(":")>-1?(V=D.slice(0,D.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=ln);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[ln]:new _t([],Y),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,Ar)}}function Qt(y){return y.segments.length>0?new _t([],{[ln]:y}):y}function fn(y){const E={};for(const D of Object.keys(y.children)){const V=fn(y.children[D]);(V.segments.length>0||V.hasChildren())&&(E[D]=V)}return function wn(y){if(1===y.numberOfChildren&&y.children[ln]){const E=y.children[ln];return new _t(y.segments.concat(E.segments),E.children)}return y}(new _t(y.segments,E))}function en(y){return y instanceof Rn}const Nn=!1;function Us(y,E,m,D,M){if(0===m.length)return tr(E.root,E.root,E.root,D,M);const V=function vr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Cn(!0,0,y);let E=0,m=!1;const D=y.reduce((M,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const xe={};return Bt(V.outlets,(yt,tn)=>{xe[tn]="string"==typeof yt?yt.split("/"):yt}),[...M,{outlets:xe}]}if(V.segmentPath)return[...M,V.segmentPath]}return"string"!=typeof V?[...M,V]:0===Y?(V.split("/").forEach((xe,yt)=>{0==yt&&"."===xe||(0==yt&&""===xe?m=!0:".."===xe?E++:""!=xe&&M.push(xe))}),M):[...M,V]},[]);return new Cn(m,E,D)}(m);return V.toRoot()?tr(E.root,E.root,new _t([],{}),D,M):function Y(yt){const tn=function ci(y,E,m,D){if(y.isAbsolute)return new Qn(E.root,!0,0);if(-1===D)return new Qn(m,m===E.root,0);return function gs(y,E,m){let D=y,M=E,V=m;for(;V>M;){if(V-=M,D=D.parent,!D)throw new p.vHH(4005,Nn&&"Invalid number of '../'");M=D.segments.length}return new Qn(D,!1,M-V)}(m,D+(Bs(y.commands[0])?0:1),y.numberOfDoubleDots)}(V,E,y.snapshot?._urlSegment,yt),Yt=tn.processChildren?De(tn.segmentGroup,tn.index,V.commands):ke(tn.segmentGroup,tn.index,V.commands);return tr(E.root,tn.segmentGroup,Yt,D,M)}(y.snapshot?._lastPathIndex)}function Bs(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function $i(y){return"object"==typeof y&&null!=y&&y.outlets}function tr(y,E,m,D,M){let Y,V={};D&&Bt(D,(yt,tn)=>{V[tn]=Array.isArray(yt)?yt.map(Yt=>`${Yt}`):`${yt}`}),Y=y===E?m:Wt(y,E,m);const xe=Qt(fn(Y));return new Rn(xe,V,M)}function Wt(y,E,m){const D={};return Bt(y.children,(M,V)=>{D[V]=M===E?m:Wt(M,E,m)}),new _t(y.segments,D)}class Cn{constructor(E,m,D){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=D,E&&D.length>0&&Bs(D[0]))throw new p.vHH(4003,Nn&&"Root segment cannot have matrix parameters");const M=D.find($i);if(M&&M!==Yn(D))throw new p.vHH(4004,Nn&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qn{constructor(E,m,D){this.segmentGroup=E,this.processChildren=m,this.index=D}}function ke(y,E,m){if(y||(y=new _t([],{})),0===y.segments.length&&y.hasChildren())return De(y,E,m);const D=function Me(y,E,m){let D=0,M=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(D>=m.length)return V;const Y=y.segments[M],xe=m[D];if($i(xe))break;const yt=`${xe}`,tn=D<m.length-1?m[D+1]:null;if(M>0&&void 0===yt)break;if(yt&&tn&&"object"==typeof tn&&void 0===tn.outlets){if(!Pn(yt,tn,Y))return V;D+=2}else{if(!Pn(yt,{},Y))return V;D++}M++}return{match:!0,pathIndex:M,commandIndex:D}}(y,E,m),M=m.slice(D.commandIndex);if(D.match&&D.pathIndex<y.segments.length){const V=new _t(y.segments.slice(0,D.pathIndex),{});return V.children[ln]=new _t(y.segments.slice(D.pathIndex),y.children),De(V,0,M)}return D.match&&0===M.length?new _t(y.segments,{}):D.match&&!y.hasChildren()?mt(y,E,m):D.match?De(y,0,M):mt(y,E,m)}function De(y,E,m){if(0===m.length)return new _t(y.segments,{});{const D=function Fr(y){return $i(y[0])?y[0].outlets:{[ln]:y}}(m),M={};if(!D[ln]&&y.children[ln]&&1===y.numberOfChildren&&0===y.children[ln].segments.length){const V=De(y.children[ln],E,m);return new _t(y.segments,V.children)}return Bt(D,(V,Y)=>{"string"==typeof V&&(V=[V]),null!==V&&(M[Y]=ke(y.children[Y],E,V))}),Bt(y.children,(V,Y)=>{void 0===D[Y]&&(M[Y]=V)}),new _t(y.segments,M)}}function mt(y,E,m){const D=y.segments.slice(0,E);let M=0;for(;M<m.length;){const V=m[M];if($i(V)){const yt=xt(V.outlets);return new _t(D,yt)}if(0===M&&Bs(m[0])){D.push(new Mr(y.segments[E].path,yn(m[0]))),M++;continue}const Y=$i(V)?V.outlets[ln]:`${V}`,xe=M<m.length-1?m[M+1]:null;Y&&xe&&Bs(xe)?(D.push(new Mr(Y,yn(xe))),M+=2):(D.push(new Mr(Y,{})),M++)}return new _t(D,{})}function xt(y){const E={};return Bt(y,(m,D)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[D]=mt(new _t([],{}),0,m))}),E}function yn(y){const E={};return Bt(y,(m,D)=>E[D]=`${m}`),E}function Pn(y,E,m){return y==m.path&&ir(E,m.parameters)}const vn="imperative";class kn{constructor(E,m){this.id=E,this.url=m}}class _i extends kn{constructor(E,m,D="imperative",M=null){super(E,m),this.type=0,this.navigationTrigger=D,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends kn{constructor(E,m,D){super(E,m),this.urlAfterRedirects=D,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zr extends kn{constructor(E,m,D,M){super(E,m),this.reason=D,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class si extends kn{constructor(E,m,D,M){super(E,m),this.reason=D,this.code=M,this.type=16}}class Ir extends kn{constructor(E,m,D,M){super(E,m),this.error=D,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends kn{constructor(E,m,D,M){super(E,m),this.urlAfterRedirects=D,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo extends kn{constructor(E,m,D,M){super(E,m),this.urlAfterRedirects=D,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends kn{constructor(E,m,D,M,V){super(E,m),this.urlAfterRedirects=D,this.state=M,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hi extends kn{constructor(E,m,D,M){super(E,m),this.urlAfterRedirects=D,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi extends kn{constructor(E,m,D,M){super(E,m),this.urlAfterRedirects=D,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zi{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yr{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uo{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ci{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class es{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $s{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class js{constructor(E,m,D){this.routerEvent=E,this.position=m,this.anchor=D,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let xr=(()=>{class y{createUrlTree(m,D,M,V,Y,xe){return Us(m||D.root,M,V,Y,xe)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})(),to=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(E){return xr.\u0275fac(E)},providedIn:"root"}),y})();class ns{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=Bo(E,this._root);return m?m.children.map(D=>D.value):[]}firstChild(E){const m=Bo(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=Io(E,this._root);return m.length<2?[]:m[m.length-2].children.map(M=>M.value).filter(M=>M!==E)}pathFromRoot(E){return Io(E,this._root).map(m=>m.value)}}function Bo(y,E){if(y===E.value)return E;for(const m of E.children){const D=Bo(y,m);if(D)return D}return null}function Io(y,E){if(y===E.value)return[E];for(const m of E.children){const D=Io(y,m);if(D.length)return D.unshift(E),D}return[]}class rs{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function bs(y){const E={};return y&&y.children.forEach(m=>E[m.value.outlet]=m),E}class ia extends ns{constructor(E,m){super(E),this.snapshot=m,ms(this,E)}toString(){return this.snapshot.toString()}}function Do(y,E){const m=function $o(y,E){const Y=new os([],{},{},"",{},ln,E,null,y.root,-1,{});return new Co("",new rs(Y,[]))}(y,E),D=new Ee([new Mr("",{})]),M=new Ee({}),V=new Ee({}),Y=new Ee({}),xe=new Ee(""),yt=new is(D,M,Y,xe,V,ln,E,m.root);return yt.snapshot=m.root,new ia(new rs(yt,[]),m)}class is{constructor(E,m,D,M,V,Y,xe,yt){this.url=E,this.params=m,this.queryParams=D,this.fragment=M,this.data=V,this.outlet=Y,this.component=xe,this.title=this.data?.pipe((0,$e.U)(tn=>tn[zr]))??(0,q.of)(void 0),this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(E=>Ft(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(E=>Ft(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function To(y,E="emptyOnly"){const m=y.pathFromRoot;let D=0;if("always"!==E)for(D=m.length-1;D>=1;){const M=m[D],V=m[D-1];if(M.routeConfig&&""===M.routeConfig.path)D--;else{if(V.component)break;D--}}return function ss(y){return y.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(D))}class os{get title(){return this.data?.[zr]}constructor(E,m,D,M,V,Y,xe,yt,tn,Yt,_r){this.url=E,this.params=m,this.queryParams=D,this.fragment=M,this.data=V,this.outlet=Y,this.component=xe,this.routeConfig=yt,this._urlSegment=tn,this._lastPathIndex=Yt,this._resolve=_r}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ft(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ft(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(D=>D.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Co extends ns{constructor(E,m){super(m),this.url=E,ms(this,m)}toString(){return bo(this._root)}}function ms(y,E){E.value._routerState=y,E.children.forEach(m=>ms(y,m))}function bo(y){const E=y.children.length>0?` { ${y.children.map(bo).join(", ")} } `:"";return`${y.value}${E}`}function jo(y){if(y.snapshot){const E=y.snapshot,m=y._futureSnapshot;y.snapshot=m,ir(E.queryParams,m.queryParams)||y.queryParams.next(m.queryParams),E.fragment!==m.fragment&&y.fragment.next(m.fragment),ir(E.params,m.params)||y.params.next(m.params),function Pr(y,E){if(y.length!==E.length)return!1;for(let m=0;m<y.length;++m)if(!ir(y[m],E[m]))return!1;return!0}(E.url,m.url)||y.url.next(m.url),ir(E.data,m.data)||y.data.next(m.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function zi(y,E){const m=ir(y.params,E.params)&&function st(y,E){return re(y,E)&&y.every((m,D)=>ir(m.parameters,E[D].parameters))}(y.url,E.url);return m&&!(!y.parent!=!E.parent)&&(!y.parent||zi(y.parent,E.parent))}function Oi(y,E,m){if(m&&y.shouldReuseRoute(E.value,m.value.snapshot)){const D=m.value;D._futureSnapshot=E.value;const M=function va(y,E,m){return E.children.map(D=>{for(const M of m.children)if(y.shouldReuseRoute(D.value,M.value.snapshot))return Oi(y,D,M);return Oi(y,D)})}(y,E,m);return new rs(D,M)}{if(y.shouldAttach(E.value)){const V=y.retrieve(E.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=E.value,Y.children=E.children.map(xe=>Oi(y,xe)),Y}}const D=function ro(y){return new is(new Ee(y.url),new Ee(y.params),new Ee(y.queryParams),new Ee(y.fragment),new Ee(y.data),y.outlet,y.component,y)}(E.value),M=E.children.map(V=>Oi(y,V));return new rs(D,M)}}const io="ngNavigationCancelingError";function sa(y,E){const{redirectTo:m,navigationBehaviorOptions:D}=en(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,M=bi(!1,0,E);return M.url=m,M.navigationBehaviorOptions=D,M}function bi(y,E,m){const D=new Error("NavigationCancelingError: "+(y||""));return D[io]=!0,D.cancellationCode=E,m&&(D.url=m),D}function ys(y){return So(y)&&en(y.url)}function So(y){return y&&y[io]}class Hs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new as,this.attachRef=null}}let as=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,D){const M=this.getOrCreateContext(m);M.outlet=D,this.contexts.set(m,M)}onChildOutletDestroyed(m){const D=this.getContext(m);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let D=this.getContext(m);return D||(D=new Hs,this.contexts.set(m,D)),D}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ni=!1;let Nr=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(as),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:D,previousValue:M}=m.name;if(D)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Ni);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Ni);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Ni);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,D){this.activated=m,this._activatedRoute=D,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,D){if(this.isActivated)throw new p.vHH(4013,Ni);this._activatedRoute=m;const M=this.location,Y=m.snapshot.component,xe=this.parentContexts.getOrCreateContext(this.name).children,yt=new oi(m,xe,M.injector);if(D&&function Ss(y){return!!y.resolveComponentFactory}(D)){const tn=D.resolveComponentFactory(Y);this.activated=M.createComponent(tn,M.length,yt)}else this.activated=M.createComponent(Y,{index:M.length,injector:yt,environmentInjector:D??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=p.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),y})();class oi{constructor(E,m,D){this.route=E,this.childContexts=m,this.parent=D}get(E,m){return E===is?this.route:E===as?this.childContexts:this.parent.get(E,m)}}let Hn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=p.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,D){1&m&&p._UZ(0,"router-outlet")},dependencies:[Nr],encapsulation:2}),y})();function us(y,E){return y.providers&&!y._injector&&(y._injector=(0,p.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}function mo(y){const E=y.children&&y.children.map(mo),m=E?{...y,children:E}:{...y};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==ln&&(m.component=Hn),m}function Jr(y){return y.outlet||ln}function ti(y,E){const m=y.filter(D=>Jr(D)===E);return m.push(...y.filter(D=>Jr(D)!==E)),m}function fi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class oa{constructor(E,m,D,M){this.routeReuseStrategy=E,this.futureState=m,this.currState=D,this.forwardEvent=M}activate(E){const m=this.futureState._root,D=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,D,E),jo(this.futureState.root),this.activateChildRoutes(m,D,E)}deactivateChildRoutes(E,m,D){const M=bs(m);E.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,M[Y],D),delete M[Y]}),Bt(M,(V,Y)=>{this.deactivateRouteAndItsChildren(V,D)})}deactivateRoutes(E,m,D){const M=E.value,V=m?m.value:null;if(M===V)if(M.component){const Y=D.getContext(M.outlet);Y&&this.deactivateChildRoutes(E,m,Y.children)}else this.deactivateChildRoutes(E,m,D);else V&&this.deactivateRouteAndItsChildren(m,D)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const D=m.getContext(E.value.outlet),M=D&&E.value.component?D.children:m,V=bs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);if(D&&D.outlet){const Y=D.outlet.detach(),xe=D.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Y,route:E,contexts:xe})}}deactivateRouteAndOutlet(E,m){const D=m.getContext(E.value.outlet),M=D&&E.value.component?D.children:m,V=bs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);D&&(D.outlet&&(D.outlet.deactivate(),D.children.onOutletDeactivated()),D.attachRef=null,D.resolver=null,D.route=null)}activateChildRoutes(E,m,D){const M=bs(m);E.children.forEach(V=>{this.activateRoutes(V,M[V.value.outlet],D),this.forwardEvent(new $s(V.value.snapshot))}),E.children.length&&this.forwardEvent(new Ci(E.value.snapshot))}activateRoutes(E,m,D){const M=E.value,V=m?m.value:null;if(jo(M),M===V)if(M.component){const Y=D.getOrCreateContext(M.outlet);this.activateChildRoutes(E,m,Y.children)}else this.activateChildRoutes(E,m,D);else if(M.component){const Y=D.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const xe=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),Y.children.onOutletReAttached(xe.contexts),Y.attachRef=xe.componentRef,Y.route=xe.route.value,Y.outlet&&Y.outlet.attach(xe.componentRef,xe.route.value),jo(xe.route.value),this.activateChildRoutes(E,null,Y.children)}else{const xe=fi(M.snapshot),yt=xe?.get(p._Vd)??null;Y.attachRef=null,Y.route=M,Y.resolver=yt,Y.injector=xe,Y.outlet&&Y.outlet.activateWith(M,Y.injector),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,D)}}class zo{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class zs{constructor(E,m){this.component=E,this.route=m}}function Mo(y,E,m){const D=y._root;return oo(D,E?E._root:null,m,[D.value])}function so(y,E){const m=Symbol(),D=E.get(y,m);return D===m?"function"!=typeof y||(0,p.Z0I)(y)?E.get(y):y:D}function oo(y,E,m,D,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=bs(E);return y.children.forEach(Y=>{(function _a(y,E,m,D,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=E?E.value:null,xe=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const yt=function x(y,E,m){if("function"==typeof m)return m(y,E);switch(m){case"pathParamsChange":return!re(y.url,E.url);case"pathParamsOrQueryParamsChange":return!re(y.url,E.url)||!ir(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zi(y,E)||!ir(y.queryParams,E.queryParams);default:return!zi(y,E)}}(Y,V,V.routeConfig.runGuardsAndResolvers);yt?M.canActivateChecks.push(new zo(D)):(V.data=Y.data,V._resolvedData=Y._resolvedData),oo(y,E,V.component?xe?xe.children:null:m,D,M),yt&&xe&&xe.outlet&&xe.outlet.isActivated&&M.canDeactivateChecks.push(new zs(xe.outlet.component,Y))}else Y&&N(E,xe,M),M.canActivateChecks.push(new zo(D)),oo(y,null,V.component?xe?xe.children:null:m,D,M)})(Y,V[Y.value.outlet],m,D.concat([Y.value]),M),delete V[Y.value.outlet]}),Bt(V,(Y,xe)=>N(Y,m.getContext(xe),M)),M}function N(y,E,m){const D=bs(y),M=y.value;Bt(D,(V,Y)=>{N(V,M.component?E?E.children.getContext(Y):null:E,m)}),m.canDeactivateChecks.push(new zs(M.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,M))}function k(y){return"function"==typeof y}function pi(y){return y instanceof ve.K||"EmptyError"===y?.name}const Si=Symbol("INITIAL_VALUE");function Wr(){return(0,rt.w)(y=>At(y.map(E=>E.pipe((0,qe.q)(1),function lt(...y){const E=(0,he.yG)(y);return(0,sn.e)((m,D)=>{(E?bt(y,m,E):bt(y,m)).subscribe(D)})}(Si)))).pipe((0,$e.U)(E=>{for(const m of E)if(!0!==m){if(m===Si)return Si;if(!1===m||m instanceof Rn)return m}return!0}),(0,wt.h)(E=>E!==Si),(0,qe.q)(1)))}function Ea(y){return(0,et.z)((0,Ze.b)(E=>{if(en(E))throw sa(0,E)}),(0,$e.U)(E=>!0===E))}const Ia={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uo(y,E,m,D,M){const V=As(y,E,m);return V.matched?function wa(y,E,m,D){const M=E.canMatch;if(!M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const xe=so(Y,y);return Vt(function Li(y){return y&&k(y.canMatch)}(xe)?xe.canMatch(E,m):y.runInContext(()=>xe(E,m)))});return(0,q.of)(V).pipe(Wr(),Ea())}(D=us(E,D),E,m).pipe((0,$e.U)(Y=>!0===Y?V:{...Ia})):(0,q.of)(V)}function As(y,E,m){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||m.length>0)?{...Ia}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const M=(E.matcher||jn)(m,y,E);if(!M)return{...Ia};const V={};Bt(M.posParams,(xe,yt)=>{V[yt]=xe.path});const Y=M.consumed.length>0?{...V,...M.consumed[M.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:M.consumed,remainingSegments:m.slice(M.consumed.length),parameters:Y,positionalParamSegments:M.posParams??{}}}function Es(y,E,m,D){if(m.length>0&&function vo(y,E,m){return m.some(D=>_(y,E,D)&&Jr(D)!==ln)}(y,m,D)){const V=new _t(E,function Go(y,E,m,D){const M={};M[ln]=D,D._sourceSegment=y,D._segmentIndexShift=E.length;for(const V of m)if(""===V.path&&Jr(V)!==ln){const Y=new _t([],{});Y._sourceSegment=y,Y._segmentIndexShift=E.length,M[Jr(V)]=Y}return M}(y,E,D,new _t(m,y.children)));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:[]}}if(0===m.length&&function $(y,E,m){return m.some(D=>_(y,E,D))}(y,m,D)){const V=new _t(y.segments,function aa(y,E,m,D,M){const V={};for(const Y of D)if(_(y,m,Y)&&!M[Jr(Y)]){const xe=new _t([],{});xe._sourceSegment=y,xe._segmentIndexShift=E.length,V[Jr(Y)]=xe}return{...M,...V}}(y,E,m,D,y.children));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:m}}const M=new _t(y.segments,y.children);return M._sourceSegment=y,M._segmentIndexShift=E.length,{segmentGroup:M,slicedSegments:m}}function _(y,E,m){return(!(y.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function w(y,E,m,D){return!!(Jr(y)===D||D!==ln&&_(E,m,y))&&("**"===y.path||As(E,y,m).matched)}function F(y,E,m){return 0===E.length&&!y.children[m]}const K=!1;class te{constructor(E){this.segmentGroup=E||null}}class ce{constructor(E){this.urlTree=E}}function _e(y){return ot(new te(y))}function We(y){return ot(new ce(y))}class ur{constructor(E,m,D,M,V){this.injector=E,this.configLoader=m,this.urlSerializer=D,this.urlTree=M,this.config=V,this.allowRedirects=!0}apply(){const E=Es(this.urlTree.root,[],[],this.config).segmentGroup,m=new _t(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,ln).pipe((0,$e.U)(V=>this.createUrlTree(fn(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ye(V=>{if(V instanceof ce)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof te?this.noMatchError(V):V}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,ln).pipe((0,$e.U)(M=>this.createUrlTree(fn(M),E.queryParams,E.fragment))).pipe(ye(M=>{throw M instanceof te?this.noMatchError(M):M}))}noMatchError(E){return new p.vHH(4002,K)}createUrlTree(E,m,D){const M=Qt(E);return new Rn(M,m,D)}expandSegmentGroup(E,m,D,M){return 0===D.segments.length&&D.hasChildren()?this.expandChildren(E,m,D).pipe((0,$e.U)(V=>new _t([],V))):this.expandSegment(E,D,m,D.segments,M,!0)}expandChildren(E,m,D){const M=[];for(const V of Object.keys(D.children))"primary"===V?M.unshift(V):M.push(V);return(0,B.D)(M).pipe((0,be.b)(V=>{const Y=D.children[V],xe=ti(m,V);return this.expandSegmentGroup(E,xe,Y,V).pipe((0,$e.U)(yt=>({segment:yt,outlet:V})))}),It((V,Y)=>(V[Y.outlet]=Y.segment,V),{}),wr())}expandSegment(E,m,D,M,V,Y){return(0,B.D)(D).pipe((0,be.b)(xe=>this.expandSegmentAgainstRoute(E,m,D,xe,M,V,Y).pipe(ye(tn=>{if(tn instanceof te)return(0,q.of)(null);throw tn}))),(0,kt.P)(xe=>!!xe),ye((xe,yt)=>{if(pi(xe))return F(m,M,V)?(0,q.of)(new _t([],{})):_e(m);throw xe}))}expandSegmentAgainstRoute(E,m,D,M,V,Y,xe){return w(M,m,V,Y)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(E,m,M,V,Y):xe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,D,M,V,Y):_e(m):_e(m)}expandSegmentAgainstRouteUsingRedirect(E,m,D,M,V,Y){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,D,M,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,D,M,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,D,M){const V=this.applyRedirectCommands([],D.redirectTo,{});return D.redirectTo.startsWith("/")?We(V):this.lineralizeSegments(D,V).pipe((0,ct.z)(Y=>{const xe=new _t(Y,{});return this.expandSegment(E,xe,m,Y,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,D,M,V,Y){const{matched:xe,consumedSegments:yt,remainingSegments:tn,positionalParamSegments:Yt}=As(m,M,V);if(!xe)return _e(m);const _r=this.applyRedirectCommands(yt,M.redirectTo,Yt);return M.redirectTo.startsWith("/")?We(_r):this.lineralizeSegments(M,_r).pipe((0,ct.z)(Mi=>this.expandSegment(E,m,D,Mi.concat(tn),Y,!1)))}matchSegmentAgainstRoute(E,m,D,M,V){return"**"===D.path?(E=us(D,E),D.loadChildren?(D._loadedRoutes?(0,q.of)({routes:D._loadedRoutes,injector:D._loadedInjector}):this.configLoader.loadChildren(E,D)).pipe((0,$e.U)(xe=>(D._loadedRoutes=xe.routes,D._loadedInjector=xe.injector,new _t(M,{})))):(0,q.of)(new _t(M,{}))):uo(m,D,M,E).pipe((0,rt.w)(({matched:Y,consumedSegments:xe,remainingSegments:yt})=>Y?this.getChildConfig(E=D._injector??E,D,M).pipe((0,ct.z)(Yt=>{const _r=Yt.injector??E,Mi=Yt.routes,{segmentGroup:No,slicedSegments:Yo}=Es(m,xe,yt,Mi),Ds=new _t(No.segments,No.children);if(0===Yo.length&&Ds.hasChildren())return this.expandChildren(_r,Mi,Ds).pipe((0,$e.U)($a=>new _t(xe,$a)));if(0===Mi.length&&0===Yo.length)return(0,q.of)(new _t(xe,{}));const ho=Jr(D)===V;return this.expandSegment(_r,Ds,Mi,Yo,ho?ln:V,!0).pipe((0,$e.U)(On=>new _t(xe.concat(On.segments),On.children)))})):_e(m)))}getChildConfig(E,m,D){return m.children?(0,q.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,q.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Ei(y,E,m,D){const M=E.canLoad;if(void 0===M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const xe=so(Y,y);return Vt(function ze(y){return y&&k(y.canLoad)}(xe)?xe.canLoad(E,m):y.runInContext(()=>xe(E,m)))});return(0,q.of)(V).pipe(Wr(),Ea())}(E,m,D).pipe((0,ct.z)(M=>M?this.configLoader.loadChildren(E,m).pipe((0,Ze.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function Jt(y){return ot(bi(K,3))}())):(0,q.of)({routes:[],injector:E})}lineralizeSegments(E,m){let D=[],M=m.root;for(;;){if(D=D.concat(M.segments),0===M.numberOfChildren)return(0,q.of)(D);if(M.numberOfChildren>1||!M.children[ln])return E.redirectTo,ot(new p.vHH(4e3,K));M=M.children[ln]}}applyRedirectCommands(E,m,D){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,D)}applyRedirectCreateUrlTree(E,m,D,M){const V=this.createSegmentGroup(E,m.root,D,M);return new Rn(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const D={};return Bt(E,(M,V)=>{if("string"==typeof M&&M.startsWith(":")){const xe=M.substring(1);D[V]=m[xe]}else D[V]=M}),D}createSegmentGroup(E,m,D,M){const V=this.createSegments(E,m.segments,D,M);let Y={};return Bt(m.children,(xe,yt)=>{Y[yt]=this.createSegmentGroup(E,xe,D,M)}),new _t(V,Y)}createSegments(E,m,D,M){return m.map(V=>V.path.startsWith(":")?this.findPosParam(E,V,M):this.findOrReturn(V,D))}findPosParam(E,m,D){const M=D[m.path.substring(1)];if(!M)throw new p.vHH(4001,K);return M}findOrReturn(E,m){let D=0;for(const M of m){if(M.path===E.path)return m.splice(D),M;D++}return E}}class An{}class P{constructor(E,m,D,M,V,Y,xe){this.injector=E,this.rootComponentType=m,this.config=D,this.urlTree=M,this.url=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=xe}recognize(){const E=Es(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ln).pipe((0,$e.U)(m=>{if(null===m)return null;const D=new os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new rs(D,m),V=new Co(this.url,M);return this.inheritParamsAndData(V._root),V}))}inheritParamsAndData(E){const m=E.value,D=To(m,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data),E.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(E,m,D,M){return 0===D.segments.length&&D.hasChildren()?this.processChildren(E,m,D):this.processSegment(E,m,D,D.segments,M)}processChildren(E,m,D){return(0,B.D)(Object.keys(D.children)).pipe((0,be.b)(M=>{const V=D.children[M],Y=ti(m,M);return this.processSegmentGroup(E,Y,V,M)}),It((M,V)=>M&&V?(M.push(...V),M):null),function gr(y,E=!1){return(0,sn.e)((m,D)=>{let M=0;m.subscribe((0,ft.x)(D,V=>{const Y=y(V,M++);(Y||E)&&D.next(V),!Y&&D.complete()}))})}(M=>null!==M),(0,$n.d)(null),wr(),(0,$e.U)(M=>{if(null===M)return null;const V=tt(M);return function Z(y){y.sort((E,m)=>E.value.outlet===ln?-1:m.value.outlet===ln?1:E.value.outlet.localeCompare(m.value.outlet))}(V),V}))}processSegment(E,m,D,M,V){return(0,B.D)(m).pipe((0,be.b)(Y=>this.processSegmentAgainstRoute(Y._injector??E,Y,D,M,V)),(0,kt.P)(Y=>!!Y),ye(Y=>{if(pi(Y))return F(D,M,V)?(0,q.of)([]):(0,q.of)(null);throw Y}))}processSegmentAgainstRoute(E,m,D,M,V){if(m.redirectTo||!w(m,D,M,V))return(0,q.of)(null);let Y;if("**"===m.path){const xe=M.length>0?Yn(M).parameters:{},yt=Vn(D)+M.length,tn=new os(M,xe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zn(m),Jr(m),m.component??m._loadedComponent??null,m,or(D),yt,Vr(m));Y=(0,q.of)({snapshot:tn,consumedSegments:[],remainingSegments:[]})}else Y=uo(D,m,M,E).pipe((0,$e.U)(({matched:xe,consumedSegments:yt,remainingSegments:tn,parameters:Yt})=>{if(!xe)return null;const _r=Vn(D)+yt.length;return{snapshot:new os(yt,Yt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zn(m),Jr(m),m.component??m._loadedComponent??null,m,or(D),_r,Vr(m)),consumedSegments:yt,remainingSegments:tn}}));return Y.pipe((0,rt.w)(xe=>{if(null===xe)return(0,q.of)(null);const{snapshot:yt,consumedSegments:tn,remainingSegments:Yt}=xe;E=m._injector??E;const _r=m._loadedInjector??E,Mi=function ae(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(m),{segmentGroup:No,slicedSegments:Yo}=Es(D,tn,Yt,Mi.filter(ho=>void 0===ho.redirectTo));if(0===Yo.length&&No.hasChildren())return this.processChildren(_r,Mi,No).pipe((0,$e.U)(ho=>null===ho?null:[new rs(yt,ho)]));if(0===Mi.length&&0===Yo.length)return(0,q.of)([new rs(yt,[])]);const Ds=Jr(m)===V;return this.processSegment(_r,Mi,No,Yo,Ds?ln:V).pipe((0,$e.U)(ho=>null===ho?null:[new rs(yt,ho)]))}))}}function it(y){const E=y.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function tt(y){const E=[],m=new Set;for(const D of y){if(!it(D)){E.push(D);continue}const M=E.find(V=>D.value.routeConfig===V.value.routeConfig);void 0!==M?(M.children.push(...D.children),m.add(M)):E.push(D)}for(const D of m){const M=tt(D.children);E.push(new rs(D.value,M))}return E.filter(D=>!m.has(D))}function or(y){let E=y;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Vn(y){let E=y,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function zn(y){return y.data||{}}function Vr(y){return y.resolve||{}}function Fn(y){return"string"==typeof y.title||null===y.title}function hr(y){return(0,rt.w)(E=>{const m=y(E);return m?(0,B.D)(m).pipe((0,$e.U)(()=>E)):(0,q.of)(E)})}const wi=new p.OlP("ROUTES");let Yi=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,q.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const D=Vt(m.loadComponent()).pipe((0,$e.U)(Wo),(0,Ze.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),cr(()=>{this.componentLoaders.delete(m)})),M=new _n(D,()=>new Ie.x).pipe(zt());return this.componentLoaders.set(m,M),M}loadChildren(m,D){if(this.childrenLoaders.get(D))return this.childrenLoaders.get(D);if(D._loadedRoutes)return(0,q.of)({routes:D._loadedRoutes,injector:D._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(D);const V=this.loadModuleFactoryOrRoutes(D.loadChildren).pipe((0,$e.U)(xe=>{this.onLoadEndListener&&this.onLoadEndListener(D);let yt,tn,Yt=!1;Array.isArray(xe)?tn=xe:(yt=xe.create(m).injector,tn=vi(yt.get(wi,[],p.XFs.Self|p.XFs.Optional)));return{routes:tn.map(mo),injector:yt}}),cr(()=>{this.childrenLoaders.delete(D)})),Y=new _n(V,()=>new Ie.x).pipe(zt());return this.childrenLoaders.set(D,Y),Y}loadModuleFactoryOrRoutes(m){return Vt(m()).pipe((0,$e.U)(Wo),(0,ct.z)(D=>D instanceof p.YKP||Array.isArray(D)?(0,q.of)(D):(0,B.D)(this.compiler.compileModuleAsync(D))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Wo(y){return function ui(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Ai=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ie.x,this.configLoader=(0,p.f3M)(Yi),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Ke),this.rootContexts=(0,p.f3M)(as),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new Yr(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new Zi(M))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const D=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:D})}setupNavigations(m){return this.transitions=new Ee({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(D=>0!==D.id),(0,$e.U)(D=>({...D,extractedUrl:m.urlHandlingStrategy.extract(D.rawUrl)})),(0,rt.w)(D=>{let M=!1,V=!1;return(0,q.of)(D).pipe((0,Ze.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rt.w)(Y=>{const xe=m.browserUrlTree.toString(),yt=!m.navigated||Y.extractedUrl.toString()!==xe||xe!==m.currentUrlTree.toString();if(!yt&&"reload"!==(Y.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Yt="";return this.events.next(new si(Y.id,m.serializeUrl(D.rawUrl),Yt,0)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),Le.E}if(m.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return mi(Y.source)&&(m.browserUrlTree=Y.extractedUrl),(0,q.of)(Y).pipe((0,rt.w)(Yt=>{const _r=this.transitions?.getValue();return this.events.next(new _i(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),Yt.source,Yt.restoredState)),_r!==this.transitions?.getValue()?Le.E:Promise.resolve(Yt)}),function Un(y,E,m,D){return(0,rt.w)(M=>function un(y,E,m,D,M){return new ur(y,E,m,D,M).apply()}(y,E,m,M.extractedUrl,D).pipe((0,$e.U)(V=>({...M,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,Ze.b)(Yt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Yt.urlAfterRedirects},D.urlAfterRedirects=Yt.urlAfterRedirects}),function ar(y,E,m,D,M){return(0,ct.z)(V=>function U(y,E,m,D,M,V,Y="emptyOnly"){return new P(y,E,m,D,M,Y,V).recognize().pipe((0,rt.w)(xe=>null===xe?function A(y){return new Re.y(E=>E.error(y))}(new An):(0,q.of)(xe)))}(y,E,m,V.urlAfterRedirects,D.serialize(V.urlAfterRedirects),D,M).pipe((0,$e.U)(Y=>({...V,targetSnapshot:Y}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Ze.b)(Yt=>{if(D.targetSnapshot=Yt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Yt.extras.skipLocationChange){const Mi=m.urlHandlingStrategy.merge(Yt.urlAfterRedirects,Yt.rawUrl);m.setBrowserUrl(Mi,Yt)}m.browserUrlTree=Yt.urlAfterRedirects}const _r=new ji(Yt.id,this.urlSerializer.serialize(Yt.extractedUrl),this.urlSerializer.serialize(Yt.urlAfterRedirects),Yt.targetSnapshot);this.events.next(_r)}));if(yt&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Yt,extractedUrl:_r,source:Mi,restoredState:No,extras:Yo}=Y,Ds=new _i(Yt,this.urlSerializer.serialize(_r),Mi,No);this.events.next(Ds);const ho=Do(_r,this.rootComponentType).snapshot;return D={...Y,targetSnapshot:ho,urlAfterRedirects:_r,extras:{...Yo,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(D)}{const Yt="";return this.events.next(new si(Y.id,m.serializeUrl(D.extractedUrl),Yt,1)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),Le.E}}),(0,Ze.b)(Y=>{const xe=new wo(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(xe)}),(0,$e.U)(Y=>D={...Y,guards:Mo(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)}),function ki(y,E){return(0,ct.z)(m=>{const{targetSnapshot:D,currentSnapshot:M,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,q.of)({...m,guardsResult:!0}):function ao(y,E,m,D){return(0,B.D)(y).pipe((0,ct.z)(M=>function ou(y,E,m,D,M){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,q.of)(!0);const Y=V.map(xe=>{const yt=fi(E)??M,tn=so(xe,yt);return Vt(function Lr(y){return y&&k(y.canDeactivate)}(tn)?tn.canDeactivate(y,E,m,D):yt.runInContext(()=>tn(y,E,m,D))).pipe((0,kt.P)())});return(0,q.of)(Y).pipe(Wr())}(M.component,M.route,m,E,D)),(0,kt.P)(M=>!0!==M,!0))}(Y,D,M,y).pipe((0,ct.z)(xe=>xe&&function X(y){return"boolean"==typeof y}(xe)?function Dr(y,E,m,D){return(0,B.D)(E).pipe((0,be.b)(M=>bt(function Ro(y,E){return null!==y&&E&&E(new Uo(y)),(0,q.of)(!0)}(M.route.parent,D),function cs(y,E){return null!==y&&E&&E(new es(y)),(0,q.of)(!0)}(M.route,D),function ka(y,E,m){const D=E[E.length-1],V=E.slice(0,E.length-1).reverse().map(Y=>function yo(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>we(()=>{const xe=Y.guards.map(yt=>{const tn=fi(Y.node)??m,Yt=so(yt,tn);return Vt(function Cr(y){return y&&k(y.canActivateChild)}(Yt)?Yt.canActivateChild(D,y):tn.runInContext(()=>Yt(D,y))).pipe((0,kt.P)())});return(0,q.of)(xe).pipe(Wr())}));return(0,q.of)(V).pipe(Wr())}(y,M.path,m),function ds(y,E,m){const D=E.routeConfig?E.routeConfig.canActivate:null;if(!D||0===D.length)return(0,q.of)(!0);const M=D.map(V=>we(()=>{const Y=fi(E)??m,xe=so(V,Y);return Vt(function pn(y){return y&&k(y.canActivate)}(xe)?xe.canActivate(E,y):Y.runInContext(()=>xe(E,y))).pipe((0,kt.P)())}));return(0,q.of)(M).pipe(Wr())}(y,M.route,m))),(0,kt.P)(M=>!0!==M,!0))}(D,V,y,E):(0,q.of)(xe)),(0,$e.U)(xe=>({...m,guardsResult:xe})))})}(this.environmentInjector,Y=>this.events.next(Y)),(0,Ze.b)(Y=>{if(D.guardsResult=Y.guardsResult,en(Y.guardsResult))throw sa(0,Y.guardsResult);const xe=new eo(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.events.next(xe)}),(0,wt.h)(Y=>!!Y.guardsResult||(m.restoreHistory(Y),this.cancelNavigationTransition(Y,"",3),!1)),hr(Y=>{if(Y.guards.canActivateChecks.length)return(0,q.of)(Y).pipe((0,Ze.b)(xe=>{const yt=new Hi(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(yt)}),(0,rt.w)(xe=>{let yt=!1;return(0,q.of)(xe).pipe(function ai(y,E){return(0,ct.z)(m=>{const{targetSnapshot:D,guards:{canActivateChecks:M}}=m;if(!M.length)return(0,q.of)(m);let V=0;return(0,B.D)(M).pipe((0,be.b)(Y=>function hs(y,E,m,D){const M=y.routeConfig,V=y._resolve;return void 0!==M?.title&&!Fn(M)&&(V[zr]=M.title),function Gt(y,E,m,D){const M=function mn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,q.of)({});const V={};return(0,B.D)(M).pipe((0,ct.z)(Y=>function dn(y,E,m,D){const M=fi(E)??D,V=so(y,M);return Vt(V.resolve?V.resolve(E,m):M.runInContext(()=>V(E,m)))}(y[Y],E,m,D).pipe((0,kt.P)(),(0,Ze.b)(xe=>{V[Y]=xe}))),jt(1),function mr(y){return(0,$e.U)(()=>y)}(V),ye(Y=>pi(Y)?Le.E:ot(Y)))}(V,y,E,D).pipe((0,$e.U)(Y=>(y._resolvedData=Y,y.data=To(y,m).resolve,M&&Fn(M)&&(y.data[zr]=M.title),null)))}(Y.route,D,y,E)),(0,Ze.b)(()=>V++),jt(1),(0,ct.z)(Y=>V===M.length?(0,q.of)(m):Le.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Ze.b)({next:()=>yt=!0,complete:()=>{yt||(m.restoreHistory(xe),this.cancelNavigationTransition(xe,"",2))}}))}),(0,Ze.b)(xe=>{const yt=new Xi(xe.id,this.urlSerializer.serialize(xe.extractedUrl),this.urlSerializer.serialize(xe.urlAfterRedirects),xe.targetSnapshot);this.events.next(yt)}))}),hr(Y=>{const xe=yt=>{const tn=[];yt.routeConfig?.loadComponent&&!yt.routeConfig._loadedComponent&&tn.push(this.configLoader.loadComponent(yt.routeConfig).pipe((0,Ze.b)(Yt=>{yt.component=Yt}),(0,$e.U)(()=>{})));for(const Yt of yt.children)tn.push(...xe(Yt));return tn};return At(xe(Y.targetSnapshot.root)).pipe((0,$n.d)(),(0,qe.q)(1))}),hr(()=>this.afterPreactivation()),(0,$e.U)(Y=>{const xe=function no(y,E,m){const D=Oi(y,E._root,m?m._root:void 0);return new ia(D,E)}(m.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return D={...Y,targetRouterState:xe}}),(0,Ze.b)(Y=>{m.currentUrlTree=Y.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),m.routerState=Y.targetRouterState,"deferred"===m.urlUpdateStrategy&&(Y.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,Y),m.browserUrlTree=Y.urlAfterRedirects)}),((y,E,m)=>(0,$e.U)(D=>(new oa(E,D.targetRouterState,D.currentRouterState,m).activate(y),D)))(this.rootContexts,m.routeReuseStrategy,Y=>this.events.next(Y)),(0,qe.q)(1),(0,Ze.b)({next:Y=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new $r(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(Y.targetRouterState.snapshot),Y.resolve(!0)},complete:()=>{M=!0}}),cr(()=>{M||V||this.cancelNavigationTransition(D,"",1),this.currentNavigation?.id===D.id&&(this.currentNavigation=null)}),ye(Y=>{if(V=!0,So(Y)){ys(Y)||(m.navigated=!0,m.restoreHistory(D,!0));const xe=new Zr(D.id,this.urlSerializer.serialize(D.extractedUrl),Y.message,Y.cancellationCode);if(this.events.next(xe),ys(Y)){const yt=m.urlHandlingStrategy.merge(Y.url,m.rawUrlTree),tn={skipLocationChange:D.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||mi(D.source)};m.scheduleNavigation(yt,vn,null,tn,{resolve:D.resolve,reject:D.reject,promise:D.promise})}else D.resolve(!1)}else{m.restoreHistory(D,!0);const xe=new Ir(D.id,this.urlSerializer.serialize(D.extractedUrl),Y,D.targetSnapshot??void 0);this.events.next(xe);try{D.resolve(m.errorHandler(Y))}catch(yt){D.reject(yt)}}return Le.E}))}))}cancelNavigationTransition(m,D,M){const V=new Zr(m.id,this.urlSerializer.serialize(m.extractedUrl),D,M);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function mi(y){return y!==vn}let Ms=(()=>{class y{buildTitle(m){let D,M=m.root;for(;void 0!==M;)D=this.getResolvedTitleForRoute(M)??D,M=M.children.find(V=>V.outlet===ln);return D}getResolvedTitleForRoute(m){return m.data[zr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(ua)},providedIn:"root"}),y})(),ua=(()=>{class y extends Ms{constructor(m){super(),this.title=m}updateTitle(m){const D=this.buildTitle(m);void 0!==D&&this.title.setTitle(D)}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(Hr.Dx))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),xs=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Ri)},providedIn:"root"}),y})();class Gu{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Ri=(()=>{class y extends Gu{}return y.\u0275fac=function(){let E;return function(D){return(E||(E=p.n5z(y)))(D||y)}}(),y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Fa=new p.OlP("",{providedIn:"root",factory:()=>({})});let Wu=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Ko)},providedIn:"root"}),y})(),Ko=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,D){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function uu(y){throw y}function Vi(y,E,m){return E.parse("/")}const lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ni={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Fa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Wu),this.routeReuseStrategy=(0,p.f3M)(xs),this.urlCreationStrategy=(0,p.f3M)(to),this.titleStrategy=(0,p.f3M)(Ms),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=vi((0,p.f3M)(wi,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ai),this.urlSerializer=(0,p.f3M)(Ke),this.location=(0,p.f3M)(Ut.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Do(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const D="popstate"===m.type?"popstate":"hashchange";"popstate"===D&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,D,m.state)},0)}))}navigateToSyncWithBrowser(m,D,M){const V={replaceUrl:!0},Y=M?.navigationId?M:null;if(M){const yt={...M};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(V.state=yt)}const xe=this.parseUrl(m);this.scheduleNavigation(xe,D,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(mo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,D={}){const{relativeTo:M,queryParams:V,fragment:Y,queryParamsHandling:xe,preserveFragment:yt}=D,tn=yt?this.currentUrlTree.fragment:Y;let Yt=null;switch(xe){case"merge":Yt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Yt=this.currentUrlTree.queryParams;break;default:Yt=V||null}return null!==Yt&&(Yt=this.removeEmptyProps(Yt)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,m,Yt,tn??null)}navigateByUrl(m,D={skipLocationChange:!1}){const M=en(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(V,vn,null,D)}navigate(m,D={skipLocationChange:!1}){return function Ta(y){for(let E=0;E<y.length;E++){const m=y[E];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,D),D)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let D;try{D=this.urlSerializer.parse(m)}catch(M){D=this.malformedUriErrorHandler(M,this.urlSerializer,m)}return D}isActive(m,D){let M;if(M=!0===D?{...lu}:!1===D?{...ni}:D,en(m))return li(this.currentUrlTree,m,M);const V=this.parseUrl(m);return li(this.currentUrlTree,V,M)}removeEmptyProps(m){return Object.keys(m).reduce((D,M)=>{const V=m[M];return null!=V&&(D[M]=V),D},{})}scheduleNavigation(m,D,M,V,Y){if(this.disposed)return Promise.resolve(!1);let xe,yt,tn,Yt;return Y?(xe=Y.resolve,yt=Y.reject,tn=Y.promise):tn=new Promise((_r,Mi)=>{xe=_r,yt=Mi}),Yt="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Yt,source:D,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:xe,reject:yt,promise:tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),tn.catch(_r=>Promise.reject(_r))}setBrowserUrl(m,D){const M=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(M)||D.extras.replaceUrl){const Y={...D.extras.state,...this.generateNgRouterState(D.id,this.browserPageId)};this.location.replaceState(M,"",Y)}else{const V={...D.extras.state,...this.generateNgRouterState(D.id,D.targetPageId)};this.location.go(M,"",V)}}restoreHistory(m,D=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(D&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,D){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:D}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ca=(()=>{class y{constructor(m,D,M,V,Y,xe){this.router=m,this.route=D,this.tabIndexAttribute=M,this.renderer=V,this.el=Y,this.locationStrategy=xe,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ie.x;const yt=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=m.events.subscribe(tn=>{tn instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,D,M,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||D||M||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,D){const M=this.renderer,V=this.el.nativeElement;null!==D?M.setAttribute(V,m,D):M.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(p.Y36(ri),p.Y36(is),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ut.S$))},y.\u0275dir=p.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,D){1&m&&p.NdJ("click",function(V){return D.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&p.uIk("target",D.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),y})();class Ws{}let Ya=(()=>{class y{constructor(m,D,M,V,Y){this.router=m,this.injector=M,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(m=>m instanceof $r),(0,be.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,D){const M=[];for(const V of D){V.providers&&!V._injector&&(V._injector=(0,p.MMx)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,xe=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&M.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&M.push(this.processRoutes(xe,V.children??V._loadedRoutes))}return(0,B.D)(M).pipe((0,gt.J)())}preloadConfig(m,D){return this.preloadingStrategy.preload(D,()=>{let M;M=D.loadChildren&&void 0===D.canLoad?this.loader.loadChildren(m,D):(0,q.of)(null);const V=M.pipe((0,ct.z)(Y=>null===Y?(0,q.of)(void 0):(D._loadedRoutes=Y.routes,D._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(D.loadComponent&&!D._loadedComponent){const Y=this.loader.loadComponent(D);return(0,B.D)([V,Y]).pipe((0,gt.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(ri),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Ws),p.LFG(Yi))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ba=new p.OlP("");let ws=(()=>{class y{constructor(m,D,M,V,Y={}){this.urlSerializer=m,this.transitions=D,this.viewportScroller=M,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof _i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof $r&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof js&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,D){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new js(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,D))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){p.$Z()},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})();var Gi=(()=>((Gi=Gi||{})[Gi.COMPLETE=0]="COMPLETE",Gi[Gi.FAILED=1]="FAILED",Gi[Gi.REDIRECTING=2]="REDIRECTING",Gi))();const lo=!1;function Rs(y,E){return{\u0275kind:y,\u0275providers:E}}const Ks=new p.OlP("",{providedIn:"root",factory:()=>!1});function Qa(){const y=(0,p.f3M)(p.zs3);return E=>{const m=y.get(p.z2F);if(E!==m.components[0])return;const D=y.get(ri),M=y.get(Ja);1===y.get(du)&&D.initialNavigation(),y.get(qu,null,p.XFs.Optional)?.setUpPreloading(),y.get(ba,null,p.XFs.Optional)?.init(),D.resetRootComponentType(m.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const Ja=new p.OlP(lo?"bootstrap done indicator":"",{factory:()=>new Ie.x}),du=new p.OlP(lo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Va(){let y=[];return y=lo?[{provide:p.Xts,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ri);return()=>E.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function Cs(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Rs(1,y)}const qu=new p.OlP(lo?"router preloader":"");function gl(y){return Rs(0,[{provide:qu,useExisting:Ya},{provide:Ws,useExisting:y}])}const qo=!1,Zo=new p.OlP(qo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ha=[Ut.Ye,{provide:Ke,useClass:pt},ri,as,{provide:is,useFactory:function da(y){return y.routerState.root},deps:[ri]},Yi,qo?{provide:Ks,useValue:!0}:[]];function Ua(){return new p.PXZ("Router",ri)}let Ii=(()=>{class y{constructor(m){}static forRoot(m,D){return{ngModule:y,providers:[ha,qo&&D?.enableTracing?Va().\u0275providers:[],{provide:wi,multi:!0,useValue:m},{provide:Zo,useFactory:ml,deps:[[ri,new p.FiY,new p.tp0]]},{provide:Fa,useValue:D||{}},D?.useHash?{provide:Ut.S$,useClass:Ut.Do}:{provide:Ut.S$,useClass:Ut.b0},{provide:ba,useFactory:()=>{const y=(0,p.f3M)(Ut.EM),E=(0,p.f3M)(p.R0b),m=(0,p.f3M)(Fa),D=(0,p.f3M)(Ai),M=(0,p.f3M)(Ke);return m.scrollOffset&&y.setOffset(m.scrollOffset),new ws(M,D,y,E,m)}},D?.preloadingStrategy?gl(D.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Ua},D?.initialNavigation?Ot(D):[],[{provide:ei,useFactory:Qa},{provide:p.tb,multi:!0,useExisting:ei}]]}}static forChild(m){return{ngModule:y,providers:[{provide:wi,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(Zo,8))},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[Hn]}),y})();function ml(y){if(qo&&y)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ot(y){return["disabled"===y.initialNavigation?Rs(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ri);return()=>{E.setUpLocationChangeListener()}}},{provide:du,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Rs(2,[{provide:du,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const m=E.get(Ut.V_,Promise.resolve());return()=>m.then(()=>new Promise(D=>{const M=E.get(ri),V=E.get(Ja);(function La(y,E){y.events.pipe((0,wt.h)(m=>m instanceof $r||m instanceof Zr||m instanceof Ir||m instanceof si),(0,$e.U)(m=>m instanceof $r||m instanceof si?Gi.COMPLETE:m instanceof Zr&&(0===m.code||1===m.code)?Gi.REDIRECTING:Gi.FAILED),(0,wt.h)(m=>m!==Gi.REDIRECTING),(0,qe.q)(1)).subscribe(()=>{E()})})(M,()=>{D(!0)}),E.get(Ai).afterPreactivation=()=>(D(!0),V.closed?(0,q.of)(void 0):V),M.initialNavigation()}))}}]).\u0275providers:[]]}const ei=new p.OlP(qo?"Router Initializer":"")},3942:(Xt,Xe,H)=>{H.d(Xe,{Z:()=>At});var p=H(2090),B=H(4859),q=H(6881),Ie=H(1877);class Ee{constructor(nt,gt){this._delegate=nt,this.firebase=gt,(0,q._addComponent)(nt,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=nt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(nt){this._delegate.automaticDataCollectionEnabled=nt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(nt=>{this._delegate.checkDestroyed(),nt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(nt,gt=q._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const bt=this._delegate.container.getProvider(nt);return!bt.isInitialized()&&"EXPLICIT"===(null===(Ct=bt.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&bt.initialize(),bt.getImmediate({identifier:gt})}_removeServiceInstance(nt,gt=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(nt).clearInstance(gt)}_addComponent(nt){(0,q._addComponent)(this._delegate,nt)}_addOrOverwriteComponent(nt){(0,q._addOrOverwriteComponent)(this._delegate,nt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function Ve(){const Rt=function Te(Rt){const nt={},gt={__esModule:!0,initializeApp:function je(ot,Le={}){const Nt=q.initializeApp(ot,Le);if((0,p.r3)(nt,Nt.name))return nt[Nt.name];const sn=new Rt(Nt,gt);return nt[Nt.name]=sn,sn},app:bt,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function et(ot){const Le=ot.name,Nt=Le.replace("-compat","");if(q._registerComponent(ot)&&"PUBLIC"===ot.type){const sn=(zt=bt())=>{if("function"!=typeof zt[Nt])throw Re.create("invalid-app-argument",{appName:Le});return zt[Nt]()};void 0!==ot.serviceProps&&(0,p.ZB)(sn,ot.serviceProps),gt[Nt]=sn,Rt.prototype[Nt]=function(...zt){return this._getService.bind(this,Le).apply(this,ot.multipleInstances?zt:[])}}return"PUBLIC"===ot.type?gt[Nt]:null},removeApp:function Ct(ot){delete nt[ot]},useAsService:function Dt(ot,Le){return"serverAuth"===Le?null:Le},modularAPIs:q}};function bt(ot){if(!(0,p.r3)(nt,ot=ot||q._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:ot});return nt[ot]}return gt.default=gt,Object.defineProperty(gt,"apps",{get:function we(){return Object.keys(nt).map(ot=>nt[ot])}}),bt.App=Rt,gt}(Ee);return Rt.INTERNAL=Object.assign(Object.assign({},Rt.INTERNAL),{createFirebaseNamespace:Ve,extendNamespace:function nt(gt){(0,p.ZB)(Rt,gt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Rt}(),he=new Ie.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Rt=self.firebase.SDK_VERSION;Rt&&Rt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const At=de;!function dt(Rt){(0,q.registerVersion)("@firebase/app-compat","0.2.9",Rt)}()},6881:(Xt,Xe,H)=>{H.r(Xe),H.d(Xe,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>Bi,_DEFAULT_ENTRY_NAME:()=>qr,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Yn,_clearComponents:()=>li,_components:()=>gn,_getProvider:()=>Ur,_registerComponent:()=>Ar,_removeServiceInstance:()=>yr,deleteApp:()=>_t,getApp:()=>Ti,getApps:()=>Rn,initializeApp:()=>Xn,onLog:()=>re,registerVersion:()=>st,setLogLevel:()=>Ae});var p=H(5861),B=H(4859),q=H(1877),Ie=H(2090);const Ee=(at,Be)=>Be.some(St=>at instanceof St);let ve,Re;const de=new WeakMap,he=new WeakMap,Se=new WeakMap,ft=new WeakMap,dt=new WeakMap;let nt={get(at,Be,St){if(at instanceof IDBTransaction){if("done"===Be)return he.get(at);if("objectStoreNames"===Be)return at.objectStoreNames||Se.get(at);if("store"===Be)return St.objectStoreNames[1]?void 0:St.objectStore(St.objectStoreNames[0])}return je(at[Be])},set:(at,Be,St)=>(at[Be]=St,!0),has:(at,Be)=>at instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in at};function bt(at){return"function"==typeof at?function Ct(at){return at!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ve(){return Re||(Re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(at)?function(...Be){return at.apply(we(this),Be),je(de.get(this))}:function(...Be){return je(at.apply(we(this),Be))}:function(Be,...St){const Qt=at.call(we(this),Be,...St);return Se.set(Qt,Be.sort?Be.sort():[Be]),je(Qt)}}(at):(at instanceof IDBTransaction&&function Rt(at){if(he.has(at))return;const Be=new Promise((St,Qt)=>{const fn=()=>{at.removeEventListener("complete",wn),at.removeEventListener("error",en),at.removeEventListener("abort",en)},wn=()=>{St(),fn()},en=()=>{Qt(at.error||new DOMException("AbortError","AbortError")),fn()};at.addEventListener("complete",wn),at.addEventListener("error",en),at.addEventListener("abort",en)});he.set(at,Be)}(at),Ee(at,function Te(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(at,nt):at)}function je(at){if(at instanceof IDBRequest)return function At(at){const Be=new Promise((St,Qt)=>{const fn=()=>{at.removeEventListener("success",wn),at.removeEventListener("error",en)},wn=()=>{St(je(at.result)),fn()},en=()=>{Qt(at.error),fn()};at.addEventListener("success",wn),at.addEventListener("error",en)});return Be.then(St=>{St instanceof IDBCursor&&de.set(St,at)}).catch(()=>{}),dt.set(Be,at),Be}(at);if(ft.has(at))return ft.get(at);const Be=bt(at);return Be!==at&&(ft.set(at,Be),dt.set(Be,at)),Be}const we=at=>dt.get(at),ot=["get","getKey","getAll","getAllKeys","count"],Le=["put","add","delete","clear"],Nt=new Map;function sn(at,Be){if(!(at instanceof IDBDatabase)||Be in at||"string"!=typeof Be)return;if(Nt.get(Be))return Nt.get(Be);const St=Be.replace(/FromIndex$/,""),Qt=Be!==St,fn=Le.includes(St);if(!(St in(Qt?IDBIndex:IDBObjectStore).prototype)||!fn&&!ot.includes(St))return;const wn=function(){var en=(0,p.Z)(function*(Nn,...Wn){const Or=this.transaction(Nn,fn?"readwrite":"readonly");let Br=Or.store;return Qt&&(Br=Br.index(Wn.shift())),(yield Promise.all([Br[St](...Wn),fn&&Or.done]))[0]});return function(Wn){return en.apply(this,arguments)}}();return Nt.set(Be,wn),wn}!function gt(at){nt=at(nt)}(at=>({...at,get:(Be,St,Qt)=>sn(Be,St)||at.get(Be,St,Qt),has:(Be,St)=>!!sn(Be,St)||at.has(Be,St)}));class zt{constructor(Be){this.container=Be}getPlatformInfoString(){return this.container.getProviders().map(St=>{if(function _n(at){return"VERSION"===at.getComponent()?.type}(St)){const Qt=St.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(St=>St).join(" ")}}const Ut="@firebase/app",rt=new q.Yd("@firebase/app"),qr="[DEFAULT]",vi={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,gn=new Map;function Bt(at,Be){try{at.container.addComponent(Be)}catch(St){rt.debug(`Component ${Be.name} failed to register with FirebaseApp ${at.name}`,St)}}function Vt(at,Be){at.container.addOrOverwriteComponent(Be)}function Ar(at){const Be=at.name;if(gn.has(Be))return rt.debug(`There were multiple attempts to register component ${Be}.`),!1;gn.set(Be,at);for(const St of Yn.values())Bt(St,at);return!0}function Ur(at,Be){const St=at.container.getProvider("heartbeat").getImmediate({optional:!0});return St&&St.triggerHeartbeat(),at.container.getProvider(Be)}function yr(at,Be,St=qr){Ur(at,Be).clearInstance(St)}function li(){gn.clear()}const kr=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(Be,St,Qt){this._isDeleted=!1,this._options=Object.assign({},Be),this._config=Object.assign({},St),this._name=St.name,this._automaticDataCollectionEnabled=St.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this.checkDestroyed(),this._automaticDataCollectionEnabled=Be}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Be){this._isDeleted=Be}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const Bi="9.21.0";function Xn(at,Be={}){let St=at;"object"!=typeof Be&&(Be={name:Be});const Qt=Object.assign({name:qr,automaticDataCollectionEnabled:!1},Be),fn=Qt.name;if("string"!=typeof fn||!fn)throw kr.create("bad-app-name",{appName:String(fn)});if(St||(St=(0,Ie.aH)()),!St)throw kr.create("no-options");const wn=Yn.get(fn);if(wn){if((0,Ie.vZ)(St,wn.options)&&(0,Ie.vZ)(Qt,wn.config))return wn;throw kr.create("duplicate-app",{appName:fn})}const en=new B.H0(fn);for(const Wn of gn.values())en.addComponent(Wn);const Nn=new lr(St,Qt,en);return Yn.set(fn,Nn),Nn}function Ti(at=qr){const Be=Yn.get(at);if(!Be&&at===qr)return Xn();if(!Be)throw kr.create("no-app",{appName:at});return Be}function Rn(){return Array.from(Yn.values())}function _t(at){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,p.Z)(function*(at){const Be=at.name;Yn.has(Be)&&(Yn.delete(Be),yield Promise.all(at.container.getProviders().map(St=>St.delete())),at.isDeleted=!0)})).apply(this,arguments)}function st(at,Be,St){var Qt;let fn=null!==(Qt=vi[at])&&void 0!==Qt?Qt:at;St&&(fn+=`-${St}`);const wn=fn.match(/\s|\//),en=Be.match(/\s|\//);if(wn||en){const Nn=[`Unable to register library "${fn}" with version "${Be}":`];return wn&&Nn.push(`library name "${fn}" contains illegal characters (whitespace or "/")`),wn&&en&&Nn.push("and"),en&&Nn.push(`version name "${Be}" contains illegal characters (whitespace or "/")`),void rt.warn(Nn.join(" "))}Ar(new B.wA(`${fn}-version`,()=>({library:fn,version:Be}),"VERSION"))}function re(at,Be){if(null!==at&&"function"!=typeof at)throw kr.create("invalid-log-argument");(0,q.Am)(at,Be)}function Ae(at){(0,q.Ub)(at)}const Ke="firebase-heartbeat-database",pt=1,se="firebase-heartbeat-store";let ie=null;function pe(){return ie||(ie=function et(at,Be,{blocked:St,upgrade:Qt,blocking:fn,terminated:wn}={}){const en=indexedDB.open(at,Be),Nn=je(en);return Qt&&en.addEventListener("upgradeneeded",Wn=>{Qt(je(en.result),Wn.oldVersion,Wn.newVersion,je(en.transaction),Wn)}),St&&en.addEventListener("blocked",Wn=>St(Wn.oldVersion,Wn.newVersion,Wn)),Nn.then(Wn=>{wn&&Wn.addEventListener("close",()=>wn()),fn&&Wn.addEventListener("versionchange",Or=>fn(Or.oldVersion,Or.newVersion,Or))}).catch(()=>{}),Nn}(Ke,pt,{upgrade:(at,Be)=>{0===Be&&at.createObjectStore(se)}}).catch(at=>{throw kr.create("idb-open",{originalErrorMessage:at.message})})),ie}function Oe(){return(Oe=(0,p.Z)(function*(at){try{return(yield pe()).transaction(se).objectStore(se).get(le(at))}catch(Be){if(Be instanceof Ie.ZR)rt.warn(Be.message);else{const St=kr.create("idb-get",{originalErrorMessage:Be?.message});rt.warn(St.message)}}})).apply(this,arguments)}function Mt(at,Be){return me.apply(this,arguments)}function me(){return(me=(0,p.Z)(function*(at,Be){try{const Qt=(yield pe()).transaction(se,"readwrite");return yield Qt.objectStore(se).put(Be,le(at)),Qt.done}catch(St){if(St instanceof Ie.ZR)rt.warn(St.message);else{const Qt=kr.create("idb-set",{originalErrorMessage:St?.message});rt.warn(Qt.message)}}})).apply(this,arguments)}function le(at){return`${at.name}!${at.options.appId}`}class Qe{constructor(Be){this.container=Be,this._heartbeatsCache=null;const St=this.container.getProvider("app").getImmediate();this._storage=new Ln(St),this._heartbeatsCachePromise=this._storage.read().then(Qt=>(this._heartbeatsCache=Qt,Qt))}triggerHeartbeat(){var Be=this;return(0,p.Z)(function*(){const Qt=Be.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),fn=Pt();if(null===Be._heartbeatsCache&&(Be._heartbeatsCache=yield Be._heartbeatsCachePromise),Be._heartbeatsCache.lastSentHeartbeatDate!==fn&&!Be._heartbeatsCache.heartbeats.some(wn=>wn.date===fn))return Be._heartbeatsCache.heartbeats.push({date:fn,agent:Qt}),Be._heartbeatsCache.heartbeats=Be._heartbeatsCache.heartbeats.filter(wn=>{const en=new Date(wn.date).valueOf();return Date.now()-en<=2592e6}),Be._storage.overwrite(Be._heartbeatsCache)})()}getHeartbeatsHeader(){var Be=this;return(0,p.Z)(function*(){if(null===Be._heartbeatsCache&&(yield Be._heartbeatsCachePromise),null===Be._heartbeatsCache||0===Be._heartbeatsCache.heartbeats.length)return"";const St=Pt(),{heartbeatsToSend:Qt,unsentEntries:fn}=function an(at,Be=1024){const St=[];let Qt=at.slice();for(const fn of at){const wn=St.find(en=>en.agent===fn.agent);if(wn){if(wn.dates.push(fn.date),sr(St)>Be){wn.dates.pop();break}}else if(St.push({agent:fn.agent,dates:[fn.date]}),sr(St)>Be){St.pop();break}Qt=Qt.slice(1)}return{heartbeatsToSend:St,unsentEntries:Qt}}(Be._heartbeatsCache.heartbeats),wn=(0,Ie.L)(JSON.stringify({version:2,heartbeats:Qt}));return Be._heartbeatsCache.lastSentHeartbeatDate=St,fn.length>0?(Be._heartbeatsCache.heartbeats=fn,yield Be._storage.overwrite(Be._heartbeatsCache)):(Be._heartbeatsCache.heartbeats=[],Be._storage.overwrite(Be._heartbeatsCache)),wn})()}}function Pt(){return(new Date).toISOString().substring(0,10)}class Ln{constructor(Be){this.app=Be,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Be=this;return(0,p.Z)(function*(){return(yield Be._canUseIndexedDBPromise)&&(yield function He(at){return Oe.apply(this,arguments)}(Be.app))||{heartbeats:[]}})()}overwrite(Be){var St=this;return(0,p.Z)(function*(){var Qt;if(yield St._canUseIndexedDBPromise){const wn=yield St.read();return Mt(St.app,{lastSentHeartbeatDate:null!==(Qt=Be.lastSentHeartbeatDate)&&void 0!==Qt?Qt:wn.lastSentHeartbeatDate,heartbeats:Be.heartbeats})}})()}add(Be){var St=this;return(0,p.Z)(function*(){var Qt;if(yield St._canUseIndexedDBPromise){const wn=yield St.read();return Mt(St.app,{lastSentHeartbeatDate:null!==(Qt=Be.lastSentHeartbeatDate)&&void 0!==Qt?Qt:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...Be.heartbeats]})}})()}}function sr(at){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:at})).length}!function er(at){Ar(new B.wA("platform-logger",Be=>new zt(Be),"PRIVATE")),Ar(new B.wA("heartbeat",Be=>new Qe(Be),"PRIVATE")),st(Ut,"0.9.9",at),st(Ut,"0.9.9","esm2017"),st("fire-js","")}("")},4859:(Xt,Xe,H)=>{H.d(Xe,{H0:()=>Te,wA:()=>q});var p=H(5861),B=H(2090);class q{constructor(de,he,Se){this.name=de,this.instanceFactory=he,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const Ie="[DEFAULT]";class Ee{constructor(de,he){this.name=de,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const he=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(he)){const Se=new B.BH;if(this.instancesDeferred.set(he,Se),this.isInitialized(he)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:he});ft&&Se.resolve(ft)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(de){var he;const Se=this.normalizeInstanceIdentifier(de?.identifier),ft=null!==(he=de?.optional)&&void 0!==he&&he;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(dt){if(ft)return null;throw dt}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function Re(Ve){return"EAGER"===Ve.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[he,Se]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(he);try{const dt=this.getOrInitializeService({instanceIdentifier:ft});Se.resolve(dt)}catch{}}}}clearInstance(de=Ie){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const he=Array.from(de.instances.values());yield Promise.all([...he.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...he.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=Ie){return this.instances.has(de)}getOptions(de=Ie){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:he={}}=de,Se=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Se,options:he});for(const[dt,At]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(dt)&&At.resolve(ft);return ft}onInit(de,he){var Se;const ft=this.normalizeInstanceIdentifier(he),dt=null!==(Se=this.onInitCallbacks.get(ft))&&void 0!==Se?Se:new Set;dt.add(de),this.onInitCallbacks.set(ft,dt);const At=this.instances.get(ft);return At&&de(At,ft),()=>{dt.delete(de)}}invokeOnInitCallbacks(de,he){const Se=this.onInitCallbacks.get(he);if(Se)for(const ft of Se)try{ft(de,he)}catch{}}getOrInitializeService({instanceIdentifier:de,options:he={}}){let Se=this.instances.get(de);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Ve=de,Ve===Ie?void 0:Ve),options:he}),this.instances.set(de,Se),this.instancesOptions.set(de,he),this.invokeOnInitCallbacks(Se,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Se)}catch{}var Ve;return Se||null}normalizeInstanceIdentifier(de=Ie){return this.component?this.component.multipleInstances?de:Ie:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const he=this.getProvider(de.name);if(he.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);he.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const he=new Ee(de,this);return this.providers.set(de,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(Xt,Xe,H)=>{H.d(Xe,{Am:()=>Ve,Ub:()=>Te,Yd:()=>Re,in:()=>B});const p=[];var B=(()=>{return(de=B||(B={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",B;var de})();const q={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Ie=B.INFO,Ee={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ve=(de,he,...Se)=>{if(he<de.logLevel)return;const ft=(new Date).toISOString(),dt=Ee[he];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[dt](`[${ft}]  ${de.name}:`,...Se)};class Re{constructor(he){this.name=he,this._logLevel=Ie,this._logHandler=ve,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in B))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?q[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...he),this._logHandler(this,B.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...he),this._logHandler(this,B.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,B.INFO,...he),this._logHandler(this,B.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,B.WARN,...he),this._logHandler(this,B.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...he),this._logHandler(this,B.ERROR,...he)}}function Te(de){p.forEach(he=>{he.setLogLevel(de)})}function Ve(de,he){for(const Se of p){let ft=null;he&&he.level&&(ft=q[he.level]),Se.userLogHandler=null===de?null:(dt,At,...Rt)=>{const nt=Rt.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");At>=(ft??dt.logLevel)&&de({level:B[At].toLowerCase(),message:nt,args:Rt,type:dt.name})}}}},259:(Xt,Xe,H)=>{H.d(Xe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=H(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(Xt,Xe,H)=>{H.d(Xe,{Z:()=>p.Z});var p=H(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},7185:(Xt,Xe,H)=>{H.d(Xe,{Rh:()=>qe,_W:()=>_n});var p=H(4650),B=H(7340),q=H(6895),Ie=H(7579),Ee=H(1481);const ve=["toast-component",""];function Re(be,Ze){if(1&be){const ye=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(ye);const It=p.oxw();return p.KtG(It.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Te(be,Ze){if(1&be&&(p.ynx(0),p._uU(1),p.BQk()),2&be){const ye=p.oxw(2);p.xp6(1),p.hij("[",ye.duplicatesCount+1,"]")}}function Ve(be,Ze){if(1&be&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Te,2,1,"ng-container",4),p.qZA()),2&be){const ye=p.oxw();p.Tol(ye.options.titleClass),p.uIk("aria-label",ye.title),p.xp6(1),p.hij(" ",ye.title," "),p.xp6(1),p.Q6J("ngIf",ye.duplicatesCount)}}function de(be,Ze){if(1&be&&p._UZ(0,"div",7),2&be){const ye=p.oxw();p.Tol(ye.options.messageClass),p.Q6J("innerHTML",ye.message,p.oJD)}}function he(be,Ze){if(1&be&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&be){const ye=p.oxw();p.Tol(ye.options.messageClass),p.uIk("aria-label",ye.message),p.xp6(1),p.hij(" ",ye.message," ")}}function Se(be,Ze){if(1&be&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&be){const ye=p.oxw();p.xp6(1),p.Udp("width",ye.width+"%")}}class bt{constructor(Ze,ye){this.component=Ze,this.injector=ye}attach(Ze,ye){return this._attachedHost=Ze,Ze.attach(this,ye)}detach(){const Ze=this._attachedHost;if(Ze)return this._attachedHost=void 0,Ze.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ze){this._attachedHost=Ze}}class je{attach(Ze,ye){return this._attachedPortal=Ze,this.attachComponentPortal(Ze,ye)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ze){this._disposeFn=Ze}}class we{constructor(Ze){this._overlayRef=Ze,this.duplicatesCount=0,this._afterClosed=new Ie.x,this._activate=new Ie.x,this._manualClose=new Ie.x,this._resetTimeout=new Ie.x,this._countDuplicate=new Ie.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ze,ye){Ze&&this._resetTimeout.next(),ye&&this._countDuplicate.next(++this.duplicatesCount)}}class et{constructor(Ze,ye,Ue,It,jt,Zn){this.toastId=Ze,this.config=ye,this.message=Ue,this.title=It,this.toastType=jt,this.toastRef=Zn,this._onTap=new Ie.x,this._onAction=new Ie.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ze){this._onAction.next(Ze)}onAction(){return this._onAction.asObservable()}}const ot=new p.OlP("ToastConfig");class Le extends je{constructor(Ze,ye,Ue){super(),this._hostDomElement=Ze,this._componentFactoryResolver=ye,this._appRef=Ue}attachComponentPortal(Ze,ye){const Ue=this._componentFactoryResolver.resolveComponentFactory(Ze.component);let It;return It=Ue.create(Ze.injector),this._appRef.attachView(It.hostView),this.setDisposeFn(()=>{this._appRef.detachView(It.hostView),It.destroy()}),ye?this._hostDomElement.insertBefore(this._getComponentRootNode(It),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(It)),It}_getComponentRootNode(Ze){return Ze.hostView.rootNodes[0]}}let Nt=(()=>{class be{constructor(){this._document=(0,p.f3M)(q.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ye=this._document.createElement("div");ye.classList.add("overlay-container"),ye.setAttribute("aria-live","polite"),this._document.body.appendChild(ye),this._containerElement=ye}}return be.\u0275fac=function(ye){return new(ye||be)},be.\u0275prov=p.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})();class sn{constructor(Ze){this._portalHost=Ze}attach(Ze,ye=!0){return this._portalHost.attach(Ze,ye)}detach(){return this._portalHost.detach()}}let zt=(()=>{class be{constructor(){this._overlayContainer=(0,p.f3M)(Nt),this._componentFactoryResolver=(0,p.f3M)(p._Vd),this._appRef=(0,p.f3M)(p.z2F),this._document=(0,p.f3M)(q.K0),this._paneElements=new Map}create(ye,Ue){return this._createOverlayRef(this.getPaneElement(ye,Ue))}getPaneElement(ye="",Ue){return this._paneElements.get(Ue)||this._paneElements.set(Ue,{}),this._paneElements.get(Ue)[ye]||(this._paneElements.get(Ue)[ye]=this._createPaneElement(ye,Ue)),this._paneElements.get(Ue)[ye]}_createPaneElement(ye,Ue){const It=this._document.createElement("div");return It.id="toast-container",It.classList.add(ye),It.classList.add("toast-container"),Ue?Ue.getContainerElement().appendChild(It):this._overlayContainer.getContainerElement().appendChild(It),It}_createPortalHost(ye){return new Le(ye,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ye){return new sn(this._createPortalHost(ye))}}return be.\u0275fac=function(ye){return new(ye||be)},be.\u0275prov=p.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),_n=(()=>{class be{constructor(ye,Ue,It,jt,Zn){this.overlay=Ue,this._injector=It,this.sanitizer=jt,this.ngZone=Zn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...ye.default,...ye.config},ye.config.iconClasses&&(this.toastrConfig.iconClasses={...ye.default.iconClasses,...ye.config.iconClasses})}show(ye,Ue,It={},jt=""){return this._preBuildNotification(jt,ye,Ue,this.applyConfig(It))}success(ye,Ue,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ye,Ue,this.applyConfig(It))}error(ye,Ue,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ye,Ue,this.applyConfig(It))}info(ye,Ue,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ye,Ue,this.applyConfig(It))}warning(ye,Ue,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ye,Ue,this.applyConfig(It))}clear(ye){for(const Ue of this.toasts)if(void 0!==ye){if(Ue.toastId===ye)return void Ue.toastRef.manualClose()}else Ue.toastRef.manualClose()}remove(ye){const Ue=this._findToast(ye);if(!Ue||(Ue.activeToast.toastRef.close(),this.toasts.splice(Ue.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const It=this.toasts[this.currentlyActive].toastRef;It.isInactive()||(this.currentlyActive=this.currentlyActive+1,It.activate())}return!0}findDuplicate(ye="",Ue="",It,jt){const{includeTitleDuplicates:Zn}=this.toastrConfig;for(const $n of this.toasts)if((!Zn||Zn&&$n.title===ye)&&$n.message===Ue)return $n.toastRef.onDuplicate(It,jt),$n;return null}applyConfig(ye={}){return{...this.toastrConfig,...ye}}_findToast(ye){for(let Ue=0;Ue<this.toasts.length;Ue++)if(this.toasts[Ue].toastId===ye)return{index:Ue,activeToast:this.toasts[Ue]};return null}_preBuildNotification(ye,Ue,It,jt){return jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ye,Ue,It,jt)):this._buildNotification(ye,Ue,It,jt)}_buildNotification(ye,Ue,It,jt){if(!jt.toastComponent)throw new Error("toastComponent required");const Zn=this.findDuplicate(It,Ue,this.toastrConfig.resetTimeoutOnDuplicate&&jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&It||Ue)&&this.toastrConfig.preventDuplicates&&null!==Zn)return Zn;this.previousToastMessage=Ue;let $n=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&($n=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const wr=this.overlay.create(jt.positionClass,this.overlayContainer);this.index=this.index+1;let gr=Ue;Ue&&jt.enableHtml&&(gr=this.sanitizer.sanitize(p.q3G.HTML,Ue));const mr=new we(wr),cr=new et(this.index,jt,gr,It,ye,mr),ln=p.zs3.create({providers:[{provide:et,useValue:cr}],parent:this._injector}),zr=new bt(jt.toastComponent,ln),Mn=wr.attach(zr,jt.newestOnTop);mr.componentInstance=Mn.instance;const Ft={toastId:this.index,title:It||"",message:Ue||"",toastRef:mr,onShown:mr.afterActivate(),onHidden:mr.afterClosed(),onTap:cr.onTap(),onAction:cr.onAction(),portal:Mn};return $n||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ft.toastRef.activate()})),this.toasts.push(Ft),Ft}}return be.\u0275fac=function(ye){return new(ye||be)(p.LFG(ot),p.LFG(zt),p.LFG(p.zs3),p.LFG(Ee.H7),p.LFG(p.R0b))},be.\u0275prov=p.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})(),Ut=(()=>{class be{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(ye,Ue,It){this.toastrService=ye,this.toastPackage=Ue,this.ngZone=It,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ue.message,this.title=Ue.title,this.options=Ue.config,this.originalTimeout=Ue.config.timeOut,this.toastClasses=`${Ue.toastType} ${Ue.config.toastClass}`,this.sub=Ue.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ue.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ue.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ue.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ye=(new Date).getTime();this.width=(this.hideTime-ye)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ye,Ue){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ye),Ue)):this.timeout=setTimeout(()=>ye(),Ue)}outsideInterval(ye,Ue){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ye),Ue)):this.intervalId=setInterval(()=>ye(),Ue)}runInsideAngular(ye){this.ngZone?this.ngZone.run(()=>ye()):ye()}}return be.\u0275fac=function(ye){return new(ye||be)(p.Y36(_n),p.Y36(et),p.Y36(p.R0b))},be.\u0275cmp=p.Xpm({type:be,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ye,Ue){1&ye&&p.NdJ("click",function(){return Ue.tapToast()})("mouseenter",function(){return Ue.stickAround()})("mouseleave",function(){return Ue.delayedHideToast()}),2&ye&&(p.d8E("@flyInOut",Ue.state),p.Tol(Ue.toastClasses),p.Udp("display",Ue.displayStyle))},standalone:!0,features:[p.jDz],attrs:ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ye,Ue){1&ye&&(p.YNc(0,Re,3,0,"button",0),p.YNc(1,Ve,3,5,"div",1),p.YNc(2,de,1,3,"div",2),p.YNc(3,he,2,4,"div",3),p.YNc(4,Se,2,2,"div",4)),2&ye&&(p.Q6J("ngIf",Ue.options.closeButton),p.xp6(1),p.Q6J("ngIf",Ue.title),p.xp6(1),p.Q6J("ngIf",Ue.message&&Ue.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ue.message&&!Ue.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ue.options.progressBar))},dependencies:[q.O5],encapsulation:2,data:{animation:[(0,B.X$)("flyInOut",[(0,B.SB)("inactive",(0,B.oB)({opacity:0})),(0,B.SB)("active",(0,B.oB)({opacity:1})),(0,B.SB)("removed",(0,B.oB)({opacity:0})),(0,B.eR)("inactive => active",(0,B.jt)("{{ easeTime }}ms {{ easing }}")),(0,B.eR)("active => removed",(0,B.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),be})();const $e={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Ut},rt=(be={})=>(0,p.MR2)([{provide:ot,useValue:{default:$e,config:be}}]);let qe=(()=>{class be{static forRoot(ye={}){return{ngModule:be,providers:[rt(ye)]}}}return be.\u0275fac=function(ye){return new(ye||be)},be.\u0275mod=p.oAB({type:be}),be.\u0275inj=p.cJS({imports:[Ut]}),be})()},5861:(Xt,Xe,H)=>{function p(q,Ie,Ee,ve,Re,Te,Ve){try{var de=q[Te](Ve),he=de.value}catch(Se){return void Ee(Se)}de.done?Ie(he):Promise.resolve(he).then(ve,Re)}function B(q){return function(){var Ie=this,Ee=arguments;return new Promise(function(ve,Re){var Te=q.apply(Ie,Ee);function Ve(he){p(Te,ve,Re,Ve,de,"next",he)}function de(he){p(Te,ve,Re,Ve,de,"throw",he)}Ve(void 0)})}}H.d(Xe,{Z:()=>B})}},Xt=>{Xt(Xt.s=8535)}]);