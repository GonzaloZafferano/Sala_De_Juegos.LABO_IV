"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{2313:(un,at,W)=>{W.d(at,{nm:()=>Un});var p=W(1157),Se=(W(4650),W(3692),W(259),W(5861)),we=W(6881),je=W(4859),Ne=W(2090),Ze=W(1877);const ce=new Map,he={activated:!1,tokenObservers:[]},Ce={initialized:!1,enabled:!1};function gt(Oe){return ce.get(Oe)||Object.assign({},he)}function ht(){return Ce}const Gt="https://content-firebaseappcheck.googleapis.com/v1",St="exchangeDebugToken",At={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _e{constructor(Ie,Ae,pt,xt,gn){if(this.operation=Ie,this.retryPolicy=Ae,this.getWaitDuration=pt,this.lowerBound=xt,this.upperBound=gn,this.pending=null,this.nextErrorWaitInterval=xt,xt>gn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ie){var Ae=this;return(0,Se.Z)(function*(){Ae.stop();try{Ae.pending=new Ne.BH,yield function nt(Oe){return new Promise(Ie=>{setTimeout(Ie,Oe)})}(Ae.getNextRun(Ie)),Ae.pending.resolve(),yield Ae.pending.promise,Ae.pending=new Ne.BH,yield Ae.operation(),Ae.pending.resolve(),yield Ae.pending.promise,Ae.process(!0).catch(()=>{})}catch(pt){Ae.retryPolicy(pt)?Ae.process(!1).catch(()=>{}):Ae.stop()}})()}getNextRun(Ie){if(Ie)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ae=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ae}}}const ot=new Ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yn(Oe,Ie){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,Se.Z)(function*({url:Oe,body:Ie},Ae){const pt={"Content-Type":"application/json"},xt=Ae.getImmediate({optional:!0});if(xt){const ei=yield xt.getHeartbeatsHeader();ei&&(pt["X-Firebase-Client"]=ei)}const gn={method:"POST",body:JSON.stringify(Ie),headers:pt};let kn,mn;try{kn=yield fetch(Oe,gn)}catch(ei){throw ot.create("fetch-network-error",{originalErrorMessage:ei?.message})}if(200!==kn.status)throw ot.create("fetch-status-error",{httpStatus:kn.status});try{mn=yield kn.json()}catch(ei){throw ot.create("fetch-parse-error",{originalErrorMessage:ei?.message})}const Fn=mn.ttl.match(/^([\d.]+)(s)$/);if(!Fn||!Fn[2]||isNaN(Number(Fn[1])))throw ot.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mn.ttl}`});const Di=1e3*Number(Fn[1]),qr=Date.now();return{token:mn.token,expireTimeMillis:qr+Di,issuedAtTimeMillis:qr}})).apply(this,arguments)}const lt="firebase-app-check-database",wt=1,ct="firebase-app-check-store";let Te=null;function Kn(Oe,Ie){return zn.apply(this,arguments)}function zn(){return(zn=(0,Se.Z)(function*(Oe,Ie){const pt=(yield function Ke(){return Te||(Te=new Promise((Oe,Ie)=>{try{const Ae=indexedDB.open(lt,wt);Ae.onsuccess=pt=>{Oe(pt.target.result)},Ae.onerror=pt=>{var xt;Ie(ot.create("storage-open",{originalErrorMessage:null===(xt=pt.target.error)||void 0===xt?void 0:xt.message}))},Ae.onupgradeneeded=pt=>{0===pt.oldVersion&&pt.target.result.createObjectStore(ct,{keyPath:"compositeKey"})}}catch(Ae){Ie(ot.create("storage-open",{originalErrorMessage:Ae?.message}))}}),Te)}()).transaction(ct,"readwrite"),gn=pt.objectStore(ct).put({compositeKey:Oe,value:Ie});return new Promise((kn,mn)=>{gn.onsuccess=Fn=>{kn()},pt.onerror=Fn=>{var Di;mn(ot.create("storage-set",{originalErrorMessage:null===(Di=Fn.target.error)||void 0===Di?void 0:Di.message}))}})})).apply(this,arguments)}const ar=new Ze.Yd("@firebase/app-check");function Kr(Oe,Ie){return(0,Ne.hl)()?function Le(Oe,Ie){return Kn(function pr(Oe){return`${Oe.options.appId}-${Oe.name}`}(Oe),Ie)}(Oe,Ie).catch(Ae=>{ar.warn(`Failed to write token to IndexedDB. Error: ${Ae}`)}):Promise.resolve()}function ui(){return nr.apply(this,arguments)}function nr(){return(nr=(0,Se.Z)(function*(){const Oe=ht();if(Oe.enabled&&Oe.token)return Oe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mi={error:"UNKNOWN_ERROR"};function Mn(Oe){return Ne.US.encodeString(JSON.stringify(Oe),!1)}function Sn(Oe){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,Se.Z)(function*(Oe,Ie=!1){const Ae=Oe.app;!function Pt(Oe){if(!gt(Oe).activated)throw ot.create("use-before-activation",{appName:Oe.name})}(Ae);const pt=gt(Ae);let gn,xt=pt.token;if(xt&&!ur(xt)&&(pt.token=void 0,xt=void 0),!xt){const Fn=yield pt.cachedTokenPromise;Fn&&(ur(Fn)?xt=Fn:yield Kr(Ae,void 0))}if(!Ie&&xt&&ur(xt))return{token:xt.token};let mn,kn=!1;if(function Vn(){return ht().enabled}()){pt.exchangeTokenPromise||(pt.exchangeTokenPromise=yn(function We(Oe,Ie){const{projectId:Ae,appId:pt,apiKey:xt}=Oe.options;return{url:`${Gt}/projects/${Ae}/apps/${pt}:${St}?key=${xt}`,body:{debug_token:Ie}}}(Ae,yield ui()),Oe.heartbeatServiceProvider).finally(()=>{pt.exchangeTokenPromise=void 0}),kn=!0);const Fn=yield pt.exchangeTokenPromise;return yield Kr(Ae,Fn),pt.token=Fn,{token:Fn.token}}try{pt.exchangeTokenPromise||(pt.exchangeTokenPromise=pt.provider.getToken().finally(()=>{pt.exchangeTokenPromise=void 0}),kn=!0),xt=yield gt(Ae).exchangeTokenPromise}catch(Fn){"appCheck/throttled"===Fn.code?ar.warn(Fn.message):ar.error(Fn),gn=Fn}return xt?gn?mn=ur(xt)?{token:xt.token,internalError:gn}:Xi(gn):(mn={token:xt.token},pt.token=xt,yield Kr(Ae,xt)):mn=Xi(gn),kn&&function ci(Oe,Ie){const Ae=gt(Oe).tokenObservers;for(const pt of Ae)try{"EXTERNAL"===pt.type&&null!=Ie.error?pt.error(Ie.error):pt.next(Ie)}catch{}}(Ae,mn),mn})).apply(this,arguments)}function Pr(Oe,Ie){const Ae=gt(Oe),pt=Ae.tokenObservers.filter(xt=>xt.next!==Ie);0===pt.length&&Ae.tokenRefresher&&Ae.tokenRefresher.isRunning()&&Ae.tokenRefresher.stop(),Ae.tokenObservers=pt}function li(Oe){const{app:Ie}=Oe,Ae=gt(Ie);let pt=Ae.tokenRefresher;pt||(pt=function Tr(Oe){const{app:Ie}=Oe;return new _e((0,Se.Z)(function*(){let pt;if(pt=gt(Ie).token?yield Sn(Oe,!0):yield Sn(Oe),pt.error)throw pt.error;if(pt.internalError)throw pt.internalError}),()=>!0,()=>{const Ae=gt(Ie);if(Ae.token){let pt=Ae.token.issuedAtTimeMillis+.5*(Ae.token.expireTimeMillis-Ae.token.issuedAtTimeMillis)+3e5;return pt=Math.min(pt,Ae.token.expireTimeMillis-3e5),Math.max(0,pt-Date.now())}return 0},At.RETRIAL_MIN_WAIT,At.RETRIAL_MAX_WAIT)}(Oe),Ae.tokenRefresher=pt),!pt.isRunning()&&Ae.isTokenAutoRefreshEnabled&&pt.start()}function ur(Oe){return Oe.expireTimeMillis-Date.now()>0}function Xi(Oe){return{token:Mn(mi),error:Oe}}class qn{constructor(Ie,Ae){this.app=Ie,this.heartbeatServiceProvider=Ae}_delete(){const{tokenObservers:Ie}=gt(this.app);for(const Ae of Ie)Pr(this.app,Ae.next);return Promise.resolve()}}const an="app-check-internal";!function hn(){(0,we._registerComponent)(new je.wA("app-check",Oe=>function yi(Oe,Ie){return new qn(Oe,Ie)}(Oe.getProvider("app").getImmediate(),Oe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Oe,Ie,Ae)=>{Oe.getProvider(an).initialize()})),(0,we._registerComponent)(new je.wA(an,Oe=>function On(Oe){return{getToken:Ie=>Sn(Oe,Ie),addTokenListener:Ie=>function $r(Oe,Ie,Ae,pt){const{app:xt}=Oe,gn=gt(xt);if(gn.tokenObservers=[...gn.tokenObservers,{next:Ae,error:pt,type:Ie}],gn.token&&ur(gn.token)){const mn=gn.token;Promise.resolve().then(()=>{Ae({token:mn.token}),li(Oe)}).catch(()=>{})}gn.cachedTokenPromise.then(()=>li(Oe))}(Oe,"INTERNAL",Ie),removeTokenListener:Ie=>Pr(Oe.app,Ie)}}(Oe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.7.0")}();class Un{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(un,at,W)=>{W.d(at,{Ot:()=>De,ZF:()=>tt,hX:()=>gt,z6:()=>Se});var p=W(259),G=W(4650),q=W(1157);class De{constructor(_e){return _e}}class Se{constructor(){return(0,p.C6)()}}const Ne=new G.OlP("angularfire2._apps"),Ze={provide:De,useFactory:function je(Be){return Be&&1===Be.length?Be[0]:new De((0,p.Mq)())},deps:[[new G.FiY,Ne]]},ce={provide:Se,deps:[[new G.FiY,Ne]]};function he(Be){return(_e,nt)=>{const Tt=_e.runOutsideAngular(()=>Be(nt));return new De(Tt)}}let Ce=(()=>{class Be{constructor(nt){(0,p.KN)("angularfire",q.q4.full,"core"),(0,p.KN)("angularfire",q.q4.full,"app"),(0,p.KN)("angular",G.q4F.full,nt.toString())}}return Be.\u0275fac=function(nt){return new(nt||Be)(G.LFG(G.Lbi))},Be.\u0275mod=G.oAB({type:Be}),Be.\u0275inj=G.cJS({providers:[Ze,ce]}),Be})();function gt(Be,..._e){return{ngModule:Ce,providers:[{provide:Ne,useFactory:he(Be),multi:!0,deps:[G.R0b,G.zs3,q.HU,..._e]}]}}const tt=(0,q.u3)(p.ZF,!0)},1205:(un,at,W)=>{W.d(at,{zQ:()=>Ve,ww:()=>it});var p=W(4650),G=W(7579),q=W(9646),De=W(9751),Se=W(8996),we=W(6451),je=W(5363),Ne=W(3900),Ze=W(4004),ce=W(6063);class he extends G.x{constructor(lt=1/0,wt=1/0,ct=ce.l){super(),this._bufferSize=lt,this._windowTime=wt,this._timestampProvider=ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=wt===1/0,this._bufferSize=Math.max(1,lt),this._windowTime=Math.max(1,wt)}next(lt){const{isStopped:wt,_buffer:ct,_infiniteTimeWindow:Ot,_timestampProvider:Te,_windowTime:Ke}=this;wt||(ct.push(lt),!Ot&&ct.push(Te.now()+Ke)),this._trimBuffer(),super.next(lt)}_subscribe(lt){this._throwIfClosed(),this._trimBuffer();const wt=this._innerSubscribe(lt),{_infiniteTimeWindow:ct,_buffer:Ot}=this,Te=Ot.slice();for(let Ke=0;Ke<Te.length&&!lt.closed;Ke+=ct?1:2)lt.next(Te[Ke]);return this._checkFinalizedStatuses(lt),wt}_trimBuffer(){const{_bufferSize:lt,_timestampProvider:wt,_buffer:ct,_infiniteTimeWindow:Ot}=this,Te=(Ot?1:2)*lt;if(lt<1/0&&Te<ct.length&&ct.splice(0,ct.length-Te),!Ot){const Ke=wt.now();let ye=0;for(let Le=1;Le<ct.length&&ct[Le]<=Ke;Le+=2)ye=Le;ye&&ct.splice(0,ye+1)}}}var Ce=W(3099);function gt(We,lt,wt){let ct,Ot=!1;return We&&"object"==typeof We?({bufferSize:ct=1/0,windowTime:lt=1/0,refCount:Ot=!1,scheduler:wt}=We):ct=We??1/0,(0,Ce.B)({connector:()=>new he(ct,lt,wt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ot})}var dt=W(590),ht=W(576);function Gt(We,lt){return(0,ht.m)(lt)?(0,Ne.w)(()=>We,lt):(0,Ne.w)(()=>We)}var tt=W(9468),yt=W(9300),St=W(1157),At=W(2011),Be=W(6895),_e=W(2313),nt=W(9260);const ot=new p.OlP("angularfire2.auth.use-emulator"),ke=new p.OlP("angularfire2.auth.settings"),Pt=new p.OlP("angularfire2.auth.tenant-id"),on=new p.OlP("angularfire2.auth.langugage-code"),jt=new p.OlP("angularfire2.auth.use-device-language"),yn=new p.OlP("angularfire.auth.persistence");let Ve=(()=>{class We{constructor(wt,ct,Ot,Te,Ke,ye,Le,It,$t,Kn,zn,yr){const fr=new G.x,pr=(0,q.of)(void 0).pipe((0,je.Q)(Ke.outsideAngular),(0,Ne.w)(()=>Te.runOutsideAngular(()=>W.e(568).then(W.bind(W,9568)))),(0,Ze.U)(()=>(0,At.on)(wt,Te,ct)),(0,Ze.U)(ar=>((We,lt,wt,ct,Ot,Te,Ke,ye)=>(0,At.cc)(`${We.name}.auth`,"AngularFireAuth",We.name,()=>{const Le=lt.runOutsideAngular(()=>We.auth());if(wt&&Le.useEmulator(...wt),ct&&(Le.tenantId=ct),Le.languageCode=Ot,Te&&Le.useDeviceLanguage(),Ke)for(const[It,$t]of Object.entries(Ke))Le.settings[It]=$t;return ye&&Le.setPersistence(ye),Le},[wt,ct,Ot,Te,Ke,ye]))(ar,Te,ye,It,$t,Kn,Le,zn)),gt({bufferSize:1,refCount:!1}));if((0,Be.PM)(Ot))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,q.of)(null);else{pr.pipe((0,dt.P)()).subscribe();const Qr=pr.pipe((0,Ne.w)(Rn=>Rn.getRedirectResult().then(kt=>kt,()=>null)),St.iC,gt({bufferSize:1,refCount:!1})),ln=pr.pipe((0,Ne.w)(Rn=>new De.y(kt=>({unsubscribe:Te.runOutsideAngular(()=>Rn.onAuthStateChanged(Vn=>kt.next(Vn),Vn=>kt.error(Vn),()=>kt.complete()))})))),Kr=pr.pipe((0,Ne.w)(Rn=>new De.y(kt=>({unsubscribe:Te.runOutsideAngular(()=>Rn.onIdTokenChanged(Vn=>kt.next(Vn),Vn=>kt.error(Vn),()=>kt.complete()))}))));this.authState=Qr.pipe(Gt(ln),(0,tt.R)(Ke.outsideAngular),(0,je.Q)(Ke.insideAngular)),this.user=Qr.pipe(Gt(Kr),(0,tt.R)(Ke.outsideAngular),(0,je.Q)(Ke.insideAngular)),this.idToken=this.user.pipe((0,Ne.w)(Rn=>Rn?(0,Se.D)(Rn.getIdToken()):(0,q.of)(null))),this.idTokenResult=this.user.pipe((0,Ne.w)(Rn=>Rn?(0,Se.D)(Rn.getIdTokenResult()):(0,q.of)(null))),this.credential=(0,we.T)(Qr,fr,this.authState.pipe((0,yt.h)(Rn=>!Rn))).pipe((0,Ze.U)(Rn=>Rn?.user?Rn:null),(0,tt.R)(Ke.outsideAngular),(0,je.Q)(Ke.insideAngular))}return(0,At.pX)(this,pr,Te,{spy:{apply:(ar,Qr,ln)=>{(ar.startsWith("signIn")||ar.startsWith("createUser"))&&ln.then(Kr=>fr.next(Kr))}}})}}return We.\u0275fac=function(wt){return new(wt||We)(p.LFG(At.Dh),p.LFG(At.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(St.HU),p.LFG(ot,8),p.LFG(ke,8),p.LFG(Pt,8),p.LFG(on,8),p.LFG(jt,8),p.LFG(yn,8),p.LFG(_e.nm,8))},We.\u0275prov=p.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"}),We})(),it=(()=>{class We{constructor(){nt.Z.registerVersion("angularfire",St.q4.full,"auth-compat")}}return We.\u0275fac=function(wt){return new(wt||We)},We.\u0275mod=p.oAB({type:We}),We.\u0275inj=p.cJS({providers:[Ve]}),We})()},2011:(un,at,W)=>{W.d(at,{Dh:()=>Ne,GT:()=>we,cc:()=>dt,hO:()=>gt,on:()=>ce,pX:()=>Se,xv:()=>Ze});var p=W(4650),G=W(9260),q=W(1157);un=W.hmd(un);const De=["ngOnDestroy"],Se=(yt,St,At,Be={})=>new Proxy(yt,{get:(_e,nt)=>At.runOutsideAngular(()=>{var Tt;if(yt[nt])return!(null===(Tt=Be?.spy)||void 0===Tt)&&Tt.get&&Be.spy.get(nt,yt[nt]),yt[nt];if(De.indexOf(nt)>-1)return()=>{};const ot=St.toPromise().then(ke=>{const Pt=ke&&ke[nt];return"function"==typeof Pt?Pt.bind(ke):Pt&&Pt.then?Pt.then(on=>At.run(()=>on)):At.run(()=>Pt)});return new Proxy(()=>{},{get:(ke,Pt)=>ot[Pt],apply:(ke,Pt,on)=>ot.then(jt=>{var yn;const Ut=jt&&jt(...on);return!(null===(yn=Be?.spy)||void 0===yn)&&yn.apply&&Be.spy.apply(nt,on,Ut),Ut})})})}),we=(yt,St)=>{St.forEach(At=>{Object.getOwnPropertyNames(At.prototype||At).forEach(Be=>{Object.defineProperty(yt.prototype,Be,Object.getOwnPropertyDescriptor(At.prototype||At,Be))})})};class je{constructor(St){return St}}const Ne=new p.OlP("angularfire2.app.options"),Ze=new p.OlP("angularfire2.app.name");function ce(yt,St,At){const _e="object"==typeof At&&At||{};_e.name=_e.name||"string"==typeof At&&At||"[DEFAULT]";const Tt=G.Z.apps.filter(ot=>ot&&ot.name===_e.name)[0]||St.runOutsideAngular(()=>G.Z.initializeApp(yt,_e));try{JSON.stringify(yt)!==JSON.stringify(Tt.options)&&he("error",`${Tt.name} Firebase App already initialized with different options${un.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new je(Tt)}const he=(yt,...St)=>{(0,p.X6Q)()&&typeof console<"u"&&console[yt](...St)},Ce={provide:je,useFactory:ce,deps:[Ne,p.R0b,[new p.FiY,Ze]]};let gt=(()=>{class yt{constructor(At){G.Z.registerVersion("angularfire",q.q4.full,"core"),G.Z.registerVersion("angularfire",q.q4.full,"app-compat"),G.Z.registerVersion("angular",p.q4F.full,At.toString())}static initializeApp(At,Be){return{ngModule:yt,providers:[{provide:Ne,useValue:At},{provide:Ze,useValue:Be}]}}}return yt.\u0275fac=function(At){return new(At||yt)(p.LFG(p.Lbi))},yt.\u0275mod=p.oAB({type:yt}),yt.\u0275inj=p.cJS({providers:[Ce]}),yt})();function dt(yt,St,At,Be,_e){const[,nt,Tt]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===yt)||[];if(nt)return function ht(yt,St){try{return yt.toString()===St.toString()}catch{return yt===St}}(_e,Tt)||(tt("error",`${St} was already initialized on the ${At} Firebase App with different settings.${Gt?" You may need to reload as Firebase is not HMR aware.":""}`),tt("warn",{is:_e,was:Tt})),nt;{const ot=Be();return globalThis.\u0275AngularfireInstanceCache.push([yt,ot,_e]),ot}}const Gt=!!un.hot,tt=(yt,...St)=>{(0,p.X6Q)()&&typeof console<"u"&&console[yt](...St)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9313:(un,at,W)=>{W.d(at,{gg:()=>zf,Um:()=>Gf,hJ:()=>Rv,BS:()=>um,oe:()=>Pv,JU:()=>Nv,PL:()=>Sh,ad:()=>G0,Xo:()=>cm,Cm:()=>bv,IO:()=>gw,pl:()=>Q0,r7:()=>X0,ar:()=>eE});var p=W(1157),G=W(4650),q=W(3692),De=W(259),we=(W(8502),W(2090)),je=W(6881),Ne=W(1877),Ze=W(4859);class Ce{constructor(){return(0,p.vb)("auth")}}var ie,On=W(2313),Dt=W(5861),Cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},st={},be=be||{},qe=Cr||self;function ft(){}function oe(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function se(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var $e="closure_uid_"+(1e9*Math.random()>>>0),xe=0;function Ct(r,e,t){return r.call.apply(r.bind,arguments)}function ve(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function le(r,e,t){return(le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ct:ve).apply(null,arguments)}function ne(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function de(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function rt(){this.s=this.s,this.o=this.o}rt.prototype.s=!1,rt.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function pe(r){Object.prototype.hasOwnProperty.call(r,$e)&&r[$e]||(r[$e]=++xe)}(this)},rt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function xn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function br(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(oe(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function Jn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Jn.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!qe.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{qe.addEventListener("test",ft,e),qe.removeEventListener("test",ft,e)}catch{}return r}();function Ue(r){return/^[\s\xa0]*$/.test(r)}var Mt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function an(r,e){return r<e?-1:r>e?1:0}function hn(){var r=qe.navigator;return r&&(r=r.userAgent)?r:""}function wn(r){return-1!=hn().indexOf(r)}function Kt(r){return Kt[" "](r),r}function Un(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Kt[" "]=ft;var Ht,r,rr=wn("Opera"),Nr=wn("Trident")||wn("MSIE"),Xr=wn("Edge"),$s=Xr||Nr,js=wn("Gecko")&&!(-1!=hn().toLowerCase().indexOf("webkit")&&!wn("Edge"))&&!(wn("Trident")||wn("MSIE"))&&!wn("Edge"),jr=-1!=hn().toLowerCase().indexOf("webkit")&&!wn("Edge");function Ur(){var r=qe.document;return r?r.documentMode:void 0}e:{var Dn="",Or=(r=hn(),js?/rv:([^\);]+)(\)|;)/.exec(r):Xr?/Edge\/([\d\.]+)/.exec(r):Nr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):jr?/WebKit\/(\S+)/.exec(r):rr?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Or&&(Dn=Or?Or[1]:""),Nr){var Zn=Ur();if(null!=Zn&&Zn>parseFloat(Dn)){Ht=String(Zn);break e}}Ht=Dn}var ls={},Oe=qe.document&&Nr&&(Ur()||parseInt(Ht,10))||void 0;function Ie(r,e){if(Jn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(js){e:{try{Kt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Ae[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ie.$.h.call(this)}}de(Ie,Jn);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),xt=0;function gn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++xt,this.fa=this.ia=!1}function kn(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function mn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Fn(r){const e={};for(const t in r)e[t]=r[t];return e}const Di="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qr(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<Di.length;c++)t=Di[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function ei(r){this.src=r,this.g={},this.h=0}function di(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=tn(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(kn(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function vr(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}ei.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=vr(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new gn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var ji="closure_lm_"+(1e6*Math.random()|0),Io={};function Hi(r,e,t,s,a){if(s&&s.once)return zi(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Hi(r,e[c],t,s,a);return null}return t=eo(t),r&&r[pt]?r.O(e,t,se(s)?!!s.capture:!!s,a):Ms(r,e,t,!1,s,a)}function Ms(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=se(a)?!!a.capture:!!a,b=Hs(r);if(b||(r[ji]=b=new ei(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function cs(){const e=ds;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Je||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Ti(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function zi(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)zi(r,e[c],t,s,a);return null}return t=eo(t),r&&r[pt]?r.P(e,t,se(s)?!!s.capture:!!s,a):Ms(r,e,t,!0,s,a)}function fi(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)fi(r,e[c],t,s,a);else s=se(s)?!!s.capture:!!s,t=eo(t),r&&r[pt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=vr(c=r.g[e],t,s,a))&&(kn(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=Hs(r))&&(e=r.g[e.toString()],r=-1,e&&(r=vr(e,t,s,a)),(t=-1<r?e[r]:null)&&Vo(t))}function Vo(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[pt])di(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Ti(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Hs(e))?(di(t,r),0==t.h&&(t.src=null,e[ji]=null)):kn(r)}}}function Ti(r){return r in Io?Io[r]:Io[r]="on"+r}function ds(r,e){if(r.fa)r=!0;else{e=new Ie(e,this);var t=r.listener,s=r.la||r.src;r.ia&&Vo(r),r=t.call(s,e)}return r}function Hs(r){return(r=r[ji])instanceof ei?r:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(r){return"function"==typeof r?r:(r[Es]||(r[Es]=function(e){return r.handleEvent(e)}),r[Es])}function sr(){rt.call(this),this.i=new ei(this),this.S=this,this.J=null}function Br(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Jn(e,r);else if(e instanceof Jn)e.target=e.target||r;else{var a=e;qr(e=new Jn(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=es(f,s,!0,e)&&a}if(a=es(f=e.g=r,s,!0,e)&&a,a=es(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=es(f=e.g=t[c],s,!1,e)&&a}function es(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,L=f.la||f.src;f.ia&&di(r.i,f),a=!1!==b.call(L,s)&&a}}return a&&!s.defaultPrevented}de(sr,rt),sr.prototype[pt]=!0,sr.prototype.removeEventListener=function(r,e,t,s){fi(this,r,e,t,s)},sr.prototype.N=function(){if(sr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)kn(t[s]);delete r.g[e],r.h--}}this.J=null},sr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},sr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var Uo=qe.JSON.stringify;function ts(){var r=jo;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var Do,Bo=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Fi,r=>r.reset());class Fi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function go(r){qe.setTimeout(()=>{throw r},0)}function $o(r,e){Do||function To(){var r=qe.Promise.resolve(void 0);Do=function(){r.then(xs)}}(),ns||(Do(),ns=!0),jo.add(r,e)}var ns=!1,jo=new class ra{constructor(){this.h=this.g=null}add(e,t){const s=Bo.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function xs(){for(var r;r=ts();){try{r.h.call(r.g)}catch(t){go(t)}var e=Bo;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}ns=!1}function rs(r,e){sr.call(this),this.h=r||1,this.g=e||qe,this.j=le(this.qb,this),this.l=Date.now()}function Co(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function ws(r,e,t){if("function"==typeof r)t&&(r=le(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=le(r.handleEvent,r)}return 2147483647<Number(e)?-1:qe.setTimeout(r,e||0)}function bo(r){r.g=ws(()=>{r.g=null,r.i&&(r.i=!1,bo(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}de(rs,sr),(ie=rs.prototype).ga=!1,ie.T=null,ie.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Br(this,"tick"),this.ga&&(Co(this),this.start()))}},ie.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ie.N=function(){rs.$.N.call(this),Co(this),delete this.g};class Ho extends rt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(r){rt.call(this),this.h=r,this.g={}}de(Gi,rt);var zs=[];function Li(r,e,t,s){Array.isArray(t)||(t&&(zs[0]=t.toString()),t=zs);for(var a=0;a<t.length;a++){var c=Hi(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function ya(r){mn(r.g,function(e,t){this.g.hasOwnProperty(t)&&Vo(e)},r),r.g={}}function Gs(){this.g=!0}function Ri(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ao(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return Uo(t)}catch{return e}}(r,t)+(s?" "+s:"")})}Gi.prototype.N=function(){Gi.$.N.call(this),ya(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gs.prototype.Ea=function(){this.g=!1},Gs.prototype.info=function(){};var Ws={},is=null;function Vi(){return is=is||new sr}function Xn(r){Jn.call(this,Ws.Ta,r)}function hs(r){const e=Vi();Br(e,new Xn(e))}function fs(r,e){Jn.call(this,Ws.STAT_EVENT,r),this.stat=e}function Yn(r){const e=Vi();Br(e,new fs(e,r))}function Rs(r,e){Jn.call(this,Ws.Ua,r),this.size=e}function ps(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return qe.setTimeout(function(){r()},e)}Ws.Ta="serverreachability",de(Xn,Jn),Ws.STAT_EVENT="statevent",de(fs,Jn),Ws.Ua="timingevent",de(Rs,Jn);var si={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},va={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mo(){}function pi(){}Mo.prototype.h=null;var lr,gs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ds(){Jn.call(this,"d")}function yo(){Jn.call(this,"c")}function Pi(){}function Ui(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new Gi(this),this.P=zo,this.V=new rs(r=$s?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Pn}function Pn(){this.i=null,this.g="",this.h=!1}de(Ds,Jn),de(yo,Jn),de(Pi,Mo),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},lr=new Pi;var zo=45e3,ia={},Ps={};function to(r,e,t){r.L=1,r.v=os(Ci(e)),r.s=t,r.S=!0,sa(r,null)}function sa(r,e){r.G=Date.now(),R(r),r.A=Ci(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),Go(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Pn,r.g=Bi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Ho(le(r.Pa,r,r.g),r.O)),Li(r.U,r.g,"readystatechange",r.nb),e=r.I?Fn(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),hs(),function mo(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),L=0;L<b.length;L++){var z=b[L].split("=");if(1<z.length){var Q=z[0];z=z[1];var me=Q.split("_");f=2<=me.length&&"type"==me[1]?f+(Q+"=")+z+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function no(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function Ns(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=qa(r,t),a==Ps){4==e&&(r.o=4,Yn(14),s=!1),Ri(r.j,r.m,null,"[Incomplete Response]");break}if(a==ia){r.o=4,Yn(15),Ri(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Ri(r.j,r.m,a,null),pn(r,a)}no(r)&&a!=Ps&&a!=ia&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Yn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wu(e),e.L=!0,Yn(11))):(Ri(r.j,r.m,t,"[Invalid Chunked Response]"),He(r),X(r))}function qa(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Ps:(t=Number(e.substring(t,s)),isNaN(t)?ia:(s+=1)+t>e.length?Ps:(e=e.substr(s,t),r.C=s+t,e))}function R(r){r.Y=Date.now()+r.P,O(r,r.P)}function O(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=ps(le(r.lb,r),e)}function k(r){r.B&&(qe.clearTimeout(r.B),r.B=null)}function X(r){0==r.l.H||r.J||Oa(r.l,r)}function He(r){k(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Co(r.V),ya(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function pn(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||fe(t.h,r)))if(!r.K&&fe(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;ua(t),Lr(t)}xo(t),Yn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=ps(le(t.ib,t),6e3));if(1>=ge(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Wo(t,11)}else if((r.K||t.g==r)&&ua(t),!Ue(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let z=a[e];if(t.V=z[0],z=z[1],2==t.H)if("c"==z[0]){t.J=z[1],t.oa=z[2];const Q=z[3];null!=Q&&(t.qa=Q,t.j.info("VER="+t.qa));const me=z[4];null!=me&&(t.Ga=me,t.j.info("SVER="+t.Ga));const ze=z[5];null!=ze&&"number"==typeof ze&&0<ze&&(t.K=s=1.5*ze,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Et=r.g;if(Et){const zt=Et.g?Et.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var c=s.h;c.g||-1==zt.indexOf("spdy")&&-1==zt.indexOf("quic")&&-1==zt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ge(c,c.h),c.h=null))}if(s.F){const en=Et.g?Et.g.getResponseHeader("X-HTTP-Session-Id"):null;en&&(s.Da=en,Er(s.G,s.F,en))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=lu(s,s.I?s.oa:null,s.Y),f.K){mt(s.h,f);var b=f,L=s.K;L&&b.setTimeout(L),b.B&&(k(b),R(b)),s.g=f}else Ia(s);0<t.i.length&&aa(t)}else"stop"!=z[0]&&"close"!=z[0]||Wo(t,7);else 3==t.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Wo(t,7):Wi(t):"noop"!=z[0]&&t.l&&t.l.Aa(z),t.A=0)}hs()}catch{}}function ss(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(oe(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function kr(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(oe(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function _r(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(oe(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(ie=Ui.prototype).setTimeout=function(r){this.P=r},ie.nb=function(r){r=r.target;const e=this.M;e&&3==sn(r)?e.l():this.Pa(r)},ie.Pa=function(r){try{if(r==this.g)e:{const Q=sn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||$s||this.g&&(this.h.h||this.g.ja()||vn(this.g)))){this.J||4!=Q||7==e||hs(),k(this);var t=this.g.da();this.aa=t;t:if(no(this)){var s=vn(this.g);r="";var a=s.length,c=4==sn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){He(this),X(this);var f="";break t}this.h.i=new qe.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function So(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ue(b)){var z=b;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Yn(12),He(this),X(this);break e}Ri(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pn(this,t)}this.S?(Ns(this,Q,f),$s&&this.i&&3==Q&&(Li(this.U,this.V,"tick",this.mb),this.V.start())):(Ri(this.j,this.m,f,null),pn(this,f)),4==Q&&He(this),this.i&&!this.J&&(4==Q?Oa(this.l,this):(this.i=!1,R(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Yn(12)):(this.o=0,Yn(13)),He(this),X(this)}}}catch{}},ie.mb=function(){if(this.g){var r=sn(this.g),e=this.g.ja();this.C<e.length&&(k(this),Ns(this,r,e),this.i&&4!=r&&R(this))}},ie.cancel=function(){this.J=!0,He(this)},ie.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Is(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hs(),Yn(17)),He(this),this.o=2,X(this)):O(this,this.Y-r)};var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _i(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof _i){this.h=void 0!==e?e:r.h,Zr(this,r.j),this.s=r.s,this.g=r.g,Ni(this,r.m),this.l=r.l,e=r.i;var t=new so;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),io(this,t),this.o=r.o}else r&&(t=String(r).match(ro))?(this.h=!!e,Zr(this,t[1]||"",!0),this.s=_o(t[2]||""),this.g=_o(t[3]||"",!0),Ni(this,t[4]),this.l=_o(t[5]||"",!0),io(this,t[6]||"",!0),this.o=_o(t[7]||"")):(this.h=!!e,this.i=new so(null,this.h))}function Ci(r){return new _i(r)}function Zr(r,e,t){r.j=t?_o(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ni(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function io(r,e,t){e instanceof so?(r.i=e,function _(r,e){e&&!r.j&&(ms(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(Os(this,s),Go(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=Ts(e,oa)),r.i=new so(e,r.h))}function Er(r,e,t){r.i.set(e,t)}function os(r){return Er(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function _o(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ts(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Za),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Za(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}_i.prototype.toString=function(){var r=[],e=this.j;e&&r.push(Ts(e,bu,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(Ts(e,bu,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(Ts(t,"/"==t.charAt(0)?_a:Ei,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",Ts(t,Ea)),r.join("")};var bu=/[#\/\?@]/g,Ei=/[#\?:]/g,_a=/[#\?]/g,oa=/[#\?@]/g,Ea=/#/g;function so(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function ms(r){r.g||(r.g=new Map,r.h=0,r.i&&function vo(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Os(r,e){ms(r),e=$(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function wa(r,e){return ms(r),e=$(r,e),r.g.has(e)}function Go(r,e,t){Os(r,e),0<t.length&&(r.i=null,r.g.set($(r,e),xn(t)),r.h+=t.length)}function $(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function F(r){this.l=r||K,r=qe.PerformanceNavigationTiming?0<(r=qe.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(qe.g&&qe.g.Ka&&qe.g.Ka()&&qe.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ie=so.prototype).add=function(r,e){ms(this),this.i=null,r=$(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},ie.forEach=function(r,e){ms(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},ie.sa=function(){ms(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},ie.Z=function(r){ms(this);let e=[];if("string"==typeof r)wa(this,r)&&(e=e.concat(this.g.get($(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},ie.set=function(r,e){return ms(this),this.i=null,wa(this,r=$(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},ie.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var K=10;function te(r){return!!r.h||!!r.g&&r.g.size>=r.j}function ge(r){return r.h?1:r.g?r.g.size:0}function fe(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Ge(r,e){r.g?r.g.add(e):r.h=e}function mt(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function qt(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return xn(r.i)}function cn(){}function ir(){this.g=new cn}function er(r,e,t){const s=t||"";try{ss(r,function(a,c){let f=a;se(a)&&(f=Uo(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function An(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function cr(r){this.l=r.fc||null,this.j=r.ob||!1}function A(r,e){sr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=B,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}F.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},cn.prototype.stringify=function(r){return qe.JSON.stringify(r,void 0)},cn.prototype.parse=function(r){return qe.JSON.parse(r,void 0)},de(cr,Mo),cr.prototype.g=function(){return new A(this.l,this.j)},cr.prototype.i=function(r){return function(){return r}}({}),de(A,sr);var B=0;function N(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function Z(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ue(r)}function ue(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(ie=A.prototype).open=function(r,e){if(this.readyState!=B)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ue(this)},ie.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||qe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z(this)),this.readyState=B},ie.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ue(this)),this.g&&(this.readyState=3,ue(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof qe.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;N(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},ie.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?Z(this):ue(this),3==this.readyState&&N(this)}},ie.Za=function(r){this.g&&(this.response=this.responseText=r,Z(this))},ie.Ya=function(r){this.g&&(this.response=r,Z(this))},ie.ka=function(){this.g&&Z(this)},ie.setRequestHeader=function(r,e){this.v.append(r,e)},ie.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},ie.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(A.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Xe=qe.JSON.parse;function Ye(r){sr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nn,this.L=this.M=!1}de(Ye,sr);var nn="",or=/^https?$/i,$n=["POST","PUT"];function Bn(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Fr(r),hi(r)}function Fr(r){r.F||(r.F=!0,Br(r,"complete"),Br(r,"error"))}function Ir(r){if(r.h&&typeof be<"u"&&(!r.C[1]||4!=sn(r)||2!=r.da()))if(r.v&&4==sn(r))ws(r.La,0,r);else if(Br(r,"readystatechange"),4==sn(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.I).match(ro)[1]||null;if(!a&&qe.self&&qe.self.location){var c=qe.self.location.protocol;a=c.substr(0,c.length-1)}s=!or.test(a?a.toLowerCase():"")}t=s}if(t)Br(r,"complete"),Br(r,"success");else{r.m=6;try{var f=2<sn(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",Fr(r)}}finally{hi(r)}}}function hi(r,e){if(r.g){rn(r);const t=r.g,s=r.C[0]?ft:null;r.g=null,r.C=null,e||Br(r,"ready");try{t.onreadystatechange=s}catch{}}}function rn(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(qe.clearTimeout(r.A),r.A=null)}function sn(r){return r.g?r.g.readyState:0}function vn(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case nn:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Nn(r){let e="";return mn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Ar(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Nn(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):Er(r,e,t))}function Hr(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function ni(r){this.Ga=0,this.i=[],this.j=new Gs,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hr("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hr("baseRetryDelayMs",5e3,r),this.hb=Hr("retryDelaySeedMs",1e4,r),this.eb=Hr("forwardChannelMaxRetries",2,r),this.xa=Hr("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new F(r&&r.concurrentRequestLimit),this.Ja=new ir,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Wi(r){if(au(r),3==r.H){var e=r.W++,t=Ci(r.G);Er(t,"SID",r.J),Er(t,"RID",e),Er(t,"TYPE","terminate"),zr(r,t),(e=new Ui(r,r.j,e,void 0)).L=2,e.v=os(Ci(t)),t=!1,qe.navigator&&qe.navigator.sendBeacon&&(t=qe.navigator.sendBeacon(e.v.toString(),"")),!t&&qe.Image&&((new Image).src=e.v,t=!0),t||(e.g=Bi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),R(e)}uu(r)}function Lr(r){r.g&&(Wu(r),r.g.cancel(),r.g=null)}function au(r){Lr(r),r.u&&(qe.clearTimeout(r.u),r.u=null),ua(r),r.h.cancel(),r.m&&("number"==typeof r.m&&qe.clearTimeout(r.m),r.m=null)}function aa(r){te(r.h)||r.m||(r.m=!0,$o(r.Na,r),r.C=0)}function Ks(r,e){var t;t=e?e.m:r.W++;const s=Ci(r.G);Er(s,"SID",r.J),Er(s,"RID",t),Er(s,"AID",r.V),zr(r,s),r.o&&r.s&&Ar(s,r.o,r.s),t=new Ui(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=Na(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Ge(r.h,t),to(t,s,e)}function zr(r,e){r.ma&&mn(r.ma,function(t,s){Er(e,s,t)}),r.l&&ss({},function(t,s){Er(e,s,t)})}function Na(r,e,t){t=Math.min(r.i.length,t);var s=r.l?le(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let L=0;L<t;L++){let z=a[L].h;const Q=a[L].g;if(z-=c,0>z)c=Math.max(0,a[L].h-100),b=!1;else try{er(Q,f,"req"+z+"_")}catch{s&&s(Q)}}if(b){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Ia(r){r.g||r.u||(r.ba=1,$o(r.Ma,r),r.A=0)}function xo(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=ps(le(r.Ma,r),Ku(r,r.A)),r.A++,0))}function Wu(r){null!=r.B&&(qe.clearTimeout(r.B),r.B=null)}function Mi(r){r.g=new Ui(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=Ci(r.wa);Er(e,"RID","rpc"),Er(e,"SID",r.J),Er(e,"CI",r.M?"0":"1"),Er(e,"AID",r.V),Er(e,"TYPE","xmlhttp"),zr(r,e),r.o&&r.s&&Ar(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=os(Ci(e)),t.s=null,t.S=!0,sa(t,r)}function ua(r){null!=r.v&&(qe.clearTimeout(r.v),r.v=null)}function Oa(r,e){var t=null;if(r.g==e){ua(r),Wu(r),r.g=null;var s=2}else{if(!fe(r.h,e))return;t=e.F,mt(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Br(s=Vi(),new Rs(s,t)),aa(r)}else Ia(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function bi(r,e){return!(ge(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=ps(le(r.Na,r,e),Ku(r,r.C)),r.C++,0)))}(r,e)||2==s&&xo(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Wo(r,5);break;case 4:Wo(r,10);break;case 3:Wo(r,6);break;default:Wo(r,2)}}function Ku(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Wo(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=le(r.pb,r);t||(t=new _i("//www.google.com/images/cleardot.gif"),qe.location&&"http"==qe.location.protocol||Zr(t,"https"),os(t)),function Tn(r,e){const t=new Gs;if(qe.Image){const s=new Image;s.onload=ne(An,t,s,"TestLoadImage: loaded",!0,e),s.onerror=ne(An,t,s,"TestLoadImage: error",!1,e),s.onabort=ne(An,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=ne(An,t,s,"TestLoadImage: timeout",!1,e),qe.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Yn(2);r.H=0,r.l&&r.l.za(e),uu(r),au(r)}function uu(r){if(r.H=0,r.pa=[],r.l){const e=qt(r.h);(0!=e.length||0!=r.i.length)&&(br(r.pa,e),br(r.pa,r.i),r.h.i.length=0,xn(r.i),r.i.length=0),r.l.ya()}}function lu(r,e,t){var s=t instanceof _i?Ci(t):new _i(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ni(s,s.m);else{var a=qe.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new _i(null,void 0);s&&Zr(c,s),e&&(c.g=e),a&&Ni(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&Er(s,t,e),Er(s,"VER",r.qa),zr(r,s),s}function Bi(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ye(t&&r.Ha&&!r.va?new cr({ob:!0}):r.va)).Oa(r.I),e}function cu(){}function oi(){if(Nr&&!(10<=Number(Oe)))throw Error("Environmental error: no available transport.")}function ai(r,e){sr.call(this),this.g=new ni(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Ue(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ue(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Ro(this)}function Da(r){Ds.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function la(){yo.call(this),this.status=1}function Ro(r){this.g=r}function qs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ta(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function ri(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(ie=Ye.prototype).Oa=function(r){this.M=r},ie.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lr.g(),this.C=function ti(r){return r.h||(r.h=r.i())}(this.u?this.u:lr),this.g.onreadystatechange=le(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void Bn(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=qe.FormData&&r instanceof qe.FormData,!(0<=tn($n,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rn(this),0<this.B&&((this.L=function wr(r){return Nr&&function vi(){return Un(ls,9,function(){let r=0;const e=Mt(String(Ht)).split("."),t=Mt("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=an(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||an(0==a[2].length,0==c[2].length)||an(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=le(this.ua,this)):this.A=ws(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){Bn(this,c)}},ie.ua=function(){typeof be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Br(this,"timeout"),this.abort(8))},ie.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Br(this,"complete"),Br(this,"abort"),hi(this))},ie.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hi(this,!0)),Ye.$.N.call(this)},ie.La=function(){this.s||(this.G||this.v||this.l?Ir(this):this.kb())},ie.kb=function(){Ir(this)},ie.da=function(){try{return 2<sn(this)?this.g.status:-1}catch{return-1}},ie.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ie.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Xe(e)}},ie.Ia=function(){return this.m},ie.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ie=ni.prototype).qa=8,ie.H=1,ie.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Ui(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=Fn(c),qr(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Na(this,a,e),Er(t=Ci(this.G),"RID",r),Er(t,"CVER",22),this.F&&Er(t,"X-HTTP-Session-Id",this.F),zr(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Nn(c)))+"&"+e:this.o&&Ar(t,this.o,c)),Ge(this.h,a),this.bb&&Er(t,"TYPE","init"),this.P?(Er(t,"$req",e),Er(t,"SID","null"),a.ba=!0,to(a,t,null)):to(a,t,e),this.H=2}}else 3==this.H&&(r?Ks(this,r):0==this.i.length||te(this.h)||Ks(this))},ie.Ma=function(){if(this.u=null,Mi(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=ps(le(this.jb,this),r)}},ie.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Yn(10),Lr(this),Mi(this))},ie.ib=function(){null!=this.v&&(this.v=null,Lr(this),xo(this),Yn(19))},ie.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Yn(2)):(this.j.info("Failed to ping google.com"),Yn(1))},(ie=cu.prototype).Ba=function(){},ie.Aa=function(){},ie.za=function(){},ie.ya=function(){},ie.Va=function(){},oi.prototype.g=function(r,e){return new ai(r,e)},de(ai,sr),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Yn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=lu(r,null,r.Y),aa(r)},ai.prototype.close=function(){Wi(this.g)},ai.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=Uo(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&aa(e)},ai.prototype.N=function(){this.g.l=null,delete this.j,Wi(this.g),delete this.g,ai.$.N.call(this)},de(Da,Ds),de(la,yo),de(Ro,cu),Ro.prototype.Ba=function(){Br(this.g,"a")},Ro.prototype.Aa=function(r){Br(this.g,new Da(r))},Ro.prototype.za=function(r){Br(this.g,new la)},Ro.prototype.ya=function(){Br(this.g,"b")},de(qs,function qu(){this.blockSize=-1}),qs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},qs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Ta(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Ta(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Ta(this,s),a=0;break}}this.h=a,this.i+=e},qs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var Ya={};function Ca(r){return-128<=r&&128>r?Un(Ya,r,function(e){return new ri([0|e],0>e?-1:0)}):new ri([0|r],0>r?-1:0)}function Cs(r){if(isNaN(r)||!isFinite(r))return oo;if(0>r)return Qn(Cs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=ka;return new ri(e,0)}var ka=4294967296,oo=Ca(0),Su=Ca(1),ca=Ca(16777216);function ks(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Zs(r){return-1==r.h}function Qn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new ri(t,~r.h).add(Su)}function du(r,e){return r.add(Qn(e))}function Au(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Qa(r,e){this.g=r,this.h=e}function Ja(r,e){if(ks(e))throw Error("division by zero");if(ks(r))return new Qa(oo,oo);if(Zs(r))return e=Ja(Qn(r),e),new Qa(Qn(e.g),Qn(e.h));if(Zs(e))return e=Ja(r,Qn(e)),new Qa(Qn(e.g),e.h);if(30<r.g.length){if(Zs(r)||Zs(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Su,s=e;0>=s.X(r);)t=hu(t),s=hu(s);var a=fu(t,1),c=fu(s,1);for(s=fu(s,2),t=fu(t,2);!ks(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=fu(s,1),t=fu(t,1)}return e=du(r,a.R(e)),new Qa(a,e)}for(a=oo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=Cs(t)).R(e);Zs(f)||0<f.X(r);)f=(c=Cs(t-=s)).R(e);ks(c)&&(c=Su),a=a.add(c),r=du(r,f)}return new Qa(a,r)}function hu(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new ri(t,r.h)}function fu(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new ri(a,r.h)}(ie=ri.prototype).ea=function(){if(Zs(this))return-Qn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:ka+s)*e,e*=ka}return r},ie.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(ks(this))return"0";if(Zs(this))return"-"+Qn(this).toString(r);for(var e=Cs(Math.pow(r,6)),t=this,s="";;){var a=Ja(t,e).g,c=((0<(t=du(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(ks(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},ie.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},ie.X=function(r){return Zs(r=du(this,r))?-1:ks(r)?0:1},ie.abs=function(){return Zs(this)?Qn(this):this},ie.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new ri(t,-2147483648&t[t.length-1]?-1:0)},ie.R=function(r){if(ks(this)||ks(r))return oo;if(Zs(this))return Zs(r)?Qn(this).R(Qn(r)):Qn(Qn(this).R(r));if(Zs(r))return Qn(this.R(Qn(r)));if(0>this.X(ca)&&0>r.X(ca))return Cs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=f*L,Au(t,2*s+2*a),t[2*s+2*a+1]+=c*L,Au(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,Au(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,Au(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new ri(t,0)},ie.gb=function(r){return Ja(this,r).h},ie.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new ri(t,this.h&r.h)},ie.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new ri(t,this.h|r.h)},ie.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new ri(t,this.h^r.h)},oi.prototype.createWebChannel=oi.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,si.NO_ERROR=0,si.TIMEOUT=8,si.HTTP_ERROR=6,va.COMPLETE="complete",pi.EventType=gs,gs.OPEN="a",gs.CLOSE="b",gs.ERROR="c",gs.MESSAGE="d",sr.prototype.listen=sr.prototype.O,Ye.prototype.listenOnce=Ye.prototype.P,Ye.prototype.getLastError=Ye.prototype.Sa,Ye.prototype.getLastErrorCode=Ye.prototype.Ia,Ye.prototype.getStatus=Ye.prototype.da,Ye.prototype.getResponseJson=Ye.prototype.Wa,Ye.prototype.getResponseText=Ye.prototype.ja,Ye.prototype.send=Ye.prototype.ha,Ye.prototype.setWithCredentials=Ye.prototype.Oa,qs.prototype.digest=qs.prototype.l,qs.prototype.reset=qs.prototype.reset,qs.prototype.update=qs.prototype.j,ri.prototype.add=ri.prototype.add,ri.prototype.multiply=ri.prototype.R,ri.prototype.modulo=ri.prototype.gb,ri.prototype.compare=ri.prototype.X,ri.prototype.toNumber=ri.prototype.ea,ri.prototype.toString=ri.prototype.toString,ri.prototype.getBits=ri.prototype.D,ri.fromNumber=Cs,ri.fromString=function Ki(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Qn(Ki(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Cs(Math.pow(e,8)),s=oo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=Cs(Math.pow(e,c)),s=s.R(c).add(Cs(f))):s=(s=s.R(t)).add(Cs(f))}return s};var jc=st.createWebChannelTransport=function(){return new oi},Fa=st.getStatEventTarget=function(){return Vi()},Zu=st.ErrorCode=si,vl=st.EventType=va,qi=st.Event=Ws,pu=st.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Mu=st.FetchXmlHttpFactory=cr,Ko=st.WebChannel=pi,ao=st.XhrIo=Ye,qo=st.Md5=qs,da=st.Integer=ri;const La="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let ba="9.21.0";const Po=new Ne.Yd("@firebase/firestore");function Va(){return Po.logLevel}function Rt(r,...e){if(Po.logLevel<=Ne.in.DEBUG){const t=e.map(ha);Po.debug(`Firestore (${ba}): ${r}`,...t)}}function ii(r,...e){if(Po.logLevel<=Ne.in.ERROR){const t=e.map(ha);Po.error(`Firestore (${ba}): ${r}`,...t)}}function bs(r,...e){if(Po.logLevel<=Ne.in.WARN){const t=e.map(ha);Po.warn(`Firestore (${ba}): ${r}`,...t)}}function ha(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function y(r="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+r;throw ii(e),new Error(e)}function E(r,e){r||y()}function T(r,e){return r}const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends we.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Me{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _t{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class Jt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Zt{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=z=>this.i!==a?(a=this.i,t(z)):Promise.resolve();let f=new Y;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Y,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const z=f;e.enqueueRetryable((0,Dt.Z)(function*(){yield z.promise,yield c(s.currentUser)}))},L=z=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>L(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?L(z):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Y)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(E("string"==typeof s.accessToken),new Me(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return E(null===e||"string"==typeof e),new wi(e)}}class gr{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Si{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new gr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class No{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Rt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(E("string"==typeof t.token),this.T=t.token,new No(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uo(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class sc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=uo(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Ln(r,e){return r<e?-1:r>e?1:0}function Ua(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Ii(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ln(this.nanoseconds,e.nanoseconds):Ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new Ii(0,0))}static max(){return new Cn(new Ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Yu{constructor(e,t,s){void 0===t?t=0:t>e.length&&y(),void 0===s?s=e.length-t:s>e.length-t&&y(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Yu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vr extends Yu{construct(e,t,s){return new Vr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new V(M.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Vr(t)}static emptyPath(){return new Vr([])}}const Hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends Yu{construct(e,t,s){return new Zi(e,t,s)}static isValidIdentifier(e){return Hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new V(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new V(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new V(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new V(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zi(t)}static emptyPath(){return new Zi([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Vr.fromString(e))}static fromName(e){return new Xt(Vr.fromString(e).popFirst(5))}static empty(){return new Xt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Vr(e.slice()))}}function Dl(r){return new co(r.readTime,r.key,-1)}class co{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new co(Cn.min(),Xt.empty(),-1)}static max(){return new co(Cn.max(),Xt.empty(),-1)}}function Tl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(r.documentKey,e.documentKey),0!==t?t:Ln(r.largestBatchId,e.largestBatchId))}const Ju="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function gu(r){return mu.apply(this,arguments)}function mu(){return mu=(0,Dt.Z)(function*(r){if(r.code!==M.FAILED_PRECONDITION||r.message!==Ju)throw r;Rt("LocalStore","Unexpectedly lost primary lease")}),mu.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,s)=>{t(e)})}static reject(e){return new et((t,s)=>{s(e)})}static waitFor(e){return new et((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},L=>s(L))}),f=!0,c===a&&t()})}static or(e){let t=et.resolve(!1);for(const s of e)t=t.next(a=>a?et.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new et((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let L=0;L<c;L++){const z=L;t(e[z]).next(Q=>{f[z]=Q,++b,b===c&&s(f)},Q=>a(Q))}})}static doWhile(e,t){return new et((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function Sa(r){return"IndexedDbTransactionError"===r.name}let ho=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Sl(r){return null==r}function tl(r){return 0===r&&1/r==-1/0}function fa(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Qi(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function pa(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Gr{constructor(e,t){this.comparator=e,this.root=t||Ys.EMPTY}insert(e,t){return new Gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ys{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Ys.RED,this.left=a??Ys.EMPTY,this.right=c??Ys.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Ys(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ys.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Ys.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ys.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ys.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1,Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Ys(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ki{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zc(this.data.getIterator())}getIteratorFrom(e){return new Zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ki(this.comparator);return t.data=e,t}}class Zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qo{constructor(e){this.fields=e,e.sort(Zi.comparator)}static empty(){return new Qo([])}unionWith(e){let t=new ki(Zi.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Qo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Wf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wf("Invalid base64 string: "+a):a}}(e);return new d(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}d.EMPTY_BYTE_STRING=new d("");const g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(r){if(E(!!r),"string"==typeof r){let e=0;const t=g.exec(r);if(E(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:H(r.seconds),nanos:H(r.nanos)}}function H(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ee(r){return"string"==typeof r?d.fromBase64String(r):d.fromUint8Array(r)}function Pe(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ut(r){const e=r.mapValue.fields.__previous_value__;return Pe(e)?ut(e):e}function Bt(r){const e=C(r.mapValue.fields.__local_write_time__.timestampValue);return new Ii(e.seconds,e.nanos)}class dn{constructor(e,t,s,a,c,f,b,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class En{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new En("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof En&&e.projectId===this.projectId&&e.database===this.database}}const Wn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Eo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pe(r)?4:Rh(r)?9007199254740991:10:y()}function ga(r,e){if(r===e)return!0;const t=Eo(r);if(t!==Eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bt(r).isEqual(Bt(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=C(s.timestampValue),f=C(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ee(r.bytesValue).isEqual(ee(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return H(s.geoPointValue.latitude)===H(a.geoPointValue.latitude)&&H(s.geoPointValue.longitude)===H(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return H(s.integerValue)===H(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=H(s.doubleValue),f=H(a.doubleValue);return c===f?tl(c)===tl(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Ua(r.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(fa(c)!==fa(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!ga(c[b],f[b])))return!1;return!0}(r,e);default:return y()}var a}function cc(r,e){return void 0!==(r.values||[]).find(t=>ga(t,e))}function ma(r,e){if(r===e)return 0;const t=Eo(r),s=Eo(e);if(t!==s)return Ln(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ln(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=H(a.integerValue||a.doubleValue),b=H(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Rd(r.timestampValue,e.timestampValue);case 4:return Rd(Bt(r),Bt(e));case 5:return Ln(r.stringValue,e.stringValue);case 6:return function(a,c){const f=ee(a),b=ee(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let L=0;L<f.length&&L<b.length;L++){const z=Ln(f[L],b[L]);if(0!==z)return z}return Ln(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Ln(H(a.latitude),H(c.latitude));return 0!==f?f:Ln(H(a.longitude),H(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let L=0;L<f.length&&L<b.length;++L){const z=ma(f[L],b[L]);if(z)return z}return Ln(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===Wn.mapValue&&c===Wn.mapValue)return 0;if(a===Wn.mapValue)return 1;if(c===Wn.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),L=c.fields||{},z=Object.keys(L);b.sort(),z.sort();for(let Q=0;Q<b.length&&Q<z.length;++Q){const me=Ln(b[Q],z[Q]);if(0!==me)return me;const ze=ma(f[b[Q]],L[z[Q]]);if(0!==ze)return ze}return Ln(b.length,z.length)}(r.mapValue,e.mapValue);default:throw y()}}function Rd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Ln(r,e);const t=C(r),s=C(e),a=Ln(t.seconds,s.seconds);return 0!==a?a:Ln(t.nanos,s.nanos)}function Nu(r){return Ml(r)}function Ml(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=C(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ee(r.bytesValue).toBase64():"referenceValue"in r?Xt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Ml(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Ml(s.fields[b])}`;return c+"}"}(r.mapValue):y();var e}function nu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rl(r){return!!r&&"integerValue"in r}function yu(r){return!!r&&"arrayValue"in r}function dc(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Pl(r){return!!r&&"mapValue"in r}function fc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Qi(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Rh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Lo{constructor(e){this.value=e}static empty(){return new Lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=Zi.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=fc(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Pl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Pl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Qi(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Lo(fc(this.value))}}function hm(r){const e=[];return Qi(r.fields,(t,s)=>{const a=new Zi([t]);if(Pl(s)){const c=hm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Qo(e)}class $i{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new $i(e,0,Cn.min(),Cn.min(),Cn.min(),Lo.empty(),0)}static newFoundDocument(e,t,s,a){return new $i(e,1,t,Cn.min(),s,a,0)}static newNoDocument(e,t){return new $i(e,2,t,Cn.min(),Cn.min(),Lo.empty(),0)}static newUnknownDocument(e,t){return new $i(e,3,t,Cn.min(),Cn.min(),Lo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Cn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class il{constructor(e,t){this.position=e,this.inclusive=t}}function Nd(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?Xt.comparator(Xt.fromName(f.referenceValue),t.key):ma(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Ph(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ga(r.position[t],e.position[t]))return!1;return!0}class vu{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gv(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class fm{}class Yr extends fm{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new pc(e,t,s):"array-contains"===t?new qv(e,s):"in"===t?new gm(e,s):"not-in"===t?new sl(e,s):"array-contains-any"===t?new Yc(e,s):new Yr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Wv(e,s):new Kv(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ma(t,this.value)):null!==t&&Eo(this.value)===Eo(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ai extends fm{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ai(e,t)}matches(e){return Nl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Nl(r){return"and"===r.op}function Nh(r){return function Od(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}(r)&&Nl(r)}function kd(r){if(r instanceof Yr)return r.field.canonicalString()+r.op.toString()+Nu(r.value);if(Nh(r))return r.filters.map(e=>kd(e)).join(",");{const e=r.filters.map(t=>kd(t)).join(",");return`${r.op}(${e})`}}function Zf(r,e){return r instanceof Yr?(t=r,(s=e)instanceof Yr&&t.op===s.op&&t.field.isEqual(s.field)&&ga(t.value,s.value)):r instanceof Ai?function(t,s){return s instanceof Ai&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Zf(c,s.filters[f]),!0)}(r,e):void y();var t,s}function Qf(r){return r instanceof Yr?`${(e=r).field.canonicalString()} ${e.op} ${Nu(e.value)}`:r instanceof Ai?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class pc extends Yr{constructor(e,t,s){super(e,t,s),this.key=Xt.fromName(s.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Wv extends Yr{constructor(e,t){super(e,"in",t),this.keys=pm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Kv extends Yr{constructor(e,t){super(e,"not-in",t),this.keys=pm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Xt.fromName(s.referenceValue))}class qv extends Yr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yu(t)&&cc(t.arrayValue,this.value)}}class gm extends Yr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cc(this.value.arrayValue,t)}}class sl extends Yr{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cc(this.value.arrayValue,t)}}class Yc extends Yr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cc(this.value.arrayValue,s))}}class Zv{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.ft=null}}function Jf(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Zv(r,e,t,s,a,c,f)}function gc(r){const e=T(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),e.ft=t}return e.ft}function Fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Gv(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zf(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ph(r.startAt,e.startAt)&&Ph(r.endAt,e.endAt)}function Oh(r){return Xt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class ol{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=L,this.dt=null,this._t=null}}function Qc(r){return new ol(r)}function Ld(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function _u(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Ol(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fh(r){return null!==r.collectionGroup}function kl(r){const e=T(r);if(null===e.dt){e.dt=[];const t=Ol(e),s=_u(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new vu(t)),e.dt.push(new vu(Zi.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new vu(Zi.keyField(),c))}}}return e.dt}function Jo(r){const e=T(r);if(!e._t)if("F"===e.limitType)e._t=Jf(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of kl(e))t.push(new vu(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new il(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new il(e.startAt.position,e.startAt.inclusive):null;e._t=Jf(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function vm(r,e){e.getFirstInequalityField(),Ol(r);const t=r.filters.concat([e]);return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,t){return new ol(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lh(r,e){return Fd(Jo(r),Jo(e))&&r.limitType===e.limitType}function Vh(r){return`${gc(Jo(r))}|lt:${r.limitType}`}function Vd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),Sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),`Target(${t})`}(Jo(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Xt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of kl(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,kl(t),s)||t.endAt&&!function(a,c,f){const b=Nd(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,kl(t),s)));var t,s}function tp(r){return(e,t)=>{let s=!1;for(const a of kl(r)){const c=Qv(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function Qv(r,e,t){const s=r.field.isKeyField()?Xt.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),L=f.data.field(a);return null!==b&&null!==L?ma(b,L):y()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return y()}}class al{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return pa(this.inner)}size(){return this.innerSize}}const Jv=new Gr(Xt.comparator);function Ma(){return Jv}const np=new Gr(Xt.comparator);function Fl(...r){let e=np;for(const t of r)e=e.insert(t.key,t);return e}function rp(r){let e=np;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ru(){return Ji()}function _m(){return Ji()}function Ji(){return new al(r=>r.toString(),(r,e)=>r.isEqual(e))}const Em=new Gr(Xt.comparator),Xv=new ki(Xt.comparator);function dr(...r){let e=Xv;for(const t of r)e=e.add(t);return e}const wm=new ki(Ln);function Im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tl(e)?"-0":e}}function Dm(r){return{integerValue:""+r}}function Tm(r,e){return function ac(r){return"number"==typeof r&&Number.isInteger(r)&&!tl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Dm(e):Im(r,e)}class Ud{constructor(){this._=void 0}}function gE(r,e,t){return r instanceof Ll?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Pe(a)&&(a=ut(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Vl?sp(r,e):r instanceof Ul?Cm(r,e):function(s,a){const c=Jc(s,a),f=op(c)+op(s.wt);return Rl(c)&&Rl(s.wt)?Dm(f):Im(s.serializer,f)}(r,e)}function mE(r,e,t){return r instanceof Vl?sp(r,e):r instanceof Ul?Cm(r,e):t}function Jc(r,e){return r instanceof Xc?Rl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ll extends Ud{}class Vl extends Ud{constructor(e){super(),this.elements=e}}function sp(r,e){const t=ap(e);for(const s of r.elements)t.some(a=>ga(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ul extends Ud{constructor(e){super(),this.elements=e}}function Cm(r,e){let t=ap(e);for(const s of r.elements)t=t.filter(a=>!ga(a,s));return{arrayValue:{values:t}}}class Xc extends Ud{constructor(e,t){super(),this.serializer=e,this.wt=t}}function op(r){return H(r.integerValue||r.doubleValue)}function ap(r){return yu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class up{constructor(e,t){this.version=e,this.transformResults=t}}class us{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new us}static exists(e){return new us(void 0,e)}static updateTime(e){return new us(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Bd{}function lp(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new $l(r.key,us.none()):new td(r.key,r.data,us.none());{const t=r.data,s=Lo.empty();let a=new ki(Zi.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new Eu(r.key,s,new Qo(a.toArray()),us.none())}}function yc(r,e,t){r instanceof td?function(s,a,c){const f=s.value.clone(),b=Bl(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Eu?function(s,a,c){if(!ed(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Bl(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Hd(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $d(r,e,t,s){return r instanceof td?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=a.value.clone(),z=dp(a.fieldTransforms,b,c);return L.setAll(z),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof Eu?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=dp(a.fieldTransforms,b,c),z=c.data;return z.setAll(Hd(a)),z.setAll(L),c.convertToFoundDocument(c.version,z).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(r,e,t,s):(f=t,ed(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function cp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Jc(s.transform,a||null);null!=c&&(null===t&&(t=Lo.empty()),t.set(s.field,c))}return t||null}function jd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Ua(t,s,(a,c)=>function yE(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Vl&&s instanceof Vl||t instanceof Ul&&s instanceof Ul?Ua(t.elements,s.elements,ga):t instanceof Xc&&s instanceof Xc?ga(t.wt,s.wt):t instanceof Ll&&s instanceof Ll);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class td extends Bd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Eu extends Bd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Hd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Bl(r,e,t){const s=new Map;E(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,mE(f,b,t[a]))}return s}function dp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,gE(c,f,e))}return s}class $l extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hp extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fp{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&yc(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=_m();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const L=lp(f,b);null!==L&&s.set(a.key,L),f.isValidDocument()||f.convertToNoDocument(Cn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dr())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(t,s)=>jd(t,s))&&Ua(this.baseMutations,e.baseMutations,(t,s)=>jd(t,s))}}class Bh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){E(e.mutations.length===s.length);let a=Em;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Bh(e,t,s,a)}}class jl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class t_{constructor(e,t){this.count=e,this.unchangedNames=t}}var Js,Wr;function pp(r){if(void 0===r)return ii("GRPC error has no .code"),M.UNKNOWN;switch(r){case Js.OK:return M.OK;case Js.CANCELLED:return M.CANCELLED;case Js.UNKNOWN:return M.UNKNOWN;case Js.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Js.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Js.INTERNAL:return M.INTERNAL;case Js.UNAVAILABLE:return M.UNAVAILABLE;case Js.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Js.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Js.NOT_FOUND:return M.NOT_FOUND;case Js.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Js.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Js.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Js.ABORTED:return M.ABORTED;case Js.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Js.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Js.DATA_LOSS:return M.DATA_LOSS;default:return y()}}(Wr=Js||(Js={}))[Wr.OK=0]="OK",Wr[Wr.CANCELLED=1]="CANCELLED",Wr[Wr.UNKNOWN=2]="UNKNOWN",Wr[Wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wr[Wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wr[Wr.NOT_FOUND=5]="NOT_FOUND",Wr[Wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wr[Wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wr[Wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wr[Wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wr[Wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wr[Wr.ABORTED=10]="ABORTED",Wr[Wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wr[Wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wr[Wr.INTERNAL=13]="INTERNAL",Wr[Wr.UNAVAILABLE=14]="UNAVAILABLE",Wr[Wr.DATA_LOSS=15]="DATA_LOSS";class gp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zd}static getOrCreateInstance(){return null===zd&&(zd=new gp),zd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zd=null;const r_=new da([4294967295,4294967295],0);function nd(r){const e=function n_(){return new TextEncoder}().encode(r),t=new qo;return t.update(e),new Uint8Array(t.digest())}function Sm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new da([t,s],0),new da([a,c],0)]}class Hl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ul(`Invalid padding: ${t}`);if(s<0)throw new ul(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new ul(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new ul(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=da.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(da.fromNumber(s)));return 1===a.compare(r_)&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=nd(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Hl(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.yt)return;const t=nd(e),[s,a]=Sm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gd(Cn.min(),a,new Gr(Ln),Ma(),dr())}}class rd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rd(s,t,dr(),dr(),dr())}}class $h{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Am{constructor(e,t){this.targetId=e,this.bt=t}}class Mm{constructor(e,t,s=d.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class mp{constructor(){this.Vt=0,this.St=Hh(),this.Dt=d.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=dr(),t=dr(),s=dr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:y()}}),new rd(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Hh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class xm{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Ma(),this.jt=jh(),this.zt=new Gr(Ln)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(Oh(f))if(0===a){const b=new Xt(f.path);this.Jt(s,b,$i.newNoDocument(b,Cn.min()))}else E(1===a);else{const b=this.se(s);if(b!==a){const L=this.ie(e,b);0!==L&&(this.te(s),this.zt=this.zt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(z,Q,me){var ze,Et,zt,en,In,Dr;const gi={localCacheCount:Q,existenceFilterCount:me.count},xr=me.unchangedNames;return xr&&(gi.bloomFilter={applied:0===z,hashCount:null!==(ze=xr?.hashCount)&&void 0!==ze?ze:0,bitmapLength:null!==(en=null===(zt=null===(Et=xr?.bits)||void 0===Et?void 0:Et.bitmap)||void 0===zt?void 0:zt.length)&&void 0!==en?en:0,padding:null!==(Dr=null===(In=xr?.bits)||void 0===In?void 0:In.padding)&&void 0!==Dr?Dr:0}),gi}(L,b,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let L,z;try{L=ee(c).toUint8Array()}catch(Q){if(Q instanceof Wf)return bs("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{z=new Hl(L,f,b)}catch(Q){return bs(Q instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===z.yt?1:a!==t-this.re(e.targetId,z)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(b)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const b=this.ne(f);if(b){if(c.current&&Oh(b.target)){const L=new Xt(b.target.path);null!==this.Qt.get(L)||this.ce(f,L)||this.Jt(f,L,$i.newNoDocument(L,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=dr();this.jt.forEach((c,f)=>{let b=!0;f.forEachWhile(L=>{const z=this.ne(L);return!z||"TargetPurposeLimboResolution"===z.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new Gd(e,t,this.zt,this.Qt,s);return this.Qt=Ma(),this.jt=jh(),this.zt=new Gr(Ln),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new mp,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new ki(Ln),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Rt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new mp),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function jh(){return new Gr(Xt.comparator)}function Hh(){return new Gr(Xt.comparator)}const i_={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wd={and:"AND",or:"OR"};class s_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||Sl(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function o_(r,e){return id(r,e.toTimestamp())}function Ls(r){return E(!!r),Cn.fromTimestamp(function(e){const t=C(e);return new Ii(t.seconds,t.nanos)}(r))}function _p(r,e){return(t=r,new Vr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vc(r){const e=Vr.fromString(r);return E(bp(e)),e}function Ha(r,e){return _p(r.databaseId,e.path)}function Ou(r,e){const t=vc(e);if(t.get(1)!==r.databaseId.projectId)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new V(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Xt(wp(t))}function Ep(r,e){return _p(r.databaseId,e)}function zh(r){return new Vr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wp(r){return E(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function u_(r,e,t){return{name:Ha(r,e),fields:t.value.mapValue.fields}}function iu(r,e){return{documents:[Ep(r,e.path)]}}function Tp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ep(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ep(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return km(Ai.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(L){if(0!==L.length)return L.map(z=>{return{field:zl((Q=z).field),direction:h_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=vp(r,e.limit);var b,L;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Cp(r){let e=function a_(r){const e=vc(r);return 4===e.length?Vr.emptyPath():wp(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){E(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const me=Nm(Q);return me instanceof Ai&&Nh(me)?me.getFilters():[me]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new vu(od((me=Q).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let b=null;t.limit&&(b=function(Q){let me;return me="object"==typeof Q?Q.value:Q,Sl(me)?null:me}(t.limit));let L=null;var Q;t.startAt&&(L=new il((Q=t.startAt).values||[],!!Q.before));let z=null;return t.endAt&&(z=function(Q){return new il(Q.values||[],!Q.before)}(t.endAt)),function ym(r,e,t,s,a,c,f,b){return new ol(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",L,z)}function Nm(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=od(e.unaryFilter.field);return Yr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=od(e.unaryFilter.field);return Yr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=od(e.unaryFilter.field);return Yr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=od(e.unaryFilter.field);return Yr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(r):void 0!==r.fieldFilter?Yr.create(od((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ai.create(e.compositeFilter.filters.map(t=>Nm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(r):y();var e}function h_(r){return i_[r]}function f_(r){return yp[r]}function Om(r){return Wd[r]}function zl(r){return{fieldPath:r.canonicalString()}}function od(r){return Zi.fromServerFormat(r.fieldPath)}function km(r){return r instanceof Yr?function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:f_(e.op),value:e.value}}}(r):r instanceof Ai?function(e){const t=e.getFilters().map(s=>km(s));return 1===t.length?t[0]:{compositeFilter:{op:Om(e.op),filters:t}}}(r):y()}function hr(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class ku{constructor(e,t,s,a,c=Cn.min(),f=Cn.min(),b=d.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=L}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.le=e}}function Gh(r){const e=Cp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ep(e,e.limit,"L"):e}class ad{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(H(e.integerValue));else if("doubleValue"in e){const s=H(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),tl(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ee(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Rh(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):y()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),Xt.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}ad.be=new ad;class kp{constructor(){this.sn=new Hm}addToCollectionParentIndex(e,t){return this.sn.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(co.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(co.min())}updateCollectionGroup(e,t,s){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class Hm{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new ki(Vr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ki(Vr.comparator)).toArray()}}new Uint8Array(0);class Xo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class dl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new dl(0)}static kn(){return new dl(-1)}}class D_{constructor(){this.changes=new al(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?et.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&$d(s.mutation,a,Qo.empty(),Ii.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,dr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=dr()){const a=ru();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Fl();return c.forEach((b,L)=>{f=f.insert(b,L.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ru();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,dr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Ma();const f=Ji(),b=Ji();return t.forEach((L,z)=>{const Q=s.get(z.key);a.has(z.key)&&(void 0===Q||Q.mutation instanceof Eu)?c=c.insert(z.key,z):void 0!==Q?(f.set(z.key,Q.mutation.getFieldMask()),$d(Q.mutation,z,Q.mutation.getFieldMask(),Ii.now())):f.set(z.key,Qo.empty())}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((z,Q)=>f.set(z,Q)),t.forEach((z,Q)=>{var me;return b.set(z,new b_(Q,null!==(me=f.get(z))&&void 0!==me?me:null))}),b))}recalculateAndSaveOverlays(e,t){const s=Ji();let a=new Gr((f,b)=>f-b),c=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(L=>{const z=t.get(L);if(null===z)return;let Q=s.get(L)||Qo.empty();Q=b.applyToLocalView(z,Q),s.set(L,Q);const me=(a.get(b.batchId)||dr()).add(L);a=a.insert(b.batchId,me)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const L=b.getNext(),z=L.key,Q=L.value,me=_m();Q.forEach(ze=>{if(!c.has(ze)){const Et=lp(t.get(ze),s.get(ze));null!==Et&&me.set(ze,Et),c=c.add(ze)}}),f.push(this.documentOverlayCache.saveOverlays(e,z,me))}return et.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Xt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):et.resolve(ru());let b=-1,L=c;return f.next(z=>et.forEach(z,(Q,me)=>(b<me.largestBatchId&&(b=me.largestBatchId),c.get(Q)?et.resolve():this.remoteDocumentCache.getEntry(e,Q).next(ze=>{L=L.insert(Q,ze)}))).next(()=>this.populateOverlays(e,z,c)).next(()=>this.computeViews(e,L,z,dr())).next(Q=>({batchId:b,changes:rp(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(s=>{let a=Fl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Fl();return this.indexManager.getCollectionParents(e,a).next(f=>et.forEach(f,b=>{const L=(z=t,Q=b.child(a),new ol(Q,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,Q;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(z=>{z.forEach((Q,me)=>{c=c.insert(Q,me)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,L)=>{const z=L.getKey();null===c.get(z)&&(c=c.insert(z,$i.newInvalidDocument(z)))});let f=Fl();return c.forEach((b,L)=>{const z=a.get(b);void 0!==z&&$d(z.mutation,L,Qo.empty(),Ii.now()),Uh(t,L)&&(f=f.insert(b,L))}),f})}}class S_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return et.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Ls(s.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Gh(s.bundledQuery),readTime:Ls(s.readTime)}),et.resolve();var s}}class A_{constructor(){this.overlays=new Gr(Xt.comparator),this.hs=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ru();return et.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),et.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),et.resolve()}getOverlaysForCollection(e,t,s){const a=ru(),c=t.length+1,f=new Xt(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const L=b.getNext().value,z=L.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===c&&L.largestBatchId>s&&a.set(L.getKey(),L)}return et.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Gr((z,Q)=>z-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const z=f.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>s){let Q=c.get(z.largestBatchId);null===Q&&(Q=ru(),c=c.insert(z.largestBatchId,Q)),Q.set(z.getKey(),z)}}const b=ru(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((z,Q)=>b.set(z,Q)),!(b.size()>=a)););return et.resolve(b)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new jl(t,s));let c=this.hs.get(t);void 0===c&&(c=dr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class eh{constructor(){this.ls=new ki(wo.fs),this.ds=new ki(wo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new wo(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new wo(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new Xt(new Vr([])),s=new wo(t,e),a=new wo(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new Xt(new Vr([])),s=new wo(t,e),a=new wo(t,e+1);let c=dr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new wo(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class wo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return Xt.comparator(e.key,t.key)||Ln(e.Es,t.Es)}static _s(e,t){return Ln(e.Es,t.Es)||Xt.comparator(e.key,t.key)}}class M_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new ki(wo.fs)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new fp(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new wo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return et.resolve(f)}lookupMutationBatch(e,t){return et.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new wo(t,0),a=new wo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.vs(f.Es);c.push(b)}),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new ki(Ln);return t.forEach(a=>{const c=new wo(a,0),f=new wo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.Es)})}),et.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;Xt.isDocumentKey(c)||(c=c.child(""));const f=new wo(new Xt(c),0);let b=new ki(Ln);return this.Rs.forEachWhile(L=>{const z=L.key.path;return!!s.isPrefixOf(z)&&(z.length===a&&(b=b.add(L.Es)),!0)},f),et.resolve(this.bs(b))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){E(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return et.forEach(t.mutations,a=>{const c=new wo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new wo(t,0),a=this.Rs.firstAfterOrEqual(s);return et.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return et.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x_{constructor(e){this.Ss=e,this.docs=new Gr(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return et.resolve(s?s.document.mutableCopy():$i.newInvalidDocument(t))}getEntries(e,t){let s=Ma();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():$i.newInvalidDocument(a))}),et.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Ma();const f=t.path,b=new Xt(f.child("")),L=this.docs.getIteratorFrom(b);for(;L.hasNext();){const{key:z,value:{document:Q}}=L.getNext();if(!f.isPrefixOf(z.path))break;z.path.length>f.length+1||Tl(Dl(Q),s)<=0||(a.has(Q.key)||Uh(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,t,s,a){y()}Ds(e,t){return et.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new R_(this)}getSize(e){return et.resolve(this.size)}}class R_ extends D_{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),et.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class P_{constructor(e){this.persistence=e,this.Cs=new al(t=>gc(t),Fd),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.xs=0,this.Ns=new eh,this.targetCount=0,this.ks=dl.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),et.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.$n(t),et.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),et.waitFor(c).next(()=>a)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return et.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),et.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),et.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),et.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return et.resolve(s)}containsKey(e,t){return et.resolve(this.Ns.containsKey(t))}}class su{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ho(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new P_(this),this.indexManager=new kp,this.remoteDocumentCache=new x_(s=>this.referenceDelegate.Bs(s)),this.serializer=new Sp(t),this.Ls=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new A_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new M_(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Rt("MemoryPersistence","Starting transaction:",e);const a=new Hp(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return et.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class Hp extends xh{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Gs=new eh,this.Qs=null}static js(e){return new Qh(e)}get zs(){if(this.Qs)return this.Qs;throw y()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),et.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),et.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.zs,s=>{const a=Xt.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,Cn.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return et.or([()=>et.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class fd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=dr(),a=dr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new fd(e,t.fromCache,s,a)}}class th{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(Ld(t))return et.resolve(null);let s=Jo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ep(t,null,"F"),s=Jo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=dr(...c);return this.qi.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(L=>{const z=this.Qi(t,b);return this.ji(t,z,f,L.readTime)?this.Ui(e,ep(t,null,"F")):this.zi(e,z,t,L)}))})))}Ki(e,t,s,a){return Ld(t)||a.isEqual(Cn.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):(Va()<=Ne.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vd(t)),this.zi(e,f,t,function Ba(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Cn.fromTimestamp(1e9===s?new Ii(t+1,0):new Ii(t,s));return new co(a,Xt.empty(),e)}(a,-1)))})}Qi(e,t){let s=new ki(tp(e));return t.forEach((a,c)=>{Uh(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return Va()<=Ne.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Vd(t)),this.qi.getDocumentsMatchingQuery(e,t,co.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class ef{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new Gr(Ln),this.Ji=new al(c=>gc(c),Fd),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function tf(r,e){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,Dt.Z)(function*(r,e){const t=T(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let L=dr();for(const z of a){f.push(z.batchId);for(const Q of z.mutations)L=L.add(Q.key)}for(const z of c){b.push(z.batchId);for(const Q of z.mutations)L=L.add(Q.key)}return t.localDocuments.getDocuments(s,L).next(z=>({tr:z,removedBatchIds:f,addedBatchIds:b}))})})}),Jm.apply(this,arguments)}function Kp(r){const e=T(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Zp(r,e){const t=T(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fl(r,e,t){return pd.apply(this,arguments)}function pd(){return pd=(0,Dt.Z)(function*(r,e,t){const s=T(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Sa(f))throw f;Rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),pd.apply(this,arguments)}function Zl(r,e,t){const s=T(r);let a=Cn.min(),c=dr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,L,z){const Q=T(b),me=Q.Ji.get(z);return void 0!==me?et.resolve(Q.Hi.get(me)):Q.Fs.getTargetData(L,z)}(s,f,Jo(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,b.targetId).next(L=>{c=L})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:Cn.min(),t?c:dr())).next(b=>(function Qp(r,e,t){let s=r.Yi.get(e)||Cn.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function Yv(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,sr:c})))}class ng{constructor(){this.activeTargetIds=function ip(){return wm}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(){this.Wr=new ng,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new ng,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class F_{Jr(e){}shutdown(){}}class uf{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function rg(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const L_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const ea="WebChannelConnection";class U_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=rg(),b=this.Io(e,t);Rt("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const L={};return this.To(L,a,c),this.Eo(e,b,L,s).then(z=>(Rt("RestConnection",`Received RPC '${e}' ${f}: `,z),z),z=>{throw bs("RestConnection",`RPC '${e}' ${f} failed with error: `,z,"url: ",b,"request:",s),z})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${L_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=rg();return new Promise((f,b)=>{const L=new ao;L.setWithCredentials(!0),L.listenOnce(vl.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Zu.NO_ERROR:const Q=L.getResponseJson();Rt(ea,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case Zu.TIMEOUT:Rt(ea,`RPC '${e}' ${c} timed out`),b(new V(M.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const me=L.getStatus();if(Rt(ea,`RPC '${e}' ${c} failed with status:`,me,"response text:",L.getResponseText()),me>0){let ze=L.getResponseJson();Array.isArray(ze)&&(ze=ze[0]);const Et=ze?.error;if(Et&&Et.status&&Et.message){const zt=function(en){const In=en.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(In)>=0?In:M.UNKNOWN}(Et.status);b(new V(zt,Et.message))}else b(new V(M.UNKNOWN,"Server responded with status "+L.getStatus()))}else b(new V(M.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{Rt(ea,`RPC '${e}' ${c} completed.`)}});const z=JSON.stringify(a);Rt(ea,`RPC '${e}' ${c} sending request:`,a),L.send(t,"POST",z,s,15)})}Ro(e,t,s){const a=rg(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jc(),b=Fa(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Mu({})),this.To(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const z=c.join("");Rt(ea,`Creating RPC '${e}' stream ${a}: ${z}`,L);const Q=f.createWebChannel(z,L);let me=!1,ze=!1;const Et=new V_({io:en=>{ze?Rt(ea,`Not sending because RPC '${e}' stream ${a} is closed:`,en):(me||(Rt(ea,`Opening RPC '${e}' stream ${a} transport.`),Q.open(),me=!0),Rt(ea,`RPC '${e}' stream ${a} sending:`,en),Q.send(en))},ro:()=>Q.close()}),zt=(en,In,Dr)=>{en.listen(In,gi=>{try{Dr(gi)}catch(xr){setTimeout(()=>{throw xr},0)}})};return zt(Q,Ko.EventType.OPEN,()=>{ze||Rt(ea,`RPC '${e}' stream ${a} transport opened.`)}),zt(Q,Ko.EventType.CLOSE,()=>{ze||(ze=!0,Rt(ea,`RPC '${e}' stream ${a} transport closed`),Et.fo())}),zt(Q,Ko.EventType.ERROR,en=>{ze||(ze=!0,bs(ea,`RPC '${e}' stream ${a} transport errored:`,en),Et.fo(new V(M.UNAVAILABLE,"The operation could not be completed")))}),zt(Q,Ko.EventType.MESSAGE,en=>{var In;if(!ze){const Dr=en.data[0];E(!!Dr);const xr=Dr.error||(null===(In=Dr[0])||void 0===In?void 0:In.error);if(xr){Rt(ea,`RPC '${e}' stream ${a} received error:`,xr);const Ka=xr.status;let Xs=function(ou){const Cu=Js[ou];if(void 0!==Cu)return pp(Cu)}(Ka),vs=xr.message;void 0===Xs&&(Xs=M.INTERNAL,vs="Unknown error status: "+Ka+" with message "+xr.message),ze=!0,Et.fo(new V(Xs,vs)),Q.close()}else Rt(ea,`RPC '${e}' stream ${a} received:`,Dr),Et._o(Dr)}}),zt(b,qi.STAT_EVENT,en=>{en.stat===pu.PROXY?Rt(ea,`RPC '${e}' stream ${a} detected buffering proxy`):en.stat===pu.NOPROXY&&Rt(ea,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Et.lo()},0),Et}}function ih(){return typeof document<"u"?document:null}function gd(r){return new s_(r,!0)}class ig{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Rt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class B_{constructor(e,t,s,a,c,f,b,L){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ig(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,Dt.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,Dt.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,Dt.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===M.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new V(M.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,Dt.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iy extends B_{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function l_(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:y(),a=e.targetChange.targetIds||[],c=function(L,z){return L.useProto3Json?(E(void 0===z||"string"==typeof z),d.fromBase64String(z||"")):(E(void 0===z||z instanceof Uint8Array),d.fromUint8Array(z||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(L){const z=void 0===L.code?M.UNKNOWN:pp(L.code);return new V(z,L.message||"")}(f);t=new Mm(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Ou(r,s.document.name),c=Ls(s.document.updateTime),f=s.document.createTime?Ls(s.document.createTime):Cn.min(),b=new Lo({mapValue:{fields:s.document.fields}}),L=$i.newFoundDocument(a,c,f,b);t=new $h(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=Ou(r,s.document),c=s.readTime?Ls(s.readTime):Cn.min(),f=$i.newNoDocument(a,c);t=new $h([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Ou(r,s.document);t=new $h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return y();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new t_(a,c);t=new Am(s.targetId,f)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Cn.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Cn.min():c.readTime?Ls(c.readTime):Cn.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=zh(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=Oh(b)?{documents:iu(a,b)}:{query:Tp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Rm(a,c.resumeToken);const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}else if(c.snapshotVersion.compareTo(Cn.min())>0){f.readTime=id(a,c.snapshotVersion.toTimestamp());const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}return f}(this.serializer,e);const s=function d_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=zh(this.serializer),t.removeTarget=e,this.zo(t)}}class _E extends B_{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(E(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function c_(r,e){return r&&r.length>0?(E(void 0!==e),r.map(t=>function(s,a){let c=Ls(s.updateTime?s.updateTime:a);return c.isEqual(Cn.min())&&(c=Ls(a)),new up(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Ls(e.commitTime);return this.listener.uu(s,t)}return E(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=zh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function sd(r,e){let t;if(e instanceof td)t={update:u_(r,e.key,e.value)};else if(e instanceof $l)t={delete:Ha(r,e.key)};else if(e instanceof Eu)t={update:u_(r,e.key,e.data),updateMask:hr(e.fieldMask)};else{if(!(e instanceof hp))return y();t={verify:Ha(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Ll)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ul)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw y()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:o_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:y()),t;var a}(this.serializer,s))};this.zo(t)}}class cf extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(M.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new V(M.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class og{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ii(t),this.wu=!1):Rt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class j_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(b=>{s.enqueueAndForget((0,Dt.Z)(function*(){var L;Ga(f)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,Dt.Z)(function*(z){const Q=T(z);Q.Au.add(4),yield Vs(Q),Q.Pu.set("Unknown"),Q.Au.delete(4),yield Ra(Q)}),function(z){return L.apply(this,arguments)})(f))}))}),this.Pu=new og(s,a)}}function Ra(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,Dt.Z)(function*(r){if(Ga(r))for(const e of r.Ru)yield e(!0)}),Ic.apply(this,arguments)}function Vs(r){return pl.apply(this,arguments)}function pl(){return pl=(0,Dt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),pl.apply(this,arguments)}function Dc(r,e){const t=T(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Ql(t)?Yl(t):Sc(t).Uo()&&sh(t,e))}function ta(r,e){const t=T(r),s=Sc(t);t.Eu.delete(e),s.Uo()&&Tc(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():Ga(t)&&t.Pu.set("Unknown"))}function sh(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Cn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(r).nu(e)}function Tc(r,e){r.bu.Lt(e),Sc(r).su(e)}function Yl(r){r.bu=new xm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Sc(r).start(),r.Pu.mu()}function Ql(r){return Ga(r)&&!Sc(r).qo()&&r.Eu.size>0}function Ga(r){return 0===T(r).Au.size}function Cc(r){r.bu=void 0}function md(r){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,Dt.Z)(function*(r){r.Eu.forEach((e,t)=>{sh(r,e)})}),Jl.apply(this,arguments)}function yd(r,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,Dt.Z)(function*(r,e){Cc(r),Ql(r)?(r.Pu.pu(e),Yl(r)):r.Pu.set("Unknown")}),Xl.apply(this,arguments)}function sy(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,Dt.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof Mm&&2===e.state&&e.cause)try{yield(s=(0,Dt.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Eu.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Eu.delete(b),a.bu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield oh(r,s)}else if(e instanceof $h?r.bu.Wt(e):e instanceof Am?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(Cn.min()))try{const s=yield Kp(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const z=a.Eu.get(L);z&&a.Eu.set(L,z.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,L)=>{const z=a.Eu.get(b);if(!z)return;a.Eu.set(b,z.withResumeToken(d.EMPTY_BYTE_STRING,z.snapshotVersion)),Tc(a,b);const Q=new ku(z.target,b,L,z.sequenceNumber);sh(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Rt("RemoteStore","Failed to raise snapshot:",s),yield oh(r,s)}var s}),df.apply(this,arguments)}function oh(r,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,Dt.Z)(function*(r,e,t){if(!Sa(e))throw e;r.Au.add(1),yield Vs(r),r.Pu.set("Offline"),t||(t=()=>Kp(r.localStore)),r.asyncQueue.enqueueRetryable((0,Dt.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield Ra(r)}))}),hf.apply(this,arguments)}function ag(r,e){return e().catch(t=>oh(r,t,e))}function bc(r){return ff.apply(this,arguments)}function ff(){return ff=(0,Dt.Z)(function*(r){const e=T(r),t=gl(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;oy(e);)try{const a=yield Zp(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,ay(e,a)}catch(a){yield oh(e,a)}uy(e)&&ly(e)}),ff.apply(this,arguments)}function oy(r){return Ga(r)&&r.Tu.length<10}function ay(r,e){r.Tu.push(e);const t=gl(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function uy(r){return Ga(r)&&!gl(r).qo()&&r.Tu.length>0}function ly(r){gl(r).start()}function cy(r){return ug.apply(this,arguments)}function ug(){return ug=(0,Dt.Z)(function*(r){gl(r).au()}),ug.apply(this,arguments)}function dy(r){return ah.apply(this,arguments)}function ah(){return ah=(0,Dt.Z)(function*(r){const e=gl(r);for(const t of r.Tu)e.ou(t.mutations)}),ah.apply(this,arguments)}function lg(r,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,Dt.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Bh.from(s,e,t);yield ag(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield bc(r)}),cg.apply(this,arguments)}function pf(r,e){return vd.apply(this,arguments)}function vd(){return vd=(0,Dt.Z)(function*(r,e){var t;e&&gl(r).ru&&(yield(t=(0,Dt.Z)(function*(s,a){if(function bm(r){switch(r){default:return y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}(c=a.code)&&c!==M.ABORTED){const f=s.Tu.shift();gl(s).Go(),yield ag(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield bc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),uy(r)&&ly(r)}),vd.apply(this,arguments)}function gf(r,e){return dg.apply(this,arguments)}function dg(){return dg=(0,Dt.Z)(function*(r,e){const t=T(r);t.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const s=Ga(t);t.Au.add(3),yield Vs(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield Ra(t)}),dg.apply(this,arguments)}function Ed(){return Ed=(0,Dt.Z)(function*(r,e){const t=T(r);e?(t.Au.delete(2),yield Ra(t)):e||(t.Au.add(2),yield Vs(t),t.Pu.set("Unknown"))}),Ed.apply(this,arguments)}function Sc(r){return r.Vu||(r.Vu=function(e,t,s){const a=T(e);return a.lu(),new iy(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:md.bind(null,r),co:yd.bind(null,r),eu:sy.bind(null,r)}),r.Ru.push(function(){var e=(0,Dt.Z)(function*(t){t?(r.Vu.Go(),Ql(r)?Yl(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),Cc(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function gl(r){return r.Su||(r.Su=function(e,t,s){const a=T(e);return a.lu(),new _E(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:cy.bind(null,r),co:pf.bind(null,r),cu:dy.bind(null,r),uu:lg.bind(null,r)}),r.Ru.push(function(){var e=(0,Dt.Z)(function*(t){t?(r.Su.Go(),yield bc(r)):(yield r.Su.stop(),r.Tu.length>0&&(Rt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class uh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new uh(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(r,e){if(ii("AsyncQueue",`${e}: ${r}`),Sa(r))return new V(M.UNAVAILABLE,`${e}: ${r}`);throw r}class Mc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Xt.comparator(t.key,s.key):(t,s)=>Xt.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new Mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mf{constructor(){this.Du=new Gr(Xt.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):y():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class xc{constructor(e,t,s,a,c,f,b,L,z){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=L,this.hasCachedResults=z}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new xc(e,t,Mc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class H_{constructor(){this.xu=void 0,this.listeners=[]}}class hy{constructor(){this.queries=new al(e=>Vh(e),Lh),this.onlineState="Unknown",this.Nu=new Set}}function yf(r,e){return vf.apply(this,arguments)}function vf(){return vf=(0,Dt.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new H_),a)try{c.xu=yield t.onListen(s)}catch(f){const b=Ac(f,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&Ef(t)}),vf.apply(this,arguments)}function _f(r,e){return hg.apply(this,arguments)}function hg(){return hg=(0,Dt.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),hg.apply(this,arguments)}function z_(r,e){const t=T(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.Mu(a)&&(s=!0);f.xu=a}}s&&Ef(t)}function G_(r,e,t){const s=T(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ef(r){r.Nu.forEach(e=>{e.next()})}class lh{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class gg{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class yg{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=dr(),this.mutatedKeys=dr(),this.Zu=tp(e),this.tc=new Mc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new mf,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,z="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,me)=>{const ze=a.get(Q),Et=Uh(this.query,me)?me:null,zt=!!ze&&this.mutatedKeys.has(ze.key),en=!!Et&&(Et.hasLocalMutations||this.mutatedKeys.has(Et.key)&&Et.hasCommittedMutations);let In=!1;ze&&Et?ze.data.isEqual(Et.data)?zt!==en&&(s.track({type:3,doc:Et}),In=!0):this.ic(ze,Et)||(s.track({type:2,doc:Et}),In=!0,(L&&this.Zu(Et,L)>0||z&&this.Zu(Et,z)<0)&&(b=!0)):!ze&&Et?(s.track({type:0,doc:Et}),In=!0):ze&&!Et&&(s.track({type:1,doc:ze}),In=!0,(L||z)&&(b=!0)),In&&(Et?(f=f.add(Et),c=en?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{tc:f,sc:s,ji:b,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((z,Q)=>function(me,ze){const Et=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return Et(me)-Et(ze)}(z.type,Q.type)||this.Zu(z.doc,Q.doc)),this.rc(s);const f=t?this.oc():[],b=0===this.Xu.size&&this.current?1:0,L=b!==this.Yu;return this.Yu=b,0!==c.length||L?{snapshot:new xc(this.query,e.tc,a,c,e.mutatedKeys,0===b,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new mf,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=dr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new mg(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new gg(s))}),t}ac(e){this.Ju=e.sr,this.Xu=dr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class gy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wf{constructor(e){this.key=e,this.lc=!1}}class ec{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new al(b=>Vh(b),Lh),this._c=new Map,this.wc=new Set,this.mc=new Gr(Xt.comparator),this.gc=new Map,this.yc=new eh,this.Ic={},this.Tc=new Map,this.Ec=dl.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function W_(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,Dt.Z)(function*(r,e){const t=function Og(r){const e=T(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vy.bind(null,e),e.fc.eu=z_.bind(null,e.eventManager),e.fc.vc=G_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield function xa(r,e){const t=T(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,et.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new ku(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,Jo(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function ch(r,e,t,s,a){return ml.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Dc(t.remoteStore,f)}return a}),vg.apply(this,arguments)}function ml(){return ml=(0,Dt.Z)(function*(r,e,t,s,a){r.Rc=(me,ze,Et)=>{return(zt=(0,Dt.Z)(function*(en,In,Dr,gi){let xr=In.view.nc(Dr);xr.ji&&(xr=yield Zl(en.localStore,In.query,!1).then(({documents:vs})=>In.view.nc(vs,xr)));const Ka=gi&&gi.targetChanges.get(In.targetId),Xs=In.view.applyChanges(xr,en.isPrimaryClient,Ka);return bg(en,In.targetId,Xs.uc),Xs.snapshot}),function(en,In,Dr,gi){return zt.apply(this,arguments)})(r,me,ze,Et);var zt};const c=yield Zl(r.localStore,e,!0),f=new yg(e,c.sr),b=f.nc(c.documents),L=rd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),z=f.applyChanges(b,r.isPrimaryClient,L);bg(r,t,z.uc);const Q=new gy(e,t,f);return r.dc.set(e,Q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),z.snapshot}),ml.apply(this,arguments)}function _g(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,Dt.Z)(function*(r,e){const t=T(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Lh(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield fl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ta(t.remoteStore,s.targetId),Iu(t,s.targetId)}).catch(gu))):(Iu(t,s.targetId),yield fl(t.localStore,s.targetId,!0))}),Eg.apply(this,arguments)}function my(){return my=(0,Dt.Z)(function*(r,e,t){const s=function Sf(r){const e=T(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fo.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q_.bind(null,e),e}(r);try{const a=yield function(c,f){const b=T(c),L=Ii.now(),z=f.reduce((ze,Et)=>ze.add(Et.key),dr());let Q,me;return b.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let Et=Ma(),zt=dr();return b.Xi.getEntries(ze,z).next(en=>{Et=en,Et.forEach((In,Dr)=>{Dr.isValidDocument()||(zt=zt.add(In))})}).next(()=>b.localDocuments.getOverlayedDocuments(ze,Et)).next(en=>{Q=en;const In=[];for(const Dr of f){const gi=cp(Dr,Q.get(Dr.key).overlayedDocument);null!=gi&&In.push(new Eu(Dr.key,gi,hm(gi.value.mapValue),us.exists(!0)))}return b.mutationQueue.addMutationBatch(ze,L,In,f)}).next(en=>{me=en;const In=en.applyToLocalDocumentSet(Q,zt);return b.documentOverlayCache.saveOverlays(ze,en.batchId,In)})}).then(()=>({batchId:me.batchId,changes:rp(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let L=c.Ic[c.currentUser.toKey()];L||(L=new Gr(Ln)),L=L.insert(f,b),c.Ic[c.currentUser.toKey()]=L}(s,a.batchId,t),yield Uu(s,a.changes),yield bc(s.remoteStore)}catch(a){const c=Ac(a,"Failed to persist write");t.reject(c)}}),my.apply(this,arguments)}function K_(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,Dt.Z)(function*(r,e){const t=T(r);try{const s=yield function ey(r,e){const t=T(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const b=[];e.targetChanges.forEach((Q,me)=>{const ze=a.get(me);if(!ze)return;b.push(t.Fs.removeMatchingKeys(c,Q.removedDocuments,me).next(()=>t.Fs.addMatchingKeys(c,Q.addedDocuments,me)));let Et=ze.withSequenceNumber(c.currentSequenceNumber);var zt,en,In;null!==e.targetMismatches.get(me)?Et=Et.withResumeToken(d.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):Q.resumeToken.approximateByteSize()>0&&(Et=Et.withResumeToken(Q.resumeToken,s)),a=a.insert(me,Et),en=Et,In=Q,(0===(zt=ze).resumeToken.approximateByteSize()||en.snapshotVersion.toMicroseconds()-zt.snapshotVersion.toMicroseconds()>=3e8||In.addedDocuments.size+In.modifiedDocuments.size+In.removedDocuments.size>0)&&b.push(t.Fs.updateTargetData(c,Et))});let L=Ma(),z=dr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),b.push(function qp(r,e,t){let s=dr(),a=dr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Ma();return t.forEach((b,L)=>{const z=c.get(b);L.isFoundDocument()!==z.isFoundDocument()&&(a=a.add(b)),L.isNoDocument()&&L.version.isEqual(Cn.min())?(e.removeEntry(b,L.readTime),f=f.insert(b,L)):!z.isValidDocument()||L.version.compareTo(z.version)>0||0===L.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(L),f=f.insert(b,L)):Rt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",L.version)}),{er:f,nr:a}})}(c,f,e.documentUpdates).next(Q=>{L=Q.er,z=Q.nr})),!s.isEqual(Cn.min())){const Q=t.Fs.getLastRemoteSnapshotVersion(c).next(me=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(Q)}return et.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,z)).next(()=>L)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(E(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?E(f.lc):a.removedDocuments.size>0&&(E(f.lc),f.lc=!1))}),yield Uu(t,s,e)}catch(s){yield gu(s)}}),Ig.apply(this,arguments)}function yy(r,e,t){const s=T(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const b=f.view.ku(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=T(c);b.onlineState=f;let L=!1;b.queries.forEach((z,Q)=>{for(const me of Q.listeners)me.ku(f)&&(L=!0)}),L&&Ef(b)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function vy(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,Dt.Z)(function*(r,e,t){const s=T(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new Gr(Xt.comparator);f=f.insert(c,$i.newNoDocument(c,Cn.min()));const b=dr().add(c),L=new Gd(Cn.min(),new Map,new Gr(Ln),f,b);yield K_(s,L),s.mc=s.mc.remove(c),s.gc.delete(e),Sg(s)}else yield fl(s.localStore,e,!1).then(()=>Iu(s,e,t)).catch(gu)}),Dg.apply(this,arguments)}function fo(r,e){return If.apply(this,arguments)}function If(){return If=(0,Dt.Z)(function*(r,e){const t=T(r),s=e.batch.batchId;try{const a=yield function Xm(r,e){const t=T(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,b,L,z){const Q=L.batch,me=Q.keys();let ze=et.resolve();return me.forEach(Et=>{ze=ze.next(()=>z.getEntry(b,Et)).next(zt=>{const en=L.docVersions.get(Et);E(null!==en),zt.version.compareTo(en)<0&&(Q.applyToRemoteDocument(zt,L),zt.isValidDocument()&&(zt.setReadTime(L.commitVersion),z.addEntry(zt)))})}),ze.next(()=>f.mutationQueue.removeMutationBatch(b,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=dr();for(let L=0;L<f.mutationResults.length;++L)f.mutationResults[L].transformResults.length>0&&(b=b.add(f.batch.mutations[L].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tf(t,s,null),Df(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Uu(t,a)}catch(a){yield gu(a)}}),If.apply(this,arguments)}function q_(r,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,Dt.Z)(function*(r,e,t){const s=T(r);try{const a=yield function(c,f){const b=T(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let z;return b.mutationQueue.lookupMutationBatch(L,f).next(Q=>(E(null!==Q),z=Q.keys(),b.mutationQueue.removeMutationBatch(L,Q))).next(()=>b.mutationQueue.performConsistencyCheck(L)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(L,z,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,z)).next(()=>b.localDocuments.getDocuments(L,z))})}(s.localStore,e);Tf(s,e,t),Df(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Uu(s,a)}catch(a){yield gu(a)}}),Tg.apply(this,arguments)}function Df(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Tf(r,e,t){const s=T(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function Iu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||Ey(r,s)})}function Ey(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(ta(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Sg(r))}function bg(r,e,t){for(const s of t)s instanceof gg?(r.yc.addReference(s.key,e),wy(r,s)):s instanceof mg?(Rt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||Ey(r,s.key)):y()}function wy(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Rt("SyncEngine","New document in limbo: "+t),r.wc.add(s),Sg(r))}function Sg(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new Xt(Vr.fromString(e)),s=r.Ec.next();r.gc.set(s,new wf(t)),r.mc=r.mc.insert(t,s),Dc(r.remoteStore,new ku(Jo(Qc(t.path)),s,"TargetPurposeLimboResolution",ho.ct))}}function Uu(r,e,t){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,Dt.Z)(function*(r,e,t){const s=T(r),a=[],c=[],f=[];var b;s.dc.isEmpty()||(s.dc.forEach((b,L)=>{f.push(s.Rc(L,e,t).then(z=>{if((z||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,z?.fromCache?"not-current":"current"),z){a.push(z);const Q=fd.Bi(L.targetId,z);c.push(Q)}}))}),yield Promise.all(f),s.fc.eu(a),yield(b=(0,Dt.Z)(function*(L,z){const Q=T(L);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",me=>et.forEach(z,ze=>et.forEach(ze.$i,Et=>Q.persistence.referenceDelegate.addReference(me,ze.targetId,Et)).next(()=>et.forEach(ze.Fi,Et=>Q.persistence.referenceDelegate.removeReference(me,ze.targetId,Et)))))}catch(me){if(!Sa(me))throw me;Rt("LocalStore","Failed to update sequence numbers: "+me)}for(const me of z){const ze=me.targetId;if(!me.fromCache){const Et=Q.Hi.get(ze),en=Et.withLastLimboFreeSnapshotVersion(Et.snapshotVersion);Q.Hi=Q.Hi.insert(ze,en)}}}),function(L,z){return b.apply(this,arguments)})(s.localStore,c))}),Iy.apply(this,arguments)}function Ag(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,Dt.Z)(function*(r,e){const t=T(r);if(!t.currentUser.isEqual(e)){Rt("SyncEngine","User change. New user:",e.toKey());const s=yield tf(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(b=>{b.reject(new V(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Uu(t,s.tr)}var a}),dh.apply(this,arguments)}function Bu(r,e){const t=T(r),s=t.gc.get(e);if(s&&s.lc)return dr().add(s.key);{let a=dr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.dc.get(f);a=a.unionWith(b.view.ec)}return a}}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Dt.Z)(function*(){t.serializer=gd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function N_(r,e,t,s){return new ef(r,e,t,s)}(this.persistence,new th,e.initialUser,this.serializer)}createPersistence(e){return new su(Qh.js,this.serializer)}createSharedClientState(e){return new af}terminate(){var e=this;return(0,Dt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tc{initialize(e,t){var s=this;return(0,Dt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>yy(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ag.bind(null,s.syncEngine),yield function _d(r,e){return Ed.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new hy}createDatastore(e){const t=gd(e.databaseInfo.databaseId),s=new U_(e.databaseInfo);return new cf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>yy(this.syncEngine,b,0),f=uf.D()?new uf:new F_,new j_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,L,z){const Q=new ec(s,a,c,f,b,L);return z&&(Q.Ac=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Dt.Z)(function*(t){const s=T(t);Rt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield Vs(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ph{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Ry{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=wi.UNAUTHENTICATED,this.clientId=sc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,Dt.Z)(function*(b){Rt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Rt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,Dt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Dt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ac(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function gh(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,Dt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,Dt.Z)(function*(c){s.isEqual(c)||(yield tf(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Af.apply(this,arguments)}function Mf(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,Dt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Vg(r){return Ug.apply(this,arguments)}(r);Rt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>gf(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>gf(e.remoteStore,c)),r._onlineComponents=e}),Lg.apply(this,arguments)}function Ug(){return Ug=(0,Dt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function Py(r){return"FirebaseError"===r.name?r.code===M.FAILED_PRECONDITION||r.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield gh(r,new Rc)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield gh(r,new Rc);return r._offlineComponents}),Ug.apply(this,arguments)}function xf(r){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,Dt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mf(r,r._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield Mf(r,new tc))),r._onlineComponents}),Bg.apply(this,arguments)}function wd(r){return jg.apply(this,arguments)}function jg(){return jg=(0,Dt.Z)(function*(r){const e=yield xf(r),t=e.eventManager;return t.onListen=W_.bind(null,e.syncEngine),t.onUnlisten=_g.bind(null,e.syncEngine),t}),jg.apply(this,arguments)}const zg=new Map;function Pf(r,e,t){if(!t)throw new V(M.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Gg(r){if(!Xt.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wg(r){if(Xt.isDocumentKey(r))throw new V(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":y()}function Mr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new V(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Id(r);throw new V(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class Hy{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new V(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function $y(r,e,t,s){if(!0===e&&!0===s)throw new V(M.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _t;switch(t.type){case"firstParty":return new Si(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new V(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zg.get(e);t&&(Rt("ComponentProvider","Removing Datastore"),zg.delete(e),t.terminate())}(this),Promise.resolve()}}class ys{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ys(this.firestore,e,this._key)}}class na{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class Tu extends na{constructor(e,t,s){super(e,t,Qc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ys(this.firestore,null,new Xt(e))}withConverter(e){return new Tu(this.firestore,e,this._path)}}function zy(r,e,...t){if(r=(0,we.m9)(r),Pf("collection","path",e),r instanceof ju){const s=Vr.fromString(e,...t);return Wg(s),new Tu(r,null,s)}{if(!(r instanceof ys||r instanceof Tu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vr.fromString(e,...t));return Wg(s),new Tu(r.firestore,null,s)}}function Hn(r,e,...t){if(r=(0,we.m9)(r),1===arguments.length&&(e=sc.A()),Pf("doc","path",e),r instanceof ju){const s=Vr.fromString(e,...t);return Gg(s),new ys(r,null,new Xt(s))}{if(!(r instanceof ys||r instanceof Tu))throw new V(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Vr.fromString(e,...t));return Gg(s),new ys(r.firestore,r instanceof Tu?r.converter:null,new Xt(s))}}class t0{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ig(this,"async_queue_retry"),this.Yc=()=>{const t=ih();t&&Rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Y;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,Dt.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Sa(t))throw t;Rt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,ii("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=uh.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&y()}verifyOperationInProgress(){}na(){var e=this;return(0,Dt.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function nc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class xi extends ju{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new t0,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qg(this),this._firestoreClient.terminate()}}function IE(r,e){const t="object"==typeof r?r:(0,je.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,je._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,we.P0)("firestore");c&&function EE(r,e,t,s={}){var a;const c=(r=Mr(r,ju))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&bs("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=wi.MOCK_USER;else{f=(0,we.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new V(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new wi(L)}r._authCredentials=new Jt(new Me(f,b))}}(a,...c)}return a}function Bs(r){return r._firestoreClient||qg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function qg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new dn(r._databaseId,b,r._persistenceKey,(z=a).host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,z.useFetchStreams));var b,z;r._firestoreClient=new Ry(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rc(d.fromBase64String(e))}catch(t){throw new V(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rc(d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new V(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class Nc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ln(this._lat,e._lat)||Ln(this._long,e._long)}}const yh=/^__.*__$/;class u0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}class Ky{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class vh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qy(this.ua)&&yh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Zy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gd(e)}ga(e,t,s,a=!1){return new vh({ua:e,methodName:t,ma:s,path:Zi.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),t=gd(r._databaseId);return new Zy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qg(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Fc("Data must be an object, but it was:",f,s);const b=Qy(s,f);let L,z;if(c.merge)L=new Qo(f.fieldMask),z=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const me of c.mergeFields){const ze=Eh(e,me,t);if(!f.contains(ze))throw new V(M.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);d0(Q,ze)||Q.push(ze)}L=new Qo(Q),z=f.fieldTransforms.filter(me=>L.covers(me.field))}else L=null,z=f.fieldTransforms;return new u0(new Lo(b),L,z)}class Dd extends Yg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function kc(r,e){if(em(r=(0,we.m9)(r)))return Fc("Unsupported field value:",e,r),Qy(r,e);if(r instanceof Yg)return function(t,s){if(!qy(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=kc(f,s.da(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,we.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Ii.fromDate(t);return{timestampValue:id(s.serializer,a)}}if(t instanceof Ii){const a=new Ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:id(s.serializer,a)}}if(t instanceof Nc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rc)return{bytesValue:Rm(s.serializer,t._byteString)};if(t instanceof ys){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_p(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Id(t)}`)}(r,e)}function Qy(r,e){const t={};return pa(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(r,(s,a)=>{const c=kc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function em(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ii||r instanceof Nc||r instanceof rc||r instanceof ys||r instanceof Yg)}function Fc(r,e,t){if(!em(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Id(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Eh(r,e,t){if((e=(0,we.m9)(e))instanceof Pc)return e._internalPath;if("string"==typeof e)return kf(r,e);throw Ff("Field path arguments must be of type string or ",r,!1,void 0,t)}const c0=new RegExp("[~\\*/\\[\\]]");function kf(r,e,t){if(e.search(c0)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pc(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ff(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(c||f)&&(L+=" (found",c&&(L+=` in field ${s}`),f&&(L+=` in document ${a}`),L+=")"),new V(M.INVALID_ARGUMENT,b+r+L)}function d0(r,e){return r.some(t=>t.isEqual(e))}class tm{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ys(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jy extends tm{data(){return super.data()}}function Lf(r,e){return"string"==typeof e?kf(r,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}function Xy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new V(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}class ev extends Lc{}function tv(r,e,...t){let s=[];e instanceof Lc&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Td).length,f=a.filter(b=>b instanceof wh).length;if(c>1||c>0&&f>0)throw new V(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class wh extends ev{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new wh(e,t,s)}_apply(e){const t=this._parse(e);return av(e._query,t),new na(e.firestore,e.converter,vm(e._query,t))}_parse(e){const t=Oc(e.firestore);return function(a,c,f,b,L,z,Q){let me;if(L.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new V(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){ov(Q,z);const ze=[];for(const Et of Q)ze.push(sv(b,a,Et));me={arrayValue:{values:ze}}}else me=sv(b,a,Q)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||ov(Q,z),me=function _h(r,e,t,s=!1){return kc(t,r.ga(s?4:3,e))}(f,"where",Q,"in"===z||"not-in"===z);return Yr.create(L,z,me)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function nv(r,e,t){const s=e,a=Lf("where",r);return wh._create(a,s,t)}class Td extends Lc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)av(c,b),c=vm(c,b)}(e._query,t),new na(e.firestore,e.converter,vm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ih extends ev{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ih(e,t)}_apply(e){const t=function(s,a,c){if(null!==s.startAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new V(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new vu(a,c);return function(b,L){if(null===_u(b)){const z=Ol(b);null!==z&&uv(0,z,L.field)}}(s,f),f}(e._query,this._field,this._direction);return new na(e.firestore,e.converter,function(s,a){const c=s.explicitOrderBy.concat([a]);return new ol(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function f0(r,e="asc"){const t=e,s=Lf("orderBy",r);return Ih._create(s,t)}function sv(r,e,t){if("string"==typeof(t=(0,we.m9)(t))){if(""===t)throw new V(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fh(e)&&-1!==t.indexOf("/"))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Vr.fromString(t));if(!Xt.isDocumentKey(s))throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nu(r,new Xt(s))}if(t instanceof ys)return nu(r,t._key);throw new V(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(t)}.`)}function ov(r,e){if(!Array.isArray(r)||0===r.length)throw new V(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function av(r,e){if(e.isInequality()){const s=Ol(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new V(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=_u(r);null!==c&&uv(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new V(M.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function uv(r,e,t){if(!t.isEqual(e))throw new V(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class m0{convertValue(e,t="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return H(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ee(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Qi(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Nc(H(e.latitude),H(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=ut(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bt(e));default:return null}}convertTimestamp(e){const t=C(e);return new Ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Vr.fromString(e);E(bp(s));const a=new En(s.get(1),s.get(3)),c=new Xt(s.popFirst(5));return a.isEqual(t)||ii(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends tm{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Cd extends ic{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Cd(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,z=-1;return 0!==f.type&&(L=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),z=c.indexOf(f.doc.key)),{type:nm(f.type),doc:b,oldIndex:L,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class Hu extends m0{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ys(this.firestore,null,t)}}function bd(r){r=Mr(r,na);const e=Mr(r.firestore,xi),t=Bs(e),s=new Hu(e);return Xy(r._query),function Hg(r,e,t={}){const s=new Y;return r.asyncQueue.enqueueAndForget((0,Dt.Z)(function*(){return function(a,c,f,b,L){const z=new ph({next:me=>{c.enqueueAndForget(()=>_f(a,Q)),me.fromCache&&"server"===b.source?L.reject(new V(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(me)},error:me=>L.reject(me)}),Q=new lh(f,z,{includeMetadataChanges:!0,Uu:!0});return yf(a,Q)}(yield wd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Uc(e,s,r,a))}function HE(r,e,t){r=Mr(r,ys);const s=Mr(r.firestore,xi),a=function Bf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Sd(s,[Qg(Oc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,us.none())])}function dv(r,e,t,...s){r=Mr(r,ys);const a=Mr(r.firestore,xi),c=Oc(a);let f;return f="string"==typeof(e=(0,we.m9)(e))||e instanceof Pc?function Xg(r,e,t,s,a,c){const f=r.ga(1,e,t),b=[Eh(e,s,t)],L=[a];if(c.length%2!=0)throw new V(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ze=0;ze<c.length;ze+=2)b.push(Eh(e,c[ze])),L.push(c[ze+1]);const z=[],Q=Lo.empty();for(let ze=b.length-1;ze>=0;--ze)if(!d0(z,b[ze])){const Et=b[ze];let zt=L[ze];zt=(0,we.m9)(zt);const en=f.fa(Et);if(zt instanceof Dd)z.push(Et);else{const In=kc(zt,en);null!=In&&(z.push(Et),Q.set(Et,In))}}const me=new Qo(z);return new Ky(Q,me,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function l0(r,e,t,s){const a=r.ga(1,e,t);Fc("Data must be an object, but it was:",a,s);const c=[],f=Lo.empty();Qi(s,(L,z)=>{const Q=kf(e,L,t);z=(0,we.m9)(z);const me=a.fa(Q);if(z instanceof Dd)c.push(Q);else{const ze=kc(z,me);null!=ze&&(c.push(Q),f.set(Q,ze))}});const b=new Qo(c);return new Ky(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),Sd(a,[f.toMutation(r._key,us.exists(!0))])}function rm(r){return Sd(Mr(r.firestore,xi),[new $l(r._key,us.none())])}function Sd(r,e){return function(t,s){const a=new Y;return t.asyncQueue.enqueueAndForget((0,Dt.Z)(function*(){return function wg(r,e,t){return my.apply(this,arguments)}(yield function $g(r){return xf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Bs(r),e)}!function(r,e=!0){ba=je.SDK_VERSION,(0,je._registerComponent)(new Ze.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new xi(new Zt(t.getProvider("auth-internal")),new Zo(t.getProvider("app-check-internal")),function(b,L){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new V(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new En(b.options.projectId,L)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,je.registerVersion)(La,"3.11.0",r),(0,je.registerVersion)(La,"3.11.0","esm2017")}();var yv=W(9751),sm=W(4004),vv={includeMetadataChanges:!1};function jf(r,e){return void 0===e&&(e=vv),new yv.y(function(t){var s=function im(r,...e){var t,s,a;r=(0,we.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||nc(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(nc(e[f])){const me=e[f];e[f]=null===(t=me.next)||void 0===t?void 0:t.bind(me),e[f+1]=null===(s=me.error)||void 0===s?void 0:s.bind(me),e[f+2]=null===(a=me.complete)||void 0===a?void 0:a.bind(me)}let L,z,Q;if(r instanceof ys)z=Mr(r.firestore,xi),Q=Qc(r._key.path),L={next:me=>{e[f]&&e[f](function Th(r,e,t){const s=t.docs.get(e._key),a=new Hu(r);return new ic(r,a,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}(z,r,me))},error:e[f+1],complete:e[f+2]};else{const me=Mr(r,na);z=Mr(me.firestore,xi),Q=me._query;const ze=new Hu(z);L={next:Et=>{e[f]&&e[f](new Uc(z,ze,me,Et))},error:e[f+1],complete:e[f+2]},Xy(r._query)}return function(me,ze,Et,zt){const en=new ph(zt),In=new lh(ze,en,Et);return me.asyncQueue.enqueueAndForget((0,Dt.Z)(function*(){return yf(yield wd(me),In)})),()=>{en.Sc(),me.asyncQueue.enqueueAndForget((0,Dt.Z)(function*(){return _f(yield wd(me),In)}))}}(Bs(z),Q,b,L)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Ch(r,e){return void 0===e&&(e={}),function zu(r){return jf(r,{includeMetadataChanges:!0}).pipe((0,sm.U)(function(e){return e.docs}))}(r).pipe((0,sm.U)(function(t){return t.map(function(s){return function Ev(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class zf{constructor(e){return e}}const Dv="firestore",Md=new G.OlP("angularfire2.firestore-instances");function F0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new zf(s)}}const Tv={provide:class O0{constructor(){return(0,p.vb)(Dv)}},deps:[[new G.FiY,Md]]},Cv={provide:zf,useFactory:function k0(r,e){const t=(0,p.JM)(Dv,r,e);return t&&new zf(t)},deps:[[new G.FiY,Md],q.Ot]};let Gf=(()=>{class r{constructor(){(0,De.KN)("angularfire",p.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=G.oAB({type:r}),r.\u0275inj=G.cJS({providers:[Cv,Tv]}),r})();function bv(r,...e){return{ngModule:Gf,providers:[{provide:Md,useFactory:F0(r),multi:!0,deps:[G.R0b,G.zs3,p.HU,q.z6,[new G.FiY,Ce],[new G.FiY,On.nm],...e]}]}}const um=(0,p.u3)(Ch,!0),Rv=(0,p.u3)(zy,!0),Pv=(0,p.u3)(rm,!0),Nv=(0,p.u3)(Hn,!0),Sh=(0,p.u3)(bd,!0),G0=(0,p.u3)(IE,!0),cm=(0,p.u3)(f0,!0),gw=(0,p.u3)(tv,!0),Q0=(0,p.u3)(HE,!0),X0=(0,p.u3)(dv,!0),eE=(0,p.u3)(nv,!0)},1157:(un,at,W)=>{W.d(at,{q4:()=>Gc,iC:()=>uc,HU:()=>Aa,vb:()=>ac,JM:()=>tl,u3:()=>nl});var p=W(4650),G=W(259),q=W(5861),De=W(6881),Se=W(2090),we=W(4859),je=W(1877);const Ne=(D,x)=>x.some(U=>D instanceof U);let Ze,ce;const gt=new WeakMap,dt=new WeakMap,ht=new WeakMap,Gt=new WeakMap,tt=new WeakMap;let At={get(D,x,U){if(D instanceof IDBTransaction){if("done"===x)return dt.get(D);if("objectStoreNames"===x)return D.objectStoreNames||ht.get(D);if("store"===x)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Tt(D[x])},set:(D,x,U)=>(D[x]=U,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function nt(D){return"function"==typeof D?function _e(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(ot(this),x),Tt(gt.get(this))}:function(...x){return Tt(D.apply(ot(this),x))}:function(x,...U){const re=D.call(ot(this),x,...U);return ht.set(re,x.sort?x.sort():[x]),Tt(re)}}(D):(D instanceof IDBTransaction&&function St(D){if(dt.has(D))return;const x=new Promise((U,re)=>{const Ee=()=>{D.removeEventListener("complete",Fe),D.removeEventListener("error",vt),D.removeEventListener("abort",vt)},Fe=()=>{U(),Ee()},vt=()=>{re(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Fe),D.addEventListener("error",vt),D.addEventListener("abort",vt)});dt.set(D,x)}(D),Ne(D,function he(){return Ze||(Ze=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,At):D)}function Tt(D){if(D instanceof IDBRequest)return function yt(D){const x=new Promise((U,re)=>{const Ee=()=>{D.removeEventListener("success",Fe),D.removeEventListener("error",vt)},Fe=()=>{U(Tt(D.result)),Ee()},vt=()=>{re(D.error),Ee()};D.addEventListener("success",Fe),D.addEventListener("error",vt)});return x.then(U=>{U instanceof IDBCursor&&gt.set(U,D)}).catch(()=>{}),tt.set(x,D),x}(D);if(Gt.has(D))return Gt.get(D);const x=nt(D);return x!==D&&(Gt.set(D,x),tt.set(x,D)),x}const ot=D=>tt.get(D),on=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],yn=new Map;function Ut(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(yn.get(x))return yn.get(x);const U=x.replace(/FromIndex$/,""),re=x!==U,Ee=jt.includes(U);if(!(U in(re?IDBIndex:IDBObjectStore).prototype)||!Ee&&!on.includes(U))return;const Fe=function(){var vt=(0,q.Z)(function*(Qt,...Yt){const _n=this.transaction(Qt,Ee?"readwrite":"readonly");let Gn=_n.store;return re&&(Gn=Gn.index(Yt.shift())),(yield Promise.all([Gn[U](...Yt),Ee&&_n.done]))[0]});return function(Yt){return vt.apply(this,arguments)}}();return yn.set(x,Fe),Fe}!function Be(D){At=D(At)}(D=>({...D,get:(x,U,re)=>Ut(x,U)||D.get(x,U,re),has:(x,U)=>!!Ut(x,U)||D.has(x,U)}));const Ve="@firebase/installations",it="0.6.4",We=1e4,lt=`w:${it}`,wt="FIS_v2",ct="https://firebaseinstallations.googleapis.com/v1",Ot=36e5,Le=new Se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function It(D){return D instanceof Se.ZR&&D.code.includes("request-failed")}function $t({projectId:D}){return`${ct}/projects/${D}/installations`}function Kn(D){return{token:D.token,requestStatus:2,expiresIn:ln(D.expiresIn),creationTime:Date.now()}}function zn(D,x){return yr.apply(this,arguments)}function yr(){return(yr=(0,q.Z)(function*(D,x){const re=(yield x.json()).error;return Le.create("request-failed",{requestName:D,serverCode:re.code,serverMessage:re.message,serverStatus:re.status})})).apply(this,arguments)}function fr({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ar(D){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,q.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function ln(D){return Number(D.replace("s","000"))}function kt(){return(kt=(0,q.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:U}){const re=$t(D),Ee=fr(D),Fe=x.getImmediate({optional:!0});if(Fe){const _n=yield Fe.getHeartbeatsHeader();_n&&Ee.append("x-firebase-client",_n)}const Qt={method:"POST",headers:Ee,body:JSON.stringify({fid:U,authVersion:wt,appId:D.appId,sdkVersion:lt})},Yt=yield ar(()=>fetch(re,Qt));if(Yt.ok){const _n=yield Yt.json();return{fid:_n.fid||U,registrationStatus:2,refreshToken:_n.refreshToken,authToken:Kn(_n.authToken)}}throw yield zn("Create Installation",Yt)})).apply(this,arguments)}function Vn(D){return new Promise(x=>{setTimeout(x,D)})}const nr=/^[cdef][\w-]{21}$/,Jr="";function mi(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const U=function Mn(D){return function ui(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return nr.test(U)?U:Jr}catch{return Jr}}function Sn(D){return`${D.appName}!${D.appId}`}const Lt=new Map;function Vt(D,x){const U=Sn(D);Pr(U,x),function li(D,x){const U=function ci(){return!Tr&&"BroadcastChannel"in self&&(Tr=new BroadcastChannel("[Firebase] FID Change"),Tr.onmessage=D=>{Pr(D.data.key,D.data.fid)}),Tr}();U&&U.postMessage({key:D,fid:x}),function ur(){0===Lt.size&&Tr&&(Tr.close(),Tr=null)}()}(U,x)}function Pr(D,x){const U=Lt.get(D);if(U)for(const re of U)re(x)}let Tr=null;const Xi="firebase-installations-database",qn=1,yi="firebase-installations-store";let On=null;function Dt(){return On||(On=function ke(D,x,{blocked:U,upgrade:re,blocking:Ee,terminated:Fe}={}){const vt=indexedDB.open(D,x),Qt=Tt(vt);return re&&vt.addEventListener("upgradeneeded",Yt=>{re(Tt(vt.result),Yt.oldVersion,Yt.newVersion,Tt(vt.transaction))}),U&&vt.addEventListener("blocked",()=>U()),Qt.then(Yt=>{Fe&&Yt.addEventListener("close",()=>Fe()),Ee&&Yt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),Qt}(Xi,qn,{upgrade:(D,x)=>{0===x&&D.createObjectStore(yi)}})),On}function Cr(D,x){return st.apply(this,arguments)}function st(){return(st=(0,q.Z)(function*(D,x){const U=Sn(D),Ee=(yield Dt()).transaction(yi,"readwrite"),Fe=Ee.objectStore(yi),vt=yield Fe.get(U);return yield Fe.put(x,U),yield Ee.done,(!vt||vt.fid!==x.fid)&&Vt(D,x.fid),x})).apply(this,arguments)}function ie(D){return be.apply(this,arguments)}function be(){return(be=(0,q.Z)(function*(D){const x=Sn(D),re=(yield Dt()).transaction(yi,"readwrite");yield re.objectStore(yi).delete(x),yield re.done})).apply(this,arguments)}function qe(D,x){return ft.apply(this,arguments)}function ft(){return(ft=(0,q.Z)(function*(D,x){const U=Sn(D),Ee=(yield Dt()).transaction(yi,"readwrite"),Fe=Ee.objectStore(yi),vt=yield Fe.get(U),Qt=x(vt);return void 0===Qt?yield Fe.delete(U):yield Fe.put(Qt,U),yield Ee.done,Qt&&(!vt||vt.fid!==Qt.fid)&&Vt(D,Qt.fid),Qt})).apply(this,arguments)}function oe(D){return se.apply(this,arguments)}function se(){return se=(0,q.Z)(function*(D){let x;const U=yield qe(D.appConfig,re=>{const Ee=function pe(D){return de(D||{fid:mi(),registrationStatus:0})}(re),Fe=function $e(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Le.create("app-offline"))};const U={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},re=function xe(D,x){return Ct.apply(this,arguments)}(D,U);return{installationEntry:U,registrationPromise:re}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ve(D)}:{installationEntry:x}}(D,Ee);return x=Fe.registrationPromise,Fe.installationEntry});return U.fid===Jr?{installationEntry:yield x}:{installationEntry:U,registrationPromise:x}}),se.apply(this,arguments)}function Ct(){return Ct=(0,q.Z)(function*(D,x){try{const U=yield function Rn(D,x){return kt.apply(this,arguments)}(D,x);return Cr(D.appConfig,U)}catch(U){throw It(U)&&409===U.customData.serverCode?yield ie(D.appConfig):yield Cr(D.appConfig,{fid:x.fid,registrationStatus:0}),U}}),Ct.apply(this,arguments)}function ve(D){return le.apply(this,arguments)}function le(){return(le=(0,q.Z)(function*(D){let x=yield ne(D.appConfig);for(;1===x.registrationStatus;)yield Vn(100),x=yield ne(D.appConfig);if(0===x.registrationStatus){const{installationEntry:U,registrationPromise:re}=yield oe(D);return re||U}return x})).apply(this,arguments)}function ne(D){return qe(D,x=>{if(!x)throw Le.create("installation-not-found");return de(x)})}function de(D){return function rt(D){return 1===D.registrationStatus&&D.registrationTime+We<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function tn(){return(tn=(0,q.Z)(function*({appConfig:D,heartbeatServiceProvider:x},U){const re=function xn(D,{fid:x}){return`${$t(D)}/${x}/authTokens:generate`}(D,U),Ee=function pr(D,{refreshToken:x}){const U=fr(D);return U.append("Authorization",function Kr(D){return`${wt} ${D}`}(x)),U}(D,U),Fe=x.getImmediate({optional:!0});if(Fe){const _n=yield Fe.getHeartbeatsHeader();_n&&Ee.append("x-firebase-client",_n)}const Qt={method:"POST",headers:Ee,body:JSON.stringify({installation:{sdkVersion:lt,appId:D.appId}})},Yt=yield ar(()=>fetch(re,Qt));if(Yt.ok)return Kn(yield Yt.json());throw yield zn("Generate Auth Token",Yt)})).apply(this,arguments)}function br(D){return Jn.apply(this,arguments)}function Jn(){return Jn=(0,q.Z)(function*(D,x=!1){let U;const re=yield qe(D.appConfig,Fe=>{if(!wn(Fe))throw Le.create("not-registered");const vt=Fe.authToken;if(!x&&function Kt(D){return 2===D.requestStatus&&!function Un(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+Ot}(D)}(vt))return Fe;if(1===vt.requestStatus)return U=function Je(D,x){return Ue.apply(this,arguments)}(D,x),Fe;{if(!navigator.onLine)throw Le.create("app-offline");const Qt=function rr(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}(Fe);return U=function an(D,x){return hn.apply(this,arguments)}(D,Qt),Qt}});return U?yield U:re.authToken}),Jn.apply(this,arguments)}function Ue(){return(Ue=(0,q.Z)(function*(D,x){let U=yield Mt(D.appConfig);for(;1===U.authToken.requestStatus;)yield Vn(100),U=yield Mt(D.appConfig);const re=U.authToken;return 0===re.requestStatus?br(D,x):re})).apply(this,arguments)}function Mt(D){return qe(D,x=>{if(!wn(x))throw Le.create("not-registered");return function Nr(D){return 1===D.requestStatus&&D.requestTime+We<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function hn(){return hn=(0,q.Z)(function*(D,x){try{const U=yield function Nt(D,x){return tn.apply(this,arguments)}(D,x),re=Object.assign(Object.assign({},x),{authToken:U});return yield Cr(D.appConfig,re),U}catch(U){if(!It(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const re=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Cr(D.appConfig,re)}else yield ie(D.appConfig);throw U}}),hn.apply(this,arguments)}function wn(D){return void 0!==D&&2===D.registrationStatus}function $s(){return($s=(0,q.Z)(function*(D){const x=D,{installationEntry:U,registrationPromise:re}=yield oe(x);return re?re.catch(console.error):br(x).catch(console.error),U.fid})).apply(this,arguments)}function jr(){return jr=(0,q.Z)(function*(D,x=!1){const U=D;return yield function Ur(D){return Ht.apply(this,arguments)}(U),(yield br(U,x)).token}),jr.apply(this,arguments)}function Ht(){return(Ht=(0,q.Z)(function*(D){const{registrationPromise:x}=yield oe(D);x&&(yield x)})).apply(this,arguments)}function Ie(D){return Le.create("missing-app-config-values",{valueName:D})}const Ae="installations",xt=D=>{const x=D.getProvider("app").getImmediate(),U=function Oe(D){if(!D||!D.options)throw Ie("App Configuration");if(!D.name)throw Ie("App Name");const x=["projectId","apiKey","appId"];for(const U of x)if(!D.options[U])throw Ie(U);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:U,heartbeatServiceProvider:(0,De._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},gn=D=>{const x=D.getProvider("app").getImmediate(),U=(0,De._getProvider)(x,Ae).getImmediate();return{getId:()=>function Xr(D){return $s.apply(this,arguments)}(U),getToken:Ee=>function js(D){return jr.apply(this,arguments)}(U,Ee)}};(function kn(){(0,De._registerComponent)(new we.wA(Ae,xt,"PUBLIC")),(0,De._registerComponent)(new we.wA("installations-internal",gn,"PRIVATE"))})(),(0,De.registerVersion)(Ve,it),(0,De.registerVersion)(Ve,it,"esm2017");const mn="@firebase/remote-config",di=new Se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ra{constructor(x,U,re,Ee){this.client=x,this.storage=U,this.storageCache=re,this.logger=Ee}isCachedDataFresh(x,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const re=Date.now()-U,Ee=re<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${re}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${Ee}.`),Ee}fetch(x){var U=this;return(0,q.Z)(function*(){const[re,Ee]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(Ee&&U.isCachedDataFresh(x.cacheMaxAgeMillis,re))return Ee;x.eTag=Ee&&Ee.eTag;const Fe=yield U.client.fetch(x),vt=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Fe.status&&vt.push(U.storage.setLastSuccessfulFetchResponse(Fe)),yield Promise.all(vt),Fe})()}}function Bo(D=navigator){return D.languages&&D.languages[0]||D.language}class Fi{constructor(x,U,re,Ee,Fe,vt){this.firebaseInstallations=x,this.sdkVersion=U,this.namespace=re,this.projectId=Ee,this.apiKey=Fe,this.appId=vt}fetch(x){var U=this;return(0,q.Z)(function*(){const[re,Ee]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),vt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Yt={sdk_version:U.sdkVersion,app_instance_id:re,app_instance_id_token:Ee,app_id:U.appId,language_code:Bo()},_n={method:"POST",headers:Qt,body:JSON.stringify(Yt)},Gn=fetch(vt,_n),jn=new Promise((Qi,pa)=>{x.signal.addEventListener(()=>{const Gr=new Error("The operation was aborted.");Gr.name="AbortError",pa(Gr)})});let Fo;try{yield Promise.race([Gn,jn]),Fo=yield Gn}catch(Qi){let pa="fetch-client-network";throw"AbortError"===Qi?.name&&(pa="fetch-timeout"),di.create(pa,{originalErrorMessage:Qi?.message})}let as=Fo.status;const tu=Fo.headers.get("ETag")||void 0;let Yi,fa;if(200===Fo.status){let Qi;try{Qi=yield Fo.json()}catch(pa){throw di.create("fetch-client-parse",{originalErrorMessage:pa?.message})}Yi=Qi.entries,fa=Qi.state}if("INSTANCE_STATE_UNSPECIFIED"===fa?as=500:"NO_CHANGE"===fa?as=304:("NO_TEMPLATE"===fa||"EMPTY_CONFIG"===fa)&&(Yi={}),304!==as&&200!==as)throw di.create("fetch-status",{httpStatus:as});return{status:as,eTag:tu,config:Yi}})()}}class Do{constructor(x,U){this.client=x,this.storage=U}fetch(x){var U=this;return(0,q.Z)(function*(){const re=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(x,re)})()}attemptFetch(x,{throttleEndTimeMillis:U,backoffCount:re}){var Ee=this;return(0,q.Z)(function*(){yield function go(D,x){return new Promise((U,re)=>{const Ee=Math.max(x-Date.now(),0),Fe=setTimeout(U,Ee);D.addEventListener(()=>{clearTimeout(Fe),re(di.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,U);try{const Fe=yield Ee.client.fetch(x);return yield Ee.storage.deleteThrottleMetadata(),Fe}catch(Fe){if(!function $o(D){if(!(D instanceof Se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Fe))throw Fe;const vt={throttleEndTimeMillis:Date.now()+(0,Se.$s)(re),backoffCount:re+1};return yield Ee.storage.setThrottleMetadata(vt),Ee.attemptFetch(x,vt)}})()}}class jo{constructor(x,U,re,Ee,Fe){this.app=x,this._client=U,this._storageCache=re,this._storage=Ee,this._logger=Fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xs(D,x){const U=D.target.error||void 0;return di.create(x,{originalErrorMessage:U&&U?.message})}const rs="app_namespace_store";class Ho{constructor(x,U,re,Ee=function bo(){return new Promise((D,x)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=re=>{x(xs(re,"storage-open"))},U.onsuccess=re=>{D(re.target.result)},U.onupgradeneeded=re=>{0===re.oldVersion&&re.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(U){x(di.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=x,this.appName=U,this.namespace=re,this.openDbPromise=Ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var U=this;return(0,q.Z)(function*(){const re=yield U.openDbPromise;return new Promise((Ee,Fe)=>{const Qt=re.transaction([rs],"readonly").objectStore(rs),Yt=U.createCompositeKey(x);try{const _n=Qt.get(Yt);_n.onerror=Gn=>{Fe(xs(Gn,"storage-get"))},_n.onsuccess=Gn=>{const jn=Gn.target.result;Ee(jn?jn.value:void 0)}}catch(_n){Fe(di.create("storage-get",{originalErrorMessage:_n?.message}))}})})()}set(x,U){var re=this;return(0,q.Z)(function*(){const Ee=yield re.openDbPromise;return new Promise((Fe,vt)=>{const Yt=Ee.transaction([rs],"readwrite").objectStore(rs),_n=re.createCompositeKey(x);try{const Gn=Yt.put({compositeKey:_n,value:U});Gn.onerror=jn=>{vt(xs(jn,"storage-set"))},Gn.onsuccess=()=>{Fe()}}catch(Gn){vt(di.create("storage-set",{originalErrorMessage:Gn?.message}))}})})()}delete(x){var U=this;return(0,q.Z)(function*(){const re=yield U.openDbPromise;return new Promise((Ee,Fe)=>{const Qt=re.transaction([rs],"readwrite").objectStore(rs),Yt=U.createCompositeKey(x);try{const _n=Qt.delete(Yt);_n.onerror=Gn=>{Fe(xs(Gn,"storage-delete"))},_n.onsuccess=()=>{Ee()}}catch(_n){Fe(di.create("storage-delete",{originalErrorMessage:_n?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class Gi{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,q.Z)(function*(){const U=x.storage.getLastFetchStatus(),re=x.storage.getLastSuccessfulFetchTimestampMillis(),Ee=x.storage.getActiveConfig(),Fe=yield U;Fe&&(x.lastFetchStatus=Fe);const vt=yield re;vt&&(x.lastSuccessfulFetchTimestampMillis=vt);const Qt=yield Ee;Qt&&(x.activeConfig=Qt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Gs(){return mo.apply(this,arguments)}function mo(){return(mo=(0,q.Z)(function*(){if(!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}!function zs(){(0,De._registerComponent)(new we.wA("remote-config",function D(x,{instanceIdentifier:U}){const re=x.getProvider("app").getImmediate(),Ee=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw di.create("registration-window");if(!(0,Se.hl)())throw di.create("indexed-db-unavailable");const{projectId:Fe,apiKey:vt,appId:Qt}=re.options;if(!Fe)throw di.create("registration-project-id");if(!vt)throw di.create("registration-api-key");if(!Qt)throw di.create("registration-app-id");const Yt=new Ho(Qt,re.name,U=U||"firebase"),_n=new Gi(Yt),Gn=new je.Yd(mn);Gn.logLevel=je.in.ERROR;const jn=new Fi(Ee,De.SDK_VERSION,U,Fe,vt,Qt),Fo=new Do(jn,Yt),as=new ra(Fo,Yt,_n,Gn),tu=new jo(re,as,_n,Yt,Gn);return function Ti(D){const x=(0,Se.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(tu),tu},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(mn,"0.4.4"),(0,De.registerVersion)(mn,"0.4.4","esm2017")}();const So=(D,x)=>x.some(U=>D instanceof U);let Ri,Is;const is=new WeakMap,Vi=new WeakMap,Xn=new WeakMap,hs=new WeakMap,fs=new WeakMap;let ps={get(D,x,U){if(D instanceof IDBTransaction){if("done"===x)return Vi.get(D);if("objectStoreNames"===x)return D.objectStoreNames||Xn.get(D);if("store"===x)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return ti(D[x])},set:(D,x,U)=>(D[x]=U,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function Mo(D){return"function"==typeof D?function va(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ws(){return Is||(Is=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(pi(this),x),ti(is.get(this))}:function(...x){return ti(D.apply(pi(this),x))}:function(x,...U){const re=D.call(pi(this),x,...U);return Xn.set(re,x.sort?x.sort():[x]),ti(re)}}(D):(D instanceof IDBTransaction&&function Rs(D){if(Vi.has(D))return;const x=new Promise((U,re)=>{const Ee=()=>{D.removeEventListener("complete",Fe),D.removeEventListener("error",vt),D.removeEventListener("abort",vt)},Fe=()=>{U(),Ee()},vt=()=>{re(D.error||new DOMException("AbortError","AbortError")),Ee()};D.addEventListener("complete",Fe),D.addEventListener("error",vt),D.addEventListener("abort",vt)});Vi.set(D,x)}(D),So(D,function Ao(){return Ri||(Ri=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,ps):D)}function ti(D){if(D instanceof IDBRequest)return function Yn(D){const x=new Promise((U,re)=>{const Ee=()=>{D.removeEventListener("success",Fe),D.removeEventListener("error",vt)},Fe=()=>{U(ti(D.result)),Ee()},vt=()=>{re(D.error),Ee()};D.addEventListener("success",Fe),D.addEventListener("error",vt)});return x.then(U=>{U instanceof IDBCursor&&is.set(U,D)}).catch(()=>{}),fs.set(x,D),x}(D);if(hs.has(D))return hs.get(D);const x=Mo(D);return x!==D&&(hs.set(D,x),fs.set(x,D)),x}const pi=D=>fs.get(D);function gs(D,x,{blocked:U,upgrade:re,blocking:Ee,terminated:Fe}={}){const vt=indexedDB.open(D,x),Qt=ti(vt);return re&&vt.addEventListener("upgradeneeded",Yt=>{re(ti(vt.result),Yt.oldVersion,Yt.newVersion,ti(vt.transaction))}),U&&vt.addEventListener("blocked",()=>U()),Qt.then(Yt=>{Fe&&Yt.addEventListener("close",()=>Fe()),Ee&&Yt.addEventListener("versionchange",()=>Ee())}).catch(()=>{}),Qt}function Ds(D,{blocked:x}={}){const U=indexedDB.deleteDatabase(D);return x&&U.addEventListener("blocked",()=>x()),ti(U).then(()=>{})}const yo=["get","getKey","getAll","getAllKeys","count"],lr=["put","add","delete","clear"],Pi=new Map;function Ui(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(Pi.get(x))return Pi.get(x);const U=x.replace(/FromIndex$/,""),re=x!==U,Ee=lr.includes(U);if(!(U in(re?IDBIndex:IDBObjectStore).prototype)||!Ee&&!yo.includes(U))return;const Fe=function(){var vt=(0,q.Z)(function*(Qt,...Yt){const _n=this.transaction(Qt,Ee?"readwrite":"readonly");let Gn=_n.store;return re&&(Gn=Gn.index(Yt.shift())),(yield Promise.all([Gn[U](...Yt),Ee&&_n.done]))[0]});return function(Yt){return vt.apply(this,arguments)}}();return Pi.set(x,Fe),Fe}!function si(D){ps=D(ps)}(D=>({...D,get:(x,U,re)=>Ui(x,U)||D.get(x,U,re),has:(x,U)=>!!Ui(x,U)||D.has(x,U)}));const Pn="/firebase-messaging-sw.js",zo="/firebase-cloud-messaging-push-scope",ia="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="https://fcmregistrations.googleapis.com/v1",to="google.c.a.c_id",sa="google.c.a.c_l",no="google.c.a.ts",Ns="google.c.a.e";var R=(()=>{return(D=R||(R={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",R;var D})();function O(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(D){const U=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),re=atob(U),Ee=new Uint8Array(re.length);for(let Fe=0;Fe<re.length;++Fe)Ee[Fe]=re.charCodeAt(Fe);return Ee}const X="fcm_token_details_db",He=5,pn="fcm_token_object_Store";function kr(){return kr=(0,q.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Fe=>Fe.name).includes(X))return null;let x=null;return(yield gs(X,He,{upgrade:(re=(0,q.Z)(function*(Ee,Fe,vt,Qt){var Yt;if(Fe<2||!Ee.objectStoreNames.contains(pn))return;const _n=Qt.objectStore(pn),Gn=yield _n.index("fcmSenderId").get(D);if(yield _n.clear(),Gn)if(2===Fe){const jn=Gn;if(!jn.auth||!jn.p256dh||!jn.endpoint)return;x={token:jn.fcmToken,createTime:null!==(Yt=jn.createTime)&&void 0!==Yt?Yt:Date.now(),subscriptionOptions:{auth:jn.auth,p256dh:jn.p256dh,endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:"string"==typeof jn.vapidKey?jn.vapidKey:O(jn.vapidKey)}}}else if(3===Fe){const jn=Gn;x={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:O(jn.auth),p256dh:O(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:O(jn.vapidKey)}}}else if(4===Fe){const jn=Gn;x={token:jn.fcmToken,createTime:jn.createTime,subscriptionOptions:{auth:O(jn.auth),p256dh:O(jn.p256dh),endpoint:jn.endpoint,swScope:jn.swScope,vapidKey:O(jn.vapidKey)}}}}),function(Fe,vt,Qt,Yt){return re.apply(this,arguments)})})).close(),yield Ds(X),yield Ds("fcm_vapid_details_db"),yield Ds("undefined"),function ss(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var re}),kr.apply(this,arguments)}const ro="firebase-messaging-database",vo=1,_i="firebase-messaging-store";let Ci=null;function Zr(){return Ci||(Ci=gs(ro,vo,{upgrade:(D,x)=>{0===x&&D.createObjectStore(_i)}})),Ci}function Ni(D){return io.apply(this,arguments)}function io(){return io=(0,q.Z)(function*(D){const x=Za(D),re=yield(yield Zr()).transaction(_i).objectStore(_i).get(x);if(re)return re;{const Ee=yield function _r(D){return kr.apply(this,arguments)}(D.appConfig.senderId);if(Ee)return yield Er(D,Ee),Ee}}),io.apply(this,arguments)}function Er(D,x){return os.apply(this,arguments)}function os(){return(os=(0,q.Z)(function*(D,x){const U=Za(D),Ee=(yield Zr()).transaction(_i,"readwrite");return yield Ee.objectStore(_i).put(x,U),yield Ee.done,x})).apply(this,arguments)}function Ts(){return(Ts=(0,q.Z)(function*(D){const x=Za(D),re=(yield Zr()).transaction(_i,"readwrite");yield re.objectStore(_i).delete(x),yield re.done})).apply(this,arguments)}function Za({appConfig:D}){return D.appId}const Ei=new Se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _a(D,x){return oa.apply(this,arguments)}function oa(){return(oa=(0,q.Z)(function*(D,x){const U=yield Go(D),re=_(x),Ee={method:"POST",headers:U,body:JSON.stringify(re)};let Fe;try{Fe=yield(yield fetch(wa(D.appConfig),Ee)).json()}catch(vt){throw Ei.create("token-subscribe-failed",{errorInfo:vt?.toString()})}if(Fe.error)throw Ei.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function so(){return(so=(0,q.Z)(function*(D,x){const U=yield Go(D),re=_(x.subscriptionOptions),Ee={method:"PATCH",headers:U,body:JSON.stringify(re)};let Fe;try{Fe=yield(yield fetch(`${wa(D.appConfig)}/${x.token}`,Ee)).json()}catch(vt){throw Ei.create("token-update-failed",{errorInfo:vt?.toString()})}if(Fe.error)throw Ei.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw Ei.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function ms(D,x){return Os.apply(this,arguments)}function Os(){return(Os=(0,q.Z)(function*(D,x){const re={method:"DELETE",headers:yield Go(D)};try{const Fe=yield(yield fetch(`${wa(D.appConfig)}/${x}`,re)).json();if(Fe.error)throw Ei.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(Ee){throw Ei.create("token-unsubscribe-failed",{errorInfo:Ee?.toString()})}})).apply(this,arguments)}function wa({projectId:D}){return`${Ps}/projects/${D}/registrations`}function Go(D){return $.apply(this,arguments)}function $(){return($=(0,q.Z)(function*({appConfig:D,installations:x}){const U=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function _({p256dh:D,auth:x,endpoint:U,vapidKey:re}){const Ee={web:{endpoint:U,auth:x,p256dh:D}};return re!==ia&&(Ee.web.applicationPubKey=re),Ee}const w=6048e5;function K(){return K=(0,q.Z)(function*(D){const x=yield function cn(D,x){return ir.apply(this,arguments)}(D.swRegistration,D.vapidKey),U={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:O(x.getKey("auth")),p256dh:O(x.getKey("p256dh"))},re=yield Ni(D.firebaseDependencies);if(re){if(function er(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}(re.subscriptionOptions,U))return Date.now()>=re.createTime+w?function fe(D,x){return Ge.apply(this,arguments)}(D,{token:re.token,createTime:Date.now(),subscriptionOptions:U}):re.token;try{yield ms(D.firebaseDependencies,re.token)}catch(Ee){console.warn(Ee)}return mt(D.firebaseDependencies,U)}return mt(D.firebaseDependencies,U)}),K.apply(this,arguments)}function ge(){return ge=(0,q.Z)(function*(D){const x=yield Ni(D.firebaseDependencies);x&&(yield ms(D.firebaseDependencies,x.token),yield function _o(D){return Ts.apply(this,arguments)}(D.firebaseDependencies));const U=yield D.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()}),ge.apply(this,arguments)}function Ge(){return Ge=(0,q.Z)(function*(D,x){try{const U=yield function Ea(D,x){return so.apply(this,arguments)}(D.firebaseDependencies,x),re=Object.assign(Object.assign({},x),{token:U,createTime:Date.now()});return yield Er(D.firebaseDependencies,re),U}catch(U){throw yield function te(D){return ge.apply(this,arguments)}(D),U}}),Ge.apply(this,arguments)}function mt(D,x){return qt.apply(this,arguments)}function qt(){return(qt=(0,q.Z)(function*(D,x){const re={token:yield _a(D,x),createTime:Date.now(),subscriptionOptions:x};return yield Er(D,re),re.token})).apply(this,arguments)}function ir(){return(ir=(0,q.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(x)})})).apply(this,arguments)}function Tn(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function An(D,x){if(!x.notification)return;D.notification={};const U=x.notification.title;U&&(D.notification.title=U);const re=x.notification.body;re&&(D.notification.body=re);const Ee=x.notification.image;Ee&&(D.notification.image=Ee);const Fe=x.notification.icon;Fe&&(D.notification.icon=Fe)}(x,D),function cr(D,x){x.data&&(D.data=x.data)}(x,D),function A(D,x){var U,re,Ee,Fe,vt;if(!(x.fcmOptions||null!==(U=x.notification)&&void 0!==U&&U.click_action))return;D.fcmOptions={};const Qt=null!==(Ee=null===(re=x.fcmOptions)||void 0===re?void 0:re.link)&&void 0!==Ee?Ee:null===(Fe=x.notification)||void 0===Fe?void 0:Fe.click_action;Qt&&(D.fcmOptions.link=Qt);const Yt=null===(vt=x.fcmOptions)||void 0===vt?void 0:vt.analytics_label;Yt&&(D.fcmOptions.analyticsLabel=Yt)}(x,D),x}function N(D,x){const U=[];for(let re=0;re<D.length;re++)U.push(D.charAt(re)),re<x.length&&U.push(x.charAt(re));return U.join("")}function ue(D){return Ei.create("missing-app-config-values",{valueName:D})}N("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),N("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xe{constructor(x,U,re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ee=function Z(D){if(!D||!D.options)throw ue("App Configuration Object");if(!D.name)throw ue("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:U}=D;for(const re of x)if(!U[re])throw ue(re);return{appName:D.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:Ee,installations:U,analyticsProvider:re}}_delete(){return Promise.resolve()}}function Ye(D){return nn.apply(this,arguments)}function nn(){return(nn=(0,q.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Pn,{scope:zo}),D.swRegistration.update().catch(()=>{})}catch(x){throw Ei.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function $n(){return($n=(0,q.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Ye(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Ei.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function Bn(){return(Bn=(0,q.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=ia)})).apply(this,arguments)}function Ir(){return Ir=(0,q.Z)(function*(D,x){if(!navigator)throw Ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ei.create("permission-blocked");return yield function wr(D,x){return Bn.apply(this,arguments)}(D,x?.vapidKey),yield function or(D,x){return $n.apply(this,arguments)}(D,x?.serviceWorkerRegistration),function F(D){return K.apply(this,arguments)}(D)}),Ir.apply(this,arguments)}function rn(){return(rn=(0,q.Z)(function*(D,x,U){const re=function sn(D){switch(D){case R.NOTIFICATION_CLICKED:return"notification_open";case R.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(re,{message_id:U[to],message_name:U[sa],message_time:U[no],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nn(){return Nn=(0,q.Z)(function*(D,x){const U=x.data;if(!U.isFirebaseMessaging)return;D.onMessageHandler&&U.messageType===R.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Tn(U)):D.onMessageHandler.next(Tn(U)));const re=U.data;(function B(D){return"object"==typeof D&&!!D&&to in D})(re)&&"1"===re[Ns]&&(yield function hi(D,x,U){return rn.apply(this,arguments)}(D,U.messageType,re))}),Nn.apply(this,arguments)}const Ar="@firebase/messaging",ni=D=>{const x=new Xe(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function vn(D,x){return Nn.apply(this,arguments)}(x,U)),x},Wi=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:re=>function Fr(D,x){return Ir.apply(this,arguments)}(x,re)}};function au(){return aa.apply(this,arguments)}function aa(){return(aa=(0,q.Z)(function*(){try{yield(0,Se.eu)()}catch{return!1}return typeof window<"u"&&(0,Se.hl)()&&(0,Se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lr(){(0,De._registerComponent)(new we.wA("messaging",ni,"PUBLIC")),(0,De._registerComponent)(new we.wA("messaging-internal",Wi,"PRIVATE")),(0,De.registerVersion)(Ar,"0.12.4"),(0,De.registerVersion)(Ar,"0.12.4","esm2017")}();const ua="analytics",Oa="firebase_id",Ku="origin",Wo=6e4,uu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lu="https://www.googletagmanager.com/gtag/js",Bi=new je.Yd("@firebase/analytics"),oi=new Se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ai(D){if(!D.startsWith(lu)){const x=oi.create("invalid-gtag-resource",{gtagURL:D});return Bi.warn(x.message),""}return D}function Da(D){return Promise.all(D.map(x=>x.catch(U=>U)))}function Ta(){return(Ta=(0,q.Z)(function*(D,x,U,re,Ee,Fe){const vt=re[Ee];try{if(vt)yield x[vt];else{const Yt=(yield Da(U)).find(_n=>_n.measurementId===Ee);Yt&&(yield x[Yt.appId])}}catch(Qt){Bi.error(Qt)}D("config",Ee,Fe)})).apply(this,arguments)}function Ya(){return(Ya=(0,q.Z)(function*(D,x,U,re,Ee){try{let Fe=[];if(Ee&&Ee.send_to){let vt=Ee.send_to;Array.isArray(vt)||(vt=[vt]);const Qt=yield Da(U);for(const Yt of vt){const _n=Qt.find(jn=>jn.measurementId===Yt),Gn=_n&&x[_n.appId];if(!Gn){Fe=[];break}Fe.push(Gn)}}0===Fe.length&&(Fe=Object.values(x)),yield Promise.all(Fe),D("event",re,Ee||{})}catch(Fe){Bi.error(Fe)}})).apply(this,arguments)}const ka=30,ca=new class Su{constructor(x={},U=1e3){this.throttleMetadata=x,this.intervalMillis=U}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,U){this.throttleMetadata[x]=U}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function ks(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Qn(){return(Qn=(0,q.Z)(function*(D){var x;const{appId:U,apiKey:re}=D,Ee={method:"GET",headers:ks(re)},Fe=uu.replace("{app-id}",U),vt=yield fetch(Fe,Ee);if(200!==vt.status&&304!==vt.status){let Qt="";try{const Yt=yield vt.json();null!==(x=Yt.error)&&void 0!==x&&x.message&&(Qt=Yt.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:Qt})}return vt.json()})).apply(this,arguments)}function Au(){return(Au=(0,q.Z)(function*(D,x=ca,U){const{appId:re,apiKey:Ee,measurementId:Fe}=D.options;if(!re)throw oi.create("no-app-id");if(!Ee){if(Fe)return{measurementId:Fe,appId:re};throw oi.create("no-api-key")}const vt=x.getThrottleMetadata(re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new jc;return setTimeout((0,q.Z)(function*(){Qt.abort()}),void 0!==U?U:Wo),Qa({appId:re,apiKey:Ee,measurementId:Fe},vt,Qt,x)})).apply(this,arguments)}function Qa(D,x,U){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,q.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:U},re,Ee=ca){var Fe;const{appId:vt,measurementId:Qt}=D;try{yield function hu(D,x){return new Promise((U,re)=>{const Ee=Math.max(x-Date.now(),0),Fe=setTimeout(U,Ee);D.addEventListener(()=>{clearTimeout(Fe),re(oi.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(re,x)}catch(Yt){if(Qt)return Bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${Yt?.message}]`),{appId:vt,measurementId:Qt};throw Yt}try{const Yt=yield function Zs(D){return Qn.apply(this,arguments)}(D);return Ee.deleteThrottleMetadata(vt),Yt}catch(Yt){const _n=Yt;if(!function fu(D){if(!(D instanceof Se.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(_n)){if(Ee.deleteThrottleMetadata(vt),Qt)return Bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${_n?.message}]`),{appId:vt,measurementId:Qt};throw Yt}const Gn=503===Number(null===(Fe=_n?.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,Se.$s)(U,Ee.intervalMillis,ka):(0,Se.$s)(U,Ee.intervalMillis),jn={throttleEndTimeMillis:Date.now()+Gn,backoffCount:U+1};return Ee.setThrottleMetadata(vt,jn),Bi.debug(`Calling attemptFetch again in ${Gn} millis`),Qa(D,jn,re,Ee)}}),Ja.apply(this,arguments)}class jc{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Fa,Po;function vl(){return(vl=(0,q.Z)(function*(D,x,U,re,Ee){if(Ee&&Ee.global)D("event",U,re);else{const Fe=yield x;D("event",U,Object.assign(Object.assign({},re),{send_to:Fe}))}})).apply(this,arguments)}function ii(){return(ii=(0,q.Z)(function*(){if(!(0,Se.hl)())return Bi.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Se.eu)()}catch(D){return Bi.warn(oi.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ha(){return ha=(0,q.Z)(function*(D,x,U,re,Ee,Fe,vt){var Qt;const Yt=function du(D){return Au.apply(this,arguments)}(D);Yt.then(as=>{U[as.measurementId]=as.appId,D.options.measurementId&&as.measurementId!==D.options.measurementId&&Bi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${as.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(as=>Bi.error(as)),x.push(Yt);const _n=function Rt(){return ii.apply(this,arguments)}().then(as=>{if(as)return re.getId()}),[Gn,jn]=yield Promise.all([Yt,_n]);(function Ki(D){const x=window.document.getElementsByTagName("script");for(const U of Object.values(x))if(U.src&&U.src.includes(lu)&&U.src.includes(D))return U;return null})(Fe)||function Ro(D,x){const U=function la(D,x){let U;return window.trustedTypes&&(U=window.trustedTypes.createPolicy(D,x)),U}("firebase-js-sdk-policy",{createScriptURL:ai}),re=document.createElement("script"),Ee=`${lu}?l=${D}&id=${x}`;re.src=U?U?.createScriptURL(Ee):Ee,re.async=!0,document.head.appendChild(re)}(Fe,Gn.measurementId),Po&&(Ee("consent","default",Po),function Va(D){Po=D}(void 0)),Ee("js",new Date);const Fo=null!==(Qt=vt?.config)&&void 0!==Qt?Qt:{};return Fo[Ku]="firebase",Fo.update=!0,null!=jn&&(Fo[Oa]=jn),Ee("config",Gn.measurementId,Fo),Fa&&(Ee("set",Fa),function _l(D){Fa=D}(void 0)),Gn.measurementId}),ha.apply(this,arguments)}class y{constructor(x){this.app=x}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},m=[];const T={};let Y,Me,M="dataLayer",V="gtag",_t=!1;function gr(D,x,U){!function Zt(){const D=[];if((0,Se.ru)()&&D.push("This is a browser extension environment."),(0,Se.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((re,Ee)=>`(${Ee+1}) ${re}`).join(" "),U=oi.create("invalid-analytics-context",{errorInfo:x});Bi.warn(U.message)}}();const re=D.options.appId;if(!re)throw oi.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw oi.create("no-api-key");Bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[re])throw oi.create("already-exists",{id:re});if(!_t){!function qu(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(M);const{wrappedGtag:Fe,gtagCore:vt}=function Cs(D,x,U,re,Ee){let Fe=function(...vt){window[re].push(arguments)};return window[Ee]&&"function"==typeof window[Ee]&&(Fe=window[Ee]),window[Ee]=function Ca(D,x,U,re){function Fe(){return Fe=(0,q.Z)(function*(vt,...Qt){try{if("event"===vt){const[Yt,_n]=Qt;yield function ri(D,x,U,re,Ee){return Ya.apply(this,arguments)}(D,x,U,Yt,_n)}else if("config"===vt){const[Yt,_n]=Qt;yield function qs(D,x,U,re,Ee,Fe){return Ta.apply(this,arguments)}(D,x,U,re,Yt,_n)}else if("consent"===vt){const[Yt]=Qt;D("consent","update",Yt)}else if("get"===vt){const[Yt,_n,Gn]=Qt;D("get",Yt,_n,Gn)}else if("set"===vt){const[Yt]=Qt;D("set",Yt)}else D(vt,...Qt)}catch(Yt){Bi.error(Yt)}}),Fe.apply(this,arguments)}return function Ee(vt){return Fe.apply(this,arguments)}}(Fe,D,x,U),{gtagCore:Fe,wrappedGtag:window[Ee]}}(E,m,T,M,V);Me=Fe,Y=vt,_t=!0}return E[re]=function bs(D,x,U,re,Ee,Fe,vt){return ha.apply(this,arguments)}(D,m,T,x,Y,M,U),new y(D)}function Zo(){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,q.Z)(function*(){if((0,Se.ru)()||!(0,Se.zI)()||!(0,Se.hl)())return!1;try{return yield(0,Se.eu)()}catch{return!1}})).apply(this,arguments)}const Hc="@firebase/analytics";!function Xt(){(0,De._registerComponent)(new we.wA(ua,(x,{options:U})=>gr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,De._registerComponent)(new we.wA("analytics-internal",function D(x){try{const U=x.getProvider(ua).getImmediate();return{logEvent:(re,Ee,Fe)=>function Yu(D,x,U,re){D=(0,Se.m9)(D),function Zu(D,x,U,re,Ee){return vl.apply(this,arguments)}(Me,E[D.app.options.appId],x,U,re).catch(Ee=>Bi.error(Ee))}(U,re,Ee,Fe)}}catch(U){throw oi.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,De.registerVersion)(Hc,"0.10.0"),(0,De.registerVersion)(Hc,"0.10.0","esm2017")}();var El=W(727);class oc extends El.w0{constructor(x,U){super()}schedule(x,U=0){return this}}const lo={setInterval(D,x,...U){const{delegate:re}=lo;return re?.setInterval?re.setInterval(D,x,...U):setInterval(D,x,...U)},clearInterval(D){const{delegate:x}=lo;return(x?.clearInterval||clearInterval)(D)},delegate:void 0};var zc=W(8737);class Qu extends oc{constructor(x,U){super(x,U),this.scheduler=x,this.work=U,this.pending=!1}schedule(x,U=0){var re;if(this.closed)return this;this.state=x;const Ee=this.id,Fe=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Fe,Ee,U)),this.pending=!0,this.delay=U,this.id=null!==(re=this.id)&&void 0!==re?re:this.requestAsyncId(Fe,this.id,U),this}requestAsyncId(x,U,re=0){return lo.setInterval(x.flush.bind(x,this),re)}recycleAsyncId(x,U,re=0){if(null!=re&&this.delay===re&&!1===this.pending)return U;null!=U&&lo.clearInterval(U)}execute(x,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(x,U);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,U){let Ee,re=!1;try{this.work(x)}catch(Fe){re=!0,Ee=Fe||new Error("Scheduled action threw falsy error")}if(re)return this.unsubscribe(),Ee}unsubscribe(){if(!this.closed){const{id:x,scheduler:U}=this,{actions:re}=U;this.work=this.state=this.scheduler=null,this.pending=!1,(0,zc.P)(re,this),null!=x&&(this.id=this.recycleAsyncId(U,x,null)),this.delay=null,super.unsubscribe()}}}var Il=W(6063);class Ba{constructor(x,U=Ba.now){this.schedulerActionCtor=x,this.now=U}schedule(x,U=0,re){return new this.schedulerActionCtor(this,x).schedule(re,U)}}Ba.now=Il.l.now;class Dl extends Ba{constructor(x,U=Ba.now){super(x,U),this.actions=[],this._active=!1}flush(x){const{actions:U}=this;if(this._active)return void U.push(x);let re;this._active=!0;do{if(re=x.execute(x.state,x.delay))break}while(x=U.shift());if(this._active=!1,re){for(;x=U.shift();)x.unsubscribe();throw re}}}const Tl=new class co extends Dl{}(class wl extends Qu{constructor(x,U){super(x,U),this.scheduler=x,this.work=U}schedule(x,U=0){return U>0?super.schedule(x,U):(this.delay=U,this.state=x,this.scheduler.flush(this),this)}execute(x,U){return U>0||this.closed?super.execute(x,U):this._execute(x,U)}requestAsyncId(x,U,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(x,U,re):(x.flush(this),0)}}),xh=new Dl(Qu);var mu=W(9751),et=W(8505),Cl=W(9468),Yo=W(5363);const Gc=new p.GfV("7.5.0"),xu="__angularfire_symbol__analyticsIsSupportedValue",Sa="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",Oo="__angularfire_symbol__remoteConfigIsSupported",Xu="__angularfire_symbol__messagingIsSupportedValue",Ru="__angularfire_symbol__messagingIsSupported";function tl(D,x,U){if(x){if(1===x.length)return x[0];const Fe=x.filter(vt=>vt.app===U);if(1===Fe.length)return Fe[0]}return U.container.getProvider(D).getImmediate({optional:!0})}globalThis[Sa]||(globalThis[Sa]=Zo().then(D=>globalThis[xu]=D).catch(()=>globalThis[xu]=!1)),globalThis[Ru]||(globalThis[Ru]=au().then(D=>globalThis[Xu]=D).catch(()=>globalThis[Xu]=!1)),globalThis[Oo]||(globalThis[Oo]=Gs().then(D=>globalThis[bl]=D).catch(()=>globalThis[bl]=!1));const ac=(D,x)=>{const U=x?[x]:(0,G.C6)(),re=[];return U.forEach(Ee=>{Ee.container.getProvider(D).instances.forEach(vt=>{re.includes(vt)||re.push(vt)})}),re};function Oi(){}class Wc{constructor(x,U=Tl){this.zone=x,this.delegate=U}now(){return this.delegate.now()}schedule(x,U,re){const Ee=this.zone;return this.delegate.schedule(function(vt){Ee.runGuarded(()=>{x.apply(this,[vt])})},U,re)}}class Kc{constructor(x){this.zone=x,this.task=null}call(x,U){const re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oi,{},Oi,Oi)),U.pipe((0,et.b)({next:re,complete:re,error:re})).subscribe(x).add(re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Aa=(()=>{class D{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Wc(Zone.current)),this.insideAngular=U.run(()=>new Wc(Zone.current,xh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(U){return new(U||D)(p.LFG(p.R0b))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ja(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function eu(D){return ja().ngZone.run(()=>D())}function uc(D){return ja(),function lc(D){return function(U){return(U=U.lift(new Kc(D.ngZone))).pipe((0,Cl.R)(D.outsideAngular),(0,Yo.Q)(D.insideAngular))}}(ja())(D)}const Fs=(D,x)=>function(){const re=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),eu(()=>D.apply(void 0,re))},nl=(D,x)=>function(){let U;const re=arguments;for(let Fe=0;Fe<arguments.length;Fe++)"function"==typeof re[Fe]&&(x&&(U||(U=eu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oi,{},Oi,Oi)))),re[Fe]=Fs(re[Fe],U));const Ee=function Pu(D){return ja().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,re));if(!x){if(Ee instanceof mu.y){const Fe=ja();return Ee.pipe((0,Cl.R)(Fe.outsideAngular),(0,Yo.Q)(Fe.insideAngular))}return eu(()=>Ee)}return Ee instanceof mu.y?Ee.pipe(uc):Ee instanceof Promise?eu(()=>new Promise((Fe,vt)=>Ee.then(Qt=>eu(()=>Fe(Qt)),Qt=>eu(()=>vt(Qt))))):"function"==typeof Ee&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),Ee.apply(this,arguments)}:eu(()=>Ee)}},8502:(un,at,W)=>{W.d(at,{$:()=>Pn,A:()=>he,D:()=>dt,I:()=>Sr,J:()=>xt,L:()=>ts,N:()=>qe,P:()=>bs,Q:()=>Ho,R:()=>Mu,U:()=>ya,V:()=>Gs,W:()=>mo,X:()=>Li,Y:()=>Ao,Z:()=>Ws,_:()=>fs,a:()=>zr,a0:()=>ia,a1:()=>to,a2:()=>qa,a3:()=>pn,a4:()=>kr,a5:()=>ro,a6:()=>_i,a7:()=>Zr,a8:()=>io,a9:()=>os,aA:()=>ke,aB:()=>gu,aC:()=>ie,aD:()=>ft,aE:()=>Dl,aF:()=>Cn,aG:()=>Ii,aH:()=>Zn,aL:()=>xo,aO:()=>Ri,aa:()=>_o,ab:()=>Za,ac:()=>bu,ad:()=>Ea,ae:()=>ms,af:()=>wa,ai:()=>w,aj:()=>K,ak:()=>te,an:()=>va,ao:()=>An,aq:()=>Bn,ar:()=>Ar,as:()=>on,at:()=>de,au:()=>ve,av:()=>Be,aw:()=>Ee,ax:()=>Yo,ay:()=>rt,az:()=>_e,b:()=>bi,c:()=>Me,d:()=>gr,e:()=>Jt,f:()=>Hc,g:()=>zc,h:()=>El,i:()=>oo,j:()=>Il,k:()=>_n,l:()=>La,m:()=>Fo,p:()=>Ne,r:()=>ba,s:()=>qo,u:()=>Rt});var p=W(5861),G=W(2090),q=W(6881),De=W(655),Se=W(1877),we=W(4859);const Ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},he={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const dt=function Ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Gt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yt=new Se.Yd("@firebase/auth");function At(I,...d){yt.logLevel<=Se.in.ERROR&&yt.error(`Auth (${q.SDK_VERSION}): ${I}`,...d)}function Be(I,...d){throw ot(I,...d)}function _e(I,...d){return ot(I,...d)}function nt(I,d,g){const C=Object.assign(Object.assign({},ht()),{[d]:g});return new G.LL("auth","Firebase",C).create(d,{appName:I.name})}function Tt(I,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Be(I,"argument-error"),nt(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(I,...d){if("string"!=typeof I){const g=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(g,...C)}return Gt.create(I,...d)}function ke(I,d,...g){if(!I)throw ot(d,...g)}function Pt(I){const d="INTERNAL ASSERTION FAILED: "+I;throw At(d),new Error(d)}function on(I,d){I||Pt(d)}function jt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function yn(){return"http:"===Ut()||"https:"===Ut()}function Ut(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class We{constructor(d,g){this.shortDelay=d,this.longDelay=g,on(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(yn()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lt(I,d){on(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class wt{static initialize(d,g,C){this.fetchImpl=d,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ot=new We(3e4,6e4);function Te(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function Ke(I,d,g,C){return ye.apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(I,d,g,C,H={}){return Le(I,H,(0,p.Z)(function*(){let ee={},Pe={};C&&("GET"===d?Pe=C:ee={body:JSON.stringify(C)});const ut=(0,G.xO)(Object.assign({key:I.config.apiKey},Pe)).slice(1),Bt=yield I._getAdditionalHeaders();return Bt["Content-Type"]="application/json",I.languageCode&&(Bt["X-Firebase-Locale"]=I.languageCode),wt.fetch()(zn(I,I.config.apiHost,g,ut),Object.assign({method:d,headers:Bt,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Le(I,d,g){return It.apply(this,arguments)}function It(){return(It=(0,p.Z)(function*(I,d,g){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},ct),d);try{const H=new yr(I),ee=yield Promise.race([g(),H.promise]);H.clearNetworkTimeout();const Pe=yield ee.json();if("needConfirmation"in Pe)throw fr(I,"account-exists-with-different-credential",Pe);if(ee.ok&&!("errorMessage"in Pe))return Pe;{const ut=ee.ok?Pe.errorMessage:Pe.error.message,[Bt,dn]=ut.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Bt)throw fr(I,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===Bt)throw fr(I,"email-already-in-use",Pe);if("USER_DISABLED"===Bt)throw fr(I,"user-disabled",Pe);const En=C[Bt]||Bt.toLowerCase().replace(/[_\s]+/g,"-");if(dn)throw nt(I,En,dn);Be(I,En)}}catch(H){if(H instanceof G.ZR)throw H;Be(I,"network-request-failed",{message:String(H)})}})).apply(this,arguments)}function $t(I,d,g,C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(I,d,g,C,H={}){const ee=yield Ke(I,d,g,C,H);return"mfaPendingCredential"in ee&&Be(I,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function zn(I,d,g,C){const H=`${d}${g}?${C}`;return I.config.emulator?lt(I.config,H):`${I.config.apiScheme}://${H}`}class yr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(_e(this.auth,"network-request-failed")),Ot.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fr(I,d,g){const C={appName:I.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const H=_e(I,d,C);return H.customData._tokenResponse=g,H}function ar(){return(ar=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ln(){return(ln=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Rn(){return(Rn=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function kt(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function nr(){return(nr=(0,p.Z)(function*(I,d=!1){const g=(0,G.m9)(I),C=yield g.getIdToken(d),H=mi(C);ke(H&&H.exp&&H.auth_time&&H.iat,g.auth,"internal-error");const ee="object"==typeof H.firebase?H.firebase:void 0,Pe=ee?.sign_in_provider;return{claims:H,token:C,authTime:kt(Jr(H.auth_time)),issuedAtTime:kt(Jr(H.iat)),expirationTime:kt(Jr(H.exp)),signInProvider:Pe||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Jr(I){return 1e3*Number(I)}function mi(I){const[d,g,C]=I.split(".");if(void 0===d||void 0===g||void 0===C)return At("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,G.tV)(g);return H?JSON.parse(H):(At("Failed to decode base64 JWT payload"),null)}catch(H){return At("Caught error parsing JWT payload as JSON",H?.toString()),null}}function Sn(I,d){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,p.Z)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(C){throw C instanceof G.ZR&&function Vt({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class Rr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const H=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),C)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class $r{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(I){return li.apply(this,arguments)}function li(){return li=(0,p.Z)(function*(I){var d;const g=I.auth,C=yield I.getIdToken(),H=yield Sn(I,function Kr(I,d){return Rn.apply(this,arguments)}(g,{idToken:C}));ke(H?.users.length,g,"internal-error");const ee=H.users[0];I._notifyReloadListener(ee);const Pe=null!==(d=ee.providerUserInfo)&&void 0!==d&&d.length?function Xi(I){return I.map(d=>{var{providerId:g}=d,C=(0,De._T)(d,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ee.providerUserInfo):[],ut=function ur(I,d){return[...I.filter(C=>!d.some(H=>H.providerId===C.providerId)),...d]}(I.providerData,Pe),En=!!I.isAnonymous&&!(I.email&&ee.passwordHash||ut?.length),Wn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:ut,metadata:new $r(ee.createdAt,ee.lastLoginAt),isAnonymous:En};Object.assign(I,Wn)}),li.apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(I){const d=(0,G.m9)(I);yield Pr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function yi(){return(yi=(0,p.Z)(function*(I,d){const g=yield Le(I,{},(0,p.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:H,apiKey:ee}=I.config,Pe=zn(I,H,"/v1/token",`key=${ee}`),ut=yield I._getAdditionalHeaders();return ut["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(Pe,{method:"POST",headers:ut,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class On{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){ke(d.idToken,"internal-error"),ke(typeof d.idToken<"u","internal-error"),ke(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Mn(I){const d=mi(I);return ke(d,"internal-error"),ke(typeof d.exp<"u","internal-error"),ke(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var C=this;return(0,p.Z)(function*(){return ke(!C.accessToken||C.refreshToken,d,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var C=this;return(0,p.Z)(function*(){const{accessToken:H,refreshToken:ee,expiresIn:Pe}=yield function qn(I,d){return yi.apply(this,arguments)}(d,g);C.updateTokensAndExpiration(H,ee,Number(Pe))})()}updateTokensAndExpiration(d,g,C){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,g){const{refreshToken:C,accessToken:H,expirationTime:ee}=g,Pe=new On;return C&&(ke("string"==typeof C,"internal-error",{appName:d}),Pe.refreshToken=C),H&&(ke("string"==typeof H,"internal-error",{appName:d}),Pe.accessToken=H),ee&&(ke("number"==typeof ee,"internal-error",{appName:d}),Pe.expirationTime=ee),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new On,this.toJSON())}_performRefresh(){return Pt("not implemented")}}function Dt(I,d){ke("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Cr{constructor(d){var{uid:g,auth:C,stsTokenManager:H}=d,ee=(0,De._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new $r(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const C=yield Sn(g,g.stsTokenManager.getToken(g.auth,d));return ke(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(d){return function ui(I){return nr.apply(this,arguments)}(this,d)}reload(){return function Tr(I){return ci.apply(this,arguments)}(this)}_assign(d){this!==d&&(ke(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Cr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var C=this;return(0,p.Z)(function*(){let H=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),H=!0),g&&(yield Pr(C)),yield C.auth._persistUserIfCurrent(C),H&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield Sn(d,function pr(I,d){return ar.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var C,H,ee,Pe,ut,Bt,dn,En;const Wn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Qs=null!==(H=g.email)&&void 0!==H?H:void 0,Eo=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,ga=null!==(Pe=g.photoURL)&&void 0!==Pe?Pe:void 0,cc=null!==(ut=g.tenantId)&&void 0!==ut?ut:void 0,ma=null!==(Bt=g._redirectEventId)&&void 0!==Bt?Bt:void 0,Rd=null!==(dn=g.createdAt)&&void 0!==dn?dn:void 0,Nu=null!==(En=g.lastLoginAt)&&void 0!==En?En:void 0,{uid:Ml,emailVerified:xl,isAnonymous:nu,providerData:Rl,stsTokenManager:yu}=g;ke(Ml&&yu,d,"internal-error");const dc=On.fromJSON(this.name,yu);ke("string"==typeof Ml,d,"internal-error"),Dt(Wn,d.name),Dt(Qs,d.name),ke("boolean"==typeof xl,d,"internal-error"),ke("boolean"==typeof nu,d,"internal-error"),Dt(Eo,d.name),Dt(ga,d.name),Dt(cc,d.name),Dt(ma,d.name),Dt(Rd,d.name),Dt(Nu,d.name);const hc=new Cr({uid:Ml,auth:d,email:Qs,emailVerified:xl,displayName:Wn,isAnonymous:nu,photoURL:ga,phoneNumber:Eo,tenantId:cc,stsTokenManager:dc,createdAt:Rd,lastLoginAt:Nu});return Rl&&Array.isArray(Rl)&&(hc.providerData=Rl.map(Pl=>Object.assign({},Pl))),ma&&(hc._redirectEventId=ma),hc}static _fromIdTokenResponse(d,g,C=!1){return(0,p.Z)(function*(){const H=new On;H.updateFromServerResponse(g);const ee=new Cr({uid:g.localId,auth:d,stsTokenManager:H,isAnonymous:C});return yield Pr(ee),ee})()}}const st=new Map;function ie(I){on(I instanceof Function,"Expected a class definition");let d=st.get(I);return d?(on(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,st.set(I,d),d)}const qe=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,C){var H=this;return(0,p.Z)(function*(){H.storage[g]=C})()}_get(g){var C=this;return(0,p.Z)(function*(){const H=C.storage[g];return void 0===H?null:H})()}_remove(g){var C=this;return(0,p.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return I.type="NONE",I})();function ft(I,d,g){return`firebase:${I}:${d}:${g}`}class oe{constructor(d,g,C){this.persistence=d,this.auth=g,this.userKey=C;const{config:H,name:ee}=this.auth;this.fullUserKey=ft(this.userKey,H.apiKey,ee),this.fullPersistenceKey=ft("persistence",H.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Cr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,C="authUser"){return(0,p.Z)(function*(){if(!g.length)return new oe(ie(qe),d,C);const H=(yield Promise.all(g.map(function(){var dn=(0,p.Z)(function*(En){if(yield En._isAvailable())return En});return function(En){return dn.apply(this,arguments)}}()))).filter(dn=>dn);let ee=H[0]||ie(qe);const Pe=ft(C,d.config.apiKey,d.name);let ut=null;for(const dn of g)try{const En=yield dn._get(Pe);if(En){const Wn=Cr._fromJSON(d,En);dn!==ee&&(ut=Wn),ee=dn;break}}catch{}const Bt=H.filter(dn=>dn._shouldAllowMigration);return ee._shouldAllowMigration&&Bt.length?(ee=Bt[0],ut&&(yield ee._set(Pe,ut.toJSON())),yield Promise.all(g.map(function(){var dn=(0,p.Z)(function*(En){if(En!==ee)try{yield En._remove(Pe)}catch{}});return function(En){return dn.apply(this,arguments)}}())),new oe(ee,d,C)):new oe(ee,d,C)})()}}function se(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Ct(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(pe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(le(d))return"Blackberry";if(ne(d))return"Webos";if($e(d))return"Safari";if((d.includes("chrome/")||xe(d))&&!d.includes("edge/"))return"Chrome";if(ve(d))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function pe(I=(0,G.z$)()){return/firefox\//i.test(I)}function $e(I=(0,G.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function xe(I=(0,G.z$)()){return/crios\//i.test(I)}function Ct(I=(0,G.z$)()){return/iemobile/i.test(I)}function ve(I=(0,G.z$)()){return/android/i.test(I)}function le(I=(0,G.z$)()){return/blackberry/i.test(I)}function ne(I=(0,G.z$)()){return/webos/i.test(I)}function de(I=(0,G.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function rt(I=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function xn(I=(0,G.z$)()){return de(I)||ve(I)||ne(I)||le(I)||/windows phone/i.test(I)||Ct(I)}function Jn(I,d=[]){let g;switch(I){case"Browser":g=se((0,G.z$)());break;case"Worker":g=`${se((0,G.z$)())}-${I}`;break;default:g=I}const C=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${q.SDK_VERSION}/${C}`}function Ue(){return(Ue=(0,p.Z)(function*(I){return(yield Ke(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Mt(I,d){return an.apply(this,arguments)}function an(){return(an=(0,p.Z)(function*(I,d){return Ke(I,"GET","/v2/recaptchaConfig",Te(I,d))})).apply(this,arguments)}function hn(I){return void 0!==I&&void 0!==I.getResponse}function wn(I){return void 0!==I&&void 0!==I.enterprise}class Kt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function rr(I){return new Promise((d,g)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=d,C.onerror=H=>{const ee=_e("internal-error");ee.customData=H,g(ee)},C.type="text/javascript",C.charset="UTF-8",function Un(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(C)})}function Nr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const js="NO_RECAPTCHA";class jr{constructor(d){this.type="recaptcha-enterprise",this.auth=Zn(d)}verify(d="verify",g=!1){var C=this;return(0,p.Z)(function*(){function ee(){return ee=(0,p.Z)(function*(ut){if(!g){if(null==ut.tenantId&&null!=ut._agentRecaptchaConfig)return ut._agentRecaptchaConfig.siteKey;if(null!=ut.tenantId&&void 0!==ut._tenantRecaptchaConfigs[ut.tenantId])return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(function(){var Bt=(0,p.Z)(function*(dn,En){Mt(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wn=>{if(void 0!==Wn.recaptchaKey){const Qs=new Kt(Wn);return null==ut.tenantId?ut._agentRecaptchaConfig=Qs:ut._tenantRecaptchaConfigs[ut.tenantId]=Qs,dn(Qs.siteKey)}En(new Error("recaptcha Enterprise site key undefined"))}).catch(Wn=>{En(Wn)})});return function(dn,En){return Bt.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Pe(ut,Bt,dn){const En=window.grecaptcha;wn(En)?En.enterprise.ready(()=>{En.enterprise.execute(ut,{action:d}).then(Wn=>{Bt(Wn)}).catch(()=>{Bt(js)})}):dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,Bt)=>{(function H(ut){return ee.apply(this,arguments)})(C.auth).then(dn=>{if(!g&&wn(window.grecaptcha))Pe(dn,ut,Bt);else{if(typeof window>"u")return void Bt(new Error("RecaptchaVerifier is only supported in browser"));rr("https://www.google.com/recaptcha/enterprise.js?render="+dn).then(()=>{Pe(dn,ut,Bt)}).catch(En=>{Bt(En)})}}).catch(dn=>{Bt(dn)})})})()}}function Ur(I,d,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(I,d,g,C=!1){const H=new jr(I);let ee;try{ee=yield H.verify(g)}catch{ee=yield H.verify(g,!0)}const Pe=Object.assign({},d);return Object.assign(Pe,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Pe,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Pe,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Pe})).apply(this,arguments)}class Dn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const C=ee=>new Promise((Pe,ut)=>{try{Pe(d(ee))}catch(Bt){ut(Bt)}});C.onAbort=g,this.queue.push(C);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const C=[];try{for(const H of g.queue)yield H(d),H.onAbort&&C.push(H.onAbort)}catch(H){C.reverse();for(const ee of C)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class Or{constructor(d,g,C,H){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=H,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ls(this),this.idTokenSubscription=new ls(this),this.beforeStateQueue=new Dn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=H.sdkClientVersion}_initializeWithPersistence(d,g){var C=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var H,ee;if(!C._deleted&&(C.persistenceManager=yield oe.create(C,d),!C._deleted)){if(null!==(H=C._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var C;const H=yield g.assertedPersistence.getCurrentUser();let ee=H,Pe=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ut=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Bt=ee?._redirectEventId,dn=yield g.tryRedirectSignIn(d);(!ut||ut===Bt)&&dn?.user&&(ee=dn.user,Pe=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Pe)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(ut){ee=H,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ut))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield Pr(d)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function it(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const C=d?(0,G.m9)(d):null;return C&&ke(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(d,g=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return d&&ke(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield Mt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Kt(g);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new jr(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new G.LL("auth","Firebase",d())}onAuthStateChanged(d,g,C){return this.registerStateListener(this.authStateSubscription,d,g,C)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,C){return this.registerStateListener(this.idTokenSubscription,d,g,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var C=this;return(0,p.Z)(function*(){const H=yield C.getOrInitRedirectPersistenceManager(g);return null===d?H.removeCurrentUser():H.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const C=d&&ie(d)||g._popupRedirectResolver;ke(C,g,"argument-error"),g.redirectPersistenceManager=yield oe.create(g,[ie(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var C,H;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===d?g._currentUser:(null===(H=g.redirectUser)||void 0===H?void 0:H._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,C,H){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return ke(Pe,this,"internal-error"),Pe.then(()=>ee(this.currentUser)),"function"==typeof g?d.addObserver(g,C,H):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const H=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();H&&(C["X-Firebase-Client"]=H);const ee=yield d._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const C=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function St(I,...d){yt.logLevel<=Se.in.WARN&&yt.warn(`Auth (${q.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Zn(I){return(0,G.m9)(I)}class ls{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,G.ne)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sr(I,d,g){const C=Zn(I);ke(C._canInitEmulator,C,"emulator-config-failed"),ke(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const H=!!g?.disableWarnings,ee=Oe(d),{host:Pe,port:ut}=function Ie(I){const d=Oe(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(C);if(H){const ee=H[1];return{host:ee,port:Ae(C.substr(ee.length+1))}}{const[ee,Pe]=C.split(":");return{host:ee,port:Ae(Pe)}}}(d);C.config.emulator={url:`${ee}//${Pe}${null===ut?"":`:${ut}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Pe,port:ut,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function pt(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Oe(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function Ae(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class xt{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Pt("not implemented")}_getIdTokenResponse(d){return Pt("not implemented")}_linkToIdToken(d,g){return Pt("not implemented")}_getReauthenticationResolver(d){return Pt("not implemented")}}function gn(I,d){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:resetPassword",Te(I,d))})).apply(this,arguments)}function mn(I,d){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function qr(){return(qr=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:update",Te(I,d))})).apply(this,arguments)}function ei(I,d){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithPassword",Te(I,d))})).apply(this,arguments)}function vr(I,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:sendOobCode",Te(I,d))})).apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(I,d){return vr(I,d)})).apply(this,arguments)}function Ms(I,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,p.Z)(function*(I,d){return vr(I,d)})).apply(this,arguments)}function zi(I,d){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(I,d){return vr(I,d)})).apply(this,arguments)}function Ti(){return(Ti=(0,p.Z)(function*(I,d){return vr(I,d)})).apply(this,arguments)}function Hs(){return(Hs=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,d))})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithEmailLink",Te(I,d))})).apply(this,arguments)}class sr extends xt{constructor(d,g,C,H=null){super("password",C),this._email=d,this._password=g,this._tenantId=H}static _fromEmailAndPassword(d,g){return new sr(d,g,"password")}static _fromEmailAndCode(d,g,C=null){return new sr(d,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var C;switch(g.signInMethod){case"password":const H={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield Ur(d,H,"signInWithPassword");return ei(d,ee)}return ei(d,H).catch(function(){var ee=(0,p.Z)(function*(Pe){if("auth/missing-recaptcha-token"===Pe.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ut=yield Ur(d,H,"signInWithPassword");return ei(d,ut)}return Promise.reject(Pe)});return function(Pe){return ee.apply(this,arguments)}}());case"emailLink":return function ds(I,d){return Hs.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Be(d,"internal-error")}})()}_linkToIdToken(d,g){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return mn(d,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Es(I,d){return eo.apply(this,arguments)}(d,{idToken:g,email:C._email,oobCode:C._password});default:Be(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Br(I,d){return es.apply(this,arguments)}function es(){return(es=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithIdp",Te(I,d))})).apply(this,arguments)}class ts extends xt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new ts(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Be("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:H}=g,ee=(0,De._T)(g,["providerId","signInMethod"]);if(!C||!H)return null;const Pe=new ts(C,H);return Pe.idToken=ee.idToken||void 0,Pe.accessToken=ee.accessToken||void 0,Pe.secret=ee.secret,Pe.nonce=ee.nonce,Pe.pendingToken=ee.pendingToken||null,Pe}_getIdTokenResponse(d){return Br(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,Br(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Br(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,G.xO)(g)}return d}}function Bo(){return(Bo=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:sendVerificationCode",Te(I,d))})).apply(this,arguments)}function go(){return(go=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,d))})).apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(I,d){const g=yield $t(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,d));if(g.temporaryProof)throw fr(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const To={USER_NOT_FOUND:"user-not-found"};function jo(){return(jo=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithPhoneNumber",Te(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),To)})).apply(this,arguments)}class xs extends xt{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new xs({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new xs({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function Fi(I,d){return go.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function $o(I,d){return Do.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ns(I,d){return jo.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:C,verificationCode:H}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:C,code:H}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}=d;return C||g||H||ee?new xs({verificationId:g,verificationCode:C,phoneNumber:H,temporaryProof:ee}):null}}class ws{constructor(d){var g,C,H,ee,Pe,ut;const Bt=(0,G.zd)((0,G.pd)(d)),dn=null!==(g=Bt.apiKey)&&void 0!==g?g:null,En=null!==(C=Bt.oobCode)&&void 0!==C?C:null,Wn=function rs(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Bt.mode)&&void 0!==H?H:null);ke(dn&&En&&Wn,"argument-error"),this.apiKey=dn,this.operation=Wn,this.code=En,this.continueUrl=null!==(ee=Bt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Pe=Bt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(ut=Bt.tenantId)&&void 0!==ut?ut:null}static parseLink(d){const g=function Co(I){const d=(0,G.zd)((0,G.pd)(I)).link,g=d?(0,G.zd)((0,G.pd)(d)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(I)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||g||d||I}(d);try{return new ws(g)}catch{return null}}}let Ho=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,C){return sr._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const H=ws.parseLink(C);return ke(H,"argument-error"),sr._fromEmailAndCode(g,H.code,H.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Gi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class zs extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Li extends zs{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),ts._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return ke(d.idToken||d.accessToken,"argument-error"),ts._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Li.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Li.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:H,pendingToken:ee,nonce:Pe,providerId:ut}=d;if(!C&&!H&&!g&&!ee||!ut)return null;try{return new Li(ut)._credential({idToken:g,accessToken:C,nonce:Pe,pendingToken:ee})}catch{return null}}}let ya=(()=>{class I extends zs{constructor(){super("facebook.com")}static credential(g){return ts._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Gs=(()=>{class I extends zs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return ts._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:H}=g;if(!C&&!H)return null;try{return I.credential(C,H)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),mo=(()=>{class I extends zs{constructor(){super("github.com")}static credential(g){return ts._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Ri extends xt{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return Br(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,Br(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Br(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:H,pendingToken:ee}=g;return C&&H&&ee&&C===H?new Ri(C,ee):null}static _create(d,g){return new Ri(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ao extends Gi{constructor(d){ke(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Ao.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Ao.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Ri.fromJSON(d);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:C}=d;if(!g||!C)return null;try{return Ri._create(C,g)}catch{return null}}}let Ws=(()=>{class I extends zs{constructor(){super("twitter.com")}static credential(g,C){return ts._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:H}=g;if(!C||!H)return null;try{return I.credential(C,H)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function is(I,d){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signUp",Te(I,d))})).apply(this,arguments)}class Xn{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,C,H=!1){return(0,p.Z)(function*(){const ee=yield Cr._fromIdTokenResponse(d,C,H),Pe=hs(C);return new Xn({user:ee,providerId:Pe,_tokenResponse:C,operationType:g})})()}static _forOperation(d,g,C){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const H=hs(C);return new Xn({user:d,providerId:H,_tokenResponse:C,operationType:g})})()}}function hs(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function fs(I){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(I){var d;const g=Zn(I);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new Xn({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield is(g,{returnSecureToken:!0}),H=yield Xn._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(H.user),H})).apply(this,arguments)}class Rs extends G.ZR{constructor(d,g,C,H){var ee;super(g.code,g.message),this.operationType=C,this.user=H,Object.setPrototypeOf(this,Rs.prototype),this.customData={appName:d.name,tenantId:null!==(ee=d.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,g,C,H){return new Rs(d,g,C,H)}}function ps(I,d,g,C){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Rs._fromErrorAndOperation(I,ee,d,C):ee})}function si(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function va(I,d){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I);yield gs(!0,g,d);const{providerUserInfo:C}=yield function Qr(I,d){return ln.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),H=si(C||[]);return g.providerData=g.providerData.filter(ee=>H.has(ee.providerId)),H.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Mo.apply(this,arguments)}function ti(I,d){return pi.apply(this,arguments)}function pi(){return(pi=(0,p.Z)(function*(I,d,g=!1){const C=yield Sn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return Xn._forOperation(I,"link",C)})).apply(this,arguments)}function gs(I,d,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,p.Z)(function*(I,d,g){yield Pr(d);const H=!1===I?"provider-already-linked":"no-such-provider";ke(si(d.providerData).has(g)===I,d.auth,H)})).apply(this,arguments)}function yo(I,d){return lr.apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(I,d,g=!1){const{auth:C}=I,H="reauthenticate";try{const ee=yield Sn(I,ps(C,H,d,I),g);ke(ee.idToken,C,"internal-error");const Pe=mi(ee.idToken);ke(Pe,C,"internal-error");const{sub:ut}=Pe;return ke(I.uid===ut,C,"user-mismatch"),Xn._forOperation(I,H,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&Be(C,"user-mismatch"),ee}})).apply(this,arguments)}function Pi(I,d){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(I,d,g=!1){const C="signIn",H=yield ps(I,C,d),ee=yield Xn._fromIdTokenResponse(I,C,H);return g||(yield I._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Pn(I,d){return zo.apply(this,arguments)}function zo(){return(zo=(0,p.Z)(function*(I,d){return Pi(Zn(I),d)})).apply(this,arguments)}function ia(I,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I);return yield gs(!1,g,d.providerId),ti(g,d)})).apply(this,arguments)}function to(I,d){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(I,d){return yo((0,G.m9)(I),d)})).apply(this,arguments)}function Ns(){return(Ns=(0,p.Z)(function*(I,d){return $t(I,"POST","/v1/accounts:signInWithCustomToken",Te(I,d))})).apply(this,arguments)}function qa(I,d){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(function*(I,d){const g=Zn(I),C=yield function no(I,d){return Ns.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),H=yield Xn._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(H.user),H}),R.apply(this,arguments)}class O{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?k._fromServerResponse(d,g):"totpInfo"in g?X._fromServerResponse(d,g):Be(d,"internal-error")}}class k extends O{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new k(g)}}class X extends O{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new X(g)}}function He(I,d,g){var C;ke((null===(C=g.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),ke(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function pn(I,d,g){return _r.apply(this,arguments)}function _r(){return _r=(0,p.Z)(function*(I,d,g){var C;const H=Zn(I),ee={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Pe=yield Ur(H,ee,"getOobCode",!0);g&&He(H,Pe,g),yield Ms(H,Pe)}else g&&He(H,ee,g),yield Ms(H,ee).catch(function(){var Pe=(0,p.Z)(function*(ut){if("auth/missing-recaptcha-token"!==ut.code)return Promise.reject(ut);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Bt=yield Ur(H,ee,"getOobCode",!0);g&&He(H,Bt,g),yield Ms(H,Bt)}});return function(ut){return Pe.apply(this,arguments)}}())}),_r.apply(this,arguments)}function kr(I,d,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,p.Z)(function*(I,d,g){yield gn((0,G.m9)(I),{oobCode:d,newPassword:g})})).apply(this,arguments)}function ro(I,d){return vo.apply(this,arguments)}function vo(){return vo=(0,p.Z)(function*(I,d){yield function Di(I,d){return qr.apply(this,arguments)}((0,G.m9)(I),{oobCode:d})}),vo.apply(this,arguments)}function _i(I,d){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I),C=yield gn(g,{oobCode:d}),H=C.requestType;switch(ke(H,g,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(C.mfaInfo,g,"internal-error");default:ke(C.email,g,"internal-error")}let ee=null;return C.mfaInfo&&(ee=O._fromServerResponse(Zn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:H}})).apply(this,arguments)}function Zr(I,d){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,p.Z)(function*(I,d){const{data:g}=yield _i((0,G.m9)(I),d);return g.email})).apply(this,arguments)}function io(I,d,g){return Er.apply(this,arguments)}function Er(){return Er=(0,p.Z)(function*(I,d,g){var C;const H=Zn(I),ee={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Pe;if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const dn=yield Ur(H,ee,"signUpPassword");Pe=is(H,dn)}else Pe=is(H,ee).catch(function(){var dn=(0,p.Z)(function*(En){if("auth/missing-recaptcha-token"===En.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wn=yield Ur(H,ee,"signUpPassword");return is(H,Wn)}return Promise.reject(En)});return function(En){return dn.apply(this,arguments)}}());const ut=yield Pe.catch(dn=>Promise.reject(dn)),Bt=yield Xn._fromIdTokenResponse(H,"signIn",ut);return yield H._updateCurrentUser(Bt.user),Bt}),Er.apply(this,arguments)}function os(I,d,g){return Pn((0,G.m9)(I),Ho.credential(d,g))}function _o(I,d,g){return Ts.apply(this,arguments)}function Ts(){return Ts=(0,p.Z)(function*(I,d,g){var C;const H=Zn(I),ee={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Pe(ut,Bt){ke(Bt.handleCodeInApp,H,"argument-error"),Bt&&He(H,ut,Bt)}if(null!==(C=H._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ut=yield Ur(H,ee,"getOobCode",!0);Pe(ut,g),yield zi(H,ut)}else Pe(ee,g),yield zi(H,ee).catch(function(){var ut=(0,p.Z)(function*(Bt){if("auth/missing-recaptcha-token"!==Bt.code)return Promise.reject(Bt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const dn=yield Ur(H,ee,"getOobCode",!0);Pe(dn,g),yield zi(H,dn)}});return function(Bt){return ut.apply(this,arguments)}}())}),Ts.apply(this,arguments)}function Za(I,d){return"EMAIL_SIGNIN"===ws.parseLink(d)?.operation}function bu(I,d,g){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),H=Ho.credentialWithLink(d,g||jt());return ke(H._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Pn(C,H)})).apply(this,arguments)}function oa(){return(oa=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:createAuthUri",Te(I,d))})).apply(this,arguments)}function Ea(I,d){return so.apply(this,arguments)}function so(){return so=(0,p.Z)(function*(I,d){const C={identifier:d,continueUri:yn()?jt():"http://localhost"},{signinMethods:H}=yield function _a(I,d){return oa.apply(this,arguments)}((0,G.m9)(I),C);return H||[]}),so.apply(this,arguments)}function ms(I,d){return Os.apply(this,arguments)}function Os(){return Os=(0,p.Z)(function*(I,d){const g=(0,G.m9)(I),H={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&He(g.auth,H,d);const{email:ee}=yield function Io(I,d){return Hi.apply(this,arguments)}(g.auth,H);ee!==I.email&&(yield I.reload())}),Os.apply(this,arguments)}function wa(I,d,g){return Go.apply(this,arguments)}function Go(){return Go=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};g&&He(C.auth,ee,g);const{email:Pe}=yield function Vo(I,d){return Ti.apply(this,arguments)}(C.auth,ee);Pe!==I.email&&(yield I.reload())}),Go.apply(this,arguments)}function _(){return(_=(0,p.Z)(function*(I,d){return Ke(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function w(I,d){return F.apply(this,arguments)}function F(){return F=(0,p.Z)(function*(I,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const C=(0,G.m9)(I),ee={idToken:yield C.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Pe=yield Sn(C,function $(I,d){return _.apply(this,arguments)}(C.auth,ee));C.displayName=Pe.displayName||null,C.photoURL=Pe.photoUrl||null;const ut=C.providerData.find(({providerId:Bt})=>"password"===Bt);ut&&(ut.displayName=C.displayName,ut.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Pe)}),F.apply(this,arguments)}function K(I,d){return ge((0,G.m9)(I),d,null)}function te(I,d){return ge((0,G.m9)(I),null,d)}function ge(I,d,g){return fe.apply(this,arguments)}function fe(){return(fe=(0,p.Z)(function*(I,d,g){const{auth:C}=I,ee={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(ee.email=d),g&&(ee.password=g);const Pe=yield Sn(I,mn(C,ee));yield I._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class mt{constructor(d,g,C={}){this.isNewUser=d,this.providerId=g,this.profile=C}}class qt extends mt{constructor(d,g,C,H){super(d,g,C),this.username=H}}class cn extends mt{constructor(d,g){super(d,"facebook.com",g)}}class ir extends qt{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class er extends mt{constructor(d,g){super(d,"google.com",g)}}class Tn extends qt{constructor(d,g,C){super(d,"twitter.com",g,C)}}function An(I){const{user:d,_tokenResponse:g}=I;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Ge(I){var d,g;if(!I)return null;const{providerId:C}=I,H=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ee=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Pe=null===(g=null===(d=mi(I.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Pe)return new mt(ee,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!C)return null;switch(C){case"facebook.com":return new cn(ee,H);case"github.com":return new ir(ee,H);case"google.com":return new er(ee,H);case"twitter.com":return new Tn(ee,H,I.screenName||null);case"custom":case"anonymous":return new mt(ee,null);default:return new mt(ee,C,H)}}(g)}class $n{constructor(d,g,C){this.type=d,this.credential=g,this.auth=C}static _fromIdtoken(d,g){return new $n("enroll",d,g)}static _fromMfaPendingCredential(d){return new $n("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,C;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return $n._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return $n._fromIdtoken(d.multiFactorSession.idToken)}return null}}class wr{constructor(d,g,C){this.session=d,this.hints=g,this.signInResolver=C}static _fromError(d,g){const C=Zn(d),H=g.customData._serverResponse,ee=(H.mfaInfo||[]).map(ut=>O._fromServerResponse(C,ut));ke(H.mfaPendingCredential,C,"internal-error");const Pe=$n._fromMfaPendingCredential(H.mfaPendingCredential);return new wr(Pe,ee,function(){var ut=(0,p.Z)(function*(Bt){const dn=yield Bt._process(C,Pe);delete H.mfaInfo,delete H.mfaPendingCredential;const En=Object.assign(Object.assign({},H),{idToken:dn.idToken,refreshToken:dn.refreshToken});switch(g.operationType){case"signIn":const Wn=yield Xn._fromIdTokenResponse(C,g.operationType,En);return yield C._updateCurrentUser(Wn.user),Wn;case"reauthenticate":return ke(g.user,C,"internal-error"),Xn._forOperation(g.user,g.operationType,En);default:Be(C,"internal-error")}});return function(Bt){return ut.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function Bn(I,d){var g;const C=(0,G.m9)(I),H=d;return ke(d.customData.operationType,C,"argument-error"),ke(null===(g=H.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),wr._fromError(C,H)}class vn{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>O._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new vn(d)}getSession(){var d=this;return(0,p.Z)(function*(){return $n._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var C=this;return(0,p.Z)(function*(){const H=d,ee=yield C.getSession(),Pe=yield Sn(C.user,H._process(C.user.auth,ee,g));return yield C.user._updateTokensIfNecessary(Pe),C.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const C="string"==typeof d?d:d.uid,H=yield g.user.getIdToken();try{const ee=yield Sn(g.user,function sn(I,d){return Ke(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(I,d))}(g.user.auth,{idToken:H,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Pe})=>Pe!==C),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const Nn=new WeakMap;function Ar(I){const d=(0,G.m9)(I);return Nn.has(d)||Nn.set(d,vn._fromUser(d)),Nn.get(d)}const Hr="__sak";class ni{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Hr,"1"),this.storage.removeItem(Hr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const bi=(()=>{class I extends ni{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wi(){const I=(0,G.z$)();return $e(I)||de(I)}()&&function br(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=xn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const H=this.storage.getItem(C),ee=this.localCache[C];H!==ee&&g(C,ee,H)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((ut,Bt,dn)=>{this.notifyListeners(ut,dn)});const H=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ut=this.storage.getItem(H);if(g.newValue!==ut)null!==g.newValue?this.storage.setItem(H,g.newValue):this.storage.removeItem(H);else if(this.localCache[H]===g.newValue&&!C)return}const ee=()=>{const ut=this.storage.getItem(H);!C&&this.localCache[H]===ut||this.notifyListeners(H,ut)},Pe=this.storage.getItem(H);!function tn(){return(0,G.w1)()&&10===document.documentMode}()||Pe===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var H=()=>super._set,ee=this;return(0,p.Z)(function*(){yield H().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,H=this;return(0,p.Z)(function*(){const ee=yield C().call(H,g);return H.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,H=this;return(0,p.Z)(function*(){yield C().call(H,g),delete H.localCache[g]})()}}return I.type="LOCAL",I})(),zr=(()=>{class I extends ni{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return I.type="SESSION",I})();let Ia=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const H=new I(g);return this.receivers.push(H),H}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,p.Z)(function*(){const H=g,{eventId:ee,eventType:Pe,data:ut}=H.data,Bt=C.handlersMap[Pe];if(!Bt?.size)return;H.ports[0].postMessage({status:"ack",eventId:ee,eventType:Pe});const dn=Array.from(Bt).map(function(){var Wn=(0,p.Z)(function*(Qs){return Qs(H.origin,ut)});return function(Qs){return Wn.apply(this,arguments)}}()),En=yield function Na(I){return Promise.all(I.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return d.apply(this,arguments)}}()))}(dn);H.ports[0].postMessage({status:"done",eventId:ee,eventType:Pe,response:En})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xo(I="",d=10){let g="";for(let C=0;C<d;C++)g+=Math.floor(10*Math.random());return I+g}class Wu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,C=50){var H=this;return(0,p.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Pe,ut;return new Promise((Bt,dn)=>{const En=xo("",20);ee.port1.start();const Wn=setTimeout(()=>{dn(new Error("unsupported_event"))},C);ut={messageChannel:ee,onMessage(Qs){const Eo=Qs;if(Eo.data.eventId===En)switch(Eo.data.status){case"ack":clearTimeout(Wn),Pe=setTimeout(()=>{dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),Bt(Eo.data.response);break;default:clearTimeout(Wn),clearTimeout(Pe),dn(new Error("invalid_response"))}}},H.handlers.add(ut),ee.port1.addEventListener("message",ut.onMessage),H.target.postMessage({eventType:d,eventId:En,data:g},[ee.port2])}).finally(()=>{ut&&H.removeMessageHandler(ut)})})()}}function Mi(){return window}function Oa(){return typeof Mi().WorkerGlobalScope<"u"&&"function"==typeof Mi().importScripts}function Wo(){return(Wo=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bi="firebaseLocalStorageDb",cu=1,oi="firebaseLocalStorage",ai="fbase_key";class Da{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function la(I,d){return I.transaction([oi],d?"readwrite":"readonly").objectStore(oi)}function qu(){const I=indexedDB.open(Bi,cu);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(oi,{keyPath:ai})}catch(H){g(H)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(oi)?d(C):(C.close(),yield function Ro(){const I=indexedDB.deleteDatabase(Bi);return new Da(I).toPromise()}(),d(yield qu()))}))})}function qs(I,d,g){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,p.Z)(function*(I,d,g){const C=la(I,!0).put({[ai]:d,value:g});return new Da(C).toPromise()})).apply(this,arguments)}function Ya(){return(Ya=(0,p.Z)(function*(I,d){const g=la(I,!1).get(d),C=yield new Da(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ca(I,d){const g=la(I,!0).delete(d);return new Da(g).toPromise()}const oo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield qu()),g.db})()}_withRetries(g){var C=this;return(0,p.Z)(function*(){let H=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(H++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Oa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Ia._getInstance(function lu(){return Oa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(H,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(H,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(H,ee){return["keyChanged"]});return function(H,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var C,H;if(g.activeServiceWorker=yield function Ku(){return Wo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Wu(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==(H=ee[0])&&void 0!==H&&H.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function uu(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield qu();return yield qs(g,Hr,"1"),yield Ca(g,Hr),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var H=this;return(0,p.Z)(function*(){return H._withPendingWrite((0,p.Z)(function*(){return yield H._withRetries(ee=>qs(ee,g,C)),H.localCache[g]=C,H.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,p.Z)(function*(){const H=yield C._withRetries(ee=>function ri(I,d){return Ya.apply(this,arguments)}(ee,g));return C.localCache[g]=H,H})()}_remove(g){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(H=>Ca(H,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const C=yield g._withRetries(Pe=>{const ut=la(Pe,!1).getAll();return new Da(ut).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const H=[],ee=new Set;for(const{fbase_key:Pe,value:ut}of C)ee.add(Pe),JSON.stringify(g.localCache[Pe])!==JSON.stringify(ut)&&(g.notifyListeners(Pe,ut),H.push(Pe));for(const Pe of Object.keys(g.localCache))g.localCache[Pe]&&!ee.has(Pe)&&(g.notifyListeners(Pe,null),H.push(Pe));return H})()}notifyListeners(g,C){this.localCache[g]=C;const H=this.listeners[g];if(H)for(const ee of Array.from(H))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),du=1e12;class Au{constructor(d){this.auth=d,this.counter=du,this._widgets=new Map}render(d,g){const C=this.counter;return this._widgets.set(C,new Qa(d,this.auth.name,g||{})),this.counter++,C}reset(d){var g;const C=d||du;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(d){var g;return(null===(g=this._widgets.get(d||du))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var C;return null===(C=g._widgets.get(d||du))||void 0===C||C.execute(),""})()}}class Qa{constructor(d,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof d?document.getElementById(d):d;ke(H,"argument-error",{appName:g}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ja(I){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hu=Nr("rcb"),fu=new We(3e4,6e4);class Fa{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Mi().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return ke(function Zu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&hn(Mi().grecaptcha)?Promise.resolve(Mi().grecaptcha):new Promise((C,H)=>{const ee=Mi().setTimeout(()=>{H(_e(d,"network-request-failed"))},fu.get());Mi()[hu]=()=>{Mi().clearTimeout(ee),delete Mi()[hu];const ut=Mi().grecaptcha;if(!ut||!hn(ut))return void H(_e(d,"internal-error"));const Bt=ut.render;ut.render=(dn,En)=>{const Wn=Bt(dn,En);return this.counter++,Wn},this.hostLanguage=g,C(ut)},rr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:hu,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),H(_e(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Mi().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vl{load(d){return(0,p.Z)(function*(){return new Au(d)})()}clearedOneInstance(){}}const qi="recaptcha",pu={theme:"light",type:"image"};class Mu{constructor(d,g=Object.assign({},pu),C){this.parameters=g,this.type=qi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Zn(C),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof d?document.getElementById(d):d;ke(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vl:new Fa,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ee=>{const Pe=ut=>{ut&&(d.tokenChangeListeners.delete(Pe),ee(ut))};d.tokenChangeListeners.add(Pe),d.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof d)d(g);else if("string"==typeof d){const C=Mi()[d];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){ke(yn()&&!Oa(),d.auth,"internal-error"),yield function Ko(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function Je(I){return Ue.apply(this,arguments)}(d.auth);ke(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ao{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=xs._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function qo(I,d,g){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(I,d,g){const C=Zn(I),H=yield Va(C,d,(0,G.m9)(g));return new ao(H,ee=>Pn(C,ee))})).apply(this,arguments)}function La(I,d,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);yield gs(!1,C,"phone");const H=yield Va(C.auth,d,(0,G.m9)(g));return new ao(H,ee=>ia(C,ee))})).apply(this,arguments)}function ba(I,d,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I),H=yield Va(C.auth,d,(0,G.m9)(g));return new ao(H,ee=>to(C,ee))})).apply(this,arguments)}function Va(I,d,g){return _l.apply(this,arguments)}function _l(){return _l=(0,p.Z)(function*(I,d,g){var C;const H=yield g.verify();try{let ee;if(ke("string"==typeof H,I,"argument-error"),ke(g.type===qi,I,"argument-error"),ee="string"==typeof d?{phoneNumber:d}:d,"session"in ee){const Pe=ee.session;if("phoneNumber"in ee)return ke("enroll"===Pe.type,I,"internal-error"),(yield function Fr(I,d){return Ke(I,"POST","/v2/accounts/mfaEnrollment:start",Te(I,d))}(I,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{ke("signin"===Pe.type,I,"internal-error");const ut=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return ke(ut,I,"missing-multi-factor-info"),(yield function Su(I,d){return Ke(I,"POST","/v2/accounts/mfaSignIn:start",Te(I,d))}(I,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:ut,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield function ra(I,d){return Bo.apply(this,arguments)}(I,{phoneNumber:ee.phoneNumber,recaptchaToken:H});return Pe}}finally{g._reset()}}),_l.apply(this,arguments)}function Rt(I,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(function*(I,d){yield ti((0,G.m9)(I),d)})).apply(this,arguments)}let bs=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Zn(g)}verifyPhoneNumber(g,C){return Va(this.auth,g,(0,G.m9)(C))}static credential(g,C){return xs._fromVerification(g,C)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:H}=g;return C&&H?xs._fromTokenResponse(C,H):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ha(I,d){return d?ie(d):(ke(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class y extends xt{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Br(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Br(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Br(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function E(I){return Pi(I.auth,new y(I),I.bypassAuthState)}function m(I){const{auth:d,user:g}=I;return ke(g,d,"internal-error"),yo(g,new y(I),I.bypassAuthState)}function T(I){return M.apply(this,arguments)}function M(){return(M=(0,p.Z)(function*(I){const{auth:d,user:g}=I;return ke(g,d,"internal-error"),ti(g,new y(I),I.bypassAuthState)})).apply(this,arguments)}class V{constructor(d,g,C,H,ee=!1){this.auth=d,this.resolver=C,this.user=H,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(C,H){d.pendingPromise={resolve:C,reject:H};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ee){d.reject(ee)}});return function(C,H){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:H,postBody:ee,tenantId:Pe,error:ut,type:Bt}=d;if(ut)return void g.reject(ut);const dn={auth:g.auth,requestUri:C,sessionId:H,tenantId:Pe||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Bt)(dn))}catch(En){g.reject(En)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return T;case"reauthViaPopup":case"reauthViaRedirect":return m;default:Be(this.auth,"internal-error")}}resolve(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){on(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y=new We(2e3,1e4);function Me(I,d,g){return _t.apply(this,arguments)}function _t(){return(_t=(0,p.Z)(function*(I,d,g){const C=Zn(I);Tt(I,d,Gi);const H=ha(C,g);return new No(C,"signInViaPopup",d,H).executeNotNull()})).apply(this,arguments)}function Jt(I,d,g){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Tt(C.auth,d,Gi);const H=ha(C.auth,g);return new No(C.auth,"reauthViaPopup",d,H,C).executeNotNull()})).apply(this,arguments)}function gr(I,d,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Tt(C.auth,d,Gi);const H=ha(C.auth,g);return new No(C.auth,"linkViaPopup",d,H,C).executeNotNull()})).apply(this,arguments)}let No=(()=>{class I extends V{constructor(g,C,H,ee,Pe){super(g,C,ee,Pe),this.provider=H,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const C=yield g.execute();return ke(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,p.Z)(function*(){on(1===g.filter.length,"Popup operations only handle one event");const C=xo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(H=>{g.reject(H)}),g.resolver._isIframeWebStorageSupported(g.auth,H=>{H||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,H;this.pollId=null!==(H=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Y.get())};g()}}return I.currentPopupAction=null,I})();const Zo="pendingRedirect",Ss=new Map;class uo extends V{constructor(d,g,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let C=Ss.get(g.auth._key());if(!C){try{const ee=(yield function sc(I,d){return Ln.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;C=()=>Promise.resolve(ee)}catch(H){C=()=>Promise.reject(H)}Ss.set(g.auth._key(),C)}return g.bypassAuthState||Ss.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(C,d);if("unknown"!==d.type){if(d.eventId){const H=yield C.auth._redirectUserForId(d.eventId);if(H)return C.user=H,g().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ln(){return(Ln=(0,p.Z)(function*(I,d){const g=Vr(d),C=Yu(I);if(!(yield C._isAvailable()))return!1;const H="true"===(yield C._get(g));return yield C._remove(g),H})).apply(this,arguments)}function Ua(I,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,p.Z)(function*(I,d){return Yu(I)._set(Vr(d),"true")})).apply(this,arguments)}function Ii(){Ss.clear()}function Cn(I,d){Ss.set(I._key(),d)}function Yu(I){return ie(I._redirectPersistence)}function Vr(I){return ft(Zo,I.config.apiKey,I.name)}function Hc(I,d,g){return function Zi(I,d,g){return Xt.apply(this,arguments)}(I,d,g)}function Xt(){return(Xt=(0,p.Z)(function*(I,d,g){const C=Zn(I);Tt(I,d,Gi),yield C._initializationPromise;const H=ha(C,g);return yield Ua(H,C),H._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function El(I,d,g){return function oc(I,d,g){return lo.apply(this,arguments)}(I,d,g)}function lo(){return(lo=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Tt(C.auth,d,Gi),yield C.auth._initializationPromise;const H=ha(C.auth,g);yield Ua(H,C.auth);const ee=yield Tl(C);return H._openRedirect(C.auth,d,"reauthViaRedirect",ee)})).apply(this,arguments)}function zc(I,d,g){return function Qu(I,d,g){return wl.apply(this,arguments)}(I,d,g)}function wl(){return(wl=(0,p.Z)(function*(I,d,g){const C=(0,G.m9)(I);Tt(C.auth,d,Gi),yield C.auth._initializationPromise;const H=ha(C.auth,g);yield gs(!1,C,d.providerId),yield Ua(H,C.auth);const ee=yield Tl(C);return H._openRedirect(C.auth,d,"linkViaRedirect",ee)})).apply(this,arguments)}function Il(I,d){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(I,d){return yield Zn(I)._initializationPromise,Dl(I,d,!1)})).apply(this,arguments)}function Dl(I,d){return co.apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(I,d,g=!1){const C=Zn(I),H=ha(C,d),Pe=yield new uo(C,H,g).execute();return Pe&&!g&&(delete Pe.user._redirectEventId,yield C._persistUserIfCurrent(Pe.user),yield C._setRedirectUser(null,d)),Pe})).apply(this,arguments)}function Tl(I){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,p.Z)(function*(I){const d=xo(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class gu{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(g=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Cl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return et(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var C;if(d.error&&!et(d)){const H=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,H))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const C=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mu(d))}saveEventToCache(d){this.cachedEventUids.add(mu(d)),this.lastProcessedEventTime=Date.now()}}function mu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function et({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function Yo(I){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,p.Z)(function*(I,d={}){return Ke(I,"GET","/v1/projects",d)})).apply(this,arguments)}const xu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sa=/^https?/;function Oo(){return(Oo=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Yo(I);for(const g of d)try{if(Xu(g))return}catch{}Be(I,"unauthorized-domain")})).apply(this,arguments)}function Xu(I){const d=jt(),{protocol:g,hostname:C}=new URL(d);if(I.startsWith("chrome-extension://")){const Pe=new URL(I);return""===Pe.hostname&&""===C?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Pe.hostname===C}if(!Sa.test(g))return!1;if(xu.test(I))return C===I;const H=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(C)}const Ru=new We(3e4,6e4);function el(){const I=Mi().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let ho=null;const tl=new We(5e3,15e3),ac="__/auth/iframe",Oi="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Aa(I){const d=I.config;ke(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?lt(d,Oi):`https://${I.config.authDomain}/${ac}`,C={apiKey:d.apiKey,appName:I.name,v:q.SDK_VERSION},H=Kc.get(I.config.apiHost);H&&(C.eid=H);const ee=I._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,G.xO)(C).slice(1)}`}function Pu(){return Pu=(0,p.Z)(function*(I){const d=yield function Sl(I){return ho=ho||function $a(I){return new Promise((d,g)=>{var C,H,ee;function Pe(){el(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{el(),g(_e(I,"network-request-failed"))},timeout:Ru.get()})}if(null!==(H=null===(C=Mi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==H&&H.Iframe)d(gapi.iframes.getContext());else{if(null===(ee=Mi().gapi)||void 0===ee||!ee.load){const ut=Nr("iframefcb");return Mi()[ut]=()=>{gapi.load?Pe():g(_e(I,"network-request-failed"))},rr(`https://apis.google.com/js/api.js?onload=${ut}`).catch(Bt=>g(Bt))}Pe()}}).catch(d=>{throw ho=null,d})}(I),ho}(I),g=Mi().gapi;return ke(g,I,"internal-error"),d.open({where:document.body,url:Aa(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},C=>new Promise(function(){var H=(0,p.Z)(function*(ee,Pe){yield C.restyle({setHideOnLeave:!1});const ut=_e(I,"network-request-failed"),Bt=Mi().setTimeout(()=>{Pe(ut)},tl.get());function dn(){Mi().clearTimeout(Bt),ee(C)}C.ping(dn).then(dn,()=>{Pe(ut)})});return function(ee,Pe){return H.apply(this,arguments)}}()))}),Pu.apply(this,arguments)}const eu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ko=500,qc=600,uc="_blank",lc="http://localhost";class Fs{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x="__/auth/handler",U="emulator/auth/handler",re=encodeURIComponent("fac");function Ee(I,d,g,C,H,ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,p.Z)(function*(I,d,g,C,H,ee){ke(I.config.authDomain,I,"auth-domain-config-required"),ke(I.config.apiKey,I,"invalid-api-key");const Pe={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:C,v:q.SDK_VERSION,eventId:H};if(d instanceof Gi){d.setDefaultLanguage(I.languageCode),Pe.providerId=d.providerId||"",(0,G.xb)(d.getCustomParameters())||(Pe.customParameters=JSON.stringify(d.getCustomParameters()));for(const[En,Wn]of Object.entries(ee||{}))Pe[En]=Wn}if(d instanceof zs){const En=d.getScopes().filter(Wn=>""!==Wn);En.length>0&&(Pe.scopes=En.join(","))}I.tenantId&&(Pe.tid=I.tenantId);const ut=Pe;for(const En of Object.keys(ut))void 0===ut[En]&&delete ut[En];const Bt=yield I._getAppCheckToken(),dn=Bt?`#${re}=${encodeURIComponent(Bt)}`:"";return`${function vt({config:I}){return I.emulator?lt(I,U):`https://${I.authDomain}/${x}`}(I)}?${(0,G.xO)(ut).slice(1)}${dn}`})).apply(this,arguments)}const Qt="webStorageSupport",_n=class Yt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zr,this._completeRedirectFn=Dl,this._overrideRedirectResult=Cn}_openPopup(d,g,C,H){var ee=this;return(0,p.Z)(function*(){var Pe;on(null===(Pe=ee.eventManagers[d._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const ut=yield Ee(d,g,C,jt(),H);return function nl(I,d,g,C=ko,H=qc){const ee=Math.max((window.screen.availHeight-H)/2,0).toString(),Pe=Math.max((window.screen.availWidth-C)/2,0).toString();let ut="";const Bt=Object.assign(Object.assign({},eu),{width:C.toString(),height:H.toString(),top:ee,left:Pe}),dn=(0,G.z$)().toLowerCase();g&&(ut=xe(dn)?uc:g),pe(dn)&&(d=d||lc,Bt.scrollbars="yes");const En=Object.entries(Bt).reduce((Qs,[Eo,ga])=>`${Qs}${Eo}=${ga},`,"");if(function Nt(I=(0,G.z$)()){var d;return de(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(dn)&&"_self"!==ut)return function D(I,d){const g=document.createElement("a");g.href=I,g.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(d||"",ut),new Fs(null);const Wn=window.open(d||"",ut,En);ke(Wn,I,"popup-blocked");try{Wn.focus()}catch{}return new Fs(Wn)}(d,ut,xo())})()}_openRedirect(d,g,C,H){var ee=this;return(0,p.Z)(function*(){return yield ee._originValidation(d),function ua(I){Mi().location.href=I}(yield Ee(d,g,C,jt(),H)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:H,promise:ee}=this.eventManagers[g];return H?Promise.resolve(H):(on(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(d);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const C=yield function ja(I){return Pu.apply(this,arguments)}(d),H=new gu(d);return C.register("authEvent",ee=>(ke(ee?.authEvent,d,"invalid-auth-event"),{status:H.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:H},g.iframes[d._key()]=C,H})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Qt,{type:Qt},H=>{var ee;const Pe=null===(ee=H?.[0])||void 0===ee?void 0:ee[Qt];void 0!==Pe&&g(!!Pe),Be(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bl(I){return Oo.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return xn()||$e()||de()}};class Gn{constructor(d){this.factorId=d}_process(d,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,C);case"signin":return this._finalizeSignIn(d,g.credential);default:return Pt("unexpected MultiFactorSessionType")}}}class jn extends Gn{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new jn(d)}_finalizeEnroll(d,g,C){return function Ir(I,d){return Ke(I,"POST","/v2/accounts/mfaEnrollment:finalize",Te(I,d))}(d,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function ca(I,d){return Ke(I,"POST","/v2/accounts/mfaSignIn:finalize",Te(I,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fo=(()=>{class I{constructor(){}static assertion(g){return jn._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var Qi="@firebase/auth";class Gr{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,G.Pz)("authIdTokenMaxAge"),function Ys(I){(0,q._registerComponent)(new we.wA("auth",(d,{options:g})=>{const C=d.getProvider("app").getImmediate(),H=d.getProvider("heartbeat"),ee=d.getProvider("app-check-internal"),{apiKey:Pe,authDomain:ut}=C.options;ke(Pe&&!Pe.includes(":"),"invalid-api-key",{appName:C.name}),ke(!ut?.includes(":"),"argument-error",{appName:C.name});const Bt={apiKey:Pe,authDomain:ut,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(I)},dn=new Or(C,H,ee,Bt);return function _s(I,d){const g=d?.persistence||[],C=(Array.isArray(g)?g:[g]).map(ie);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(C,d?.popupRedirectResolver)}(dn,g),dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,C)=>{d.getProvider("auth-internal").initialize()})),(0,q._registerComponent)(new we.wA("auth-internal",d=>{const g=Zn(d.getProvider("auth").getImmediate());return new Gr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.registerVersion)(Qi,"0.23.1",function Al(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,q.registerVersion)(Qi,"0.23.1","esm2017")}("Browser")},2090:(un,at,W)=>{W.d(at,{$s:()=>ie,BH:()=>nt,L:()=>Ze,LL:()=>ye,P0:()=>At,Pz:()=>_e,Sg:()=>Tt,UG:()=>Pt,US:()=>we,ZB:()=>Ce,ZR:()=>Ke,aH:()=>Be,b$:()=>yn,eu:()=>ct,hl:()=>wt,jU:()=>on,m9:()=>ft,ne:()=>Sn,pd:()=>mi,r3:()=>Qr,ru:()=>jt,tV:()=>ce,uI:()=>ke,vZ:()=>kt,w1:()=>Ve,xO:()=>nr,xb:()=>Kr,z$:()=>ot,zI:()=>Ot,zd:()=>Jr});const De=function(oe){const se=[];let pe=0;for(let $e=0;$e<oe.length;$e++){let xe=oe.charCodeAt($e);xe<128?se[pe++]=xe:xe<2048?(se[pe++]=xe>>6|192,se[pe++]=63&xe|128):55296==(64512&xe)&&$e+1<oe.length&&56320==(64512&oe.charCodeAt($e+1))?(xe=65536+((1023&xe)<<10)+(1023&oe.charCodeAt(++$e)),se[pe++]=xe>>18|240,se[pe++]=xe>>12&63|128,se[pe++]=xe>>6&63|128,se[pe++]=63&xe|128):(se[pe++]=xe>>12|224,se[pe++]=xe>>6&63|128,se[pe++]=63&xe|128)}return se},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,se){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[];for(let xe=0;xe<oe.length;xe+=3){const Ct=oe[xe],ve=xe+1<oe.length,le=ve?oe[xe+1]:0,ne=xe+2<oe.length,de=ne?oe[xe+2]:0;let tn=(15&le)<<2|de>>6,xn=63&de;ne||(xn=64,ve||(tn=64)),$e.push(pe[Ct>>2],pe[(3&Ct)<<4|le>>4],pe[tn],pe[xn])}return $e.join("")},encodeString(oe,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(oe):this.encodeByteArray(De(oe),se)},decodeString(oe,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(oe):function(oe){const se=[];let pe=0,$e=0;for(;pe<oe.length;){const xe=oe[pe++];if(xe<128)se[$e++]=String.fromCharCode(xe);else if(xe>191&&xe<224){const Ct=oe[pe++];se[$e++]=String.fromCharCode((31&xe)<<6|63&Ct)}else if(xe>239&&xe<365){const ne=((7&xe)<<18|(63&oe[pe++])<<12|(63&oe[pe++])<<6|63&oe[pe++])-65536;se[$e++]=String.fromCharCode(55296+(ne>>10)),se[$e++]=String.fromCharCode(56320+(1023&ne))}else{const Ct=oe[pe++],ve=oe[pe++];se[$e++]=String.fromCharCode((15&xe)<<12|(63&Ct)<<6|63&ve)}}return se.join("")}(this.decodeStringToByteArray(oe,se))},decodeStringToByteArray(oe,se){this.init_();const pe=se?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[];for(let xe=0;xe<oe.length;){const Ct=pe[oe.charAt(xe++)],le=xe<oe.length?pe[oe.charAt(xe)]:0;++xe;const de=xe<oe.length?pe[oe.charAt(xe)]:64;++xe;const Nt=xe<oe.length?pe[oe.charAt(xe)]:64;if(++xe,null==Ct||null==le||null==de||null==Nt)throw new je;$e.push(Ct<<2|le>>4),64!==de&&($e.push(le<<4&240|de>>2),64!==Nt&&$e.push(de<<6&192|Nt))}return $e},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}};class je extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ze=function(oe){return function(oe){const se=De(oe);return we.encodeByteArray(se,!0)}(oe).replace(/\./g,"")},ce=function(oe){try{return we.decodeString(oe,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function Ce(oe,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return se}for(const pe in se)!se.hasOwnProperty(pe)||!gt(pe)||(oe[pe]=Ce(oe[pe],se[pe]));return oe}function gt(oe){return"__proto__"!==oe}const yt=()=>{try{return function dt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const oe=process.env.__FIREBASE_DEFAULTS__;return oe?JSON.parse(oe):void 0})()||(()=>{if(typeof document>"u")return;let oe;try{oe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=oe&&ce(oe[1]);return se&&JSON.parse(se)})()}catch(oe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${oe}`)}},At=oe=>{const se=(oe=>{var se,pe;return null===(pe=null===(se=yt())||void 0===se?void 0:se.emulatorHosts)||void 0===pe?void 0:pe[oe]})(oe);if(!se)return;const pe=se.lastIndexOf(":");if(pe<=0||pe+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const $e=parseInt(se.substring(pe+1),10);return"["===se[0]?[se.substring(1,pe-1),$e]:[se.substring(0,pe),$e]},Be=()=>{var oe;return null===(oe=yt())||void 0===oe?void 0:oe.config},_e=oe=>{var se;return null===(se=yt())||void 0===se?void 0:se[`_${oe}`]};class nt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,pe)=>{this.resolve=se,this.reject=pe})}wrapCallback(se){return(pe,$e)=>{pe?this.reject(pe):this.resolve($e),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(pe):se(pe,$e))}}}function Tt(oe,se){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const $e=se||"demo-project",xe=oe.iat||0,Ct=oe.sub||oe.user_id;if(!Ct)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ve=Object.assign({iss:`https://securetoken.google.com/${$e}`,aud:$e,iat:xe,exp:xe+3600,auth_time:xe,sub:Ct,user_id:Ct,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Ze(JSON.stringify({alg:"none",type:"JWT"})),Ze(JSON.stringify(ve)),""].join(".")}function ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ke(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function Pt(){var oe;const se=null===(oe=yt())||void 0===oe?void 0:oe.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function on(){return"object"==typeof self&&self.self===self}function jt(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function yn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){const oe=ot();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function wt(){try{return"object"==typeof indexedDB}catch{return!1}}function ct(){return new Promise((oe,se)=>{try{let pe=!0;const $e="validate-browser-context-for-indexeddb-analytics-module",xe=self.indexedDB.open($e);xe.onsuccess=()=>{xe.result.close(),pe||self.indexedDB.deleteDatabase($e),oe(!0)},xe.onupgradeneeded=()=>{pe=!1},xe.onerror=()=>{var Ct;se((null===(Ct=xe.error)||void 0===Ct?void 0:Ct.message)||"")}}catch(pe){se(pe)}})}function Ot(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ke extends Error{constructor(se,pe,$e){super(pe),this.code=se,this.customData=$e,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ye.prototype.create)}}class ye{constructor(se,pe,$e){this.service=se,this.serviceName=pe,this.errors=$e}create(se,...pe){const $e=pe[0]||{},xe=`${this.service}/${se}`,Ct=this.errors[se],ve=Ct?function Le(oe,se){return oe.replace(It,(pe,$e)=>{const xe=se[$e];return null!=xe?String(xe):`<${$e}?>`})}(Ct,$e):"Error";return new Ke(xe,`${this.serviceName}: ${ve} (${xe}).`,$e)}}const It=/\{\$([^}]+)}/g;function Qr(oe,se){return Object.prototype.hasOwnProperty.call(oe,se)}function Kr(oe){for(const se in oe)if(Object.prototype.hasOwnProperty.call(oe,se))return!1;return!0}function kt(oe,se){if(oe===se)return!0;const pe=Object.keys(oe),$e=Object.keys(se);for(const xe of pe){if(!$e.includes(xe))return!1;const Ct=oe[xe],ve=se[xe];if(Vn(Ct)&&Vn(ve)){if(!kt(Ct,ve))return!1}else if(Ct!==ve)return!1}for(const xe of $e)if(!pe.includes(xe))return!1;return!0}function Vn(oe){return null!==oe&&"object"==typeof oe}function nr(oe){const se=[];for(const[pe,$e]of Object.entries(oe))Array.isArray($e)?$e.forEach(xe=>{se.push(encodeURIComponent(pe)+"="+encodeURIComponent(xe))}):se.push(encodeURIComponent(pe)+"="+encodeURIComponent($e));return se.length?"&"+se.join("&"):""}function Jr(oe){const se={};return oe.replace(/^\?/,"").split("&").forEach($e=>{if($e){const[xe,Ct]=$e.split("=");se[decodeURIComponent(xe)]=decodeURIComponent(Ct)}}),se}function mi(oe){const se=oe.indexOf("?");if(!se)return"";const pe=oe.indexOf("#",se);return oe.substring(se,pe>0?pe:void 0)}function Sn(oe,se){const pe=new Lt(oe,se);return pe.subscribe.bind(pe)}class Lt{constructor(se,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{se(this)}).catch($e=>{this.error($e)})}next(se){this.forEachObserver(pe=>{pe.next(se)})}error(se){this.forEachObserver(pe=>{pe.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,pe,$e){let xe;if(void 0===se&&void 0===pe&&void 0===$e)throw new Error("Missing Observer.");xe=function Rr(oe,se){if("object"!=typeof oe||null===oe)return!1;for(const pe of se)if(pe in oe&&"function"==typeof oe[pe])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:pe,complete:$e},void 0===xe.next&&(xe.next=$r),void 0===xe.error&&(xe.error=$r),void 0===xe.complete&&(xe.complete=$r);const Ct=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?xe.error(this.finalError):xe.complete()}catch{}}),this.observers.push(xe),Ct}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,se)}sendOne(se,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{pe(this.observers[se])}catch($e){typeof console<"u"&&console.error&&console.error($e)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $r(){}const On=1e3,Dt=2,Cr=144e5,st=.5;function ie(oe,se=On,pe=Dt){const $e=se*Math.pow(pe,oe),xe=Math.round(st*$e*(Math.random()-.5)*2);return Math.min(Cr,$e+xe)}function ft(oe){return oe&&oe._delegate?oe._delegate:oe}},7677:(un,at,W)=>{W.d(at,{I:()=>Se});var p=W(4650),G=W(1205);let q=(()=>{class we{constructor(){}guardarItem(Ne,Ze){localStorage.setItem(Ne,JSON.stringify(Ze))}obtenerItem(Ne){const Ze=localStorage.getItem(Ne);return null!=Ze?JSON.parse(Ze):Ze}eliminarItem(Ne){localStorage.removeItem(Ne)}}return we.\u0275fac=function(Ne){return new(Ne||we)},we.\u0275prov=p.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})();var De=W(6647);let Se=(()=>{class we{constructor(Ne,Ze,ce){this.auth=Ne,this.localStorage=Ze,this.route=ce,this.usuarioEstaLogueado=!1,this.suscripcion=this.auth.authState.subscribe(he=>{he?(this.usuarioActual=he,this.localStorage.guardarItem("usuario",{id:he.uid,mail:he.email}),this.usuarioEstaLogueado=!0):this.route.navigateByUrl("login")})}get getUsuarioEstaLogueado(){return this.usuarioEstaLogueado=null!=this.localStorage.obtenerItem("usuario"),this.usuarioEstaLogueado}get getUsuarioActualBasico(){return this.localStorage.obtenerItem("usuario")}get getUsuarioActualCompleto(){return this.usuarioActual}registrarUsuario(Ne,Ze){return this.auth.createUserWithEmailAndPassword(Ne,Ze)}loguearUsuario(Ne,Ze){return this.auth.signInWithEmailAndPassword(Ne,Ze)}desloguear(){return this.localStorage.eliminarItem("usuario"),this.usuarioEstaLogueado=!1,this.auth.signOut()}ObtenerCambiosDeEstado(){return this.auth.authState}}return we.\u0275fac=function(Ne){return new(Ne||we)(p.LFG(G.zQ),p.LFG(q),p.LFG(De.F0))},we.\u0275prov=p.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},4443:(un,at,W)=>{W.d(at,{j:()=>q});var p=W(4650),G=W(7185);let q=(()=>{class De{constructor(we){this.toastr=we}exito(we="",je=""){this.toastr.success(""!=we?we:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=je?je:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(we="",je=""){this.toastr.error(""!=we?we:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=je?je:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}perdio(we="",je=""){this.toastr.error(""!=we?we:"HA PERDIDO!!!.",""!=je?je:"Ha perdido.",{toastClass:"toast-custom-perdio",timeOut:2e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position"})}gano(we="",je=""){this.toastr.success(""!=we?we:"HA GANADO!!!.",""!=je?je:"Ha ganado.",{toastClass:"toast-custom-gano",timeOut:2e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}empate(we="",je=""){this.toastr.success(""!=we?we:"HA GANADO!!!.",""!=je?je:"Ha ganado.",{toastClass:"toast-custom-empate",timeOut:3e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-juego-position",buttons:[{text:"Bot\xf3n adicional",action:()=>{alert()}}]})}}return De.\u0275fac=function(we){return new(we||De)(p.LFG(G._W))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},7941:(un,at,W)=>{var p=W(1481),G=W(6647),q=W(4650),De=W(7677);let Se=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),we=(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate(["/login"]),!1)}canDeactivate(w,F,K,te){return!0}canLoad(w,F){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();const Ne=[{path:"login",loadChildren:()=>Promise.all([W.e(592),W.e(633)]).then(W.bind(W,7633)).then($=>$.LoginModule),canActivate:[Se]},{path:"home",loadChildren:()=>Promise.all([W.e(592),W.e(929)]).then(W.bind(W,929)).then($=>$.HomeModule),canActivate:[we]},{path:"",loadChildren:()=>Promise.all([W.e(592),W.e(929)]).then(W.bind(W,929)).then($=>$.HomeModule),canActivate:[we]},{path:"registro",loadChildren:()=>Promise.all([W.e(592),W.e(856)]).then(W.bind(W,7856)).then($=>$.RegistroModule),canActivate:[(()=>{class ${constructor(w,F){this.firestoreLogin=w,this.router=F}canActivate(w,F){return!this.firestoreLogin.getUsuarioEstaLogueado||(this.router.navigate([""]),!1)}canDeactivate(w,F,K,te){return!0}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(De.I),q.LFG(G.F0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"quien-soy",loadChildren:()=>W.e(937).then(W.bind(W,937)).then($=>$.QuienSoyModule)}];let Ze=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({imports:[G.Bz.forRoot(Ne),G.Bz]}),$})();var ce=W(4443);let he=(()=>{class ${constructor(w,F,K){this.router=w,this.firestoreLogin=F,this.toast=K,this.usuarioEstaLogueado=!1}ngOnInit(){}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe()}desloguear(){this.firestoreLogin.desloguear(),this.toast.exito("Sesi\xf3n cerrada con exito."," "),this.router.navigate(["../login"])}verificarEstadoDeUsuario(){return this.firestoreLogin.getUsuarioEstaLogueado}}return $.\u0275fac=function(w){return new(w||$)(q.Y36(G.F0),q.Y36(De.I),q.Y36(ce.j))},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-header"]],decls:12,vars:3,consts:[[1,"navbar","bg-dark","navbar-expand-lg","text-light","m-0","p-1","fw-bold","d-flex","justify-content-between",2,"z-index","10"],[1,"mx-2"],["src","assets/logo/logo.jpg",1,"logo"],[1,"mx-5"],["routerLink","../quien-soy",1,"btn","fw-bold","fs-5","btn-warning","mx-2"],["routerLink","../login",1,"btn","fw-bold","fs-5","btn-outline-primary","mx-2",3,"hidden"],["routerLink","../registro",1,"btn","fw-bold","fs-5","btn-outline-primary","mx-2",3,"hidden"],[1,"btn","fw-bold","fs-5","btn-outline-danger","mx-2",3,"hidden","click"]],template:function(w,F){1&w&&(q.TgZ(0,"nav",0)(1,"div",1),q._UZ(2,"img",2),q.qZA(),q.TgZ(3,"div",3)(4,"button",4),q._uU(5," Quien Soy "),q.qZA(),q.TgZ(6,"button",5),q._uU(7," Login "),q.qZA(),q.TgZ(8,"button",6),q._uU(9," Registro "),q.qZA(),q.TgZ(10,"button",7),q.NdJ("click",function(){return F.desloguear()}),q._uU(11," Logout "),q.qZA()()()),2&w&&(q.xp6(6),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",F.verificarEstadoDeUsuario()),q.xp6(2),q.Q6J("hidden",!F.verificarEstadoDeUsuario()))},dependencies:[G.rH],styles:[".logo[_ngcontent-%COMP%]{height:55px;border-radius:30px}"]}),$})(),Ce=(()=>{class ${constructor(){this.title="sala-de-juego"}ngOnInit(){}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=q.Xpm({type:$,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(w,F){1&w&&(q.TgZ(0,"div",0),q._UZ(1,"app-header")(2,"router-outlet"),q.qZA())},dependencies:[G.lC,he]}),$})();const gt_firebase={projectId:"sala-de-juegos-6b9fd",appId:"1:280462303398:web:5727a83fec375e25341467",storageBucket:"sala-de-juegos-6b9fd.appspot.com",apiKey:"AIzaSyC6gK6WUsBf6Wom0zU2TrOOtXkWCkxs1qI",authDomain:"sala-de-juegos-6b9fd.firebaseapp.com",messagingSenderId:"280462303398"};var dt=W(433),ht=W(7340);function tt($){return new q.vHH(3e3,!1)}function Rn(){return typeof window<"u"&&typeof window.document<"u"}function kt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vn($){switch($.length){case 0:return new ht.ZN;case 1:return $[0];default:return new ht.ZE($)}}function ui($,_,w,F,K=new Map,te=new Map){const ge=[],fe=[];let Ge=-1,mt=null;if(F.forEach(qt=>{const cn=qt.get("offset"),ir=cn==Ge,er=ir&&mt||new Map;qt.forEach((Tn,An)=>{let cr=An,A=Tn;if("offset"!==An)switch(cr=_.normalizePropertyName(cr,ge),A){case ht.k1:A=K.get(An);break;case ht.l3:A=te.get(An);break;default:A=_.normalizeStyleValue(An,cr,A,ge)}er.set(cr,A)}),ir||fe.push(er),mt=er,Ge=cn}),ge.length)throw function ye($){return new q.vHH(3502,!1)}();return fe}function nr($,_,w,F){switch(_){case"start":$.onStart(()=>F(w&&Jr(w,"start",$)));break;case"done":$.onDone(()=>F(w&&Jr(w,"done",$)));break;case"destroy":$.onDestroy(()=>F(w&&Jr(w,"destroy",$)))}}function Jr($,_,w){const te=mi($.element,$.triggerName,$.fromState,$.toState,_||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),ge=$._data;return null!=ge&&(te._data=ge),te}function mi($,_,w,F,K="",te=0,ge){return{element:$,triggerName:_,fromState:w,toState:F,phaseName:K,totalTime:te,disabled:!!ge}}function Mn($,_,w){let F=$.get(_);return F||$.set(_,F=w),F}function Sn($){const _=$.indexOf(":");return[$.substring(1,_),$.slice(_+1)]}let Lt=($,_)=>!1,Vt=($,_,w)=>[],Rr=null;function $r($){const _=$.parentNode||$.host;return _===Rr?null:_}(kt()||typeof Element<"u")&&(Rn()?(Rr=(()=>document.documentElement)(),Lt=($,_)=>{for(;_;){if(_===$)return!0;_=$r(_)}return!1}):Lt=($,_)=>$.contains(_),Vt=($,_,w)=>{if(w)return Array.from($.querySelectorAll(_));const F=$.querySelector(_);return F?[F]:[]});let Tr=null,ci=!1;const yi=Lt,On=Vt;let Cr=(()=>{class ${validateStyleProperty(w){return function ur($){Tr||(Tr=function qn(){return typeof document<"u"?document.body:null}()||{},ci=!!Tr.style&&"WebkitAppearance"in Tr.style);let _=!0;return Tr.style&&!function li($){return"ebkit"==$.substring(1,6)}($)&&(_=$ in Tr.style,!_&&ci&&(_="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in Tr.style)),_}(w)}matchesElement(w,F){return!1}containsElement(w,F){return yi(w,F)}getParentElement(w){return $r(w)}query(w,F,K){return On(w,F,K)}computeStyle(w,F,K){return K||""}animate(w,F,K,te,ge,fe=[],Ge){return new ht.ZN(K,te)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})(),st=(()=>{class ${}return $.NOOP=new Cr,$})();const ie=1e3,ft="ng-enter",oe="ng-leave",se="ng-trigger",pe=".ng-trigger",$e="ng-animating",xe=".ng-animating";function Ct($){if("number"==typeof $)return $;const _=$.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:ve(parseFloat(_[1]),_[2])}function ve($,_){return"s"===_?$*ie:$}function le($,_,w){return $.hasOwnProperty("duration")?$:function ne($,_,w){let K,te=0,ge="";if("string"==typeof $){const fe=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fe)return _.push(tt()),{duration:0,delay:0,easing:""};K=ve(parseFloat(fe[1]),fe[2]);const Ge=fe[3];null!=Ge&&(te=ve(parseFloat(Ge),fe[4]));const mt=fe[5];mt&&(ge=mt)}else K=$;if(!w){let fe=!1,Ge=_.length;K<0&&(_.push(function yt(){return new q.vHH(3100,!1)}()),fe=!0),te<0&&(_.push(function St(){return new q.vHH(3101,!1)}()),fe=!0),fe&&_.splice(Ge,0,tt())}return{duration:K,delay:te,easing:ge}}($,_,w)}function de($,_={}){return Object.keys($).forEach(w=>{_[w]=$[w]}),_}function rt($){const _=new Map;return Object.keys($).forEach(w=>{_.set(w,$[w])}),_}function xn($,_=new Map,w){if(w)for(let[F,K]of w)_.set(F,K);for(let[F,K]of $)_.set(F,K);return _}function br($,_,w){return w?_+":"+w+";":""}function Jn($){let _="";for(let w=0;w<$.style.length;w++){const F=$.style.item(w);_+=br(0,F,$.style.getPropertyValue(F))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(_+=br(0,Xr(w),$.style[w]));$.setAttribute("style",_)}function Je($,_,w){$.style&&(_.forEach((F,K)=>{const te=Nr(K);w&&!w.has(K)&&w.set(K,$.style[te]),$.style[te]=F}),kt()&&Jn($))}function Ue($,_){$.style&&(_.forEach((w,F)=>{const K=Nr(F);$.style[K]=""}),kt()&&Jn($))}function Mt($){return Array.isArray($)?1==$.length?$[0]:(0,ht.vP)($):$}const hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function wn($){let _=[];if("string"==typeof $){let w;for(;w=hn.exec($);)_.push(w[1]);hn.lastIndex=0}return _}function Kt($,_,w){const F=$.toString(),K=F.replace(hn,(te,ge)=>{let fe=_[ge];return null==fe&&(w.push(function Be($){return new q.vHH(3003,!1)}()),fe=""),fe.toString()});return K==F?$:K}function Un($){const _=[];let w=$.next();for(;!w.done;)_.push(w.value),w=$.next();return _}const rr=/-+([a-z0-9])/g;function Nr($){return $.replace(rr,(..._)=>_[1].toUpperCase())}function Xr($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jr($,_,w){switch(_.type){case 7:return $.visitTrigger(_,w);case 0:return $.visitState(_,w);case 1:return $.visitTransition(_,w);case 2:return $.visitSequence(_,w);case 3:return $.visitGroup(_,w);case 4:return $.visitAnimate(_,w);case 5:return $.visitKeyframes(_,w);case 6:return $.visitStyle(_,w);case 8:return $.visitReference(_,w);case 9:return $.visitAnimateChild(_,w);case 10:return $.visitAnimateRef(_,w);case 11:return $.visitQuery(_,w);case 12:return $.visitStagger(_,w);default:throw function _e($){return new q.vHH(3004,!1)}()}}function Ur($,_){return window.getComputedStyle($)[_]}const Sr="*";function Oe($,_){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(F=>function Ie($,_,w){if(":"==$[0]){const Ge=function Ae($,_){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,F)=>parseFloat(F)>parseFloat(w);case":decrement":return(w,F)=>parseFloat(F)<parseFloat(w);default:return _.push(function ct($){return new q.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof Ge)return void _.push(Ge);$=Ge}const F=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return w.push(function wt($){return new q.vHH(3015,!1)}()),_;const K=F[1],te=F[2],ge=F[3];_.push(gn(K,ge));"<"==te[0]&&!(K==Sr&&ge==Sr)&&_.push(gn(ge,K))}(F,w,_)):w.push($),w}const pt=new Set(["true","1"]),xt=new Set(["false","0"]);function gn($,_){const w=pt.has($)||xt.has($),F=pt.has(_)||xt.has(_);return(K,te)=>{let ge=$==Sr||$==K,fe=_==Sr||_==te;return!ge&&w&&"boolean"==typeof K&&(ge=K?pt.has($):xt.has($)),!fe&&F&&"boolean"==typeof te&&(fe=te?pt.has(_):xt.has(_)),ge&&fe}}const mn=new RegExp("s*:selfs*,?","g");function Fn($,_,w,F){return new qr($).build(_,w,F)}class qr{constructor(_){this._driver=_}build(_,w,F){const K=new vr(w);return this._resetContextStyleTimingState(K),jr(this,Mt(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,w){let F=w.queryCount=0,K=w.depCount=0;const te=[],ge=[];return"@"==_.name.charAt(0)&&w.errors.push(function Tt(){return new q.vHH(3006,!1)}()),_.definitions.forEach(fe=>{if(this._resetContextStyleTimingState(w),0==fe.type){const Ge=fe,mt=Ge.name;mt.toString().split(/\s*,\s*/).forEach(qt=>{Ge.name=qt,te.push(this.visitState(Ge,w))}),Ge.name=mt}else if(1==fe.type){const Ge=this.visitTransition(fe,w);F+=Ge.queryCount,K+=Ge.depCount,ge.push(Ge)}else w.errors.push(function ot(){return new q.vHH(3007,!1)}())}),{type:7,name:_.name,states:te,transitions:ge,queryCount:F,depCount:K,options:null}}visitState(_,w){const F=this.visitStyle(_.styles,w),K=_.options&&_.options.params||null;if(F.containsDynamicStyles){const te=new Set,ge=K||{};F.styles.forEach(fe=>{fe instanceof Map&&fe.forEach(Ge=>{wn(Ge).forEach(mt=>{ge.hasOwnProperty(mt)||te.add(mt)})})}),te.size&&(Un(te.values()),w.errors.push(function ke($,_){return new q.vHH(3008,!1)}()))}return{type:0,name:_.name,style:F,options:K?{params:K}:null}}visitTransition(_,w){w.queryCount=0,w.depCount=0;const F=jr(this,Mt(_.animation),w);return{type:1,matchers:Oe(_.expr,w.errors),animation:F,queryCount:w.queryCount,depCount:w.depCount,options:Hi(_.options)}}visitSequence(_,w){return{type:2,steps:_.steps.map(F=>jr(this,F,w)),options:Hi(_.options)}}visitGroup(_,w){const F=w.currentTime;let K=0;const te=_.steps.map(ge=>{w.currentTime=F;const fe=jr(this,ge,w);return K=Math.max(K,w.currentTime),fe});return w.currentTime=K,{type:3,steps:te,options:Hi(_.options)}}visitAnimate(_,w){const F=function Io($,_){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return Ms(le($,_).duration,0,"");const w=$;if(w.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Ms(0,0,"");return te.dynamic=!0,te.strValue=w,te}const K=le(w,_);return Ms(K.duration,K.delay,K.easing)}(_.timings,w.errors);w.currentAnimateTimings=F;let K,te=_.styles?_.styles:(0,ht.oB)({});if(5==te.type)K=this.visitKeyframes(te,w);else{let ge=_.styles,fe=!1;if(!ge){fe=!0;const mt={};F.easing&&(mt.easing=F.easing),ge=(0,ht.oB)(mt)}w.currentTime+=F.duration+F.delay;const Ge=this.visitStyle(ge,w);Ge.isEmptyStep=fe,K=Ge}return w.currentAnimateTimings=null,{type:4,timings:F,style:K,options:null}}visitStyle(_,w){const F=this._makeStyleAst(_,w);return this._validateStyleAst(F,w),F}_makeStyleAst(_,w){const F=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let fe of K)"string"==typeof fe?fe===ht.l3?F.push(fe):w.errors.push(new q.vHH(3002,!1)):F.push(rt(fe));let te=!1,ge=null;return F.forEach(fe=>{if(fe instanceof Map&&(fe.has("easing")&&(ge=fe.get("easing"),fe.delete("easing")),!te))for(let Ge of fe.values())if(Ge.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:F,easing:ge,offset:_.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(_,w){const F=w.currentAnimateTimings;let K=w.currentTime,te=w.currentTime;F&&te>0&&(te-=F.duration+F.delay),_.styles.forEach(ge=>{"string"!=typeof ge&&ge.forEach((fe,Ge)=>{const mt=w.collectedStyles.get(w.currentQuerySelector),qt=mt.get(Ge);let cn=!0;qt&&(te!=K&&te>=qt.startTime&&K<=qt.endTime&&(w.errors.push(function jt($,_,w,F,K){return new q.vHH(3010,!1)}()),cn=!1),te=qt.startTime),cn&&mt.set(Ge,{startTime:te,endTime:K}),w.options&&function an($,_,w){const F=_.params||{},K=wn($);K.length&&K.forEach(te=>{F.hasOwnProperty(te)||w.push(function At($){return new q.vHH(3001,!1)}())})}(fe,w.options,w.errors)})})}visitKeyframes(_,w){const F={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function yn(){return new q.vHH(3011,!1)}()),F;let te=0;const ge=[];let fe=!1,Ge=!1,mt=0;const qt=_.steps.map(A=>{const B=this._makeStyleAst(A,w);let N=null!=B.offset?B.offset:function ji($){if("string"==typeof $)return null;let _=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const F=w;_=parseFloat(F.get("offset")),F.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;_=parseFloat(w.get("offset")),w.delete("offset")}return _}(B.styles),Z=0;return null!=N&&(te++,Z=B.offset=N),Ge=Ge||Z<0||Z>1,fe=fe||Z<mt,mt=Z,ge.push(Z),B});Ge&&w.errors.push(function Ut(){return new q.vHH(3012,!1)}()),fe&&w.errors.push(function Ve(){return new q.vHH(3200,!1)}());const cn=_.steps.length;let ir=0;te>0&&te<cn?w.errors.push(function it(){return new q.vHH(3202,!1)}()):0==te&&(ir=1/(cn-1));const er=cn-1,Tn=w.currentTime,An=w.currentAnimateTimings,cr=An.duration;return qt.forEach((A,B)=>{const N=ir>0?B==er?1:ir*B:ge[B],Z=N*cr;w.currentTime=Tn+An.delay+Z,An.duration=Z,this._validateStyleAst(A,w),A.offset=N,F.styles.push(A)}),F}visitReference(_,w){return{type:8,animation:jr(this,Mt(_.animation),w),options:Hi(_.options)}}visitAnimateChild(_,w){return w.depCount++,{type:9,options:Hi(_.options)}}visitAnimateRef(_,w){return{type:10,animation:this.visitReference(_.animation,w),options:Hi(_.options)}}visitQuery(_,w){const F=w.currentQuerySelector,K=_.options||{};w.queryCount++,w.currentQuery=_;const[te,ge]=function ei($){const _=!!$.split(/\s*,\s*/).find(w=>":self"==w);return _&&($=$.replace(mn,"")),$=$.replace(/@\*/g,pe).replace(/@\w+/g,w=>pe+"-"+w.slice(1)).replace(/:animating/g,xe),[$,_]}(_.selector);w.currentQuerySelector=F.length?F+" "+te:te,Mn(w.collectedStyles,w.currentQuerySelector,new Map);const fe=jr(this,Mt(_.animation),w);return w.currentQuery=null,w.currentQuerySelector=F,{type:11,selector:te,limit:K.limit||0,optional:!!K.optional,includeSelf:ge,animation:fe,originalSelector:_.selector,options:Hi(_.options)}}visitStagger(_,w){w.currentQuery||w.errors.push(function We(){return new q.vHH(3013,!1)}());const F="full"===_.timings?{duration:0,delay:0,easing:"full"}:le(_.timings,w.errors,!0);return{type:12,animation:jr(this,Mt(_.animation),w),timings:F,options:null}}}class vr{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Hi($){return $?($=de($)).params&&($.params=function di($){return $?de($):null}($.params)):$={},$}function Ms($,_,w){return{duration:$,delay:_,easing:w}}function cs($,_,w,F,K,te,ge=null,fe=!1){return{type:1,element:$,keyframes:_,preStyleProps:w,postStyleProps:F,duration:K,delay:te,totalTime:K+te,easing:ge,subTimeline:fe}}class zi{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,w){let F=this._map.get(_);F||this._map.set(_,F=[]),F.push(...w)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Ti=new RegExp(":enter","g"),Hs=new RegExp(":leave","g");function Es($,_,w,F,K,te=new Map,ge=new Map,fe,Ge,mt=[]){return(new eo).buildKeyframes($,_,w,F,K,te,ge,fe,Ge,mt)}class eo{buildKeyframes(_,w,F,K,te,ge,fe,Ge,mt,qt=[]){mt=mt||new zi;const cn=new Br(_,w,mt,K,te,qt,[]);cn.options=Ge;const ir=Ge.delay?Ct(Ge.delay):0;cn.currentTimeline.delayNextStep(ir),cn.currentTimeline.setStyles([ge],null,cn.errors,Ge),jr(this,F,cn);const er=cn.timelines.filter(Tn=>Tn.containsAnimation());if(er.length&&fe.size){let Tn;for(let An=er.length-1;An>=0;An--){const cr=er[An];if(cr.element===w){Tn=cr;break}}Tn&&!Tn.allowOnlyTimelineStyles()&&Tn.setStyles([fe],null,cn.errors,Ge)}return er.length?er.map(Tn=>Tn.buildKeyframes()):[cs(w,[],[],[],0,ir,"",!1)]}visitTrigger(_,w){}visitState(_,w){}visitTransition(_,w){}visitAnimateChild(_,w){const F=w.subInstructions.get(w.element);if(F){const K=w.createSubContext(_.options),te=w.currentTimeline.currentTime,ge=this._visitSubInstructions(F,K,K.options);te!=ge&&w.transformIntoNewTimeline(ge)}w.previousNode=_}visitAnimateRef(_,w){const F=w.createSubContext(_.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],w,F),this.visitReference(_.animation,F),w.transformIntoNewTimeline(F.currentTimeline.currentTime),w.previousNode=_}_applyAnimationRefDelays(_,w,F){for(const K of _){const te=K?.delay;if(te){const ge="number"==typeof te?te:Ct(Kt(te,K?.params??{},w.errors));F.delayNextStep(ge)}}}_visitSubInstructions(_,w,F){let te=w.currentTimeline.currentTime;const ge=null!=F.duration?Ct(F.duration):null,fe=null!=F.delay?Ct(F.delay):null;return 0!==ge&&_.forEach(Ge=>{const mt=w.appendInstructionToTimeline(Ge,ge,fe);te=Math.max(te,mt.duration+mt.delay)}),te}visitReference(_,w){w.updateOptions(_.options,!0),jr(this,_.animation,w),w.previousNode=_}visitSequence(_,w){const F=w.subContextCount;let K=w;const te=_.options;if(te&&(te.params||te.delay)&&(K=w.createSubContext(te),K.transformIntoNewTimeline(),null!=te.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=sr);const ge=Ct(te.delay);K.delayNextStep(ge)}_.steps.length&&(_.steps.forEach(ge=>jr(this,ge,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>F&&K.transformIntoNewTimeline()),w.previousNode=_}visitGroup(_,w){const F=[];let K=w.currentTimeline.currentTime;const te=_.options&&_.options.delay?Ct(_.options.delay):0;_.steps.forEach(ge=>{const fe=w.createSubContext(_.options);te&&fe.delayNextStep(te),jr(this,ge,fe),K=Math.max(K,fe.currentTimeline.currentTime),F.push(fe.currentTimeline)}),F.forEach(ge=>w.currentTimeline.mergeTimelineCollectedStyles(ge)),w.transformIntoNewTimeline(K),w.previousNode=_}_visitTiming(_,w){if(_.dynamic){const F=_.strValue;return le(w.params?Kt(F,w.params,w.errors):F,w.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,w){const F=w.currentAnimateTimings=this._visitTiming(_.timings,w),K=w.currentTimeline;F.delay&&(w.incrementTime(F.delay),K.snapshotCurrentStyles());const te=_.style;5==te.type?this.visitKeyframes(te,w):(w.incrementTime(F.duration),this.visitStyle(te,w),K.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=_}visitStyle(_,w){const F=w.currentTimeline,K=w.currentAnimateTimings;!K&&F.hasCurrentStyleProperties()&&F.forwardFrame();const te=K&&K.easing||_.easing;_.isEmptyStep?F.applyEmptyStep(te):F.setStyles(_.styles,te,w.errors,w.options),w.previousNode=_}visitKeyframes(_,w){const F=w.currentAnimateTimings,K=w.currentTimeline.duration,te=F.duration,fe=w.createSubContext().currentTimeline;fe.easing=F.easing,_.styles.forEach(Ge=>{fe.forwardTime((Ge.offset||0)*te),fe.setStyles(Ge.styles,Ge.easing,w.errors,w.options),fe.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(fe),w.transformIntoNewTimeline(K+te),w.previousNode=_}visitQuery(_,w){const F=w.currentTimeline.currentTime,K=_.options||{},te=K.delay?Ct(K.delay):0;te&&(6===w.previousNode.type||0==F&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=sr);let ge=F;const fe=w.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,w.errors);w.currentQueryTotal=fe.length;let Ge=null;fe.forEach((mt,qt)=>{w.currentQueryIndex=qt;const cn=w.createSubContext(_.options,mt);te&&cn.delayNextStep(te),mt===w.element&&(Ge=cn.currentTimeline),jr(this,_.animation,cn),cn.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,cn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(ge),Ge&&(w.currentTimeline.mergeTimelineCollectedStyles(Ge),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=_}visitStagger(_,w){const F=w.parentContext,K=w.currentTimeline,te=_.timings,ge=Math.abs(te.duration),fe=ge*(w.currentQueryTotal-1);let Ge=ge*w.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Ge=fe-Ge;break;case"full":Ge=F.currentStaggerTime}const qt=w.currentTimeline;Ge&&qt.delayNextStep(Ge);const cn=qt.currentTime;jr(this,_.animation,w),w.previousNode=_,F.currentStaggerTime=K.currentTime-cn+(K.startTime-F.currentTimeline.startTime)}}const sr={};class Br{constructor(_,w,F,K,te,ge,fe,Ge){this._driver=_,this.element=w,this.subInstructions=F,this._enterClassName=K,this._leaveClassName=te,this.errors=ge,this.timelines=fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=sr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ge||new es(this._driver,w,0),fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,w){if(!_)return;const F=_;let K=this.options;null!=F.duration&&(K.duration=Ct(F.duration)),null!=F.delay&&(K.delay=Ct(F.delay));const te=F.params;if(te){let ge=K.params;ge||(ge=this.options.params={}),Object.keys(te).forEach(fe=>{(!w||!ge.hasOwnProperty(fe))&&(ge[fe]=Kt(te[fe],ge,this.errors))})}}_copyOptions(){const _={};if(this.options){const w=this.options.params;if(w){const F=_.params={};Object.keys(w).forEach(K=>{F[K]=w[K]})}}return _}createSubContext(_=null,w,F){const K=w||this.element,te=new Br(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,F||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(_),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(_){return this.previousNode=sr,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,w,F){const K={duration:w??_.duration,delay:this.currentTimeline.currentTime+(F??0)+_.delay,easing:""},te=new Uo(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(te),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,w,F,K,te,ge){let fe=[];if(K&&fe.push(this.element),_.length>0){_=(_=_.replace(Ti,"."+this._enterClassName)).replace(Hs,"."+this._leaveClassName);let mt=this._driver.query(this.element,_,1!=F);0!==F&&(mt=F<0?mt.slice(mt.length+F,mt.length):mt.slice(0,F)),fe.push(...mt)}return!te&&0==fe.length&&ge.push(function lt($){return new q.vHH(3014,!1)}()),fe}}class es{constructor(_,w,F,K){this._driver=_,this.element=w,this.startTime=F,this._elementTimelineStylesLookup=K,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+_),w&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,w){return this.applyStylesToKeyframe(),new es(this._driver,_,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,w){this._localTimelineStyles.set(_,w),this._globalTimelineStyles.set(_,w),this._styleSummary.set(_,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[w,F]of this._globalTimelineStyles)this._backFill.set(w,F||ht.l3),this._currentKeyframe.set(w,ht.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,w,F,K){w&&this._previousKeyframe.set("easing",w);const te=K&&K.params||{},ge=function ra($,_){const w=new Map;let F;return $.forEach(K=>{if("*"===K){F=F||_.keys();for(let te of F)w.set(te,ht.l3)}else xn(K,w)}),w}(_,this._globalTimelineStyles);for(let[fe,Ge]of ge){const mt=Kt(Ge,te,F);this._pendingStyles.set(fe,mt),this._localTimelineStyles.has(fe)||this._backFill.set(fe,this._globalTimelineStyles.get(fe)??ht.l3),this._updateStyle(fe,mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,w)=>{this._currentKeyframe.set(w,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,_)}))}snapshotCurrentStyles(){for(let[_,w]of this._localTimelineStyles)this._pendingStyles.set(_,w),this._updateStyle(_,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let w in this._currentKeyframe)_.push(w);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((w,F)=>{const K=this._styleSummary.get(F);(!K||w.time>K.time)&&this._updateStyle(F,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,w=new Set,F=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((fe,Ge)=>{const mt=xn(fe,new Map,this._backFill);mt.forEach((qt,cn)=>{qt===ht.k1?_.add(cn):qt===ht.l3&&w.add(cn)}),F||mt.set("offset",Ge/this.duration),K.push(mt)});const te=_.size?Un(_.values()):[],ge=w.size?Un(w.values()):[];if(F){const fe=K[0],Ge=new Map(fe);fe.set("offset",0),Ge.set("offset",1),K=[fe,Ge]}return cs(this.element,K,te,ge,this.duration,this.startTime,this.easing,!1)}}class Uo extends es{constructor(_,w,F,K,te,ge,fe=!1){super(_,w,ge.delay),this.keyframes=F,this.preStyleProps=K,this.postStyleProps=te,this._stretchStartingKeyframe=fe,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:w,duration:F,easing:K}=this.timings;if(this._stretchStartingKeyframe&&w){const te=[],ge=F+w,fe=w/ge,Ge=xn(_[0]);Ge.set("offset",0),te.push(Ge);const mt=xn(_[0]);mt.set("offset",ts(fe)),te.push(mt);const qt=_.length-1;for(let cn=1;cn<=qt;cn++){let ir=xn(_[cn]);const er=ir.get("offset");ir.set("offset",ts((w+er*F)/ge)),te.push(ir)}F=ge,w=0,K="",_=te}return cs(this.element,_,this.preStyleProps,this.postStyleProps,F,w,K,!0)}}function ts($,_=3){const w=Math.pow(10,_-1);return Math.round($*w)/w}class Fi{}const $o=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Do extends Fi{normalizePropertyName(_,w){return Nr(_)}normalizeStyleValue(_,w,F,K){let te="";const ge=F.toString().trim();if($o.has(w)&&0!==F&&"0"!==F)if("number"==typeof F)te="px";else{const fe=F.match(/^[+-]?[\d\.]+([a-z]*)$/);fe&&0==fe[1].length&&K.push(function nt($,_){return new q.vHH(3005,!1)}())}return ge+te}}function To($,_,w,F,K,te,ge,fe,Ge,mt,qt,cn,ir){return{type:0,element:$,triggerName:_,isRemovalTransition:K,fromState:w,fromStyles:te,toState:F,toStyles:ge,timelines:fe,queriedElements:Ge,preStyleProps:mt,postStyleProps:qt,totalTime:cn,errors:ir}}const ns={};class jo{constructor(_,w,F){this._triggerName=_,this.ast=w,this._stateStyles=F}match(_,w,F,K){return function rs($,_,w,F,K){return $.some(te=>te(_,w,F,K))}(this.ast.matchers,_,w,F,K)}buildStyles(_,w,F){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(w,F):new Map}build(_,w,F,K,te,ge,fe,Ge,mt,qt){const cn=[],ir=this.ast.options&&this.ast.options.params||ns,Tn=this.buildStyles(F,fe&&fe.params||ns,cn),An=Ge&&Ge.params||ns,cr=this.buildStyles(K,An,cn),A=new Set,B=new Map,N=new Map,Z="void"===K,ue={params:Co(An,ir),delay:this.ast.options?.delay},Xe=qt?[]:Es(_,w,this.ast.animation,te,ge,Tn,cr,ue,mt,cn);let Ye=0;if(Xe.forEach(or=>{Ye=Math.max(or.duration+or.delay,Ye)}),cn.length)return To(w,this._triggerName,F,K,Z,Tn,cr,[],[],B,N,Ye,cn);Xe.forEach(or=>{const $n=or.element,wr=Mn(B,$n,new Set);or.preStyleProps.forEach(Fr=>wr.add(Fr));const Bn=Mn(N,$n,new Set);or.postStyleProps.forEach(Fr=>Bn.add(Fr)),$n!==w&&A.add($n)});const nn=Un(A.values());return To(w,this._triggerName,F,K,Z,Tn,cr,Xe,nn,B,N,Ye)}}function Co($,_){const w=de(_);for(const F in $)$.hasOwnProperty(F)&&null!=$[F]&&(w[F]=$[F]);return w}class ws{constructor(_,w,F){this.styles=_,this.defaultParams=w,this.normalizer=F}buildStyles(_,w){const F=new Map,K=de(this.defaultParams);return Object.keys(_).forEach(te=>{const ge=_[te];null!==ge&&(K[te]=ge)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((ge,fe)=>{ge&&(ge=Kt(ge,K,w));const Ge=this.normalizer.normalizePropertyName(fe,w);ge=this.normalizer.normalizeStyleValue(fe,Ge,ge,w),F.set(fe,ge)})}),F}}class Ho{constructor(_,w,F){this.name=_,this.ast=w,this._normalizer=F,this.transitionFactories=[],this.states=new Map,w.states.forEach(K=>{this.states.set(K.name,new ws(K.style,K.options&&K.options.params||{},F))}),zs(this.states,"true","1"),zs(this.states,"false","0"),w.transitions.forEach(K=>{this.transitionFactories.push(new jo(_,K,this.states))}),this.fallbackTransition=function Gi($,_,w){return new jo($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,fe)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,w,F,K){return this.transitionFactories.find(ge=>ge.match(_,w,F,K))||null}matchStyles(_,w,F){return this.fallbackTransition.buildStyles(_,w,F)}}function zs($,_,w){$.has(_)?$.has(w)||$.set(w,$.get(_)):$.has(w)&&$.set(_,$.get(w))}const Li=new zi;class ya{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,w){const F=[],K=[],te=Fn(this._driver,w,F,K);if(F.length)throw function Le($){return new q.vHH(3503,!1)}();this._animations.set(_,te)}_buildPlayer(_,w,F){const K=_.element,te=ui(0,this._normalizer,0,_.keyframes,w,F);return this._driver.animate(K,te,_.duration,_.delay,_.easing,[],!0)}create(_,w,F={}){const K=[],te=this._animations.get(_);let ge;const fe=new Map;if(te?(ge=Es(this._driver,w,te,ft,oe,new Map,new Map,F,Li,K),ge.forEach(qt=>{const cn=Mn(fe,qt.element,new Map);qt.postStyleProps.forEach(ir=>cn.set(ir,null))})):(K.push(function It(){return new q.vHH(3300,!1)}()),ge=[]),K.length)throw function $t($){return new q.vHH(3504,!1)}();fe.forEach((qt,cn)=>{qt.forEach((ir,er)=>{qt.set(er,this._driver.computeStyle(cn,er,ht.l3))})});const mt=Vn(ge.map(qt=>{const cn=fe.get(qt.element);return this._buildPlayer(qt,new Map,cn)}));return this._playersById.set(_,mt),mt.onDestroy(()=>this.destroy(_)),this.players.push(mt),mt}destroy(_){const w=this._getPlayer(_);w.destroy(),this._playersById.delete(_);const F=this.players.indexOf(w);F>=0&&this.players.splice(F,1)}_getPlayer(_){const w=this._playersById.get(_);if(!w)throw function Kn($){return new q.vHH(3301,!1)}();return w}listen(_,w,F,K){const te=mi(w,"","","");return nr(this._getPlayer(_),F,te,K),()=>{}}command(_,w,F,K){if("register"==F)return void this.register(_,K[0]);if("create"==F)return void this.create(_,w,K[0]||{});const te=this._getPlayer(_);switch(F){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const Gs="ng-animate-queued",So="ng-animate-disabled",Ws=[],is={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xn="__ng_removed";class hs{get params(){return this.options.params}constructor(_,w=""){this.namespaceId=w;const F=_&&_.hasOwnProperty("value");if(this.value=function Mo($){return $??null}(F?_.value:_),F){const te=de(_);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const w=_.params;if(w){const F=this.options.params;Object.keys(w).forEach(K=>{null==F[K]&&(F[K]=w[K])})}}}const fs="void",Yn=new hs(fs);class Rs{constructor(_,w,F){this.id=_,this.hostElement=w,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,lr(w,this._hostClassName)}listen(_,w,F,K){if(!this._triggers.has(w))throw function zn($,_){return new q.vHH(3302,!1)}();if(null==F||0==F.length)throw function yr($){return new q.vHH(3303,!1)}();if(!function pi($){return"start"==$||"done"==$}(F))throw function fr($,_){return new q.vHH(3400,!1)}();const te=Mn(this._elementListeners,_,[]),ge={name:w,phase:F,callback:K};te.push(ge);const fe=Mn(this._engine.statesByElement,_,new Map);return fe.has(w)||(lr(_,se),lr(_,se+"-"+w),fe.set(w,Yn)),()=>{this._engine.afterFlush(()=>{const Ge=te.indexOf(ge);Ge>=0&&te.splice(Ge,1),this._triggers.has(w)||fe.delete(w)})}}register(_,w){return!this._triggers.has(_)&&(this._triggers.set(_,w),!0)}_getTrigger(_){const w=this._triggers.get(_);if(!w)throw function pr($){return new q.vHH(3401,!1)}();return w}trigger(_,w,F,K=!0){const te=this._getTrigger(w),ge=new si(this.id,w,_);let fe=this._engine.statesByElement.get(_);fe||(lr(_,se),lr(_,se+"-"+w),this._engine.statesByElement.set(_,fe=new Map));let Ge=fe.get(w);const mt=new hs(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&Ge&&mt.absorbOptions(Ge.options),fe.set(w,mt),Ge||(Ge=Yn),mt.value!==fs&&Ge.value===mt.value){if(!function ia($,_){const w=Object.keys($),F=Object.keys(_);if(w.length!=F.length)return!1;for(let K=0;K<w.length;K++){const te=w[K];if(!_.hasOwnProperty(te)||$[te]!==_[te])return!1}return!0}(Ge.params,mt.params)){const An=[],cr=te.matchStyles(Ge.value,Ge.params,An),A=te.matchStyles(mt.value,mt.params,An);An.length?this._engine.reportError(An):this._engine.afterFlush(()=>{Ue(_,cr),Je(_,A)})}return}const ir=Mn(this._engine.playersByElement,_,[]);ir.forEach(An=>{An.namespaceId==this.id&&An.triggerName==w&&An.queued&&An.destroy()});let er=te.matchTransition(Ge.value,mt.value,_,mt.params),Tn=!1;if(!er){if(!K)return;er=te.fallbackTransition,Tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:w,transition:er,fromState:Ge,toState:mt,player:ge,isFallbackTransition:Tn}),Tn||(lr(_,Gs),ge.onStart(()=>{Pi(_,Gs)})),ge.onDone(()=>{let An=this.players.indexOf(ge);An>=0&&this.players.splice(An,1);const cr=this._engine.playersByElement.get(_);if(cr){let A=cr.indexOf(ge);A>=0&&cr.splice(A,1)}}),this.players.push(ge),ir.push(ge),ge}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(w=>w.delete(_)),this._elementListeners.forEach((w,F)=>{this._elementListeners.set(F,w.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const w=this._engine.playersByElement.get(_);w&&(w.forEach(F=>F.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,w){const F=this._engine.driver.query(_,pe,!0);F.forEach(K=>{if(K[Xn])return;const te=this._engine.fetchNamespacesByElement(K);te.size?te.forEach(ge=>ge.triggerLeaveAnimation(K,w,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,w,F,K){const te=this._engine.statesByElement.get(_),ge=new Map;if(te){const fe=[];if(te.forEach((Ge,mt)=>{if(ge.set(mt,Ge.value),this._triggers.has(mt)){const qt=this.trigger(_,mt,fs,K);qt&&fe.push(qt)}}),fe.length)return this._engine.markElementAsRemoved(this.id,_,!0,w,ge),F&&Vn(fe).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const w=this._elementListeners.get(_),F=this._engine.statesByElement.get(_);if(w&&F){const K=new Set;w.forEach(te=>{const ge=te.name;if(K.has(ge))return;K.add(ge);const Ge=this._triggers.get(ge).fallbackTransition,mt=F.get(ge)||Yn,qt=new hs(fs),cn=new si(this.id,ge,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ge,transition:Ge,fromState:mt,toState:qt,player:cn,isFallbackTransition:!0})})}}removeNode(_,w){const F=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,w),this.triggerLeaveAnimation(_,w,!0))return;let K=!1;if(F.totalAnimations){const te=F.players.length?F.playersByQueriedElement.get(_):[];if(te&&te.length)K=!0;else{let ge=_;for(;ge=ge.parentNode;)if(F.statesByElement.get(ge)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)F.markElementAsRemoved(this.id,_,!1,w);else{const te=_[Xn];(!te||te===is)&&(F.afterFlush(()=>this.clearElementCache(_)),F.destroyInnerAnimations(_),F._onRemovalComplete(_,w))}}insertNode(_,w){lr(_,this._hostClassName)}drainQueuedTransitions(_){const w=[];return this._queue.forEach(F=>{const K=F.player;if(K.destroyed)return;const te=F.element,ge=this._elementListeners.get(te);ge&&ge.forEach(fe=>{if(fe.name==F.triggerName){const Ge=mi(te,F.triggerName,F.fromState.value,F.toState.value);Ge._data=_,nr(F.player,fe.phase,Ge,fe.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):w.push(F)}),this._queue=[],w.sort((F,K)=>{const te=F.transition.ast.depCount,ge=K.transition.ast.depCount;return 0==te||0==ge?te-ge:this._engine.driver.containsElement(F.element,K.element)?1:-1})}destroy(_){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let w=!1;return this._elementListeners.has(_)&&(w=!0),w=!!this._queue.find(F=>F.element===_)||w,w}}class ps{_onRemovalComplete(_,w){this.onRemovalComplete(_,w)}constructor(_,w,F){this.bodyNode=_,this.driver=w,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,te)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(w=>{w.players.forEach(F=>{F.queued&&_.push(F)})}),_}createNamespace(_,w){const F=new Rs(_,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(F,w):(this.newHostElements.set(w,F),this.collectEnterElement(w)),this._namespaceLookup[_]=F}_balanceNamespaceList(_,w){const F=this._namespaceList,K=this.namespacesByHostElement;if(F.length-1>=0){let ge=!1,fe=this.driver.getParentElement(w);for(;fe;){const Ge=K.get(fe);if(Ge){const mt=F.indexOf(Ge);F.splice(mt+1,0,_),ge=!0;break}fe=this.driver.getParentElement(fe)}ge||F.unshift(_)}else F.push(_);return K.set(w,_),_}register(_,w){let F=this._namespaceLookup[_];return F||(F=this.createNamespace(_,w)),F}registerTrigger(_,w,F){let K=this._namespaceLookup[_];K&&K.register(w,F)&&this.totalAnimations++}destroy(_,w){if(!_)return;const F=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(F);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>F.destroy(w))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const w=new Set,F=this.statesByElement.get(_);if(F)for(let K of F.values())if(K.namespaceId){const te=this._fetchNamespace(K.namespaceId);te&&w.add(te)}return w}trigger(_,w,F,K){if(ti(w)){const te=this._fetchNamespace(_);if(te)return te.trigger(w,F,K),!0}return!1}insertNode(_,w,F,K){if(!ti(w))return;const te=w[Xn];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(w);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(_){const ge=this._fetchNamespace(_);ge&&ge.insertNode(w,F)}K&&this.collectEnterElement(w)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,w){w?this.disabledNodes.has(_)||(this.disabledNodes.add(_),lr(_,So)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Pi(_,So))}removeNode(_,w,F,K){if(ti(w)){const te=_?this._fetchNamespace(_):null;if(te?te.removeNode(w,K):this.markElementAsRemoved(_,w,!1,K),F){const ge=this.namespacesByHostElement.get(w);ge&&ge.id!==_&&ge.removeNode(w,K)}}else this._onRemovalComplete(w,K)}markElementAsRemoved(_,w,F,K,te){this.collectedLeaveElements.push(w),w[Xn]={namespaceId:_,setForRemoval:K,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:te}}listen(_,w,F,K,te){return ti(w)?this._fetchNamespace(_).listen(w,F,K,te):()=>{}}_buildInstruction(_,w,F,K,te){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,F,K,_.fromState.options,_.toState.options,w,te)}destroyInnerAnimations(_){let w=this.driver.query(_,pe,!0);w.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(_,xe,!0),w.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(_){const w=this.playersByElement.get(_);w&&w.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(_){const w=this.playersByQueriedElement.get(_);w&&w.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Vn(this.players).onDone(()=>_());_()})}processLeaveNode(_){const w=_[Xn];if(w&&w.setForRemoval){if(_[Xn]=is,w.namespaceId){this.destroyInnerAnimations(_);const F=this._fetchNamespace(w.namespaceId);F&&F.clearElementCache(_)}this._onRemovalComplete(_,w.setForRemoval)}_.classList?.contains(So)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(_=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,K)=>this._balanceNamespaceList(F,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)lr(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{w=this._flushAnimations(F,_)}finally{for(let K=0;K<F.length;K++)F[K]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],w.length?Vn(w).onDone(()=>{F.forEach(K=>K())}):F.forEach(K=>K())}}reportError(_){throw function ar($){return new q.vHH(3402,!1)}()}_flushAnimations(_,w){const F=new zi,K=[],te=new Map,ge=[],fe=new Map,Ge=new Map,mt=new Map,qt=new Set;this.disabledNodes.forEach(rn=>{qt.add(rn);const sn=this.driver.query(rn,".ng-animate-queued",!0);for(let vn=0;vn<sn.length;vn++)qt.add(sn[vn])});const cn=this.bodyNode,ir=Array.from(this.statesByElement.keys()),er=yo(ir,this.collectedEnterElements),Tn=new Map;let An=0;er.forEach((rn,sn)=>{const vn=ft+An++;Tn.set(sn,vn),rn.forEach(Nn=>lr(Nn,vn))});const cr=[],A=new Set,B=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const sn=this.collectedLeaveElements[rn],vn=sn[Xn];vn&&vn.setForRemoval&&(cr.push(sn),A.add(sn),vn.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(Nn=>A.add(Nn)):B.add(sn))}const N=new Map,Z=yo(ir,Array.from(A));Z.forEach((rn,sn)=>{const vn=oe+An++;N.set(sn,vn),rn.forEach(Nn=>lr(Nn,vn))}),_.push(()=>{er.forEach((rn,sn)=>{const vn=Tn.get(sn);rn.forEach(Nn=>Pi(Nn,vn))}),Z.forEach((rn,sn)=>{const vn=N.get(sn);rn.forEach(Nn=>Pi(Nn,vn))}),cr.forEach(rn=>{this.processLeaveNode(rn)})});const ue=[],Xe=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(w).forEach(vn=>{const Nn=vn.player,Ar=vn.element;if(ue.push(Nn),this.collectedEnterElements.length){const bi=Ar[Xn];if(bi&&bi.setForMove){if(bi.previousTriggersValues&&bi.previousTriggersValues.has(vn.triggerName)){const Ks=bi.previousTriggersValues.get(vn.triggerName),zr=this.statesByElement.get(vn.element);if(zr&&zr.has(vn.triggerName)){const Na=zr.get(vn.triggerName);Na.value=Ks,zr.set(vn.triggerName,Na)}}return void Nn.destroy()}}const Hr=!cn||!this.driver.containsElement(cn,Ar),ni=N.get(Ar),Wi=Tn.get(Ar),Lr=this._buildInstruction(vn,F,Wi,ni,Hr);if(Lr.errors&&Lr.errors.length)return void Xe.push(Lr);if(Hr)return Nn.onStart(()=>Ue(Ar,Lr.fromStyles)),Nn.onDestroy(()=>Je(Ar,Lr.toStyles)),void K.push(Nn);if(vn.isFallbackTransition)return Nn.onStart(()=>Ue(Ar,Lr.fromStyles)),Nn.onDestroy(()=>Je(Ar,Lr.toStyles)),void K.push(Nn);const au=[];Lr.timelines.forEach(bi=>{bi.stretchStartingKeyframe=!0,this.disabledNodes.has(bi.element)||au.push(bi)}),Lr.timelines=au,F.append(Ar,Lr.timelines),ge.push({instruction:Lr,player:Nn,element:Ar}),Lr.queriedElements.forEach(bi=>Mn(fe,bi,[]).push(Nn)),Lr.preStyleProps.forEach((bi,Ks)=>{if(bi.size){let zr=Ge.get(Ks);zr||Ge.set(Ks,zr=new Set),bi.forEach((Na,Ia)=>zr.add(Ia))}}),Lr.postStyleProps.forEach((bi,Ks)=>{let zr=mt.get(Ks);zr||mt.set(Ks,zr=new Set),bi.forEach((Na,Ia)=>zr.add(Ia))})});if(Xe.length){const rn=[];Xe.forEach(sn=>{rn.push(function ln($,_){return new q.vHH(3505,!1)}())}),ue.forEach(sn=>sn.destroy()),this.reportError(rn)}const Ye=new Map,nn=new Map;ge.forEach(rn=>{const sn=rn.element;F.has(sn)&&(nn.set(sn,sn),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,Ye))}),K.forEach(rn=>{const sn=rn.element;this._getPreviousPlayers(sn,!1,rn.namespaceId,rn.triggerName,null).forEach(Nn=>{Mn(Ye,sn,[]).push(Nn),Nn.destroy()})});const or=cr.filter(rn=>Ps(rn,Ge,mt)),$n=new Map;Ds($n,this.driver,B,mt,ht.l3).forEach(rn=>{Ps(rn,Ge,mt)&&or.push(rn)});const Bn=new Map;er.forEach((rn,sn)=>{Ds(Bn,this.driver,new Set(rn),Ge,ht.k1)}),or.forEach(rn=>{const sn=$n.get(rn),vn=Bn.get(rn);$n.set(rn,new Map([...Array.from(sn?.entries()??[]),...Array.from(vn?.entries()??[])]))});const Fr=[],Ir=[],hi={};ge.forEach(rn=>{const{element:sn,player:vn,instruction:Nn}=rn;if(F.has(sn)){if(qt.has(sn))return vn.onDestroy(()=>Je(sn,Nn.toStyles)),vn.disabled=!0,vn.overrideTotalTime(Nn.totalTime),void K.push(vn);let Ar=hi;if(nn.size>1){let ni=sn;const Wi=[];for(;ni=ni.parentNode;){const Lr=nn.get(ni);if(Lr){Ar=Lr;break}Wi.push(ni)}Wi.forEach(Lr=>nn.set(Lr,Ar))}const Hr=this._buildAnimation(vn.namespaceId,Nn,Ye,te,Bn,$n);if(vn.setRealPlayer(Hr),Ar===hi)Fr.push(vn);else{const ni=this.playersByElement.get(Ar);ni&&ni.length&&(vn.parentPlayer=Vn(ni)),K.push(vn)}}else Ue(sn,Nn.fromStyles),vn.onDestroy(()=>Je(sn,Nn.toStyles)),Ir.push(vn),qt.has(sn)&&K.push(vn)}),Ir.forEach(rn=>{const sn=te.get(rn.element);if(sn&&sn.length){const vn=Vn(sn);rn.setRealPlayer(vn)}}),K.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<cr.length;rn++){const sn=cr[rn],vn=sn[Xn];if(Pi(sn,oe),vn&&vn.hasAnimation)continue;let Nn=[];if(fe.size){let Hr=fe.get(sn);Hr&&Hr.length&&Nn.push(...Hr);let ni=this.driver.query(sn,xe,!0);for(let Wi=0;Wi<ni.length;Wi++){let Lr=fe.get(ni[Wi]);Lr&&Lr.length&&Nn.push(...Lr)}}const Ar=Nn.filter(Hr=>!Hr.destroyed);Ar.length?Ui(this,sn,Ar):this.processLeaveNode(sn)}return cr.length=0,Fr.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const sn=this.players.indexOf(rn);this.players.splice(sn,1)}),rn.play()}),Fr}elementContainsData(_,w){let F=!1;const K=w[Xn];return K&&K.setForRemoval&&(F=!0),this.playersByElement.has(w)&&(F=!0),this.playersByQueriedElement.has(w)&&(F=!0),this.statesByElement.has(w)&&(F=!0),this._fetchNamespace(_).elementContainsData(w)||F}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,w,F,K,te){let ge=[];if(w){const fe=this.playersByQueriedElement.get(_);fe&&(ge=fe)}else{const fe=this.playersByElement.get(_);if(fe){const Ge=!te||te==fs;fe.forEach(mt=>{mt.queued||!Ge&&mt.triggerName!=K||ge.push(mt)})}}return(F||K)&&(ge=ge.filter(fe=>!(F&&F!=fe.namespaceId||K&&K!=fe.triggerName))),ge}_beforeAnimationBuild(_,w,F){const te=w.element,ge=w.isRemovalTransition?void 0:_,fe=w.isRemovalTransition?void 0:w.triggerName;for(const Ge of w.timelines){const mt=Ge.element,qt=mt!==te,cn=Mn(F,mt,[]);this._getPreviousPlayers(mt,qt,ge,fe,w.toState).forEach(er=>{const Tn=er.getRealPlayer();Tn.beforeDestroy&&Tn.beforeDestroy(),er.destroy(),cn.push(er)})}Ue(te,w.fromStyles)}_buildAnimation(_,w,F,K,te,ge){const fe=w.triggerName,Ge=w.element,mt=[],qt=new Set,cn=new Set,ir=w.timelines.map(Tn=>{const An=Tn.element;qt.add(An);const cr=An[Xn];if(cr&&cr.removedBeforeQueried)return new ht.ZN(Tn.duration,Tn.delay);const A=An!==Ge,B=function Pn($){const _=[];return zo($,_),_}((F.get(An)||Ws).map(Ye=>Ye.getRealPlayer())).filter(Ye=>!!Ye.element&&Ye.element===An),N=te.get(An),Z=ge.get(An),ue=ui(0,this._normalizer,0,Tn.keyframes,N,Z),Xe=this._buildPlayer(Tn,ue,B);if(Tn.subTimeline&&K&&cn.add(An),A){const Ye=new si(_,fe,An);Ye.setRealPlayer(Xe),mt.push(Ye)}return Xe});mt.forEach(Tn=>{Mn(this.playersByQueriedElement,Tn.element,[]).push(Tn),Tn.onDone(()=>function va($,_,w){let F=$.get(_);if(F){if(F.length){const K=F.indexOf(w);F.splice(K,1)}0==F.length&&$.delete(_)}return F}(this.playersByQueriedElement,Tn.element,Tn))}),qt.forEach(Tn=>lr(Tn,$e));const er=Vn(ir);return er.onDestroy(()=>{qt.forEach(Tn=>Pi(Tn,$e)),Je(Ge,w.toStyles)}),cn.forEach(Tn=>{Mn(K,Tn,[]).push(er)}),er}_buildPlayer(_,w,F){return w.length>0?this.driver.animate(_.element,w,_.duration,_.delay,_.easing,F):new ht.ZN(_.duration,_.delay)}}class si{constructor(_,w,F){this.namespaceId=_,this.triggerName=w,this.element=F,this._player=new ht.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((w,F)=>{w.forEach(K=>nr(_,F,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const w=this._player;w.triggerCallback&&_.onStart(()=>w.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,w){Mn(this._queuedCallbacks,_,[]).push(w)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const w=this._player;w.triggerCallback&&w.triggerCallback(_)}}function ti($){return $&&1===$.nodeType}function gs($,_){const w=$.style.display;return $.style.display=_??"none",w}function Ds($,_,w,F,K){const te=[];w.forEach(Ge=>te.push(gs(Ge)));const ge=[];F.forEach((Ge,mt)=>{const qt=new Map;Ge.forEach(cn=>{const ir=_.computeStyle(mt,cn,K);qt.set(cn,ir),(!ir||0==ir.length)&&(mt[Xn]=Vi,ge.push(mt))}),$.set(mt,qt)});let fe=0;return w.forEach(Ge=>gs(Ge,te[fe++])),ge}function yo($,_){const w=new Map;if($.forEach(fe=>w.set(fe,[])),0==_.length)return w;const F=1,K=new Set(_),te=new Map;function ge(fe){if(!fe)return F;let Ge=te.get(fe);if(Ge)return Ge;const mt=fe.parentNode;return Ge=w.has(mt)?mt:K.has(mt)?F:ge(mt),te.set(fe,Ge),Ge}return _.forEach(fe=>{const Ge=ge(fe);Ge!==F&&w.get(Ge).push(fe)}),w}function lr($,_){$.classList?.add(_)}function Pi($,_){$.classList?.remove(_)}function Ui($,_,w){Vn(w).onDone(()=>$.processLeaveNode(_))}function zo($,_){for(let w=0;w<$.length;w++){const F=$[w];F instanceof ht.ZE?zo(F.players,_):_.push(F)}}function Ps($,_,w){const F=w.get($);if(!F)return!1;let K=_.get($);return K?F.forEach(te=>K.add(te)):_.set($,F),w.delete($),!0}class to{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(K,te)=>{},this._transitionEngine=new ps(_,w,F),this._timelineEngine=new ya(_,w,F),this._transitionEngine.onRemovalComplete=(K,te)=>this.onRemovalComplete(K,te)}registerTrigger(_,w,F,K,te){const ge=_+"-"+K;let fe=this._triggerCache[ge];if(!fe){const Ge=[],mt=[],qt=Fn(this._driver,te,Ge,mt);if(Ge.length)throw function Ke($,_){return new q.vHH(3404,!1)}();fe=function bo($,_,w){return new Ho($,_,w)}(K,qt,this._normalizer),this._triggerCache[ge]=fe}this._transitionEngine.registerTrigger(w,K,fe)}register(_,w){this._transitionEngine.register(_,w)}destroy(_,w){this._transitionEngine.destroy(_,w)}onInsert(_,w,F,K){this._transitionEngine.insertNode(_,w,F,K)}onRemove(_,w,F,K){this._transitionEngine.removeNode(_,w,K||!1,F)}disableAnimations(_,w){this._transitionEngine.markElementAsDisabled(_,w)}process(_,w,F,K){if("@"==F.charAt(0)){const[te,ge]=Sn(F);this._timelineEngine.command(te,w,ge,K)}else this._transitionEngine.trigger(_,w,F,K)}listen(_,w,F,K,te){if("@"==F.charAt(0)){const[ge,fe]=Sn(F);return this._timelineEngine.listen(ge,w,fe,te)}return this._transitionEngine.listen(_,w,F,K,te)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let no=(()=>{class ${constructor(w,F,K){this._element=w,this._startStyles=F,this._endStyles=K,this._state=0;let te=$.initialStylesByElement.get(w);te||$.initialStylesByElement.set(w,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Je(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Je(this._element,this._initialStyles),this._endStyles&&(Je(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(Ue(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ue(this._element,this._endStyles),this._endStyles=null),Je(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function Ns($){let _=null;return $.forEach((w,F)=>{(function qa($){return"display"===$||"position"===$})(F)&&(_=_||new Map,_.set(F,w))}),_}class R{constructor(_,w,F,K){this.element=_,this.keyframes=w,this.options=F,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const w=[];return _.forEach(F=>{w.push(Object.fromEntries(F))}),w}_triggerWebAnimation(_,w,F){return _.animate(this._convertKeyframesToObject(w),F)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,K)=>{"offset"!==K&&_.set(K,this._finished?F:Ur(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const w="start"===_?this._onStartFns:this._onDoneFns;w.forEach(F=>F()),w.length=0}}class O{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,w){return!1}containsElement(_,w){return yi(_,w)}getParentElement(_){return $r(_)}query(_,w,F){return On(_,w,F)}computeStyle(_,w,F){return window.getComputedStyle(_)[w]}animate(_,w,F,K,te,ge=[]){const Ge={duration:F,delay:K,fill:0==K?"both":"forwards"};te&&(Ge.easing=te);const mt=new Map,qt=ge.filter(er=>er instanceof R);(function $s($,_){return 0===$||0===_})(F,K)&&qt.forEach(er=>{er.currentSnapshot.forEach((Tn,An)=>mt.set(An,Tn))});let cn=function Nt($){return $.length?$[0]instanceof Map?$:$.map(_=>rt(_)):[]}(w).map(er=>xn(er));cn=function js($,_,w){if(w.size&&_.length){let F=_[0],K=[];if(w.forEach((te,ge)=>{F.has(ge)||K.push(ge),F.set(ge,te)}),K.length)for(let te=1;te<_.length;te++){let ge=_[te];K.forEach(fe=>ge.set(fe,Ur($,fe)))}}return _}(_,cn,mt);const ir=function sa($,_){let w=null,F=null;return Array.isArray(_)&&_.length?(w=Ns(_[0]),_.length>1&&(F=Ns(_[_.length-1]))):_ instanceof Map&&(w=Ns(_)),w||F?new no($,w,F):null}(_,cn);return new R(_,cn,Ge,ir)}}var k=W(6895);let X=(()=>{class $ extends ht._j{constructor(w,F){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(F.body,{id:"0",encapsulation:q.ifc.None,styles:[],data:{animation:[]}})}build(w){const F=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(w)?(0,ht.vP)(w):w;return _r(this._renderer,null,F,"register",[K]),new He(F,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(k.K0))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class He extends ht.LC{constructor(_,w){super(),this._id=_,this._renderer=w}create(_,w){return new pn(this._id,_,w||{},this._renderer)}}class pn{constructor(_,w,F,K){this.id=_,this.element=w,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(_,w){return this._renderer.listen(this.element,`@@${this.id}:${_}`,w)}_command(_,...w){return _r(this._renderer,this.element,this.id,_,w)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function _r($,_,w,F,K){return $.setProperty(_,`@@${w}:${F}`,K)}const ss="@.disabled";let ro=(()=>{class ${constructor(w,F,K){this.delegate=w,this.engine=F,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(te,ge)=>{const fe=ge?.parentNode(te);fe&&ge.removeChild(fe,te)}}createRenderer(w,F){const te=this.delegate.createRenderer(w,F);if(!(w&&F&&F.data&&F.data.animation)){let qt=this._rendererCache.get(te);return qt||(qt=new vo("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,qt)),qt}const ge=F.id,fe=F.id+"-"+this._currentId;this._currentId++,this.engine.register(fe,w);const Ge=qt=>{Array.isArray(qt)?qt.forEach(Ge):this.engine.registerTrigger(ge,fe,w,qt.name,qt)};return F.data.animation.forEach(Ge),new _i(this,fe,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,F,K){w>=0&&w<this._microtaskId?this._zone.run(()=>F(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[ge,fe]=te;ge(fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(q.FYo),q.LFG(to),q.LFG(q.R0b))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})();class vo{constructor(_,w,F,K){this.namespaceId=_,this.delegate=w,this.engine=F,this._onDestroy=K,this.destroyNode=this.delegate.destroyNode?te=>w.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,w){return this.delegate.createElement(_,w)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,w){this.delegate.appendChild(_,w),this.engine.onInsert(this.namespaceId,w,_,!1)}insertBefore(_,w,F,K=!0){this.delegate.insertBefore(_,w,F),this.engine.onInsert(this.namespaceId,w,_,K)}removeChild(_,w,F){this.engine.onRemove(this.namespaceId,w,this.delegate,F)}selectRootElement(_,w){return this.delegate.selectRootElement(_,w)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,w,F,K){this.delegate.setAttribute(_,w,F,K)}removeAttribute(_,w,F){this.delegate.removeAttribute(_,w,F)}addClass(_,w){this.delegate.addClass(_,w)}removeClass(_,w){this.delegate.removeClass(_,w)}setStyle(_,w,F,K){this.delegate.setStyle(_,w,F,K)}removeStyle(_,w,F){this.delegate.removeStyle(_,w,F)}setProperty(_,w,F){"@"==w.charAt(0)&&w==ss?this.disableAnimations(_,!!F):this.delegate.setProperty(_,w,F)}setValue(_,w){this.delegate.setValue(_,w)}listen(_,w,F){return this.delegate.listen(_,w,F)}disableAnimations(_,w){this.engine.disableAnimations(_,w)}}class _i extends vo{constructor(_,w,F,K,te){super(w,F,K,te),this.factory=_,this.namespaceId=w}setProperty(_,w,F){"@"==w.charAt(0)?"."==w.charAt(1)&&w==ss?this.disableAnimations(_,F=void 0===F||!!F):this.engine.process(this.namespaceId,_,w.slice(1),F):this.delegate.setProperty(_,w,F)}listen(_,w,F){if("@"==w.charAt(0)){const K=function Ci($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(_);let te=w.slice(1),ge="";return"@"!=te.charAt(0)&&([te,ge]=function Zr($){const _=$.indexOf(".");return[$.substring(0,_),$.slice(_+1)]}(te)),this.engine.listen(this.namespaceId,K,te,ge,fe=>{this.factory.scheduleListenerCallback(fe._data||-1,F,fe)})}return this.delegate.listen(_,w,F)}}const os=[{provide:ht._j,useClass:X},{provide:Fi,useFactory:function io(){return new Do}},{provide:to,useClass:(()=>{class $ extends to{constructor(w,F,K,te){super(w.body,F,K)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(q.LFG(k.K0),q.LFG(st),q.LFG(Fi),q.LFG(q.z2F))},$.\u0275prov=q.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:q.FYo,useFactory:function Er($,_,w){return new ro($,_,w)},deps:[p.se,to,q.R0b]}],_o=[{provide:st,useFactory:()=>new O},{provide:q.QbO,useValue:"BrowserAnimations"},...os],Ts=[{provide:st,useClass:Cr},{provide:q.QbO,useValue:"NoopAnimations"},...os];let Za=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?Ts:_o}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$}),$.\u0275inj=q.cJS({providers:_o,imports:[p.b2]}),$})();var oa=W(7185),Ea=W(2011),so=W(1205),ms=W(9313),Os=W(3692),wa=W(529);let Go=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=q.oAB({type:$,bootstrap:[Ce]}),$.\u0275inj=q.cJS({imports:[wa.JF,p.b2,Ze,(0,Os.hX)(()=>(0,Os.ZF)(gt_firebase)),(0,ms.Cm)(()=>(0,ms.ad)()),so.ww,Ea.hO.initializeApp(gt_firebase),ms.Um,dt.u5,k.ez,dt.UX,Za,oa.Rh.forRoot()]}),$})();p.q6().bootstrapModule(Go).catch($=>console.error($))},9751:(un,at,W)=>{W.d(at,{y:()=>Ne});var p=W(2961),G=W(727),q=W(8822),De=W(9635),Se=W(2416),we=W(576),je=W(2806);let Ne=(()=>{class Ce{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const ht=new Ce;return ht.source=this,ht.operator=dt,ht}subscribe(dt,ht,Gt){const tt=function he(Ce){return Ce&&Ce instanceof p.Lv||function ce(Ce){return Ce&&(0,we.m)(Ce.next)&&(0,we.m)(Ce.error)&&(0,we.m)(Ce.complete)}(Ce)&&(0,G.Nn)(Ce)}(dt)?dt:new p.Hp(dt,ht,Gt);return(0,je.x)(()=>{const{operator:yt,source:St}=this;tt.add(yt?yt.call(tt,St):St?this._subscribe(tt):this._trySubscribe(tt))}),tt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(ht){dt.error(ht)}}forEach(dt,ht){return new(ht=Ze(ht))((Gt,tt)=>{const yt=new p.Hp({next:St=>{try{dt(St)}catch(At){tt(At),yt.unsubscribe()}},error:tt,complete:Gt});this.subscribe(yt)})}_subscribe(dt){var ht;return null===(ht=this.source)||void 0===ht?void 0:ht.subscribe(dt)}[q.L](){return this}pipe(...dt){return(0,De.U)(dt)(this)}toPromise(dt){return new(dt=Ze(dt))((ht,Gt)=>{let tt;this.subscribe(yt=>tt=yt,yt=>Gt(yt),()=>ht(tt))})}}return Ce.create=gt=>new Ce(gt),Ce})();function Ze(Ce){var gt;return null!==(gt=Ce??Se.v.Promise)&&void 0!==gt?gt:Promise}},7579:(un,at,W)=>{W.d(at,{x:()=>je});var p=W(9751),G=W(727);const De=(0,W(3888).d)(Ze=>function(){Ze(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Se=W(8737),we=W(2806);let je=(()=>{class Ze extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(he){const Ce=new Ne(this,this);return Ce.operator=he,Ce}_throwIfClosed(){if(this.closed)throw new De}next(he){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ce of this.currentObservers)Ce.next(he)}})}error(he){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=he;const{observers:Ce}=this;for(;Ce.length;)Ce.shift().error(he)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:he}=this;for(;he.length;)he.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var he;return(null===(he=this.observers)||void 0===he?void 0:he.length)>0}_trySubscribe(he){return this._throwIfClosed(),super._trySubscribe(he)}_subscribe(he){return this._throwIfClosed(),this._checkFinalizedStatuses(he),this._innerSubscribe(he)}_innerSubscribe(he){const{hasError:Ce,isStopped:gt,observers:dt}=this;return Ce||gt?G.Lc:(this.currentObservers=null,dt.push(he),new G.w0(()=>{this.currentObservers=null,(0,Se.P)(dt,he)}))}_checkFinalizedStatuses(he){const{hasError:Ce,thrownError:gt,isStopped:dt}=this;Ce?he.error(gt):dt&&he.complete()}asObservable(){const he=new p.y;return he.source=this,he}}return Ze.create=(ce,he)=>new Ne(ce,he),Ze})();class Ne extends je{constructor(ce,he){super(),this.destination=ce,this.source=he}next(ce){var he,Ce;null===(Ce=null===(he=this.destination)||void 0===he?void 0:he.next)||void 0===Ce||Ce.call(he,ce)}error(ce){var he,Ce;null===(Ce=null===(he=this.destination)||void 0===he?void 0:he.error)||void 0===Ce||Ce.call(he,ce)}complete(){var ce,he;null===(he=null===(ce=this.destination)||void 0===ce?void 0:ce.complete)||void 0===he||he.call(ce)}_subscribe(ce){var he,Ce;return null!==(Ce=null===(he=this.source)||void 0===he?void 0:he.subscribe(ce))&&void 0!==Ce?Ce:G.Lc}}},2961:(un,at,W)=>{W.d(at,{Hp:()=>Gt,Lv:()=>Ce});var p=W(576),G=W(727),q=W(2416),De=W(7849);function Se(){}const we=Ze("C",void 0,void 0);function Ze(Be,_e,nt){return{kind:Be,value:_e,error:nt}}var ce=W(3410),he=W(2806);class Ce extends G.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,G.Nn)(_e)&&_e.add(this)):this.destination=At}static create(_e,nt,Tt){return new Gt(_e,nt,Tt)}next(_e){this.isStopped?St(function Ne(Be){return Ze("N",Be,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?St(function je(Be){return Ze("E",void 0,Be)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?St(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const gt=Function.prototype.bind;function dt(Be,_e){return gt.call(Be,_e)}class ht{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:nt}=this;if(nt.next)try{nt.next(_e)}catch(Tt){tt(Tt)}}error(_e){const{partialObserver:nt}=this;if(nt.error)try{nt.error(_e)}catch(Tt){tt(Tt)}else tt(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(nt){tt(nt)}}}class Gt extends Ce{constructor(_e,nt,Tt){let ot;if(super(),(0,p.m)(_e)||!_e)ot={next:_e??void 0,error:nt??void 0,complete:Tt??void 0};else{let ke;this&&q.v.useDeprecatedNextContext?(ke=Object.create(_e),ke.unsubscribe=()=>this.unsubscribe(),ot={next:_e.next&&dt(_e.next,ke),error:_e.error&&dt(_e.error,ke),complete:_e.complete&&dt(_e.complete,ke)}):ot=_e}this.destination=new ht(ot)}}function tt(Be){q.v.useDeprecatedSynchronousErrorHandling?(0,he.O)(Be):(0,De.h)(Be)}function St(Be,_e){const{onStoppedNotification:nt}=q.v;nt&&ce.z.setTimeout(()=>nt(Be,_e))}const At={closed:!0,next:Se,error:function yt(Be){throw Be},complete:Se}},727:(un,at,W)=>{W.d(at,{Lc:()=>we,w0:()=>Se,Nn:()=>je});var p=W(576);const q=(0,W(3888).d)(Ze=>function(he){Ze(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((Ce,gt)=>`${gt+1}) ${Ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he});var De=W(8737);class Se{constructor(ce){this.initialTeardown=ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ce;if(!this.closed){this.closed=!0;const{_parentage:he}=this;if(he)if(this._parentage=null,Array.isArray(he))for(const dt of he)dt.remove(this);else he.remove(this);const{initialTeardown:Ce}=this;if((0,p.m)(Ce))try{Ce()}catch(dt){ce=dt instanceof q?dt.errors:[dt]}const{_finalizers:gt}=this;if(gt){this._finalizers=null;for(const dt of gt)try{Ne(dt)}catch(ht){ce=ce??[],ht instanceof q?ce=[...ce,...ht.errors]:ce.push(ht)}}if(ce)throw new q(ce)}}add(ce){var he;if(ce&&ce!==this)if(this.closed)Ne(ce);else{if(ce instanceof Se){if(ce.closed||ce._hasParent(this))return;ce._addParent(this)}(this._finalizers=null!==(he=this._finalizers)&&void 0!==he?he:[]).push(ce)}}_hasParent(ce){const{_parentage:he}=this;return he===ce||Array.isArray(he)&&he.includes(ce)}_addParent(ce){const{_parentage:he}=this;this._parentage=Array.isArray(he)?(he.push(ce),he):he?[he,ce]:ce}_removeParent(ce){const{_parentage:he}=this;he===ce?this._parentage=null:Array.isArray(he)&&(0,De.P)(he,ce)}remove(ce){const{_finalizers:he}=this;he&&(0,De.P)(he,ce),ce instanceof Se&&ce._removeParent(this)}}Se.EMPTY=(()=>{const Ze=new Se;return Ze.closed=!0,Ze})();const we=Se.EMPTY;function je(Ze){return Ze instanceof Se||Ze&&"closed"in Ze&&(0,p.m)(Ze.remove)&&(0,p.m)(Ze.add)&&(0,p.m)(Ze.unsubscribe)}function Ne(Ze){(0,p.m)(Ze)?Ze():Ze.unsubscribe()}},2416:(un,at,W)=>{W.d(at,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(un,at,W)=>{W.d(at,{E:()=>G});const G=new(W(9751).y)(Se=>Se.complete())},8996:(un,at,W)=>{W.d(at,{D:()=>_e});var p=W(8421),G=W(5363),q=W(9468),we=W(9751),Ne=W(2202),Ze=W(576),ce=W(9672);function Ce(nt,Tt){if(!nt)throw new Error("Iterable cannot be null");return new we.y(ot=>{(0,ce.f)(ot,Tt,()=>{const ke=nt[Symbol.asyncIterator]();(0,ce.f)(ot,Tt,()=>{ke.next().then(Pt=>{Pt.done?ot.complete():ot.next(Pt.value)})},0,!0)})})}var gt=W(3670),dt=W(8239),ht=W(1144),Gt=W(6495),tt=W(2206),yt=W(4532),St=W(3260);function _e(nt,Tt){return Tt?function Be(nt,Tt){if(null!=nt){if((0,gt.c)(nt))return function De(nt,Tt){return(0,p.Xf)(nt).pipe((0,q.R)(Tt),(0,G.Q)(Tt))}(nt,Tt);if((0,ht.z)(nt))return function je(nt,Tt){return new we.y(ot=>{let ke=0;return Tt.schedule(function(){ke===nt.length?ot.complete():(ot.next(nt[ke++]),ot.closed||this.schedule())})})}(nt,Tt);if((0,dt.t)(nt))return function Se(nt,Tt){return(0,p.Xf)(nt).pipe((0,q.R)(Tt),(0,G.Q)(Tt))}(nt,Tt);if((0,tt.D)(nt))return Ce(nt,Tt);if((0,Gt.T)(nt))return function he(nt,Tt){return new we.y(ot=>{let ke;return(0,ce.f)(ot,Tt,()=>{ke=nt[Ne.h](),(0,ce.f)(ot,Tt,()=>{let Pt,on;try{({value:Pt,done:on}=ke.next())}catch(jt){return void ot.error(jt)}on?ot.complete():ot.next(Pt)},0,!0)}),()=>(0,Ze.m)(ke?.return)&&ke.return()})}(nt,Tt);if((0,St.L)(nt))return function At(nt,Tt){return Ce((0,St.Q)(nt),Tt)}(nt,Tt)}throw(0,yt.z)(nt)}(nt,Tt):(0,p.Xf)(nt)}},8421:(un,at,W)=>{W.d(at,{Xf:()=>gt});var p=W(655),G=W(1144),q=W(8239),De=W(9751),Se=W(3670),we=W(2206),je=W(4532),Ne=W(6495),Ze=W(3260),ce=W(576),he=W(7849),Ce=W(8822);function gt(Be){if(Be instanceof De.y)return Be;if(null!=Be){if((0,Se.c)(Be))return function dt(Be){return new De.y(_e=>{const nt=Be[Ce.L]();if((0,ce.m)(nt.subscribe))return nt.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,G.z)(Be))return function ht(Be){return new De.y(_e=>{for(let nt=0;nt<Be.length&&!_e.closed;nt++)_e.next(Be[nt]);_e.complete()})}(Be);if((0,q.t)(Be))return function Gt(Be){return new De.y(_e=>{Be.then(nt=>{_e.closed||(_e.next(nt),_e.complete())},nt=>_e.error(nt)).then(null,he.h)})}(Be);if((0,we.D)(Be))return yt(Be);if((0,Ne.T)(Be))return function tt(Be){return new De.y(_e=>{for(const nt of Be)if(_e.next(nt),_e.closed)return;_e.complete()})}(Be);if((0,Ze.L)(Be))return function St(Be){return yt((0,Ze.Q)(Be))}(Be)}throw(0,je.z)(Be)}function yt(Be){return new De.y(_e=>{(function At(Be,_e){var nt,Tt,ot,ke;return(0,p.mG)(this,void 0,void 0,function*(){try{for(nt=(0,p.KL)(Be);!(Tt=yield nt.next()).done;)if(_e.next(Tt.value),_e.closed)return}catch(Pt){ot={error:Pt}}finally{try{Tt&&!Tt.done&&(ke=nt.return)&&(yield ke.call(nt))}finally{if(ot)throw ot.error}}_e.complete()})})(Be,_e).catch(nt=>_e.error(nt))})}},6451:(un,at,W)=>{W.d(at,{T:()=>we});var p=W(8189),G=W(8421),q=W(515),De=W(7669),Se=W(8996);function we(...je){const Ne=(0,De.yG)(je),Ze=(0,De._6)(je,1/0),ce=je;return ce.length?1===ce.length?(0,G.Xf)(ce[0]):(0,p.J)(Ze)((0,Se.D)(ce,Ne)):q.E}},9646:(un,at,W)=>{W.d(at,{of:()=>q});var p=W(7669),G=W(8996);function q(...De){const Se=(0,p.yG)(De);return(0,G.D)(De,Se)}},5403:(un,at,W)=>{W.d(at,{x:()=>G});var p=W(2961);function G(De,Se,we,je,Ne){return new q(De,Se,we,je,Ne)}class q extends p.Lv{constructor(Se,we,je,Ne,Ze,ce){super(Se),this.onFinalize=Ze,this.shouldUnsubscribe=ce,this._next=we?function(he){try{we(he)}catch(Ce){Se.error(Ce)}}:super._next,this._error=Ne?function(he){try{Ne(he)}catch(Ce){Se.error(Ce)}finally{this.unsubscribe()}}:super._error,this._complete=je?function(){try{je()}catch(he){Se.error(he)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(Se=this.onFinalize)||void 0===Se||Se.call(this))}}}},4351:(un,at,W)=>{W.d(at,{b:()=>q});var p=W(5577),G=W(576);function q(De,Se){return(0,G.m)(Se)?(0,p.z)(De,Se,1):(0,p.z)(De,1)}},6590:(un,at,W)=>{W.d(at,{d:()=>q});var p=W(4482),G=W(5403);function q(De){return(0,p.e)((Se,we)=>{let je=!1;Se.subscribe((0,G.x)(we,Ne=>{je=!0,we.next(Ne)},()=>{je||we.next(De),we.complete()}))})}},9300:(un,at,W)=>{W.d(at,{h:()=>q});var p=W(4482),G=W(5403);function q(De,Se){return(0,p.e)((we,je)=>{let Ne=0;we.subscribe((0,G.x)(je,Ze=>De.call(Se,Ze,Ne++)&&je.next(Ze)))})}},590:(un,at,W)=>{W.d(at,{P:()=>je});var p=W(6805),G=W(9300),q=W(5698),De=W(6590),Se=W(8068),we=W(4671);function je(Ne,Ze){const ce=arguments.length>=2;return he=>he.pipe(Ne?(0,G.h)((Ce,gt)=>Ne(Ce,gt,he)):we.y,(0,q.q)(1),ce?(0,De.d)(Ze):(0,Se.T)(()=>new p.K))}},4004:(un,at,W)=>{W.d(at,{U:()=>q});var p=W(4482),G=W(5403);function q(De,Se){return(0,p.e)((we,je)=>{let Ne=0;we.subscribe((0,G.x)(je,Ze=>{je.next(De.call(Se,Ze,Ne++))}))})}},8189:(un,at,W)=>{W.d(at,{J:()=>q});var p=W(5577),G=W(4671);function q(De=1/0){return(0,p.z)(G.y,De)}},5577:(un,at,W)=>{W.d(at,{z:()=>Ne});var p=W(4004),G=W(8421),q=W(4482),De=W(9672),Se=W(5403),je=W(576);function Ne(Ze,ce,he=1/0){return(0,je.m)(ce)?Ne((Ce,gt)=>(0,p.U)((dt,ht)=>ce(Ce,dt,gt,ht))((0,G.Xf)(Ze(Ce,gt))),he):("number"==typeof ce&&(he=ce),(0,q.e)((Ce,gt)=>function we(Ze,ce,he,Ce,gt,dt,ht,Gt){const tt=[];let yt=0,St=0,At=!1;const Be=()=>{At&&!tt.length&&!yt&&ce.complete()},_e=Tt=>yt<Ce?nt(Tt):tt.push(Tt),nt=Tt=>{dt&&ce.next(Tt),yt++;let ot=!1;(0,G.Xf)(he(Tt,St++)).subscribe((0,Se.x)(ce,ke=>{gt?.(ke),dt?_e(ke):ce.next(ke)},()=>{ot=!0},void 0,()=>{if(ot)try{for(yt--;tt.length&&yt<Ce;){const ke=tt.shift();ht?(0,De.f)(ce,ht,()=>nt(ke)):nt(ke)}Be()}catch(ke){ce.error(ke)}}))};return Ze.subscribe((0,Se.x)(ce,_e,()=>{At=!0,Be()})),()=>{Gt?.()}}(Ce,gt,Ze,he)))}},5363:(un,at,W)=>{W.d(at,{Q:()=>De});var p=W(9672),G=W(4482),q=W(5403);function De(Se,we=0){return(0,G.e)((je,Ne)=>{je.subscribe((0,q.x)(Ne,Ze=>(0,p.f)(Ne,Se,()=>Ne.next(Ze),we),()=>(0,p.f)(Ne,Se,()=>Ne.complete(),we),Ze=>(0,p.f)(Ne,Se,()=>Ne.error(Ze),we)))})}},3099:(un,at,W)=>{W.d(at,{B:()=>Se});var p=W(8421),G=W(7579),q=W(2961),De=W(4482);function Se(je={}){const{connector:Ne=(()=>new G.x),resetOnError:Ze=!0,resetOnComplete:ce=!0,resetOnRefCountZero:he=!0}=je;return Ce=>{let gt,dt,ht,Gt=0,tt=!1,yt=!1;const St=()=>{dt?.unsubscribe(),dt=void 0},At=()=>{St(),gt=ht=void 0,tt=yt=!1},Be=()=>{const _e=gt;At(),_e?.unsubscribe()};return(0,De.e)((_e,nt)=>{Gt++,!yt&&!tt&&St();const Tt=ht=ht??Ne();nt.add(()=>{Gt--,0===Gt&&!yt&&!tt&&(dt=we(Be,he))}),Tt.subscribe(nt),!gt&&Gt>0&&(gt=new q.Hp({next:ot=>Tt.next(ot),error:ot=>{yt=!0,St(),dt=we(At,Ze,ot),Tt.error(ot)},complete:()=>{tt=!0,St(),dt=we(At,ce),Tt.complete()}}),(0,p.Xf)(_e).subscribe(gt))})(Ce)}}function we(je,Ne,...Ze){if(!0===Ne)return void je();if(!1===Ne)return;const ce=new q.Hp({next:()=>{ce.unsubscribe(),je()}});return(0,p.Xf)(Ne(...Ze)).subscribe(ce)}},9468:(un,at,W)=>{W.d(at,{R:()=>G});var p=W(4482);function G(q,De=0){return(0,p.e)((Se,we)=>{we.add(q.schedule(()=>Se.subscribe(we),De))})}},3900:(un,at,W)=>{W.d(at,{w:()=>De});var p=W(8421),G=W(4482),q=W(5403);function De(Se,we){return(0,G.e)((je,Ne)=>{let Ze=null,ce=0,he=!1;const Ce=()=>he&&!Ze&&Ne.complete();je.subscribe((0,q.x)(Ne,gt=>{Ze?.unsubscribe();let dt=0;const ht=ce++;(0,p.Xf)(Se(gt,ht)).subscribe(Ze=(0,q.x)(Ne,Gt=>Ne.next(we?we(gt,Gt,ht,dt++):Gt),()=>{Ze=null,Ce()}))},()=>{he=!0,Ce()}))})}},5698:(un,at,W)=>{W.d(at,{q:()=>De});var p=W(515),G=W(4482),q=W(5403);function De(Se){return Se<=0?()=>p.E:(0,G.e)((we,je)=>{let Ne=0;we.subscribe((0,q.x)(je,Ze=>{++Ne<=Se&&(je.next(Ze),Se<=Ne&&je.complete())}))})}},8505:(un,at,W)=>{W.d(at,{b:()=>Se});var p=W(576),G=W(4482),q=W(5403),De=W(4671);function Se(we,je,Ne){const Ze=(0,p.m)(we)||je||Ne?{next:we,error:je,complete:Ne}:we;return Ze?(0,G.e)((ce,he)=>{var Ce;null===(Ce=Ze.subscribe)||void 0===Ce||Ce.call(Ze);let gt=!0;ce.subscribe((0,q.x)(he,dt=>{var ht;null===(ht=Ze.next)||void 0===ht||ht.call(Ze,dt),he.next(dt)},()=>{var dt;gt=!1,null===(dt=Ze.complete)||void 0===dt||dt.call(Ze),he.complete()},dt=>{var ht;gt=!1,null===(ht=Ze.error)||void 0===ht||ht.call(Ze,dt),he.error(dt)},()=>{var dt,ht;gt&&(null===(dt=Ze.unsubscribe)||void 0===dt||dt.call(Ze)),null===(ht=Ze.finalize)||void 0===ht||ht.call(Ze)}))}):De.y}},8068:(un,at,W)=>{W.d(at,{T:()=>De});var p=W(6805),G=W(4482),q=W(5403);function De(we=Se){return(0,G.e)((je,Ne)=>{let Ze=!1;je.subscribe((0,q.x)(Ne,ce=>{Ze=!0,Ne.next(ce)},()=>Ze?Ne.complete():Ne.error(we())))})}function Se(){return new p.K}},6063:(un,at,W)=>{W.d(at,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(un,at,W)=>{W.d(at,{z:()=>p});const p={setTimeout(G,q,...De){const{delegate:Se}=p;return Se?.setTimeout?Se.setTimeout(G,q,...De):setTimeout(G,q,...De)},clearTimeout(G){const{delegate:q}=p;return(q?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(un,at,W)=>{W.d(at,{h:()=>G});const G=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(un,at,W)=>{W.d(at,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(un,at,W)=>{W.d(at,{K:()=>G});const G=(0,W(3888).d)(q=>function(){q(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(un,at,W)=>{W.d(at,{_6:()=>we,jO:()=>De,yG:()=>Se});var p=W(576);function q(je){return je[je.length-1]}function De(je){return(0,p.m)(q(je))?je.pop():void 0}function Se(je){return function G(je){return je&&(0,p.m)(je.schedule)}(q(je))?je.pop():void 0}function we(je,Ne){return"number"==typeof q(je)?je.pop():Ne}},4742:(un,at,W)=>{W.d(at,{D:()=>Se});const{isArray:p}=Array,{getPrototypeOf:G,prototype:q,keys:De}=Object;function Se(je){if(1===je.length){const Ne=je[0];if(p(Ne))return{args:Ne,keys:null};if(function we(je){return je&&"object"==typeof je&&G(je)===q}(Ne)){const Ze=De(Ne);return{args:Ze.map(ce=>Ne[ce]),keys:Ze}}}return{args:je,keys:null}}},8737:(un,at,W)=>{function p(G,q){if(G){const De=G.indexOf(q);0<=De&&G.splice(De,1)}}W.d(at,{P:()=>p})},3888:(un,at,W)=>{function p(G){const De=G(Se=>{Error.call(Se),Se.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}W.d(at,{d:()=>p})},1810:(un,at,W)=>{function p(G,q){return G.reduce((De,Se,we)=>(De[Se]=q[we],De),{})}W.d(at,{n:()=>p})},2806:(un,at,W)=>{W.d(at,{O:()=>De,x:()=>q});var p=W(2416);let G=null;function q(Se){if(p.v.useDeprecatedSynchronousErrorHandling){const we=!G;if(we&&(G={errorThrown:!1,error:null}),Se(),we){const{errorThrown:je,error:Ne}=G;if(G=null,je)throw Ne}}else Se()}function De(Se){p.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Se)}},9672:(un,at,W)=>{function p(G,q,De,Se=0,we=!1){const je=q.schedule(function(){De(),we?G.add(this.schedule(null,Se)):this.unsubscribe()},Se);if(G.add(je),!we)return je}W.d(at,{f:()=>p})},4671:(un,at,W)=>{function p(G){return G}W.d(at,{y:()=>p})},1144:(un,at,W)=>{W.d(at,{z:()=>p});const p=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(un,at,W)=>{W.d(at,{D:()=>G});var p=W(576);function G(q){return Symbol.asyncIterator&&(0,p.m)(q?.[Symbol.asyncIterator])}},576:(un,at,W)=>{function p(G){return"function"==typeof G}W.d(at,{m:()=>p})},3670:(un,at,W)=>{W.d(at,{c:()=>q});var p=W(8822),G=W(576);function q(De){return(0,G.m)(De[p.L])}},6495:(un,at,W)=>{W.d(at,{T:()=>q});var p=W(2202),G=W(576);function q(De){return(0,G.m)(De?.[p.h])}},8239:(un,at,W)=>{W.d(at,{t:()=>G});var p=W(576);function G(q){return(0,p.m)(q?.then)}},3260:(un,at,W)=>{W.d(at,{L:()=>De,Q:()=>q});var p=W(655),G=W(576);function q(Se){return(0,p.FC)(this,arguments,function*(){const je=Se.getReader();try{for(;;){const{value:Ne,done:Ze}=yield(0,p.qq)(je.read());if(Ze)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Ne)}}finally{je.releaseLock()}})}function De(Se){return(0,G.m)(Se?.getReader)}},4482:(un,at,W)=>{W.d(at,{A:()=>G,e:()=>q});var p=W(576);function G(De){return(0,p.m)(De?.lift)}function q(De){return Se=>{if(G(Se))return Se.lift(function(we){try{return De(we,this)}catch(je){this.error(je)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(un,at,W)=>{W.d(at,{Z:()=>De});var p=W(4004);const{isArray:G}=Array;function De(Se){return(0,p.U)(we=>function q(Se,we){return G(we)?Se(...we):Se(we)}(Se,we))}},9635:(un,at,W)=>{W.d(at,{U:()=>q,z:()=>G});var p=W(4671);function G(...De){return q(De)}function q(De){return 0===De.length?p.y:1===De.length?De[0]:function(we){return De.reduce((je,Ne)=>Ne(je),we)}}},7849:(un,at,W)=>{W.d(at,{h:()=>q});var p=W(2416),G=W(3410);function q(De){G.z.setTimeout(()=>{const{onUnhandledError:Se}=p.v;if(!Se)throw De;Se(De)})}},4532:(un,at,W)=>{function p(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}W.d(at,{z:()=>p})},655:(un,at,W)=>{function De(Ve,it){var We={};for(var lt in Ve)Object.prototype.hasOwnProperty.call(Ve,lt)&&it.indexOf(lt)<0&&(We[lt]=Ve[lt]);if(null!=Ve&&"function"==typeof Object.getOwnPropertySymbols){var wt=0;for(lt=Object.getOwnPropertySymbols(Ve);wt<lt.length;wt++)it.indexOf(lt[wt])<0&&Object.prototype.propertyIsEnumerable.call(Ve,lt[wt])&&(We[lt[wt]]=Ve[lt[wt]])}return We}function Ce(Ve,it,We,lt){return new(We||(We=Promise))(function(ct,Ot){function Te(Le){try{ye(lt.next(Le))}catch(It){Ot(It)}}function Ke(Le){try{ye(lt.throw(Le))}catch(It){Ot(It)}}function ye(Le){Le.done?ct(Le.value):function wt(ct){return ct instanceof We?ct:new We(function(Ot){Ot(ct)})}(Le.value).then(Te,Ke)}ye((lt=lt.apply(Ve,it||[])).next())})}function Be(Ve){return this instanceof Be?(this.v=Ve,this):new Be(Ve)}function _e(Ve,it,We){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var wt,lt=We.apply(Ve,it||[]),ct=[];return wt={},Ot("next"),Ot("throw"),Ot("return"),wt[Symbol.asyncIterator]=function(){return this},wt;function Ot($t){lt[$t]&&(wt[$t]=function(Kn){return new Promise(function(zn,yr){ct.push([$t,Kn,zn,yr])>1||Te($t,Kn)})})}function Te($t,Kn){try{!function Ke($t){$t.value instanceof Be?Promise.resolve($t.value.v).then(ye,Le):It(ct[0][2],$t)}(lt[$t](Kn))}catch(zn){It(ct[0][3],zn)}}function ye($t){Te("next",$t)}function Le($t){Te("throw",$t)}function It($t,Kn){$t(Kn),ct.shift(),ct.length&&Te(ct[0][0],ct[0][1])}}function Tt(Ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,it=Ve[Symbol.asyncIterator];return it?it.call(Ve):(Ve=function Gt(Ve){var it="function"==typeof Symbol&&Symbol.iterator,We=it&&Ve[it],lt=0;if(We)return We.call(Ve);if(Ve&&"number"==typeof Ve.length)return{next:function(){return Ve&&lt>=Ve.length&&(Ve=void 0),{value:Ve&&Ve[lt++],done:!Ve}}};throw new TypeError(it?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ve),We={},lt("next"),lt("throw"),lt("return"),We[Symbol.asyncIterator]=function(){return this},We);function lt(ct){We[ct]=Ve[ct]&&function(Ot){return new Promise(function(Te,Ke){!function wt(ct,Ot,Te,Ke){Promise.resolve(Ke).then(function(ye){ct({value:ye,done:Te})},Ot)}(Te,Ke,(Ot=Ve[ct](Ot)).done,Ot.value)})}}}W.d(at,{FC:()=>_e,KL:()=>Tt,_T:()=>De,mG:()=>Ce,qq:()=>Be})},7340:(un,at,W)=>{W.d(at,{LC:()=>G,SB:()=>Ze,X$:()=>De,ZE:()=>St,ZN:()=>yt,_j:()=>p,eR:()=>he,jt:()=>Se,k1:()=>At,l3:()=>q,oB:()=>Ne,vP:()=>je});class p{}class G{}const q="*";function De(Be,_e){return{type:7,name:Be,definitions:_e,options:{}}}function Se(Be,_e=null){return{type:4,styles:_e,timings:Be}}function je(Be,_e=null){return{type:2,steps:Be,options:_e}}function Ne(Be){return{type:6,styles:Be,offset:null}}function Ze(Be,_e,nt){return{type:0,name:Be,styles:_e,options:nt}}function he(Be,_e,nt=null){return{type:1,expr:Be,animation:_e,options:nt}}function tt(Be){Promise.resolve().then(Be)}class yt{constructor(_e=0,nt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=_e+nt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}onStart(_e){this._originalOnStartFns.push(_e),this._onStartFns.push(_e)}onDone(_e){this._originalOnDoneFns.push(_e),this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){tt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(_e=>_e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(_e){this._position=this.totalTime?_e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(_e){const nt="start"==_e?this._onStartFns:this._onDoneFns;nt.forEach(Tt=>Tt()),nt.length=0}}class St{constructor(_e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=_e;let nt=0,Tt=0,ot=0;const ke=this.players.length;0==ke?tt(()=>this._onFinish()):this.players.forEach(Pt=>{Pt.onDone(()=>{++nt==ke&&this._onFinish()}),Pt.onDestroy(()=>{++Tt==ke&&this._onDestroy()}),Pt.onStart(()=>{++ot==ke&&this._onStart()})}),this.totalTime=this.players.reduce((Pt,on)=>Math.max(Pt,on.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_e=>_e()),this._onDoneFns=[])}init(){this.players.forEach(_e=>_e.init())}onStart(_e){this._onStartFns.push(_e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(_e=>_e()),this._onStartFns=[])}onDone(_e){this._onDoneFns.push(_e)}onDestroy(_e){this._onDestroyFns.push(_e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(_e=>_e.play())}pause(){this.players.forEach(_e=>_e.pause())}restart(){this.players.forEach(_e=>_e.restart())}finish(){this._onFinish(),this.players.forEach(_e=>_e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(_e=>_e.destroy()),this._onDestroyFns.forEach(_e=>_e()),this._onDestroyFns=[])}reset(){this.players.forEach(_e=>_e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(_e){const nt=_e*this.totalTime;this.players.forEach(Tt=>{const ot=Tt.totalTime?Math.min(1,nt/Tt.totalTime):1;Tt.setPosition(ot)})}getPosition(){const _e=this.players.reduce((nt,Tt)=>null===nt||Tt.totalTime>nt.totalTime?Tt:nt,null);return null!=_e?_e.getPosition():0}beforeDestroy(){this.players.forEach(_e=>{_e.beforeDestroy&&_e.beforeDestroy()})}triggerCallback(_e){const nt="start"==_e?this._onStartFns:this._onDoneFns;nt.forEach(Tt=>Tt()),nt.length=0}}const At="!"},6895:(un,at,W)=>{W.d(at,{Do:()=>St,EM:()=>mo,HT:()=>De,JF:()=>Ws,K0:()=>we,Mx:()=>jr,O5:()=>Ie,PM:()=>zs,S$:()=>Gt,V_:()=>Ze,Ye:()=>At,b0:()=>yt,bD:()=>Co,ez:()=>rs,mk:()=>Dn,q:()=>q,sg:()=>_s,w_:()=>Se});var p=W(4650);let G=null;function q(){return G}function De(A){G||(G=A)}class Se{}const we=new p.OlP("DocumentToken");let je=(()=>{class A{historyGo(N){throw new Error("Not implemented")}}return A.\u0275fac=function(N){return new(N||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Ne(){return(0,p.LFG)(ce)}()},providedIn:"platform"}),A})();const Ze=new p.OlP("Location Initialized");let ce=(()=>{class A extends je{constructor(N){super(),this._doc=N,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(N){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",N,!1),()=>Z.removeEventListener("popstate",N)}onHashChange(N){const Z=q().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",N,!1),()=>Z.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,Z,ue){he()?this._history.pushState(N,Z,ue):this._location.hash=ue}replaceState(N,Z,ue){he()?this._history.replaceState(N,Z,ue):this._location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return A.\u0275fac=function(N){return new(N||A)(p.LFG(we))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Ce(){return new ce((0,p.LFG)(we))}()},providedIn:"platform"}),A})();function he(){return!!window.history.pushState}function gt(A,B){if(0==A.length)return B;if(0==B.length)return A;let N=0;return A.endsWith("/")&&N++,B.startsWith("/")&&N++,2==N?A+B.substring(1):1==N?A+B:A+"/"+B}function dt(A){const B=A.match(/#|\?|$/),N=B&&B.index||A.length;return A.slice(0,N-("/"===A[N-1]?1:0))+A.slice(N)}function ht(A){return A&&"?"!==A[0]?"?"+A:A}let Gt=(()=>{class A{historyGo(N){throw new Error("Not implemented")}}return A.\u0275fac=function(N){return new(N||A)},A.\u0275prov=p.Yz7({token:A,factory:function(){return(0,p.f3M)(yt)},providedIn:"root"}),A})();const tt=new p.OlP("appBaseHref");let yt=(()=>{class A extends Gt{constructor(N,Z){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return gt(this._baseHref,N)}path(N=!1){const Z=this._platformLocation.pathname+ht(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&N?`${Z}${ue}`:Z}pushState(N,Z,ue,Xe){const Ye=this.prepareExternalUrl(ue+ht(Xe));this._platformLocation.pushState(N,Z,Ye)}replaceState(N,Z,ue,Xe){const Ye=this.prepareExternalUrl(ue+ht(Xe));this._platformLocation.replaceState(N,Z,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return A.\u0275fac=function(N){return new(N||A)(p.LFG(je),p.LFG(tt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),St=(()=>{class A extends Gt{constructor(N,Z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(N){const Z=gt(this._baseHref,N);return Z.length>0?"#"+Z:Z}pushState(N,Z,ue,Xe){let Ye=this.prepareExternalUrl(ue+ht(Xe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.pushState(N,Z,Ye)}replaceState(N,Z,ue,Xe){let Ye=this.prepareExternalUrl(ue+ht(Xe));0==Ye.length&&(Ye=this._platformLocation.pathname),this._platformLocation.replaceState(N,Z,Ye)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return A.\u0275fac=function(N){return new(N||A)(p.LFG(je),p.LFG(tt,8))},A.\u0275prov=p.Yz7({token:A,factory:A.\u0275fac}),A})(),At=(()=>{class A{constructor(N){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Z=this._locationStrategy.getBaseHref();this._basePath=function Tt(A){if(new RegExp("^(https?:)?//").test(A)){const[,N]=A.split(/\/\/[^\/]+/);return N}return A}(dt(nt(Z))),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Z=""){return this.path()==this.normalize(N+ht(Z))}normalize(N){return A.stripTrailingSlash(function _e(A,B){if(!A||!B.startsWith(A))return B;const N=B.substring(A.length);return""===N||["/",";","?","#"].includes(N[0])?N:B}(this._basePath,nt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Z="",ue=null){this._locationStrategy.pushState(ue,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ht(Z)),ue)}replaceState(N,Z="",ue=null){this._locationStrategy.replaceState(ue,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ht(Z)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Z){this._urlChangeListeners.forEach(ue=>ue(N,Z))}subscribe(N,Z,ue){return this._subject.subscribe({next:N,error:Z,complete:ue})}}return A.normalizeQueryParams=ht,A.joinWithSlash=gt,A.stripTrailingSlash=dt,A.\u0275fac=function(N){return new(N||A)(p.LFG(Gt))},A.\u0275prov=p.Yz7({token:A,factory:function(){return function Be(){return new At((0,p.LFG)(Gt))}()},providedIn:"root"}),A})();function nt(A){return A.replace(/\/index.html$/,"")}function jr(A,B){B=encodeURIComponent(B);for(const N of A.split(";")){const Z=N.indexOf("="),[ue,Xe]=-1==Z?[N,""]:[N.slice(0,Z),N.slice(Z+1)];if(ue.trim()===B)return decodeURIComponent(Xe)}return null}const Ur=/\s+/,Ht=[];let Dn=(()=>{class A{constructor(N,Z,ue,Xe){this._iterableDiffers=N,this._keyValueDiffers=Z,this._ngEl=ue,this._renderer=Xe,this.initialClasses=Ht,this.stateMap=new Map}set klass(N){this.initialClasses=null!=N?N.trim().split(Ur):Ht}set ngClass(N){this.rawClass="string"==typeof N?N.trim().split(Ur):N}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const N=this.rawClass;if(Array.isArray(N)||N instanceof Set)for(const Z of N)this._updateState(Z,!0);else if(null!=N)for(const Z of Object.keys(N))this._updateState(Z,Boolean(N[Z]));this._applyStateDiff()}_updateState(N,Z){const ue=this.stateMap.get(N);void 0!==ue?(ue.enabled!==Z&&(ue.changed=!0,ue.enabled=Z),ue.touched=!0):this.stateMap.set(N,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const N of this.stateMap){const Z=N[0],ue=N[1];ue.changed?(this._toggleClass(Z,ue.enabled),ue.changed=!1):ue.touched||(ue.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),ue.touched=!1}}_toggleClass(N,Z){(N=N.trim()).length>0&&N.split(Ur).forEach(ue=>{Z?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return A.\u0275fac=function(N){return new(N||A)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class vi{constructor(B,N,Z,ue){this.$implicit=B,this.ngForOf=N,this.index=Z,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _s=(()=>{class A{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,Z,ue){this._viewContainer=N,this._template=Z,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Z=this._viewContainer;N.forEachOperation((ue,Xe,Ye)=>{if(null==ue.previousIndex)Z.createEmbeddedView(this._template,new vi(ue.item,this._ngForOf,-1,-1),null===Ye?void 0:Ye);else if(null==Ye)Z.remove(null===Xe?void 0:Xe);else if(null!==Xe){const nn=Z.get(Xe);Z.move(nn,Ye),Sr(nn,ue)}});for(let ue=0,Xe=Z.length;ue<Xe;ue++){const nn=Z.get(ue).context;nn.index=ue,nn.count=Xe,nn.ngForOf=this._ngForOf}N.forEachIdentityChange(ue=>{Sr(Z.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(N,Z){return!0}}return A.\u0275fac=function(N){return new(N||A)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Sr(A,B){A.context.$implicit=B.item}let Ie=(()=>{class A{constructor(N,Z){this._viewContainer=N,this._context=new Ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){pt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){pt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Z){return!0}}return A.\u0275fac=function(N){return new(N||A)(p.Y36(p.s_b),p.Y36(p.Rgc))},A.\u0275dir=p.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Ae{constructor(){this.$implicit=null,this.ngIf=null}}function pt(A,B){if(B&&!B.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,p.AaK)(B)}'.`)}let rs=(()=>{class A{}return A.\u0275fac=function(N){return new(N||A)},A.\u0275mod=p.oAB({type:A}),A.\u0275inj=p.cJS({}),A})();const Co="browser",ws="server";function zs(A){return A===ws}let mo=(()=>{class A{}return A.\u0275prov=(0,p.Yz7)({token:A,providedIn:"root",factory:()=>new So((0,p.LFG)(we),window)}),A})();class So{constructor(B,N){this.document=B,this.window=N,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const N=function Is(A,B){const N=A.getElementById(B)||A.getElementsByName(B)[0];if(N)return N;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const Z=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ue=Z.currentNode;for(;ue;){const Xe=ue.shadowRoot;if(Xe){const Ye=Xe.getElementById(B)||Xe.querySelector(`[name="${B}"]`);if(Ye)return Ye}ue=Z.nextNode()}}return null}(this.document,B);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=B)}}scrollToElement(B){const N=B.getBoundingClientRect(),Z=N.left+this.window.pageXOffset,ue=N.top+this.window.pageYOffset,Xe=this.offset();this.window.scrollTo(Z-Xe[0],ue-Xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Ri(this.window.history)||Ri(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ri(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ws{}},529:(un,at,W)=>{W.d(at,{JF:()=>On,eN:()=>it});var p=W(6895),G=W(4650),q=W(9646),De=W(9751),Se=W(4351),we=W(9300),je=W(4004);class Ne{}class Ze{}class ce{constructor(ie){this.normalizedNames=new Map,this.lazyUpdate=null,ie?this.lazyInit="string"==typeof ie?()=>{this.headers=new Map,ie.split("\n").forEach(be=>{const qe=be.indexOf(":");if(qe>0){const ft=be.slice(0,qe),oe=ft.toLowerCase(),se=be.slice(qe+1).trim();this.maybeSetNormalizedName(ft,oe),this.headers.has(oe)?this.headers.get(oe).push(se):this.headers.set(oe,[se])}})}:()=>{this.headers=new Map,Object.entries(ie).forEach(([be,qe])=>{let ft;if(ft="string"==typeof qe?[qe]:"number"==typeof qe?[qe.toString()]:qe.map(oe=>oe.toString()),ft.length>0){const oe=be.toLowerCase();this.headers.set(oe,ft),this.maybeSetNormalizedName(be,oe)}})}:this.headers=new Map}has(ie){return this.init(),this.headers.has(ie.toLowerCase())}get(ie){this.init();const be=this.headers.get(ie.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ie){return this.init(),this.headers.get(ie.toLowerCase())||null}append(ie,be){return this.clone({name:ie,value:be,op:"a"})}set(ie,be){return this.clone({name:ie,value:be,op:"s"})}delete(ie,be){return this.clone({name:ie,value:be,op:"d"})}maybeSetNormalizedName(ie,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,ie)}init(){this.lazyInit&&(this.lazyInit instanceof ce?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ie=>this.applyUpdate(ie)),this.lazyUpdate=null))}copyFrom(ie){ie.init(),Array.from(ie.headers.keys()).forEach(be=>{this.headers.set(be,ie.headers.get(be)),this.normalizedNames.set(be,ie.normalizedNames.get(be))})}clone(ie){const be=new ce;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof ce?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([ie]),be}applyUpdate(ie){const be=ie.name.toLowerCase();switch(ie.op){case"a":case"s":let qe=ie.value;if("string"==typeof qe&&(qe=[qe]),0===qe.length)return;this.maybeSetNormalizedName(ie.name,be);const ft=("a"===ie.op?this.headers.get(be):void 0)||[];ft.push(...qe),this.headers.set(be,ft);break;case"d":const oe=ie.value;if(oe){let se=this.headers.get(be);if(!se)return;se=se.filter(pe=>-1===oe.indexOf(pe)),0===se.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,se)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(ie){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>ie(this.normalizedNames.get(be),this.headers.get(be)))}}class Ce{encodeKey(ie){return Gt(ie)}encodeValue(ie){return Gt(ie)}decodeKey(ie){return decodeURIComponent(ie)}decodeValue(ie){return decodeURIComponent(ie)}}const dt=/%(\d[a-f0-9])/gi,ht={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gt(st){return encodeURIComponent(st).replace(dt,(ie,be)=>ht[be]??ie)}function tt(st){return`${st}`}class yt{constructor(ie={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ie.encoder||new Ce,ie.fromString){if(ie.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gt(st,ie){const be=new Map;return st.length>0&&st.replace(/^\?/,"").split("&").forEach(ft=>{const oe=ft.indexOf("="),[se,pe]=-1==oe?[ie.decodeKey(ft),""]:[ie.decodeKey(ft.slice(0,oe)),ie.decodeValue(ft.slice(oe+1))],$e=be.get(se)||[];$e.push(pe),be.set(se,$e)}),be}(ie.fromString,this.encoder)}else ie.fromObject?(this.map=new Map,Object.keys(ie.fromObject).forEach(be=>{const qe=ie.fromObject[be],ft=Array.isArray(qe)?qe.map(tt):[tt(qe)];this.map.set(be,ft)})):this.map=null}has(ie){return this.init(),this.map.has(ie)}get(ie){this.init();const be=this.map.get(ie);return be?be[0]:null}getAll(ie){return this.init(),this.map.get(ie)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ie,be){return this.clone({param:ie,value:be,op:"a"})}appendAll(ie){const be=[];return Object.keys(ie).forEach(qe=>{const ft=ie[qe];Array.isArray(ft)?ft.forEach(oe=>{be.push({param:qe,value:oe,op:"a"})}):be.push({param:qe,value:ft,op:"a"})}),this.clone(be)}set(ie,be){return this.clone({param:ie,value:be,op:"s"})}delete(ie,be){return this.clone({param:ie,value:be,op:"d"})}toString(){return this.init(),this.keys().map(ie=>{const be=this.encoder.encodeKey(ie);return this.map.get(ie).map(qe=>be+"="+this.encoder.encodeValue(qe)).join("&")}).filter(ie=>""!==ie).join("&")}clone(ie){const be=new yt({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(ie),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ie=>this.map.set(ie,this.cloneFrom.map.get(ie))),this.updates.forEach(ie=>{switch(ie.op){case"a":case"s":const be=("a"===ie.op?this.map.get(ie.param):void 0)||[];be.push(tt(ie.value)),this.map.set(ie.param,be);break;case"d":if(void 0===ie.value){this.map.delete(ie.param);break}{let qe=this.map.get(ie.param)||[];const ft=qe.indexOf(tt(ie.value));-1!==ft&&qe.splice(ft,1),qe.length>0?this.map.set(ie.param,qe):this.map.delete(ie.param)}}}),this.cloneFrom=this.updates=null)}}class At{constructor(){this.map=new Map}set(ie,be){return this.map.set(ie,be),this}get(ie){return this.map.has(ie)||this.map.set(ie,ie.defaultValue()),this.map.get(ie)}delete(ie){return this.map.delete(ie),this}has(ie){return this.map.has(ie)}keys(){return this.map.keys()}}function _e(st){return typeof ArrayBuffer<"u"&&st instanceof ArrayBuffer}function nt(st){return typeof Blob<"u"&&st instanceof Blob}function Tt(st){return typeof FormData<"u"&&st instanceof FormData}class ke{constructor(ie,be,qe,ft){let oe;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ie.toUpperCase(),function Be(st){switch(st){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ft?(this.body=void 0!==qe?qe:null,oe=ft):oe=qe,oe&&(this.reportProgress=!!oe.reportProgress,this.withCredentials=!!oe.withCredentials,oe.responseType&&(this.responseType=oe.responseType),oe.headers&&(this.headers=oe.headers),oe.context&&(this.context=oe.context),oe.params&&(this.params=oe.params)),this.headers||(this.headers=new ce),this.context||(this.context=new At),this.params){const se=this.params.toString();if(0===se.length)this.urlWithParams=be;else{const pe=be.indexOf("?");this.urlWithParams=be+(-1===pe?"?":pe<be.length-1?"&":"")+se}}else this.params=new yt,this.urlWithParams=be}serializeBody(){return null===this.body?null:_e(this.body)||nt(this.body)||Tt(this.body)||function ot(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof yt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tt(this.body)?null:nt(this.body)?this.body.type||null:_e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof yt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ie={}){const be=ie.method||this.method,qe=ie.url||this.url,ft=ie.responseType||this.responseType,oe=void 0!==ie.body?ie.body:this.body,se=void 0!==ie.withCredentials?ie.withCredentials:this.withCredentials,pe=void 0!==ie.reportProgress?ie.reportProgress:this.reportProgress;let $e=ie.headers||this.headers,xe=ie.params||this.params;const Ct=ie.context??this.context;return void 0!==ie.setHeaders&&($e=Object.keys(ie.setHeaders).reduce((ve,le)=>ve.set(le,ie.setHeaders[le]),$e)),ie.setParams&&(xe=Object.keys(ie.setParams).reduce((ve,le)=>ve.set(le,ie.setParams[le]),xe)),new ke(be,qe,oe,{params:xe,headers:$e,context:Ct,reportProgress:pe,responseType:ft,withCredentials:se})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class on{constructor(ie,be=200,qe="OK"){this.headers=ie.headers||new ce,this.status=void 0!==ie.status?ie.status:be,this.statusText=ie.statusText||qe,this.url=ie.url||null,this.ok=this.status>=200&&this.status<300}}class jt extends on{constructor(ie={}){super(ie),this.type=Pt.ResponseHeader}clone(ie={}){return new jt({headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class yn extends on{constructor(ie={}){super(ie),this.type=Pt.Response,this.body=void 0!==ie.body?ie.body:null}clone(ie={}){return new yn({body:void 0!==ie.body?ie.body:this.body,headers:ie.headers||this.headers,status:void 0!==ie.status?ie.status:this.status,statusText:ie.statusText||this.statusText,url:ie.url||this.url||void 0})}}class Ut extends on{constructor(ie){super(ie,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ie.url||"(unknown url)"}`:`Http failure response for ${ie.url||"(unknown url)"}: ${ie.status} ${ie.statusText}`,this.error=ie.error||null}}function Ve(st,ie){return{body:ie,headers:st.headers,context:st.context,observe:st.observe,params:st.params,reportProgress:st.reportProgress,responseType:st.responseType,withCredentials:st.withCredentials}}let it=(()=>{class st{constructor(be){this.handler=be}request(be,qe,ft={}){let oe;if(be instanceof ke)oe=be;else{let $e,xe;$e=ft.headers instanceof ce?ft.headers:new ce(ft.headers),ft.params&&(xe=ft.params instanceof yt?ft.params:new yt({fromObject:ft.params})),oe=new ke(be,qe,void 0!==ft.body?ft.body:null,{headers:$e,context:ft.context,params:xe,reportProgress:ft.reportProgress,responseType:ft.responseType||"json",withCredentials:ft.withCredentials})}const se=(0,q.of)(oe).pipe((0,Se.b)($e=>this.handler.handle($e)));if(be instanceof ke||"events"===ft.observe)return se;const pe=se.pipe((0,we.h)($e=>$e instanceof yn));switch(ft.observe||"body"){case"body":switch(oe.responseType){case"arraybuffer":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&!($e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return $e.body}));case"blob":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&!($e.body instanceof Blob))throw new Error("Response is not a Blob.");return $e.body}));case"text":return pe.pipe((0,je.U)($e=>{if(null!==$e.body&&"string"!=typeof $e.body)throw new Error("Response is not a string.");return $e.body}));default:return pe.pipe((0,je.U)($e=>$e.body))}case"response":return pe;default:throw new Error(`Unreachable: unhandled observe type ${ft.observe}}`)}}delete(be,qe={}){return this.request("DELETE",be,qe)}get(be,qe={}){return this.request("GET",be,qe)}head(be,qe={}){return this.request("HEAD",be,qe)}jsonp(be,qe){return this.request("JSONP",be,{params:(new yt).append(qe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,qe={}){return this.request("OPTIONS",be,qe)}patch(be,qe,ft={}){return this.request("PATCH",be,Ve(ft,qe))}post(be,qe,ft={}){return this.request("POST",be,Ve(ft,qe))}put(be,qe,ft={}){return this.request("PUT",be,Ve(ft,qe))}}return st.\u0275fac=function(be){return new(be||st)(G.LFG(Ne))},st.\u0275prov=G.Yz7({token:st,factory:st.\u0275fac}),st})();function We(st,ie){return ie(st)}function lt(st,ie){return(be,qe)=>ie.intercept(be,{handle:ft=>st(ft,qe)})}const ct=new G.OlP("HTTP_INTERCEPTORS"),Ot=new G.OlP("HTTP_INTERCEPTOR_FNS");function Te(){let st=null;return(ie,be)=>(null===st&&(st=((0,G.f3M)(ct,{optional:!0})??[]).reduceRight(lt,We)),st(ie,be))}let Ke=(()=>{class st extends Ne{constructor(be,qe){super(),this.backend=be,this.injector=qe,this.chain=null}handle(be){if(null===this.chain){const qe=Array.from(new Set(this.injector.get(Ot)));this.chain=qe.reduceRight((ft,oe)=>function wt(st,ie,be){return(qe,ft)=>be.runInContext(()=>ie(qe,oe=>st(oe,ft)))}(ft,oe,this.injector),We)}return this.chain(be,qe=>this.backend.handle(qe))}}return st.\u0275fac=function(be){return new(be||st)(G.LFG(Ze),G.LFG(G.lqb))},st.\u0275prov=G.Yz7({token:st,factory:st.\u0275fac}),st})();const ln=/^\)\]\}',?\n/;let Rn=(()=>{class st{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new De.y(qe=>{const ft=this.xhrFactory.build();if(ft.open(be.method,be.urlWithParams),be.withCredentials&&(ft.withCredentials=!0),be.headers.forEach((ne,de)=>ft.setRequestHeader(ne,de.join(","))),be.headers.has("Accept")||ft.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const ne=be.detectContentTypeHeader();null!==ne&&ft.setRequestHeader("Content-Type",ne)}if(be.responseType){const ne=be.responseType.toLowerCase();ft.responseType="json"!==ne?ne:"text"}const oe=be.serializeBody();let se=null;const pe=()=>{if(null!==se)return se;const ne=ft.statusText||"OK",de=new ce(ft.getAllResponseHeaders()),rt=function Kr(st){return"responseURL"in st&&st.responseURL?st.responseURL:/^X-Request-URL:/m.test(st.getAllResponseHeaders())?st.getResponseHeader("X-Request-URL"):null}(ft)||be.url;return se=new jt({headers:de,status:ft.status,statusText:ne,url:rt}),se},$e=()=>{let{headers:ne,status:de,statusText:rt,url:Nt}=pe(),tn=null;204!==de&&(tn=typeof ft.response>"u"?ft.responseText:ft.response),0===de&&(de=tn?200:0);let xn=de>=200&&de<300;if("json"===be.responseType&&"string"==typeof tn){const br=tn;tn=tn.replace(ln,"");try{tn=""!==tn?JSON.parse(tn):null}catch(Jn){tn=br,xn&&(xn=!1,tn={error:Jn,text:tn})}}xn?(qe.next(new yn({body:tn,headers:ne,status:de,statusText:rt,url:Nt||void 0})),qe.complete()):qe.error(new Ut({error:tn,headers:ne,status:de,statusText:rt,url:Nt||void 0}))},xe=ne=>{const{url:de}=pe(),rt=new Ut({error:ne,status:ft.status||0,statusText:ft.statusText||"Unknown Error",url:de||void 0});qe.error(rt)};let Ct=!1;const ve=ne=>{Ct||(qe.next(pe()),Ct=!0);let de={type:Pt.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),"text"===be.responseType&&ft.responseText&&(de.partialText=ft.responseText),qe.next(de)},le=ne=>{let de={type:Pt.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),qe.next(de)};return ft.addEventListener("load",$e),ft.addEventListener("error",xe),ft.addEventListener("timeout",xe),ft.addEventListener("abort",xe),be.reportProgress&&(ft.addEventListener("progress",ve),null!==oe&&ft.upload&&ft.upload.addEventListener("progress",le)),ft.send(oe),qe.next({type:Pt.Sent}),()=>{ft.removeEventListener("error",xe),ft.removeEventListener("abort",xe),ft.removeEventListener("load",$e),ft.removeEventListener("timeout",xe),be.reportProgress&&(ft.removeEventListener("progress",ve),null!==oe&&ft.upload&&ft.upload.removeEventListener("progress",le)),ft.readyState!==ft.DONE&&ft.abort()}})}}return st.\u0275fac=function(be){return new(be||st)(G.LFG(p.JF))},st.\u0275prov=G.Yz7({token:st,factory:st.\u0275fac}),st})();const kt=new G.OlP("XSRF_ENABLED"),ui=new G.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jr=new G.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class mi{}let Mn=(()=>{class st{constructor(be,qe,ft){this.doc=be,this.platform=qe,this.cookieName=ft,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return st.\u0275fac=function(be){return new(be||st)(G.LFG(p.K0),G.LFG(G.Lbi),G.LFG(ui))},st.\u0275prov=G.Yz7({token:st,factory:st.\u0275fac}),st})();function Sn(st,ie){const be=st.url.toLowerCase();if(!(0,G.f3M)(kt)||"GET"===st.method||"HEAD"===st.method||be.startsWith("http://")||be.startsWith("https://"))return ie(st);const qe=(0,G.f3M)(mi).getToken(),ft=(0,G.f3M)(Jr);return null!=qe&&!st.headers.has(ft)&&(st=st.clone({headers:st.headers.set(ft,qe)})),ie(st)}var Vt=(()=>((Vt=Vt||{})[Vt.Interceptors=0]="Interceptors",Vt[Vt.LegacyInterceptors=1]="LegacyInterceptors",Vt[Vt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Vt[Vt.NoXsrfProtection=3]="NoXsrfProtection",Vt[Vt.JsonpSupport=4]="JsonpSupport",Vt[Vt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Vt))();function Rr(st,ie){return{\u0275kind:st,\u0275providers:ie}}function $r(...st){const ie=[it,Rn,Ke,{provide:Ne,useExisting:Ke},{provide:Ze,useExisting:Rn},{provide:Ot,useValue:Sn,multi:!0},{provide:kt,useValue:!0},{provide:mi,useClass:Mn}];for(const be of st)ie.push(...be.\u0275providers);return(0,G.MR2)(ie)}const li=new G.OlP("LEGACY_INTERCEPTOR_FN");let On=(()=>{class st{}return st.\u0275fac=function(be){return new(be||st)},st.\u0275mod=G.oAB({type:st}),st.\u0275inj=G.cJS({providers:[$r(Rr(Vt.LegacyInterceptors,[{provide:li,useFactory:Te},{provide:Ot,useExisting:li,multi:!0}]))]}),st})()},4650:(un,at,W)=>{W.d(at,{$8M:()=>Ca,$WT:()=>Nr,$Z:()=>Qd,AFp:()=>Ew,AaK:()=>Ne,BQk:()=>Ed,CHM:()=>k,CRH:()=>$0,CZH:()=>Vv,CqO:()=>Mc,D6c:()=>GI,EJc:()=>aI,EiD:()=>rp,EpF:()=>gl,F4k:()=>Ac,FYo:()=>rd,FiY:()=>Zt,Gf:()=>B0,GfV:()=>mp,Gpc:()=>he,JOm:()=>$a,JVY:()=>Jf,JZr:()=>Gt,KtG:()=>X,L6k:()=>gc,LAX:()=>Oh,LFG:()=>On,LSH:()=>dr,Lbi:()=>rI,Lck:()=>jE,MAs:()=>dy,MMx:()=>im,MR2:()=>Cm,NdJ:()=>mf,OlP:()=>Qn,Oqu:()=>tc,P3R:()=>Ud,PXZ:()=>II,Q6J:()=>ah,QGY:()=>uh,QbO:()=>iI,Qsj:()=>$h,R0b:()=>Gu,RDi:()=>qf,Rgc:()=>Ch,SBq:()=>ul,Sil:()=>lI,Suo:()=>Rv,TTD:()=>Gs,TgZ:()=>pf,Tol:()=>Cf,Udp:()=>Ag,VKq:()=>mv,W1O:()=>H0,WLB:()=>A0,X6Q:()=>SI,XFs:()=>kt,Xpm:()=>xn,Xts:()=>Ll,Y36:()=>Fu,YKP:()=>_0,YNc:()=>cy,Yjl:()=>wn,Yz7:()=>It,Z0I:()=>yr,ZZ4:()=>fE,_Bn:()=>v0,_UZ:()=>gf,_Vd:()=>nd,_c5:()=>HI,_uU:()=>Fg,aQg:()=>pE,c2e:()=>sI,cJS:()=>Kn,cg1:()=>ys,d8E:()=>Id,dDg:()=>vI,dqk:()=>Mn,eBb:()=>Fd,eFA:()=>Nw,eJc:()=>Ov,ekj:()=>dh,eoX:()=>Mw,f3M:()=>Cr,g9A:()=>Iw,h0i:()=>bd,hGG:()=>zI,hij:()=>fh,iGM:()=>U0,ifc:()=>$e,ip1:()=>_w,jDz:()=>Sd,kL8:()=>Tu,lG2:()=>hn,lqb:()=>Bl,lri:()=>Sw,mCW:()=>Ld,n5z:()=>qs,oAB:()=>Ue,oJD:()=>Em,oxw:()=>_f,pB0:()=>kh,q3G:()=>Ji,q4F:()=>xm,qLn:()=>Wd,qOj:()=>af,qZA:()=>vd,qzn:()=>Yc,rWj:()=>Aw,sBO:()=>AI,s_b:()=>Md,soG:()=>Uv,tb:()=>Rw,tp0:()=>Si,uIk:()=>sh,vHH:()=>tt,vpe:()=>zu,wAp:()=>Hn,xp6:()=>bp,ynx:()=>_d,z2F:()=>Bv,z3N:()=>sl,zSh:()=>cp,zs3:()=>Wl});var p=W(7579),G=W(727),q=W(9751),De=W(6451),Se=W(3099);function we(n){for(let i in n)if(n[i]===we)return i;throw Error("Could not find renamed property on target object.")}function je(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ze(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const ce=we({__forward_ref__:we});function he(n){return n.__forward_ref__=he,n.toString=function(){return Ne(this())},n}function Ce(n){return gt(n)?n():n}function gt(n){return"function"==typeof n&&n.hasOwnProperty(ce)&&n.__forward_ref__===he}function dt(n){return n&&!!n.\u0275providers}const Gt="https://g.co/ng/security#xss";class tt extends Error{constructor(i,o){super(yt(i,o)),this.code=i}}function yt(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function St(n){return"string"==typeof n?n:null==n?"":String(n)}function Tt(n,i){throw new tt(-201,!1)}function Ot(n,i){null==n&&function Te(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function zn(n){return fr(n,Qr)||fr(n,Kr)}function yr(n){return null!==zn(n)}function fr(n,i){return n.hasOwnProperty(i)?n[i]:null}function ar(n){return n&&(n.hasOwnProperty(ln)||n.hasOwnProperty(Rn))?n[ln]:null}const Qr=we({\u0275prov:we}),ln=we({\u0275inj:we}),Kr=we({ngInjectableDef:we}),Rn=we({ngInjectorDef:we});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let Vn;function nr(n){const i=Vn;return Vn=n,i}function Jr(n,i,o){const u=zn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&kt.Optional?null:void 0!==i?i:void Tt(Ne(n))}const Mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rr={},$r="__NG_DI_FLAG__",Pr="ngTempTokenPath",li="ngTokenPath",Tr=/\n/gm,ci="\u0275",ur="__source";let Xi;function qn(n){const i=Xi;return Xi=n,i}function yi(n,i=kt.Default){if(void 0===Xi)throw new tt(-203,!1);return null===Xi?Jr(n,void 0,i):Xi.get(n,i&kt.Optional?null:void 0,i)}function On(n,i=kt.Default){return(function ui(){return Vn}()||yi)(Ce(n),i)}function Cr(n,i=kt.Default){return On(n,st(i))}function st(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ie(n){const i=[];for(let o=0;o<n.length;o++){const u=Ce(n[o]);if(Array.isArray(u)){if(0===u.length)throw new tt(900,!1);let l,h=kt.Default;for(let v=0;v<u.length;v++){const S=u[v],P=qe(S);"number"==typeof P?-1===P?l=S.token:h|=P:l=S}i.push(On(l,h))}else i.push(On(u))}return i}function be(n,i){return n[$r]=i,n.prototype[$r]=i,n}function qe(n){return n[$r]}function se(n){return{toString:n}.toString()}var pe=(()=>((pe=pe||{})[pe.OnPush=0]="OnPush",pe[pe.Default=1]="Default",pe))(),$e=(()=>{return(n=$e||($e={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",$e;var n})();const xe={},Ct=[],ve=we({\u0275cmp:we}),le=we({\u0275dir:we}),ne=we({\u0275pipe:we}),de=we({\u0275mod:we}),rt=we({\u0275fac:we}),Nt=we({__NG_ELEMENT_ID__:we});let tn=0;function xn(n){return se(()=>{const i=$s(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||$e.Emulated,id:"c"+tn++,styles:n.styles||Ct,_:null,schemas:n.schemas||null,tView:null};js(o);const u=n.dependencies;return o.directiveDefs=jr(u,!1),o.pipeDefs=jr(u,!0),o})}function Jn(n){return Kt(n)||Un(n)}function Je(n){return null!==n}function Ue(n){return se(()=>({type:n.type,bootstrap:n.bootstrap||Ct,declarations:n.declarations||Ct,imports:n.imports||Ct,exports:n.exports||Ct,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function an(n,i){if(null==n)return xe;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function hn(n){return se(()=>{const i=$s(n);return js(i),i})}function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Kt(n){return n[ve]||null}function Un(n){return n[le]||null}function rr(n){return n[ne]||null}function Nr(n){const i=Kt(n)||Un(n)||rr(n);return null!==i&&i.standalone}function Xr(n,i){const o=n[de]||null;if(!o&&!0===i)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return o}function $s(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Ct,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:an(n.inputs,i),outputs:an(n.outputs)}}function js(n){n.features?.forEach(i=>i(n))}function jr(n,i){if(!n)return null;const o=i?rr:Jn;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Je)}const Ur=0,Ht=1,Dn=2,Or=3,Zn=4,ls=5,vi=6,_s=7,Sr=8,Oe=9,Ie=10,Ae=11,pt=12,xt=13,gn=14,kn=15,mn=16,Fn=17,Di=18,qr=19,ei=20,di=21,vr=22,Io=1,Hi=2,Ms=7,cs=8,zi=9,fi=10;function Ti(n){return Array.isArray(n)&&"object"==typeof n[Io]}function ds(n){return Array.isArray(n)&&!0===n[Io]}function Hs(n){return 0!=(4&n.flags)}function Es(n){return n.componentOffset>-1}function eo(n){return 1==(1&n.flags)}function sr(n){return!!n.template}function Br(n){return 0!=(256&n[Dn])}function Li(n,i){return n.hasOwnProperty(rt)?n[rt]:null}class ya{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Gs(){return mo}function mo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Ri),So}function So(){const n=Ao(this),i=n?.current;if(i){const o=n.previous;if(o===xe)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Ri(n,i,o,u){const l=this.declaredInputs[o],h=Ao(n)||function Ws(n,i){return n[Is]=i}(n,{previous:xe,current:null}),v=h.current||(h.current={}),S=h.previous,P=S[l];v[l]=new ya(P&&P.currentValue,i,S===xe),n[u]=i}Gs.ngInherit=!0;const Is="__ngSimpleChanges__";function Ao(n){return n[Is]||null}const Xn=function(n,i,o){};function Yn(n){for(;Array.isArray(n);)n=n[Ur];return n}function ps(n,i){return Yn(i[n])}function si(n,i){return Yn(i[n.index])}function Mo(n,i){return n.data[i]}function pi(n,i){const o=i[n];return Ti(o)?o:o[Ur]}function Ds(n){return 64==(64&n[Dn])}function lr(n,i){return null==i?null:n[i]}function Pi(n){n[Di]=0}function Ui(n,i){n[ls]+=i;let o=n,u=n[Or];for(;null!==u&&(1===i&&1===o[ls]||-1===i&&0===o[ls]);)u[ls]+=i,o=u,u=u[Or]}const Pn={lFrame:Go(null),bindingsEnabled:!0};function no(){return Pn.bindingsEnabled}function R(){return Pn.lFrame.lView}function O(){return Pn.lFrame.tView}function k(n){return Pn.lFrame.contextLView=n,n[Sr]}function X(n){return Pn.lFrame.contextLView=null,n}function He(){let n=pn();for(;null!==n&&64===n.type;)n=n.parent;return n}function pn(){return Pn.lFrame.currentTNode}function kr(n,i){const o=Pn.lFrame;o.currentTNode=n,o.isParent=i}function ss(){return Pn.lFrame.isParent}function ro(){Pn.lFrame.isParent=!1}function Zr(){const n=Pn.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Er(){return Pn.lFrame.bindingIndex++}function os(n){const i=Pn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function Za(n,i){const o=Pn.lFrame;o.bindingIndex=o.bindingRootIndex=n,Ei(i)}function Ei(n){Pn.lFrame.currentDirectiveIndex=n}function _a(n){const i=Pn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function oa(){return Pn.lFrame.currentQueryIndex}function Ea(n){Pn.lFrame.currentQueryIndex=n}function so(n){const i=n[Ht];return 2===i.type?i.declTNode:1===i.type?n[vi]:null}function ms(n,i,o){if(o&kt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&kt.Host||(l=so(h),null===l||(h=h[kn],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Pn.lFrame=wa();return u.currentTNode=i,u.lView=n,!0}function Os(n){const i=wa(),o=n[Ht];Pn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function wa(){const n=Pn.lFrame,i=null===n?null:n.child;return null===i?Go(n):i}function Go(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function $(){const n=Pn.lFrame;return Pn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _=$;function w(){const n=$();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function te(){return Pn.lFrame.selectedIndex}function ge(n){Pn.lFrame.selectedIndex=n}function fe(){const n=Pn.lFrame;return Mo(n.tView,n.selectedIndex)}function Tn(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:P,ngAfterViewChecked:j,ngOnDestroy:J}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),P&&(n.viewHooks??(n.viewHooks=[])).push(-o,P),j&&((n.viewHooks??(n.viewHooks=[])).push(o,j),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,j)),null!=J&&(n.destroyHooks??(n.destroyHooks=[])).push(o,J)}}function An(n,i,o){B(n,i,3,o)}function cr(n,i,o,u){(3&n[Dn])===o&&B(n,i,o,u)}function A(n,i){let o=n[Dn];(3&o)===i&&(o&=2047,o+=1,n[Dn]=o)}function B(n,i,o,u){const h=u??-1,v=i.length-1;let S=0;for(let P=void 0!==u?65535&n[Di]:0;P<v;P++)if("number"==typeof i[P+1]){if(S=i[P],null!=u&&S>=u)break}else i[P]<0&&(n[Di]+=65536),(S<h||-1==h)&&(N(n,o,i,P),n[Di]=(4294901760&n[Di])+P+2),P++}function N(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[Dn]>>11<n[Di]>>16&&(3&n[Dn])===i){n[Dn]+=2048,Xn(4,S,h);try{h.call(S)}finally{Xn(5,S,h)}}}else{Xn(4,S,h);try{h.call(S)}finally{Xn(5,S,h)}}}const Z=-1;class ue{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Ir(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],S=o[u++];n.setAttribute(i,v,S,h)}else{const h=l,v=o[++u];rn(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function hi(n){return 3===n||4===n||6===n}function rn(n){return 64===n.charCodeAt(0)}function sn(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||vn(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function vn(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){v=-1;break}if(S>i){v=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Nn(n){return n!==Z}function Ar(n){return 32767&n}function ni(n,i){let o=function Hr(n){return n>>16}(n),u=i;for(;o>0;)u=u[kn],o--;return u}let Wi=!0;function Lr(n){const i=Wi;return Wi=n,i}const aa=255,bi=5;let Ks=0;const zr={};function Ia(n,i){const o=Wu(n,i);if(-1!==o)return o;const u=i[Ht];u.firstCreatePass&&(n.injectorIndex=i.length,xo(u.data,n),xo(i,null),xo(u.blueprint,null));const l=Mi(n,i),h=n.injectorIndex;if(Nn(l)){const v=Ar(l),S=ni(l,i),P=S[Ht].data;for(let j=0;j<8;j++)i[h+j]=S[v+j]|P[v+j]}return i[h+8]=l,h}function xo(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Wu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Mi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=Ya(l),null===u)return Z;if(o++,l=l[kn],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return Z}function ua(n,i,o){!function Na(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Nt)&&(u=o[Nt]),null==u&&(u=o[Nt]=Ks++);const l=u&aa;i.data[n+(l>>bi)]|=1<<l}(n,i,o)}function Ku(n,i,o){if(o&kt.Optional||void 0!==n)return n;Tt()}function Wo(n,i,o,u){if(o&kt.Optional&&void 0===u&&(u=null),!(o&(kt.Self|kt.Host))){const l=n[Oe],h=nr(void 0);try{return l?l.get(i,u,o&kt.Optional):Jr(i,u,o&kt.Optional)}finally{nr(h)}}return Ku(u,0,o)}function uu(n,i,o,u=kt.Default,l){if(null!==n){if(1024&i[Dn]){const v=function ri(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[Dn]&&!(256&v[Dn]);){const S=lu(h,v,o,u|kt.Self,zr);if(S!==zr)return S;let P=h.parent;if(!P){const j=v[di];if(j){const J=j.get(o,zr,u);if(J!==zr)return J}P=Ya(v),v=v[kn]}h=P}return l}(n,i,o,u,zr);if(v!==zr)return v}const h=lu(n,i,o,u,zr);if(h!==zr)return h}return Wo(i,o,u,l)}function lu(n,i,o,u,l){const h=function ai(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Nt)?n[Nt]:void 0;return"number"==typeof i?i>=0?i&aa:qu:i}(o);if("function"==typeof h){if(!ms(i,n,u))return u&kt.Host?Ku(l,0,u):Wo(i,o,u,l);try{const v=h(u);if(null!=v||u&kt.Optional)return v;Tt()}finally{_()}}else if("number"==typeof h){let v=null,S=Wu(n,i),P=Z,j=u&kt.Host?i[mn][vi]:null;for((-1===S||u&kt.SkipSelf)&&(P=-1===S?Mi(n,i):i[S+8],P!==Z&&la(u,!1)?(v=i[Ht],S=Ar(P),i=ni(P,i)):S=-1);-1!==S;){const J=i[Ht];if(Da(h,S,J.data)){const ae=Bi(S,i,o,v,u,j);if(ae!==zr)return ae}P=i[S+8],P!==Z&&la(u,i[Ht].data[S+8]===j)&&Da(h,S,i)?(v=J,S=Ar(P),i=ni(P,i)):S=-1}}return l}function Bi(n,i,o,u,l,h){const v=i[Ht],S=v.data[n+8],J=cu(S,v,o,null==u?Es(S)&&Wi:u!=v&&0!=(3&S.type),l&kt.Host&&h===S);return null!==J?oi(i,v,J,S):zr}function cu(n,i,o,u,l){const h=n.providerIndexes,v=i.data,S=1048575&h,P=n.directiveStart,J=h>>20,Re=l?S+J:n.directiveEnd;for(let Qe=u?S:S+J;Qe<Re;Qe++){const bt=v[Qe];if(Qe<P&&o===bt||Qe>=P&&bt.type===o)return Qe}if(l){const Qe=v[P];if(Qe&&sr(Qe)&&Qe.type===o)return P}return null}function oi(n,i,o,u){let l=n[o];const h=i.data;if(function Xe(n){return n instanceof ue}(l)){const v=l;v.resolving&&function Be(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function At(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():St(n)}(h[o]));const S=Lr(v.canSeeViewProviders);v.resolving=!0;const P=v.injectImpl?nr(v.injectImpl):null;ms(n,u,kt.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function er(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=mo(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==P&&nr(P),Lr(S),v.resolving=!1,_()}}return l}function Da(n,i,o){return!!(o[i+(n>>bi)]&1<<n)}function la(n,i){return!(n&kt.Self||n&kt.Host&&i)}class Ro{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return uu(this._tNode,this._lView,i,st(u),o)}}function qu(){return new Ro(He(),R())}function qs(n){return se(()=>{const i=n.prototype.constructor,o=i[rt]||Ta(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[rt]||Ta(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Ta(n){return gt(n)?()=>{const i=Ta(Ce(n));return i&&i()}:Li(n)}function Ya(n){const i=n[Ht],o=i.type;return 2===o?i.declTNode:1===o?n[vi]:null}function Ca(n){return function Oa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(hi(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(He(),n)}const Ki="__parameters__";function ca(n,i,o){return se(()=>{const u=function Su(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return S.annotation=v,S;function S(P,j,J){const ae=P.hasOwnProperty(Ki)?P[Ki]:Object.defineProperty(P,Ki,{value:[]})[Ki];for(;ae.length<=J;)ae.push(null);return(ae[J]=ae[J]||[]).push(v),P}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Qn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=It({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function qo(n,i){n.forEach(o=>Array.isArray(o)?qo(o,i):i(o))}function da(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function La(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Rt(n,i,o){let u=bs(n,i);return u>=0?n[1|u]=o:(u=~u,function Va(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function ii(n,i){const o=bs(n,i);if(o>=0)return n[1|o]}function bs(n,i){return function y(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Zt=be(ca("Optional"),8),Si=be(ca("SkipSelf"),4);var $a=(()=>(($a=$a||{})[$a.Important=1]="Important",$a[$a.DashCase=2]="DashCase",$a))();const Oi=new Map;let Wc=0;const lc="__ngContext__";function Fs(n,i){Ti(i)?(n[lc]=i[ei],function Aa(n){Oi.set(n[ei],n)}(i)):n[lc]=i}let Gn;function jn(n,i){return Gn(n,i)}function as(n){const i=n[Or];return ds(i)?i[Or]:i}function fa(n){return pa(n[xt])}function Qi(n){return pa(n[Zn])}function pa(n){for(;null!==n&&!ds(n);)n=n[Zn];return n}function Gr(n,i,o,u,l){if(null!=u){let h,v=!1;ds(u)?h=u:Ti(u)&&(v=!0,u=u[Ur]);const S=Yn(u);0===n&&null!==o?null==l?Qs(i,o,S):Wn(i,o,S,l||null,!0):1===n&&null!==o?Wn(i,o,S,l||null,!0):2===n?function fc(n,i,o){const u=ma(n,i);u&&function ga(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,v):3===n&&i.destroyNode(S),null!=h&&function dm(n,i,o,u,l){const h=o[Ms];h!==Yn(o)&&Gr(i,n,u,h,l);for(let S=fi;S<o.length;S++){const P=o[S];Pd(P[Ht],P,n,i,u,h)}}(i,n,h,o,l)}}function Zc(n,i,o){return n.createElement(i,o)}function C(n,i){const o=n[zi],u=o.indexOf(i),l=i[Or];512&i[Dn]&&(i[Dn]&=-513,Ui(l,-1)),o.splice(u,1)}function H(n,i){if(n.length<=fi)return;const o=fi+i,u=n[o];if(u){const l=u[Fn];null!==l&&l!==n&&C(l,u),i>0&&(n[o-1][Zn]=u[Zn]);const h=La(n,fi+i);!function rl(n,i){Pd(n,i,i[Ae],2,null,null),i[Ur]=null,i[vi]=null}(u[Ht],u);const v=h[qr];null!==v&&v.detachView(h[Ht]),u[Or]=null,u[Zn]=null,u[Dn]&=-65}return u}function ee(n,i){if(!(128&i[Dn])){const o=i[Ae];o.destroyNode&&Pd(n,i,o,3,null,null),function I(n){let i=n[xt];if(!i)return Pe(n[Ht],n);for(;i;){let o=null;if(Ti(i))o=i[xt];else{const u=i[fi];u&&(o=u)}if(!o){for(;i&&!i[Zn]&&i!==n;)Ti(i)&&Pe(i[Ht],i),i=i[Or];null===i&&(i=n),Ti(i)&&Pe(i[Ht],i),o=i&&i[Zn]}i=o}}(i)}}function Pe(n,i){if(!(128&i[Dn])){i[Dn]&=-65,i[Dn]|=128,function Bt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ue)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const S=l[h[v]],P=h[v+1];Xn(4,S,P);try{P.call(S)}finally{Xn(5,S,P)}}else{Xn(4,l,h);try{h.call(l)}finally{Xn(5,l,h)}}}}}(n,i),function ut(n,i){const o=n.cleanup,u=i[_s];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[_s]=null}}(n,i),1===i[Ht].type&&i[Ae].destroy();const o=i[Fn];if(null!==o&&ds(i[Or])){o!==i[Or]&&C(o,i);const u=i[qr];null!==u&&u.detachView(n)}!function Pu(n){Oi.delete(n[ei])}(i)}}function dn(n,i,o){return function En(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Ur];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===$e.None||h===$e.Emulated)return null}return si(u,o)}}(n,i.parent,o)}function Wn(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Qs(n,i,o){n.appendChild(i,o)}function Eo(n,i,o,u,l){null!==u?Wn(n,i,o,u,l):Qs(n,i,o)}function ma(n,i){return n.parentNode(i)}let nu,Nd,Nl,Od,xl=function Ml(n,i,o){return 40&n.type?si(n,o):null};function yu(n,i,o,u){const l=dn(n,u,i),h=i[Ae],S=function Nu(n,i,o){return xl(n,i,o)}(u.parent||i[vi],u,i);if(null!=l)if(Array.isArray(o))for(let P=0;P<o.length;P++)Eo(h,l,o[P],S,!1);else Eo(h,l,o,S,!1);void 0!==nu&&nu(h,u,i,o,l)}function dc(n,i){if(null!==i){const o=i.type;if(3&o)return si(i,n);if(4&o)return Pl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return dc(n,u);{const l=n[i.index];return ds(l)?Pl(-1,l):Yn(l)}}if(32&o)return jn(i,n)()||Yn(n[i.index]);{const u=hc(n,i);return null!==u?Array.isArray(u)?u[0]:dc(as(n[mn]),u):dc(n,i.next)}}return null}function hc(n,i){return null!==i?n[mn][vi].projection[i.projection]:null}function Pl(n,i){const o=fi+n+1;if(o<i.length){const u=i[o],l=u[Ht].firstChild;if(null!==l)return dc(u,l)}return i[Ms]}function Rh(n,i,o,u,l,h,v){for(;null!=o;){const S=u[o.index],P=o.type;if(v&&0===i&&(S&&Fs(Yn(S),u),o.flags|=2),32!=(32&o.flags))if(8&P)Rh(n,i,o.child,u,l,h,!1),Gr(i,n,l,S,h);else if(32&P){const j=jn(o,u);let J;for(;J=j();)Gr(i,n,l,J,h);Gr(i,n,l,S,h)}else 16&P?Kf(n,i,u,o,l,h):Gr(i,n,l,S,h);o=v?o.projectionNext:o.next}}function Pd(n,i,o,u,l,h){Rh(o,u,n.firstChild,i,l,h,!1)}function Kf(n,i,o,u,l,h){const v=o[mn],P=v[vi].projection[u.projection];if(Array.isArray(P))for(let j=0;j<P.length;j++)Gr(i,n,l,P[j],h);else Rh(n,i,P,v[Or],l,h,!0)}function $i(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function il(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Ir(n,i,u),null!==l&&$i(n,i,l),null!==h&&function hm(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function vu(n){return function Ph(){if(void 0===Nd&&(Nd=null,Mn.trustedTypes))try{Nd=Mn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nd}()?.createHTML(n)||n}function qf(n){Nl=n}function kd(){if(void 0===Od&&(Od=null,Mn.trustedTypes))try{Od=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Od}function Zf(n){return kd()?.createHTML(n)||n}function Qf(n){return kd()?.createScriptURL(n)||n}class pc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gt})`}}class Wv extends pc{getTypeName(){return"HTML"}}class Kv extends pc{getTypeName(){return"Style"}}class pm extends pc{getTypeName(){return"Script"}}class qv extends pc{getTypeName(){return"URL"}}class gm extends pc{getTypeName(){return"ResourceURL"}}function sl(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function Yc(n,i){const o=function Zv(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Gt})`)}return o===i}function Jf(n){return new Wv(n)}function gc(n){return new Kv(n)}function Fd(n){return new pm(n)}function Oh(n){return new qv(n)}function kh(n){return new gm(n)}class mm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(vu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class ol{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=vu(i),o}}const Qc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ld(n){return(n=String(n)).match(Qc)?n:"unsafe:"+n}function _u(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ol(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Fh=_u("area,br,col,hr,img,wbr"),kl=_u("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jo=_u("rp,rt"),Vh=Ol(Fh,Ol(kl,_u("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ol(Jo,_u("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ol(Jo,kl)),Vd=_u("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=Ol(Vd,_u("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_u("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qv=_u("script,style,template");class al{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Vh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Qv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),v=h.name,S=v.toLowerCase();if(!tp.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let P=h.value;Vd[S]&&(P=Ld(P)),this.buf.push(" ",v,'="',np(P),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Vh.hasOwnProperty(o)&&!Fh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(np(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Jv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ma=/([^\#-~ |!])/g;function np(n){return n.replace(/&/g,"&amp;").replace(Jv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ma,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fl;function rp(n,i){let o=null;try{Fl=Fl||function Xf(n){const i=new ol(n);return function ym(){try{return!!(new window.DOMParser).parseFromString(vu(""),"text/html")}catch{return!1}}()?new mm(i):i}(n);let u=i?String(i):"";o=Fl.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Fl.getInertBodyElement(u)}while(u!==h);return vu((new al).sanitizeChildren(ru(o)||o))}finally{if(o){const u=ru(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ru(n){return"content"in n&&function _m(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ji=(()=>((Ji=Ji||{})[Ji.NONE=0]="NONE",Ji[Ji.HTML=1]="HTML",Ji[Ji.STYLE=2]="STYLE",Ji[Ji.SCRIPT=3]="SCRIPT",Ji[Ji.URL=4]="URL",Ji[Ji.RESOURCE_URL=5]="RESOURCE_URL",Ji))();function Em(n){const i=Jc();return i?Zf(i.sanitize(Ji.HTML,n)||""):Yc(n,"HTML")?Zf(sl(n)):rp(function Nh(){return void 0!==Nl?Nl:typeof document<"u"?document:void 0}(),St(n))}function dr(n){const i=Jc();return i?i.sanitize(Ji.URL,n)||"":Yc(n,"URL")?sl(n):Ld(St(n))}function wm(n){const i=Jc();if(i)return Qf(i.sanitize(Ji.RESOURCE_URL,n)||"");if(Yc(n,"ResourceURL"))return Qf(sl(n));throw new tt(904,!1)}function Ud(n,i,o){return function Tm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?wm:dr}(i,o)(n)}function Jc(){const n=R();return n&&n[pt]}const Ll=new Qn("ENVIRONMENT_INITIALIZER"),Vl=new Qn("INJECTOR",-1),sp=new Qn("INJECTOR_DEF_TYPES");class Ul{get(i,o=Rr){if(o===Rr){const u=new Error(`NullInjectorError: No provider for ${Ne(i)}!`);throw u.name="NullInjectorError",u}return o}}function Cm(n){return{\u0275providers:n}}function Xc(...n){return{\u0275providers:op(0,n),\u0275fromNgModule:!0}}function op(n,...i){const o=[],u=new Set;let l;return qo(i,h=>{const v=h;mc(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&ap(l,o),o}function ap(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];up(l,h=>{i.push(h)})}}function mc(n,i,o,u){if(!(n=Ce(n)))return!1;let l=null,h=ar(n);const v=!h&&Kt(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const P=n.ngModule;if(h=ar(P),!h)return!1;l=P}const S=u.has(l);if(v){if(S)return!1;if(u.add(l),v.dependencies){const P="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const j of P)mc(j,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let j;u.add(l);try{qo(h.imports,J=>{mc(J,i,o,u)&&(j||(j=[]),j.push(J))})}finally{}void 0!==j&&ap(j,i)}if(!S){const j=Li(l)||(()=>new l);i.push({provide:l,useFactory:j,deps:Ct},{provide:sp,useValue:l,multi:!0},{provide:Ll,useValue:()=>On(l),multi:!0})}const P=h.providers;null==P||S||up(P,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}function up(n,i){for(let o of n)dt(o)&&(o=o.\u0275providers),Array.isArray(o)?up(o,i):i(o)}const us=we({provide:String,useValue:we});function ed(n){return null!==n&&"object"==typeof n&&us in n}function yc(n){return"function"==typeof n}const cp=new Qn("Set Injector scope."),jd={},td={};let Eu;function Hd(){return void 0===Eu&&(Eu=new Ul),Eu}class Bl{}class dp extends Bl{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wr(i,v=>this.processProvider(v)),this.records.set(Vl,jl(void 0,this)),l.has("environment")&&this.records.set(Bl,jl(void 0,this));const h=this.records.get(cp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(sp.multi,Ct,kt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=qn(this),u=nr(void 0);try{return i()}finally{qn(o),nr(u)}}get(i,o=Rr,u=kt.Default){this.assertNotDestroyed(),u=st(u);const l=qn(this),h=nr(void 0);try{if(!(u&kt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const P=function Js(n){return"function"==typeof n||"object"==typeof n&&n instanceof Qn}(i)&&zn(i);S=P&&this.injectableDefInScope(P)?jl($l(i),jd):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&kt.Self?Hd():this.parent).get(i,o=u&kt.Optional&&o===Rr?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[Pr]=v[Pr]||[]).unshift(Ne(i)),l)throw v;return function ft(n,i,o,u){const l=n[Pr];throw i[ur]&&l.unshift(i[ur]),n.message=function oe(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==ci?n.slice(2):n;let l=Ne(i);if(Array.isArray(i))l=i.map(Ne).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let S=i[v];h.push(v+":"+("string"==typeof S?JSON.stringify(S):Ne(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(Tr,"\n  ")}`}("\n"+n.message,l,o,u),n[li]=l,n[Pr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{nr(h),qn(l)}}resolveInjectorInitializers(){const i=qn(this),o=nr(void 0);try{const u=this.get(Ll.multi,Ct,kt.Self);for(const l of u)l()}finally{qn(i),nr(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ne(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(i){let o=yc(i=Ce(i))?i:Ce(i&&i.provide);const u=function fp(n){return ed(n)?jl(void 0,n.useValue):jl(Bh(n),jd)}(i);if(yc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=jl(void 0,jd,!0),l.factory=()=>ie(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===jd&&(o.value=td,o.value=o.factory()),"object"==typeof o.value&&o.value&&function t_(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=Ce(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function $l(n){const i=zn(n),o=null!==i?i.factory:Li(n);if(null!==o)return o;if(n instanceof Qn)throw new tt(204,!1);if(n instanceof Function)return function hp(n){const i=n.length;if(i>0)throw function wi(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new tt(204,!1);const o=function pr(n){return n&&(n[Qr]||n[Kr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new tt(204,!1)}function Bh(n,i,o){let u;if(yc(n)){const l=Ce(n);return Li(l)||$l(l)}if(ed(n))u=()=>Ce(n.useValue);else if(function lp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...ie(n.deps||[]));else if(function Bd(n){return!(!n||!n.useExisting)}(n))u=()=>On(Ce(n.useExisting));else{const l=Ce(n&&(n.useClass||n.provide));if(!function e_(n){return!!n.deps}(n))return Li(l)||$l(l);u=()=>new l(...ie(n.deps))}return u}function jl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Wr(n,i){for(const o of n)Array.isArray(o)?Wr(o,i):o&&dt(o)?Wr(o.\u0275providers,i):i(o)}class bm{}class pp{}class r_{resolveComponentFactory(i){throw function gp(n){const i=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nd=(()=>{class n{}return n.NULL=new r_,n})();function Sm(){return Hl(He(),R())}function Hl(n,i){return new ul(si(n,i))}let ul=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Sm,n})();function Gd(n){return n instanceof ul?n.nativeElement:n}class rd{}let $h=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Am(){const n=R(),o=pi(He().index,n);return(Ti(o)?o:n)[Ae]}(),n})(),Mm=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class mp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const xm=new mp("15.2.9"),jh={},Hh="ngOriginalError";function yp(n){return n[Hh]}class Wd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&yp(i);for(;o&&yp(o);)o=yp(o);return o||null}}function Ha(n){return n instanceof Function?n():n}function Ip(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Pm="ng-template";function l_(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Ip(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function sd(n){return 4===n.type&&n.value!==Pm}function Dp(n,i,o){return i===(4!==n.type||o?n.value:Pm)}function c_(n,i,o){let u=4;const l=n.attrs||[],h=function Nm(n){for(let i=0;i<n.length;i++)if(hi(n[i]))return i;return n.length}(l);let v=!1;for(let S=0;S<i.length;S++){const P=i[S];if("number"!=typeof P){if(!v)if(4&u){if(u=2|1&u,""!==P&&!Dp(n,P,o)||""===P&&1===i.length){if(iu(u))return!1;v=!0}}else{const j=8&u?P:i[++S];if(8&u&&null!==n.attrs){if(!l_(n.attrs,j,o)){if(iu(u))return!1;v=!0}continue}const ae=Tp(8&u?"class":P,l,sd(n),o);if(-1===ae){if(iu(u))return!1;v=!0;continue}if(""!==j){let Re;Re=ae>h?"":l[ae+1].toLowerCase();const Qe=8&u?Re:null;if(Qe&&-1!==Ip(Qe,j,0)||2&u&&j!==Re){if(iu(u))return!1;v=!0}}}}else{if(!v&&!iu(u)&&!iu(P))return!1;if(v&&iu(P))continue;v=!1,u=P|1&u}}return iu(u)||v}function iu(n){return 0==(1&n)}function Tp(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function h_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Cp(n,i,o=!1){for(let u=0;u<i.length;u++)if(c_(n,i[u],o))return!0;return!1}function Om(n,i){return n?":not("+i.trim()+")":i}function zl(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const S=n[++o];l+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!iu(v)&&(i+=Om(h,l),l=""),u=v,h=h||!iu(u);o++}return""!==l&&(i+=Om(h,l)),i}const hr={};function bp(n){ku(O(),R(),te()+n,!1)}function ku(n,i,o,u){if(!u)if(3==(3&i[Dn])){const h=n.preOrderCheckHooks;null!==h&&An(i,h,o)}else{const h=n.preOrderHooks;null!==h&&cr(i,h,0,o)}ge(o)}function Gh(n,i=null,o=null,u){const l=Wh(n,i,o,u);return l.resolveInjectorInitializers(),l}function Wh(n,i=null,o=null,u,l=new Set){const h=[o||Ct,Xc(n)];return u=u||("object"==typeof n?void 0:Ne(n)),new dp(h,i||Hd(),u||null,l)}let Wl=(()=>{class n{static create(o,u){if(Array.isArray(o))return Gh({name:""},u,o,"");{const l=o.name??"";return Gh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=Rr,n.NULL=new Ul,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>On(Vl)}),n.__NG_ELEMENT_ID__=-1,n})();function Fu(n,i=kt.Default){const o=R();return null===o?On(n,i):uu(He(),o,Ce(n),i)}function Qd(){throw new Error("invalid")}function Fp(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];Ea(o[u]),v.contentQueries(2,i[h],h)}}}function Xd(n,i,o,u,l,h,v,S,P,j,J){const ae=i.blueprint.slice();return ae[Ur]=l,ae[Dn]=76|u,(null!==J||n&&1024&n[Dn])&&(ae[Dn]|=1024),Pi(ae),ae[Or]=ae[kn]=n,ae[Sr]=o,ae[Ie]=v||n&&n[Ie],ae[Ae]=S||n&&n[Ae],ae[pt]=P||n&&n[pt]||null,ae[Oe]=j||n&&n[Oe]||null,ae[vi]=h,ae[ei]=function Kc(){return Wc++}(),ae[di]=J,ae[mn]=2==i.type?n[mn]:ae,ae}function ll(n,i,o,u,l){let h=n.data[i];if(null===h)h=function cd(n,i,o,u,l){const h=pn(),v=ss(),P=n.data[i]=function I_(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=P),null!==h&&(v?null==h.child&&null!==P.parent&&(h.child=P):null===h.next&&(h.next=P,P.prev=h)),P}(n,i,o,u,l),function _o(){return Pn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function _r(){const n=Pn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return kr(h,!0),h}function dd(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Lu(n,i,o){Os(i);try{const u=n.viewQuery;null!==u&&tf(1,u,o);const l=n.template;null!==l&&Lp(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fp(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const h=n.components;null!==h&&function Xo(n,i){for(let o=0;o<i.length;o++)Xh(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[Dn]&=-5,w()}}function cl(n,i,o,u){const l=i[Dn];if(128!=(128&l)){Os(i);try{Pi(i),function io(n){return Pn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lp(n,i,o,2,u);const v=3==(3&l);if(v){const j=n.preOrderCheckHooks;null!==j&&An(i,j,null)}else{const j=n.preOrderHooks;null!==j&&cr(i,j,0,null),A(i,0)}if(function zp(n){for(let i=fa(n);null!==i;i=Qi(i)){if(!i[Hi])continue;const o=i[zi];for(let u=0;u<o.length;u++){const l=o[u];512&l[Dn]||Ui(l[Or],1),l[Dn]|=512}}}(i),function Qm(n){for(let i=fa(n);null!==i;i=Qi(i))for(let o=fi;o<i.length;o++){const u=i[o],l=u[Ht];Ds(u)&&cl(l,u,l.template,u[Sr])}}(i),null!==n.contentQueries&&Fp(n,i),v){const j=n.contentCheckHooks;null!==j&&An(i,j)}else{const j=n.contentHooks;null!==j&&cr(i,j,1),A(i,1)}!function Jd(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)ge(~l);else{const h=l,v=o[++u],S=o[++u];Za(v,h),S(2,i[h])}}}finally{ge(-1)}}(n,i);const S=n.components;null!==S&&function zm(n,i){for(let o=0;o<i.length;o++)Gp(n,i[o])}(i,S);const P=n.viewQuery;if(null!==P&&tf(2,P,u),v){const j=n.viewCheckHooks;null!==j&&An(i,j)}else{const j=n.viewHooks;null!==j&&cr(i,j,2),A(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Dn]&=-41,512&i[Dn]&&(i[Dn]&=-513,Ui(i[Or],-1))}finally{w()}}}function Lp(n,i,o,u,l){const h=te(),v=2&u;try{ge(-1),v&&i.length>vr&&ku(n,i,vr,!1),Xn(v?2:0,l),o(u,l)}finally{ge(h),Xn(v?3:1,l)}}function dl(n,i,o){if(Hs(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function Vp(n,i,o){no()&&(function b_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;Es(o)&&function P_(n,i,o){const u=si(i,n),l=Up(o),h=n[Ie],v=fd(n,Xd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Ia(o,i),Fs(u,i);const v=o.initialInputs;for(let S=l;S<h;S++){const P=n.data[S],j=oi(i,n,S,o);Fs(j,i),null!==v&&Qh(0,S-l,j,P,0,v),sr(P)&&(pi(o.index,i)[Sr]=oi(i,n,S,o))}}(n,i,o,si(o,i)),64==(64&o.flags)&&jp(n,i,o))}function ql(n,i,o=si){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],S=-1===v?o(i,n):n[v];n[l++]=S}}}function Up(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Vu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Vu(n,i,o,u,l,h,v,S,P,j){const J=vr+u,ae=J+l,Re=function Gm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:hr);return o}(J,ae),Qe="function"==typeof j?j():j;return Re[Ht]={type:n,blueprint:Re,template:o,queries:null,viewQuery:S,declTNode:i,data:Re.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:P,consts:Qe,incompleteFirstPass:!1}}function Bp(n,i,o,u){const l=Xm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Kp(n).push(u,l.length-1))}function $p(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Wm(o,i,l,h):u.hasOwnProperty(l)&&Wm(o,i,u[l],h)}return o}function Wm(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function za(n,i,o,u,l,h,v,S){const P=si(i,o);let J,j=i.inputs;!S&&null!=j&&(J=j[u])?(Zp(n,o,J,u,l),Es(i)&&function Km(n,i){const o=pi(i,n);16&o[Dn]||(o[Dn]|=32)}(o,i.index)):3&i.type&&(u=function D_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(P,u,l))}function hl(n,i,o,u){if(no()){const l=null===u?null:{"":-1},h=function A_(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(Cp(i,v.selectors,!1))if(u||(u=[]),sr(v))if(null!==v.findHostDirectiveDefs){const S=[];l=l||new Map,v.findHostDirectiveDefs(v,S,l),u.unshift(...S,v),eh(n,i,S.length)}else u.unshift(v),eh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,S;null===h?v=S=null:[v,S]=h,null!==v&&hd(n,i,o,v,l,S),l&&function wo(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new tt(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=sn(o.mergedAttrs,o.attrs)}function hd(n,i,o,u,l,h){for(let j=0;j<u.length;j++)ua(Ia(o,i),n,u[j].type);!function x_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let j=0;j<u.length;j++){const J=u[j];J.providersResolver&&J.providersResolver(J)}let v=!1,S=!1,P=dd(n,i,u.length,null);for(let j=0;j<u.length;j++){const J=u[j];o.mergedAttrs=sn(o.mergedAttrs,J.hostAttrs),R_(n,o,i,P,J),M_(P,J,l),null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const ae=J.type.prototype;!v&&(ae.ngOnChanges||ae.ngOnInit||ae.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!S&&(ae.ngOnChanges||ae.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),P++}!function Yh(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,S=[];let P=null,j=null;for(let J=i.directiveStart;J<l;J++){const ae=h[J],Re=o?o.get(ae):null,bt=Re?Re.outputs:null;P=$p(ae.inputs,J,P,Re?Re.inputs:null),j=$p(ae.outputs,J,j,bt);const Wt=null===P||null===v||sd(i)?null:Jh(P,J,v);S.push(Wt)}null!==P&&(P.hasOwnProperty("class")&&(i.flags|=8),P.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=P,i.outputs=j}(n,o,h)}function jp(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function bu(){return Pn.lFrame.currentDirectiveIndex}();try{ge(h);for(let S=u;S<l;S++){const P=n.data[S],j=i[S];Ei(S),(null!==P.hostBindings||0!==P.hostVars||null!==P.hostAttrs)&&S_(P,j)}}finally{ge(-1),Ei(v)}}function S_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function eh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function M_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;sr(i)&&(o[""]=n)}}function R_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=Li(l.type)),v=new ue(h,sr(l),Fu);n.blueprint[u]=v,o[u]=v,function qm(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const S=~i.index;(function Zm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=S&&v.push(S),v.push(o,u,h)}}(n,i,u,dd(n,o,l.hostVars,hr),l)}function su(n,i,o,u,l,h){const v=si(n,i);!function Hp(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const S=null==v?St(h):v(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[Ae],v,h,n.value,o,u,l)}function Qh(n,i,o,u,l,h){const v=h[i];if(null!==v){const S=u.setInput;for(let P=0;P<v.length;){const j=v[P++],J=v[P++],ae=v[P++];null!==S?u.setInput(o,ae,j,J):o[J]=ae}}}function Jh(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let S=0;S<v.length;S+=2)if(v[S]===i){u.push(h,v[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Ym(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Gp(n,i){const o=pi(i,n);if(Ds(o)){const u=o[Ht];48&o[Dn]?cl(u,o,u.template,o[Sr]):o[ls]>0&&wc(o)}}function wc(n){for(let u=fa(n);null!==u;u=Qi(u))for(let l=fi;l<u.length;l++){const h=u[l];if(Ds(h))if(512&h[Dn]){const v=h[Ht];cl(v,h,v.template,h[Sr])}else h[ls]>0&&wc(h)}const o=n[Ht].components;if(null!==o)for(let u=0;u<o.length;u++){const l=pi(o[u],n);Ds(l)&&l[ls]>0&&wc(l)}}function Xh(n,i){const o=pi(i,n),u=o[Ht];(function Wp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Lu(u,o,o[Sr])}function fd(n,i){return n[xt]?n[gn][Zn]=i:n[xt]=i,n[gn]=i,i}function th(n){for(;n;){n[Dn]|=32;const i=as(n);if(Br(n)&&!i)return n;n=i}return null}function ef(n,i,o,u=!0){const l=i[Ie];l.begin&&l.begin();try{cl(n,i,n.template,o)}catch(v){throw u&&qp(i,v),v}finally{l.end&&l.end()}}function tf(n,i,o){Ea(0),i(n,o)}function Xm(n){return n[_s]||(n[_s]=[])}function Kp(n){return n.cleanup||(n.cleanup=[])}function qp(n,i){const o=n[Oe],u=o?o.get(Wd,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],S=o[h++],P=i[v],j=n.data[v];null!==j.setInput?j.setInput(P,l,u,S):P[S]=l}}function fl(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const S=i[v];"number"==typeof S?h=S:1==h?l=Ze(l,S):2==h&&(u=Ze(u,S+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function pd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Yn(h)),ds(h))for(let S=fi;S<h.length;S++){const P=h[S],j=P[Ht].firstChild;null!==j&&pd(P[Ht],P,j,u)}const v=o.type;if(8&v)pd(n,i,o.child,u);else if(32&v){const S=jn(o,i);let P;for(;P=S();)u.push(P)}else if(16&v){const S=hc(i,o);if(Array.isArray(S))u.push(...S);else{const P=as(i[mn]);pd(P[Ht],P,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class Zl{get rootNodes(){const i=this._lView,o=i[Ht];return pd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Sr]}set context(i){this._lView[Sr]=i}get destroyed(){return 128==(128&this._lView[Dn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Or];if(ds(i)){const o=i[cs],u=o?o.indexOf(this):-1;u>-1&&(H(i,u),La(o,u))}this._attachedToViewContainer=!1}ee(this._lView[Ht],this._lView)}onDestroy(i){Bp(this._lView[Ht],this._lView,null,i)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dn]&=-65}reattach(){this._lView[Dn]|=64}detectChanges(){ef(this._lView[Ht],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(n,i){Pd(n,i,i[Ae],2,null,null)}(this._lView[Ht],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=i}}class ty extends Zl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[Ht],i,i[Sr],!1)}checkNoChanges(){}get context(){return null}}class Yp extends nd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Kt(i);return new nh(o,this.ngModule)}}function Qp(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Jp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=st(u);const l=this.injector.get(i,jh,u);return l!==jh||o===jh?l:this.parentInjector.get(i,o,u)}}class nh extends pp{get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function od(n){return n.map(zl).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Bl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Jp(i,h):i,S=v.get(rd,null);if(null===S)throw new tt(407,!1);const P=v.get(Mm,null),j=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ae=u?function w_(n,i,o){return n.selectRootElement(i,o===$e.ShadowDom)}(j,u,this.componentDef.encapsulation):Zc(j,J,function O_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Re=this.componentDef.onPush?288:272,Qe=Vu(0,null,null,1,0,null,null,null,null,null),bt=Xd(null,Qe,null,Re,null,null,S,j,P,v,null);let Wt,fn;Os(bt);try{const bn=this.componentDef;let tr,Ft=null;bn.findHostDirectiveDefs?(tr=[],Ft=new Map,bn.findHostDirectiveDefs(bn,tr,Ft),tr.push(bn)):tr=[bn];const mr=function ny(n,i){const o=n[Ht],u=vr;return n[u]=i,ll(o,u,2,"#host",null)}(bt,ae),As=function eg(n,i,o,u,l,h,v,S){const P=l[Ht];!function nf(n,i,o,u){for(const l of n)i.mergedAttrs=sn(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(fl(i,i.mergedAttrs,!0),null!==o&&il(u,o,i))}(u,n,i,v);const j=h.createRenderer(i,o),J=Xd(l,Up(o),null,o.onPush?32:16,l[n.index],n,h,j,S||null,null,null);return P.firstCreatePass&&eh(P,n,u.length-1),fd(l,J),l[n.index]=J}(mr,ae,bn,tr,bt,S,j);fn=Mo(Qe,vr),ae&&function rf(n,i,o,u){if(u)Ir(n,o,["ng-version",xm.full]);else{const{attrs:l,classes:h}=function km(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!iu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Ir(n,o,l),h&&h.length>0&&$i(n,o,h.join(" "))}}(j,bn,ae,u),void 0!==o&&function tg(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(fn,this.ngContentSelectors,o),Wt=function rh(n,i,o,u,l,h){const v=He(),S=l[Ht],P=si(v,l);hd(S,l,v,o,null,u);for(let J=0;J<o.length;J++)Fs(oi(l,S,v.directiveStart+J,v),l);jp(S,l,v),P&&Fs(P,l);const j=oi(l,S,v.directiveStart+v.componentOffset,v);if(n[Sr]=l[Sr]=j,null!==h)for(const J of h)J(j,i);return dl(S,v,n),j}(As,bn,tr,Ft,bt,[ng]),Lu(Qe,bt,null)}finally{w()}return new Xp(this.componentType,Wt,Hl(fn,bt),bt,fn)}}class Xp extends bm{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ty(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Zp(h[Ht],h,l,i,o),th(pi(this._tNode.index,h))}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ng(){const n=He();Tn(R()[Ht],n)}function af(n){let i=function sf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(sr(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new tt(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=uf(n.inputs),v.declaredInputs=uf(n.declaredInputs),v.outputs=uf(n.outputs);const S=l.hostBindings;S&&L_(n,S);const P=l.viewQuery,j=l.contentQueries;if(P&&lf(n,P),j&&rg(n,j),je(n.inputs,l.inputs),je(n.declaredInputs,l.declaredInputs),je(n.outputs,l.outputs),sr(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const S=h[v];S&&S.ngInherit&&S(n),S===af&&(o=!1)}}i=Object.getPrototypeOf(i)}!function F_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=sn(l.hostAttrs,o=sn(o,l.hostAttrs))}}(u)}function uf(n){return n===xe?{}:n===Ct?[]:n}function lf(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function rg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function L_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function cf(n){return!!og(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function og(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ra(n,i,o){return n[i]=o}function Vs(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function sh(n,i,o,u){const l=R();return Vs(l,Er(),i)&&(O(),su(fe(),l,n,i,o,u)),sh}function cy(n,i,o,u,l,h,v,S){const P=R(),j=O(),J=n+vr,ae=j.firstCreatePass?function ly(n,i,o,u,l,h,v,S,P){const j=i.consts,J=ll(i,n,4,v||null,lr(j,S));hl(i,o,J,lr(j,P)),Tn(i,J);const ae=J.tView=Vu(2,J,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,j);return null!==i.queries&&(i.queries.template(i,J),ae.queries=i.queries.embeddedTView(J)),J}(J,j,P,i,o,u,l,h,v):j.data[J];kr(ae,!1);const Re=P[Ae].createComment("");yu(j,P,Re,ae),Fs(Re,P),fd(P,P[J]=Ym(Re,P,Re,ae)),eo(ae)&&Vp(j,P,ae),null!=v&&ql(P,ae,S)}function dy(n){return function ti(n,i){return n[i]}(function vo(){return Pn.lFrame.contextLView}(),vr+n)}function ah(n,i,o){const u=R();return Vs(u,Er(),i)&&za(O(),fe(),u,n,i,u[Ae],o,!1),ah}function lg(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function pf(n,i,o,u){const l=R(),h=O(),v=vr+n,S=l[Ae],P=h.firstCreatePass?function cg(n,i,o,u,l,h){const v=i.consts,P=ll(i,n,2,u,lr(v,l));return hl(i,o,P,lr(v,h)),null!==P.attrs&&fl(P,P.attrs,!1),null!==P.mergedAttrs&&fl(P,P.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,P),P}(v,h,l,i,o,u):h.data[v],j=l[v]=Zc(S,i,function ir(){return Pn.lFrame.currentNamespace}()),J=eo(P);return kr(P,!0),il(S,j,P),32!=(32&P.flags)&&yu(h,l,j,P),0===function Ps(){return Pn.lFrame.elementDepthCount}()&&Fs(j,l),function to(){Pn.lFrame.elementDepthCount++}(),J&&(Vp(h,l,P),dl(h,P,l)),null!==u&&ql(l,P),pf}function vd(){let n=He();ss()?ro():(n=n.parent,kr(n,!1));const i=n;!function sa(){Pn.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(Tn(o,n),Hs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function $n(n){return 0!=(8&n.flags)}(i)&&lg(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function wr(n){return 0!=(16&n.flags)}(i)&&lg(o,i,R(),i.stylesWithoutHost,!1),vd}function gf(n,i,o,u){return pf(n,i,o,u),vd(),gf}function _d(n,i,o){const u=R(),l=O(),h=n+vr,v=l.firstCreatePass?function dg(n,i,o,u,l){const h=i.consts,v=lr(h,u),S=ll(i,n,8,"ng-container",v);return null!==v&&fl(S,v,!0),hl(i,o,S,lr(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];kr(v,!0);const S=u[h]=u[Ae].createComment("");return yu(l,u,S,v),Fs(S,u),eo(v)&&(Vp(l,u,v),dl(l,v,u)),null!=o&&ql(u,v),_d}function Ed(){let n=He();const i=O();return ss()?ro():(n=n.parent,kr(n,!1)),i.firstCreatePass&&(Tn(i,n),Hs(n)&&i.queries.elementEnd(n)),Ed}function gl(){return R()}function uh(n){return!!n&&"function"==typeof n.then}function Ac(n){return!!n&&"function"==typeof n.subscribe}const Mc=Ac;function mf(n,i,o,u){const l=R(),h=O(),v=He();return function hy(n,i,o,u,l,h,v){const S=eo(u),j=n.firstCreatePass&&Kp(n),J=i[Sr],ae=Xm(i);let Re=!0;if(3&u.type||v){const Wt=si(u,i),fn=v?v(Wt):Wt,bn=ae.length,tr=v?mr=>v(Yn(mr[u.index])):u.index;let Ft=null;if(!v&&S&&(Ft=function H_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const S=i[_s],P=l[h+2];return S.length>P?S[P]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=h,Ft.__ngLastListenerFn__=h,Re=!1;else{h=vf(u,i,J,h,!1);const mr=o.listen(fn,l,h);ae.push(h,mr),j&&j.push(l,tr,bn,bn+1)}}else h=vf(u,i,J,h,!1);const Qe=u.outputs;let bt;if(Re&&null!==Qe&&(bt=Qe[l])){const Wt=bt.length;if(Wt)for(let fn=0;fn<Wt;fn+=2){const As=i[bt[fn]][bt[fn+1]].subscribe(h),po=ae.length;ae.push(h,As),j&&j.push(l,u.index,po,-(po+1))}}}(h,l,l[Ae],v,n,i,u),mf}function yf(n,i,o,u){try{return Xn(6,i,o),!1!==o(u)}catch(l){return qp(n,l),!1}finally{Xn(7,i,o)}}function vf(n,i,o,u,l){return function h(v){if(v===Function)return u;th(n.componentOffset>-1?pi(n.index,i):i);let P=yf(i,o,u,v),j=h.__ngNextListenerFn__;for(;j;)P=yf(i,o,j,v)&&P,j=j.__ngNextListenerFn__;return l&&!1===P&&(v.preventDefault(),v.returnValue=!1),P}}function _f(n=1){return function F(n){return(Pn.lFrame.contextLView=function K(n,i){for(;n>0;)i=i[kn],n--;return i}(n,Pn.lFrame.contextLView))[Sr]}(n)}function wf(n,i){return n<<17|i<<2}function ec(n){return n>>17&32767}function ch(n){return 2|n}function ml(n){return(131068&n)>>2}function _g(n,i){return-131069&n|i<<2}function wg(n){return 1|n}function vy(n,i,o,u,l){const h=n[o+1],v=null===i;let S=u?ec(h):ml(h),P=!1;for(;0!==S&&(!1===P||v);){const J=n[S+1];Dg(n[S],i)&&(P=!0,n[S+1]=u?wg(J):ch(J)),S=u?ec(J):ml(J)}P&&(n[o+1]=u?ch(h):wg(h))}function Dg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&bs(n,i)>=0}const fo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function If(n){return n.substring(fo.key,fo.keyEnd)}function _y(n,i){const o=fo.textEnd;return o===i?-1:(i=fo.keyEnd=function Ey(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,fo.key=i,o),Iu(n,i,o))}function Iu(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Ag(n,i,o){return Wa(n,i,o,!1),Ag}function dh(n,i){return Wa(n,i,null,!0),dh}function Cf(n){!function Du(n,i,o,u){const l=O(),h=os(2);l.firstUpdatePass&&Dy(l,null,h,u);const v=R();if(o!==hr&&Vs(v,h,o)){const S=l.data[te()];if(kg(S,u)&&!bf(l,h)){let P=u?S.classesWithoutHost:S.stylesWithoutHost;null!==P&&(o=Ze(P,o||"")),lg(l,S,v,o,u)}else!function Og(n,i,o,u,l,h,v,S){l===hr&&(l=Ct);let P=0,j=0,J=0<l.length?l[0]:null,ae=0<h.length?h[0]:null;for(;null!==J||null!==ae;){const Re=P<l.length?l[P+1]:void 0,Qe=j<h.length?h[j+1]:void 0;let Wt,bt=null;J===ae?(P+=2,j+=2,Re!==Qe&&(bt=ae,Wt=Qe)):null===ae||null!==J&&J<ae?(P+=2,bt=J):(j+=2,bt=ae,Wt=Qe),null!==bt&&Sf(n,i,o,u,bt,Wt,v,S),J=P<l.length?l[P]:null,ae=j<h.length?h[j]:null}}(l,S,v,v[Ae],v[h+1],v[h+1]=function Pg(n,i,o){if(null==o||""===o)return Ct;const u=[],l=sl(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}(Ng,$u,n,!0)}function $u(n,i){for(let o=function Tg(n){return function Tf(n){fo.key=0,fo.keyEnd=0,fo.value=0,fo.valueEnd=0,fo.textEnd=n.length}(n),_y(n,Iu(n,0,fo.textEnd))}(i);o>=0;o=_y(i,o))Rt(n,If(i),!0)}function Wa(n,i,o,u){const l=R(),h=O(),v=os(2);h.firstUpdatePass&&Dy(h,n,v,u),i!==hr&&Vs(l,v,i)&&Sf(h,h.data[te()],l,l[Ae],n,l[v+1]=function Y_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ne(sl(n)))),n}(i,o),u,v)}function bf(n,i){return i>=n.expandoStartIndex}function Dy(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[te()],v=bf(n,o);kg(h,u)&&null===i&&!v&&(i=!1),i=function Mg(n,i,o,u){const l=_a(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hh(o=Rg(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Rg(l,n,i,o,u),null===h){let P=function Ty(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ml(u))return n[ec(u)]}(n,i,u);void 0!==P&&Array.isArray(P)&&(P=Rg(null,n,i,P[1],u),P=hh(P,i.attrs,u),function xg(n,i,o,u){n[ec(o?i.classBindings:i.styleBindings)]=u}(n,i,u,P))}else h=function Cy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=hh(u,n[h].hostAttrs,o);return hh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Ig(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,S=ec(v),P=ml(v);n[u]=o;let J,j=!1;if(Array.isArray(o)?(J=o[1],(null===J||bs(o,J)>0)&&(j=!0)):J=o,l)if(0!==P){const Re=ec(n[S+1]);n[u+1]=wf(Re,S),0!==Re&&(n[Re+1]=_g(n[Re+1],u)),n[S+1]=function vg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=wf(S,0),0!==S&&(n[S+1]=_g(n[S+1],u)),S=u;else n[u+1]=wf(P,0),0===S?S=u:n[P+1]=_g(n[P+1],u),P=u;j&&(n[u+1]=ch(n[u+1])),vy(n,J,u,!0),vy(n,J,u,!1),function yy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&bs(h,i)>=0&&(o[u+1]=wg(o[u+1]))}(i,J,n,u,h),v=wf(S,P),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}function Rg(n,i,o,u,l){let h=null;const v=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<v&&(h=i[S],u=hh(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function hh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rt(n,v,!!o||i[++h]))}return void 0===n?null:n}function Ng(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&Rt(n,u,o)}function Sf(n,i,o,u,l,h,v,S){if(!(3&i.type))return;const P=n.data,j=P[S+1],J=function Eg(n){return 1==(1&n)}(j)?Sy(P,i,o,l,ml(j),v):void 0;Rc(J)||(Rc(h)||function W_(n){return 2==(2&n)}(j)&&(h=Sy(P,null,o,l,S,v)),function Lo(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:$a.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=$a.Important),n.setStyle(o,u,l,h))}}(u,v,ps(te(),o),l,h))}function Sy(n,i,o,u,l,h){const v=null===i;let S;for(;l>0;){const P=n[l],j=Array.isArray(P),J=j?P[1]:P,ae=null===J;let Re=o[l+1];Re===hr&&(Re=ae?Ct:void 0);let Qe=ae?ii(Re,u):J===u?Re:void 0;if(j&&!Rc(Qe)&&(Qe=ii(P,u)),Rc(Qe)&&(S=Qe,v))return S;const bt=n[l+1];l=v?ec(bt):ml(bt)}if(null!==i){let P=h?i.residualClasses:i.residualStyles;null!=P&&(S=ii(P,u))}return S}function Rc(n){return void 0!==n}function kg(n,i){return 0!=(n.flags&(i?8:16))}function Fg(n,i=""){const o=R(),u=O(),l=n+vr,h=u.firstCreatePass?ll(u,l,1,i,null):u.data[l],v=o[l]=function Al(n,i){return n.createText(i)}(o[Ae],i);yu(u,o,v,h),kr(h,!1)}function tc(n){return fh("",n,""),tc}function fh(n,i,o){const u=R(),l=function Yl(n,i,o,u){return Vs(n,Er(),o)?i+St(o)+u:hr}(u,n,i,o);return l!==hr&&function xa(n,i,o){const u=ps(i,n);!function Ys(n,i,o){n.setValue(i,o)}(n[Ae],u,o)}(u,te(),l),fh}function Id(n,i,o){const u=R();if(Vs(u,Er(),i)){const h=O(),v=fe();za(h,v,u,n,i,function ey(n,i,o){return(null===n||sr(n))&&(o=function Rs(n){for(;Array.isArray(n);){if("object"==typeof n[Io])return n;n=n[Ur]}return null}(o[i.index])),o[Ae]}(_a(h.data),v,u),o,!0)}return Id}const Mr=void 0;var Hy=["en",[["a","p"],["AM","PM"],Mr],[["AM","PM"],Mr,Mr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mr,"{1} 'at' {0}",Mr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jy(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let ju={};function ys(n){const i=function wE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=zy(i);if(o)return o;const u=i.split("-")[0];if(o=zy(u),o)return o;if("en"===u)return Hy;throw new tt(701,!1)}function Tu(n){return ys(n)[Hn.PluralCase]}function zy(n){return n in ju||(ju[n]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[n]),ju[n]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const nc="en-US";let Bs=nc;function ic(n,i,o,u,l){if(n=Ce(n),Array.isArray(n))for(let h=0;h<n.length;h++)ic(n[h],i,o,u,l);else{const h=O(),v=R();let S=yc(n)?n:Ce(n.provide),P=Bh(n);const j=He(),J=1048575&j.providerIndexes,ae=j.directiveStart,Re=j.providerIndexes>>20;if(yc(n)||!n.multi){const Qe=new ue(P,l,Fu),bt=nm(S,i,l?J:J+Re,ae);-1===bt?(ua(Ia(j,v),h,S),Cd(h,n,i.length),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(Qe),v.push(Qe)):(o[bt]=Qe,v[bt]=Qe)}else{const Qe=nm(S,i,J+Re,ae),bt=nm(S,i,J,J+Re),fn=bt>=0&&o[bt];if(l&&!fn||!l&&!(Qe>=0&&o[Qe])){ua(Ia(j,v),h,S);const bn=function $E(n,i,o,u,l){const h=new ue(n,o,Fu);return h.multi=[],h.index=i,h.componentProviders=0,Uc(h,l,u&&!o),h}(l?BE:UE,o.length,l,u,P);!l&&fn&&(o[bt].providerFactory=bn),Cd(h,n,i.length,0),i.push(S),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),o.push(bn),v.push(bn)}else Cd(h,n,Qe>-1?Qe:bt,Uc(o[l?bt:Qe],P,!l&&u));!l&&u&&fn&&o[bt].componentProviders++}}}function Cd(n,i,o,u){const l=yc(i),h=function $d(n){return!!n.useClass}(i);if(l||h){const P=(h?Ce(i.useClass):i).prototype.ngOnDestroy;if(P){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=j.indexOf(o);-1===J?j.push(o,[u,P]):j[J+1].push(u,P)}else j.push(o,P)}}}function Uc(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function nm(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function UE(n,i,o,u){return Hu(this.multi,[])}function BE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=oi(o,o[Ht],this.providerFactory.index,u);h=S.slice(0,v),Hu(l,h);for(let P=v;P<S.length;P++)h.push(S[P])}else h=[],Hu(l,h);return h}function Hu(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function v0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Vc(n,i,o){const u=O();if(u.firstCreatePass){const l=sr(n);ic(o,u.data,u.blueprint,l,!0),ic(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class bd{}class _0{}function jE(n,i){return new dv(n,i??null)}class dv extends bd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yp(this);const u=Xr(i);this._bootstrapComponents=Ha(u.bootstrap),this._r3Injector=Wh(i,o,[{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],Ne(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rm extends _0{constructor(i){super(),this.moduleType=i}create(i){return new dv(this.moduleType,i)}}class zE extends bd{constructor(i,o,u){super(),this.componentFactoryResolver=new Yp(this),this.instance=null;const l=new dp([...i,{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],o||Hd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function im(n,i,o=null){return new zE(n,i,o).injector}let GE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=op(0,o.type),l=u.length>0?im([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=It({token:n,providedIn:"environment",factory:()=>new n(On(Bl))}),n})();function Sd(n){n.getStandaloneInjector=i=>i.get(GE).getOrCreateStandaloneInjector(n)}function mv(n,i,o,u){return function yv(n,i,o,u,l,h){const v=i+o;return Vs(n,v,l)?Ra(n,v+1,h?u.call(h,l):u(l)):Ad(n,v+1)}(R(),Zr(),n,i,o,u)}function A0(n,i,o,u,l){return function sm(n,i,o,u,l,h,v){const S=i+o;return function pl(n,i,o,u){const l=Vs(n,i,o);return Vs(n,i+1,u)||l}(n,S,l,h)?Ra(n,S+2,v?u.call(v,l,h):u(l,h)):Ad(n,S+2)}(R(),Zr(),n,i,o,u,l)}function Ad(n,i){const o=n[i];return o===hr?void 0:o}function Hf(n){return i=>{setTimeout(n,void 0,i)}}const zu=class N0 extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const P=i;l=P.next?.bind(P),h=P.error?.bind(P),v=P.complete?.bind(P)}this.__isAsync&&(h=Hf(h),l&&(l=Hf(l)),v&&(v=Hf(v)));const S=super.subscribe({next:l,error:h,complete:v});return i instanceof G.w0&&i.add(S),S}};function nw(){return this._results[Symbol.iterator]()}class Iv{get changes(){return this._changes||(this._changes=new zu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Iv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=nw)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function ao(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Ko(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=O0,n})();const zf=Ch,Dv=class extends zf{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Xd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[Fn]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[qr];return null!==v&&(l[qr]=v.createEmbeddedView(u)),Lu(u,l,i),new Zl(l)}};function O0(){return am(He(),R())}function am(n,i){return 4&n.type?new Dv(i,n,Hl(n,i)):null}let Md=(()=>{class n{}return n.__NG_ELEMENT_ID__=k0,n})();function k0(){return bv(He(),R())}const F0=Md,Tv=class extends F0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const i=Mi(this._hostTNode,this._hostLView);if(Nn(i)){const o=ni(i,this._hostLView),u=Ar(i);return new Ro(o[Ht].data[u+8],o)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Cv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-fi}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Mu(n){return"function"==typeof n}(i);let S;if(v)S=o;else{const ae=o||{};S=ae.index,u=ae.injector,l=ae.projectableNodes,h=ae.environmentInjector||ae.ngModuleRef}const P=v?i:new nh(Kt(i)),j=u||this.parentInjector;if(!h&&null==P.ngModule){const Re=(v?j:this.parentInjector).get(Bl,null);Re&&(h=Re)}const J=P.create(j,l,void 0,h);return this.insert(J.hostView,S),J}insert(i,o){const u=i._lView,l=u[Ht];if(function yo(n){return ds(n[Or])}(u)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const ae=u[Or],Re=new Tv(ae,ae[vi],ae[Or]);Re.detach(Re.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=fi+u,h=o.length;u>0&&(o[l-1][Zn]=i),u<h-fi?(i[Zn]=o[l],da(o,fi+u,i)):(o.push(i),i[Zn]=null),i[Or]=o;const v=i[Fn];null!==v&&o!==v&&function g(n,i){const o=n[zi];i[mn]!==i[Or][Or][mn]&&(n[Hi]=!0),null===o?n[zi]=[i]:o.push(i)}(v,i);const S=i[qr];null!==S&&S.insertView(n),i[Dn]|=64}(l,u,v,h);const S=Pl(h,v),P=u[Ae],j=ma(P,v[Ms]);return null!==j&&function Qo(n,i,o,u,l,h){u[Ur]=l,u[vi]=i,Pd(n,u,o,1,l,h)}(l,v[vi],P,u,j,S),i.attachToViewContainerRef(),da(Gf(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Cv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=H(this._lContainer,o);u&&(La(Gf(this._lContainer),o),ee(u[Ht],u))}detach(i){const o=this._adjustIndex(i,-1),u=H(this._lContainer,o);return u&&null!=La(Gf(this._lContainer),o)?new Zl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Cv(n){return n[cs]}function Gf(n){return n[cs]||(n[cs]=[])}function bv(n,i){let o;const u=i[n.index];if(ds(u))o=u;else{let l;if(8&n.type)l=Yn(u);else{const h=i[Ae];l=h.createComment("");const v=si(n,i);Wn(h,ma(h,v),l,function Rd(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Ym(u,i,l,n),fd(i,o)}return new Tv(o,n,i)}class Sv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new Av(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Nv(i,o).matches&&this.queries[o].setDirty()}}class L0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Mv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Mv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class um{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new um(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,rw(o,h)),this.matchTNodeWithReadOption(i,o,cu(o,i,h,!1,!1))}else u===Ch?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,cu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===ul||l===Md||l===Ch&&4&o.type)this.addMatch(o.index,-2);else{const h=cu(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function rw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function sw(n,i,o,u){return-1===o?function iw(n,i){return 11&n.type?Hl(n,i):4&n.type?am(n,i):null}(i,n):-2===o?function ow(n,i,o){return o===ul?Hl(i,n):o===Ch?am(i,n):o===Md?bv(i,n):void 0}(n,i,u):oi(n,n[Ht],o,i)}function V0(n,i,o,u){const l=i[qr].queries[u];if(null===l.matches){const h=n.data,v=o.matches,S=[];for(let P=0;P<v.length;P+=2){const j=v[P];S.push(j<0?null:sw(i,h[j],v[P+1],o.metadata.read))}l.matches=S}return l.matches}function xv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=V0(n,i,l,o);for(let S=0;S<h.length;S+=2){const P=h[S];if(P>0)u.push(v[S/2]);else{const j=h[S+1],J=i[-P];for(let ae=fi;ae<J.length;ae++){const Re=J[ae];Re[Fn]===Re[Or]&&xv(Re[Ht],Re,j,u)}if(null!==J[zi]){const ae=J[zi];for(let Re=0;Re<ae.length;Re++){const Qe=ae[Re];xv(Qe[Ht],Qe,j,u)}}}}}return u}function U0(n){const i=R(),o=O(),u=oa();Ea(u+1);const l=Nv(o,u);if(n.dirty&&function gs(n){return 4==(4&n[Dn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?xv(o,i,u,[]):V0(o,i,l,u);n.reset(h,Gd),n.notifyOnChanges()}return!0}return!1}function B0(n,i,o){const u=O();u.firstCreatePass&&(j0(u,new L0(n,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),Pv(u,R(),i)}function Rv(n,i,o,u){const l=O();if(l.firstCreatePass){const h=He();j0(l,new L0(i,o,u),h.index),function uw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}Pv(l,R(),o)}function $0(){return function aw(n,i){return n[qr].queries[i].queryList}(R(),oa())}function Pv(n,i,o){const u=new Iv(4==(4&o));Bp(n,i,u,u.destroy),null===i[qr]&&(i[qr]=new Av),i[qr].queries.push(new Sv(u))}function j0(n,i,o){null===n.queries&&(n.queries=new Mv),n.queries.track(new um(i,o))}function Nv(n,i){return n.queries.getByIndex(i)}function H0(n,i){return am(n,i)}function Ov(n){return!!Xr(n)}function Cu(...n){}const _w=new Qn("Application Initializer");let Vv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Cu,this.reject=Cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(uh(h))o.push(h);else if(Mc(h)){const v=new Promise((S,P)=>{h.subscribe({complete:S,error:P})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(On(_w,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=new Qn("AppId",{providedIn:"root",factory:function ww(){return`${nE()}${nE()}${nE()}`}});function nE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new Qn("Platform Initializer"),rI=new Qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Qn("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Uv=new Qn("LocaleId",{providedIn:"root",factory:()=>Cr(Uv,kt.Optional|kt.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||nc}()}),aI=new Qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new rm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=Ha(Xr(o).declarations).reduce((v,S)=>{const P=Kt(S);return P&&v.push(new nh(P)),v},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function rE(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zu(!1),this.onMicrotaskEmpty=new zu(!1),this.onStable=new zu(!1),this.onError=new zu(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=Mn.requestAnimationFrame,i=Mn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,sE(n),n.isCheckStableRunning=!0,iE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),sE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,S)=>{try{return Cw(n),o.invokeTask(l,h,v,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),bw(n)}},onInvoke:(o,u,l,h,v,S,P)=>{try{return Cw(n),o.invoke(l,h,v,S,P)}finally{n.shouldCoalesceRunChangeDetection&&i(),bw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,sE(n),iE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gu.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Gu.isInAngularZone())throw new tt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,Cu,Cu);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function iE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Cw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bw(n){n._nesting--,iE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zu,this.onMicrotaskEmpty=new zu,this.onStable=new zu,this.onError=new zu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Sw=new Qn(""),Aw=new Qn("");let oE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,oE||(function _I(n){oE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gu.assertNotInAngularZone(),rE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(On(Gu),On(Mw),On(Aw))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return oE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let xd=null;const xw=new Qn("AllowMultipleToken"),aE=new Qn("PlatformDestroyListeners"),Rw=new Qn("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Nw(n,i,o=[]){const u=`Platform: ${i}`,l=new Qn(u);return(h=[])=>{let v=uE();if(!v||v.injector.get(xw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(xd&&!xd.get(xw,!1))throw new tt(400,!1);xd=n;const i=n.get(kw);(function Pw(n){const i=n.get(Iw,null);i&&i.forEach(o=>o())})(n)}(function Ow(n=[],i){return Wl.create({name:i,providers:[{provide:cp,useValue:"platform"},{provide:aE,useValue:new Set([()=>xd=null])},...n]})}(S,u))}return function CI(n){const i=uE();if(!i)throw new tt(401,!1);return i}()}}function uE(){return xd?.get(kw)??null}let kw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Lw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new Gu(i),o}(u?.ngZone,function Fw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Gu,useValue:l}];return l.run(()=>{const v=Wl.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(v),P=S.injector.get(Wd,null);if(!P)throw new tt(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:J=>{P.handleError(J)}});S.onDestroy(()=>{$v(this._modules,S),j.unsubscribe()})}),function Vw(n,i,o){try{const u=o();return uh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(P,l,()=>{const j=S.injector.get(Vv);return j.runInitializers(),j.donePromise.then(()=>(function qg(n){Ot(n,"Expected localeId to be defined"),"string"==typeof n&&(Bs=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Uv,nc)||nc),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Uw({},u);return function EI(n,i,o){const u=new rm(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Bv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new tt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(aE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(On(Wl))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Uw(n,i){return Array.isArray(i)?i.reduce(Uw,n):{...n,...i}}let Bv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new q.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new q.y(S=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{Gu.assertNotInAngularZone(),rE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Gu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{P.unsubscribe(),j.unsubscribe()}});this.isStable=(0,De.T)(h,v.pipe((0,Se.B)()))}bootstrap(o,u){const l=o instanceof pp;if(!this._injector.get(Vv).done){!l&&Nr(o);throw new tt(405,$c)}let v;v=l?o:this._injector.get(nd).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const S=function wI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(bd),j=v.create(Wl.NULL,[],u||v.selector,S),J=j.location.nativeElement,ae=j.injector.get(Sw,null);return ae?.registerApplication(J),j.onDestroy(()=>{this.detachView(j.hostView),$v(this.components,j),ae?.unregisterApplication(J)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;$v(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Rw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>$v(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new tt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(On(Gu),On(Bl),On(Wd))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $v(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function xI(n,i,o){if(Es(n)&&!o){const u=pi(n.index,i);return new Zl(u,u)}return 47&n.type?new Zl(i[mn],i):null}(He(),R(),16==(16&n))}class zw{constructor(){}supports(i){return cf(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<Ww(u,l,h)?o:u,S=Ww(v,l,h),P=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const j=S-l,J=P-l;if(j!=J){for(let Re=0;Re<j;Re++){const Qe=Re<h.length?h[Re]:h[Re]=0,bt=Qe+Re;J<=bt&&bt<j&&(h[Re]=Qe+1)}h[v.previousIndex]=J-j}}S!==P&&i(v,S,P)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!cf(i))throw new tt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],v=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,S),u=!0),o=o._next}else l=0,function sg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{v=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,S,v,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ww(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Kw{constructor(){}supports(i){return i instanceof Map||og(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||og(i)))throw new tt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qw(){return new fE([new zw])}let fE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||qw()),deps:[[n,new Si,new Zt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new tt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:qw}),n})();function Zw(){return new pE([new Kw])}let pE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Zw()),deps:[[n,new Si,new Zt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new tt(901,!1)}}return n.\u0275prov=It({token:n,providedIn:"root",factory:Zw}),n})();const HI=Nw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(On(Bv))},n.\u0275mod=Ue({type:n}),n.\u0275inj=Kn({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(un,at,W)=>{W.d(at,{Fj:()=>Be,NI:()=>mn,u:()=>xs,cw:()=>rt,sg:()=>Fi,u5:()=>Ns,JJ:()=>Mn,JL:()=>Sn,On:()=>zi,UX:()=>qa,kI:()=>on,_Y:()=>fi});var p=W(4650),G=W(6895),q=W(8996),De=W(9751),Se=W(4742),we=W(8421),je=W(7669),Ne=W(5403),Ze=W(3268),ce=W(1810),Ce=W(4004);let gt=(()=>{class R{constructor(k,X){this._renderer=k,this._elementRef=X,this.onChange=He=>{},this.onTouched=()=>{}}setProperty(k,X){this._renderer.setProperty(this._elementRef.nativeElement,k,X)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),dt=(()=>{class R extends gt{}return R.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(R)))(X||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const ht=new p.OlP("NgValueAccessor"),yt={provide:ht,useExisting:(0,p.Gpc)(()=>Be),multi:!0},At=new p.OlP("CompositionEventMode");let Be=(()=>{class R extends gt{constructor(k,X,He){super(k,X),this._compositionMode=He,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function St(){const R=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(At,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(pn){return X._handleInput(pn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(pn){return X._compositionEnd(pn.target.value)})},features:[p._Bn([yt]),p.qOj]}),R})();const _e=!1;function nt(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}function Tt(R){return null!=R&&"number"==typeof R.length}const ot=new p.OlP("NgValidators"),ke=new p.OlP("NgAsyncValidators"),Pt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class on{static min(O){return function jt(R){return O=>{if(nt(O.value)||nt(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k<R?{min:{min:R,actual:O.value}}:null}}(O)}static max(O){return function yn(R){return O=>{if(nt(O.value)||nt(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k>R?{max:{max:R,actual:O.value}}:null}}(O)}static required(O){return function Ut(R){return nt(R.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Ve(R){return!0===R.value?null:{required:!0}}(O)}static email(O){return function it(R){return nt(R.value)||Pt.test(R.value)?null:{email:!0}}(O)}static minLength(O){return function We(R){return O=>nt(O.value)||!Tt(O.value)?null:O.value.length<R?{minlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function lt(R){return O=>Tt(O.value)&&O.value.length>R?{maxlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static pattern(O){return function wt(R){if(!R)return ct;let O,k;return"string"==typeof R?(k="","^"!==R.charAt(0)&&(k+="^"),k+=R,"$"!==R.charAt(R.length-1)&&(k+="$"),O=new RegExp(k)):(k=R.toString(),O=R),X=>{if(nt(X.value))return null;const He=X.value;return O.test(He)?null:{pattern:{requiredPattern:k,actualValue:He}}}}(O)}static nullValidator(O){return null}static compose(O){return $t(O)}static composeAsync(O){return zn(O)}}function ct(R){return null}function Ot(R){return null!=R}function Te(R){const O=(0,p.QGY)(R)?(0,q.D)(R):R;if(_e&&!(0,p.CqO)(O)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof R&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,k)}return O}function Ke(R){let O={};return R.forEach(k=>{O=null!=k?{...O,...k}:O}),0===Object.keys(O).length?null:O}function ye(R,O){return O.map(k=>k(R))}function It(R){return R.map(O=>function Le(R){return!R.validate}(O)?O:k=>O.validate(k))}function $t(R){if(!R)return null;const O=R.filter(Ot);return 0==O.length?null:function(k){return Ke(ye(k,O))}}function Kn(R){return null!=R?$t(It(R)):null}function zn(R){if(!R)return null;const O=R.filter(Ot);return 0==O.length?null:function(k){return function he(...R){const O=(0,je.jO)(R),{args:k,keys:X}=(0,Se.D)(R),He=new De.y(pn=>{const{length:_r}=k;if(!_r)return void pn.complete();const kr=new Array(_r);let ss=_r,ro=_r;for(let vo=0;vo<_r;vo++){let _i=!1;(0,we.Xf)(k[vo]).subscribe((0,Ne.x)(pn,Ci=>{_i||(_i=!0,ro--),kr[vo]=Ci},()=>ss--,void 0,()=>{(!ss||!_i)&&(ro||pn.next(X?(0,ce.n)(X,kr):kr),pn.complete())}))}});return O?He.pipe((0,Ze.Z)(O)):He}(ye(k,O).map(Te)).pipe((0,Ce.U)(Ke))}}function yr(R){return null!=R?zn(It(R)):null}function fr(R,O){return null===R?[O]:Array.isArray(R)?[...R,O]:[R,O]}function pr(R){return R._rawValidators}function ar(R){return R._rawAsyncValidators}function Qr(R){return R?Array.isArray(R)?R:[R]:[]}function ln(R,O){return Array.isArray(R)?R.includes(O):R===O}function Kr(R,O){const k=Qr(O);return Qr(R).forEach(He=>{ln(k,He)||k.push(He)}),k}function Rn(R,O){return Qr(O).filter(k=>!ln(R,k))}class kt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Kn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=yr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,k){return!!this.control&&this.control.hasError(O,k)}getError(O,k){return this.control?this.control.getError(O,k):null}}class Vn extends kt{get formDirective(){return null}get path(){return null}}class ui extends kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mn=(()=>{class R extends nr{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(ui,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),R})(),Sn=(()=>{class R extends nr{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Vn,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),R})();function Dt(R,O){return R?`with name: '${O}'`:`at index: ${O}`}const be=!1,qe="VALID",ft="INVALID",oe="PENDING",se="DISABLED";function pe(R){return(ve(R)?R.validators:R)||null}function xe(R,O){return(ve(O)?O.asyncValidators:R)||null}function ve(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class de{constructor(O,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===qe}get invalid(){return this.status===ft}get pending(){return this.status==oe}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(Kr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Kr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(Rn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(Rn(O,this._rawAsyncValidators))}hasValidator(O){return ln(this._rawValidators,O)}hasAsyncValidator(O){return ln(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=oe,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=se,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=qe,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qe||this.status===oe)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:qe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=oe,this._hasOwnPendingAsyncValidator=!0;const k=Te(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,k={}){this.errors=O,this._updateControlsErrors(!1!==k.emitEvent)}get(O){let k=O;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((X,He)=>X&&X._find(He),this)}getError(O,k){const X=k?this.get(k):this;return X&&X.errors?X.errors[O]:null}hasError(O,k){return!!this.getError(O,k)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oe)?oe:this._anyControlsHaveStatus(ft)?ft:qe}_anyControlsHaveStatus(O){return this._anyControls(k=>k.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){ve(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function $e(R){return Array.isArray(R)?Kn(R):R||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function Ct(R){return Array.isArray(R)?yr(R):R||null}(this._rawAsyncValidators)}}class rt extends de{constructor(O,k,X){super(pe(k),xe(X,k)),this.controls=O,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,k){return this.controls[O]?this.controls[O]:(this.controls[O]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(O,k,X={}){this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(O,k={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(O,k,X={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],k&&this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,k={}){(function ne(R,O,k){R._forEachChild((X,He)=>{if(void 0===k[He])throw new p.vHH(1002,be?function ie(R,O){return`Must supply a value for form control ${Dt(R,O)}`}(O,He):"")})})(this,!0,O),Object.keys(O).forEach(X=>{(function le(R,O,k){const X=R.controls;if(!(O?Object.keys(X):X).length)throw new p.vHH(1e3,be?function Cr(R){return`\n    There are no form controls registered with this ${R?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(O):"");if(!X[k])throw new p.vHH(1001,be?function st(R,O){return`Cannot find form control ${Dt(R,O)}`}(O,k):"")})(this,!0,X),this.controls[X].setValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(O,k={}){null!=O&&(Object.keys(O).forEach(X=>{const He=this.controls[X];He&&He.patchValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(O={},k={}){this._forEachChild((X,He)=>{X.reset(O[He],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(O,k,X)=>(O[X]=k.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(k,X)=>!!X._syncPendingControls()||k);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(k=>{const X=this.controls[k];X&&O(X,k)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[k,X]of Object.entries(this.controls))if(this.contains(k)&&O(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,X,He)=>((X.enabled||this.disabled)&&(k[He]=X.value),k))}_reduceChildren(O,k){let X=O;return this._forEachChild((He,pn)=>{X=k(X,He,pn)}),X}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}const Jn=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Je}),Je="always";function Ue(R,O){return[...O.path,R]}function Mt(R,O,k=Je){Kt(R,O),O.valueAccessor.writeValue(R.value),(R.disabled||"always"===k)&&O.valueAccessor.setDisabledState?.(R.disabled),function rr(R,O){O.valueAccessor.registerOnChange(k=>{R._pendingValue=k,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&Xr(R,O)})}(R,O),function $s(R,O){const k=(X,He)=>{O.valueAccessor.writeValue(X),He&&O.viewToModelUpdate(X)};R.registerOnChange(k),O._registerOnDestroy(()=>{R._unregisterOnChange(k)})}(R,O),function Nr(R,O){O.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&Xr(R,O),"submit"!==R.updateOn&&R.markAsTouched()})}(R,O),function wn(R,O){if(O.valueAccessor.setDisabledState){const k=X=>{O.valueAccessor.setDisabledState(X)};R.registerOnDisabledChange(k),O._registerOnDestroy(()=>{R._unregisterOnDisabledChange(k)})}}(R,O)}function an(R,O,k=!0){const X=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(X),O.valueAccessor.registerOnTouched(X)),Un(R,O),R&&(O._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function hn(R,O){R.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(O)})}function Kt(R,O){const k=pr(R);null!==O.validator?R.setValidators(fr(k,O.validator)):"function"==typeof k&&R.setValidators([k]);const X=ar(R);null!==O.asyncValidator?R.setAsyncValidators(fr(X,O.asyncValidator)):"function"==typeof X&&R.setAsyncValidators([X]);const He=()=>R.updateValueAndValidity();hn(O._rawValidators,He),hn(O._rawAsyncValidators,He)}function Un(R,O){let k=!1;if(null!==R){if(null!==O.validator){const He=pr(R);if(Array.isArray(He)&&He.length>0){const pn=He.filter(_r=>_r!==O.validator);pn.length!==He.length&&(k=!0,R.setValidators(pn))}}if(null!==O.asyncValidator){const He=ar(R);if(Array.isArray(He)&&He.length>0){const pn=He.filter(_r=>_r!==O.asyncValidator);pn.length!==He.length&&(k=!0,R.setAsyncValidators(pn))}}}const X=()=>{};return hn(O._rawValidators,X),hn(O._rawAsyncValidators,X),k}function Xr(R,O){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function ls(R,O){if(!R.hasOwnProperty("model"))return!1;const k=R.model;return!!k.isFirstChange()||!Object.is(O,k.currentValue)}function Sr(R,O){if(!O)return null;let k,X,He;return Array.isArray(O),O.forEach(pn=>{pn.constructor===Be?k=pn:function vi(R){return Object.getPrototypeOf(R.constructor)===dt}(pn)?X=pn:He=pn}),He||X||k||null}function gn(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}function kn(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const mn=class extends de{constructor(O=null,k,X){super(pe(k),xe(X,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ve(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=kn(O)?O.value:O)}setValue(O,k={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(O,k={}){this.setValue(O,k)}reset(O=this.defaultValue,k={}){this._applyFormState(O),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){gn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){gn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){kn(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}},Ms={provide:ui,useExisting:(0,p.Gpc)(()=>zi)},cs=(()=>Promise.resolve())();let zi=(()=>{class R extends ui{constructor(k,X,He,pn,_r,kr){super(),this._changeDetectorRef=_r,this.callSetDisabledState=kr,this.control=new mn,this._registered=!1,this.update=new p.vpe,this._parent=k,this._setValidators(X),this._setAsyncValidators(He),this.valueAccessor=Sr(0,pn)}ngOnChanges(k){if(this._checkForErrors(),!this._registered||"name"in k){if(this._registered&&(this._checkName(),this.formDirective)){const X=k.name.previousValue;this.formDirective.removeControl({name:X,path:this._getPath(X)})}this._setUpControl()}"isDisabled"in k&&this._updateDisabled(k),ls(k,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Mt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(k){cs.then(()=>{this.control.setValue(k,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(k){const X=k.isDisabled.currentValue,He=0!==X&&(0,p.D6c)(X);cs.then(()=>{He&&!this.control.disabled?this.control.disable():!He&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(k){return this._parent?Ue(k,this._parent):[k]}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Vn,9),p.Y36(ot,10),p.Y36(ke,10),p.Y36(ht,10),p.Y36(p.sBO,8),p.Y36(Jn,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[p._Bn([Ms]),p.qOj,p.TTD]}),R})(),fi=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),Es=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})();const Uo=new p.OlP("NgModelWithFormControlWarning"),Bo={provide:Vn,useExisting:(0,p.Gpc)(()=>Fi)};let Fi=(()=>{class R extends Vn{constructor(k,X,He){super(),this.callSetDisabledState=He,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(k),this._setAsyncValidators(X)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Un(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const X=this.form.get(k.path);return Mt(X,k,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),X}getControl(k){return this.form.get(k.path)}removeControl(k){an(k.control||null,k,!1),function Oe(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,X){this.form.get(k.path).setValue(X)}onSubmit(k){return this.submitted=!0,function _s(R,O){R._syncPendingControls(),O.forEach(k=>{const X=k.control;"submit"===X.updateOn&&X._pendingChange&&(k.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const X=k.control,He=this.form.get(k.path);X!==He&&(an(X||null,k),(R=>R instanceof mn)(He)&&(Mt(He,k,this.callSetDisabledState),k.control=He))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const X=this.form.get(k.path);(function js(R,O){Kt(R,O)})(X,k),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const X=this.form.get(k.path);X&&function jr(R,O){return Un(R,O)}(X,k)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kt(this.form,this),this._oldForm&&Un(this._oldForm,this)}_checkFormPresent(){}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(ot,10),p.Y36(ke,10),p.Y36(Jn,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroup",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(pn){return X.onSubmit(pn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Bo]),p.qOj,p.TTD]}),R})();const jo={provide:ui,useExisting:(0,p.Gpc)(()=>xs)};let xs=(()=>{class R extends ui{set isDisabled(k){}constructor(k,X,He,pn,_r){super(),this._ngModelWarningConfig=_r,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(X),this._setAsyncValidators(He),this.valueAccessor=Sr(0,pn)}ngOnChanges(k){this._added||this._setUpControl(),ls(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return Ue(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return R._ngModelWarningSentOnce=!1,R.\u0275fac=function(k){return new(k||R)(p.Y36(Vn,13),p.Y36(ot,10),p.Y36(ke,10),p.Y36(ht,10),p.Y36(Uo,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([jo]),p.qOj,p.TTD]}),R})(),Pi=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[Es]}),R})(),Ns=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:Jn,useValue:k.callSetDisabledState??Je}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[Pi]}),R})(),qa=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:Uo,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:Jn,useValue:k.callSetDisabledState??Je}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[Pi]}),R})()},1481:(un,at,W)=>{W.d(at,{Dx:()=>Sn,H7:()=>pe,b2:()=>ui,q6:()=>Kr,se:()=>Ut});var p=W(6895),G=W(4650);class q extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends q{static makeCurrent(){(0,p.HT)(new De)}onAndCancel(le,ne,de){return le.addEventListener(ne,de,!1),()=>{le.removeEventListener(ne,de,!1)}}dispatchEvent(le,ne){le.dispatchEvent(ne)}remove(le){le.parentNode&&le.parentNode.removeChild(le)}createElement(le,ne){return(ne=ne||this.getDefaultDocument()).createElement(le)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(le){return le.nodeType===Node.ELEMENT_NODE}isShadowRoot(le){return le instanceof DocumentFragment}getGlobalEventTarget(le,ne){return"window"===ne?window:"document"===ne?le:"body"===ne?le.body:null}getBaseHref(le){const ne=function we(){return Se=Se||document.querySelector("base"),Se?Se.getAttribute("href"):null}();return null==ne?null:function Ne(ve){je=je||document.createElement("a"),je.setAttribute("href",ve);const le=je.pathname;return"/"===le.charAt(0)?le:`/${le}`}(ne)}resetBaseElement(){Se=null}getUserAgent(){return window.navigator.userAgent}getCookie(le){return(0,p.Mx)(document.cookie,le)}}let je,Se=null;const Ze=new G.OlP("TRANSITION_ID"),he=[{provide:G.ip1,useFactory:function ce(ve,le,ne){return()=>{ne.get(G.CZH).donePromise.then(()=>{const de=(0,p.q)(),rt=le.querySelectorAll(`style[ng-transition="${ve}"]`);for(let Nt=0;Nt<rt.length;Nt++)de.remove(rt[Nt])})}},deps:[Ze,p.K0,G.zs3],multi:!0}];let gt=(()=>{class ve{build(){return new XMLHttpRequest}}return ve.\u0275fac=function(ne){return new(ne||ve)},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const dt=new G.OlP("EventManagerPlugins");let ht=(()=>{class ve{constructor(ne,de){this._zone=de,this._eventNameToPlugin=new Map,ne.forEach(rt=>{rt.manager=this}),this._plugins=ne.slice().reverse()}addEventListener(ne,de,rt){return this._findPluginFor(de).addEventListener(ne,de,rt)}addGlobalEventListener(ne,de,rt){return this._findPluginFor(de).addGlobalEventListener(ne,de,rt)}getZone(){return this._zone}_findPluginFor(ne){const de=this._eventNameToPlugin.get(ne);if(de)return de;const rt=this._plugins;for(let Nt=0;Nt<rt.length;Nt++){const tn=rt[Nt];if(tn.supports(ne))return this._eventNameToPlugin.set(ne,tn),tn}throw new Error(`No event manager plugin found for event ${ne}`)}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(dt),G.LFG(G.R0b))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class Gt{constructor(le){this._doc=le}addGlobalEventListener(le,ne,de){const rt=(0,p.q)().getGlobalEventTarget(this._doc,le);if(!rt)throw new Error(`Unsupported event target ${rt} for event ${ne}`);return this.addEventListener(rt,ne,de)}}let tt=(()=>{class ve{constructor(){this.usageCount=new Map}addStyles(ne){for(const de of ne)1===this.changeUsageCount(de,1)&&this.onStyleAdded(de)}removeStyles(ne){for(const de of ne)0===this.changeUsageCount(de,-1)&&this.onStyleRemoved(de)}onStyleRemoved(ne){}onStyleAdded(ne){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ne,de){const rt=this.usageCount;let Nt=rt.get(ne)??0;return Nt+=de,Nt>0?rt.set(ne,Nt):rt.delete(ne),Nt}ngOnDestroy(){for(const ne of this.getAllStyles())this.onStyleRemoved(ne);this.usageCount.clear()}}return ve.\u0275fac=function(ne){return new(ne||ve)},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})(),yt=(()=>{class ve extends tt{constructor(ne){super(),this.doc=ne,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ne){for(const de of this.hostNodes)this.addStyleToHost(de,ne)}onStyleRemoved(ne){const de=this.styleRef;de.get(ne)?.forEach(Nt=>Nt.remove()),de.delete(ne)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ne){this.hostNodes.add(ne);for(const de of this.getAllStyles())this.addStyleToHost(ne,de)}removeHost(ne){this.hostNodes.delete(ne)}addStyleToHost(ne,de){const rt=this.doc.createElement("style");rt.textContent=de,ne.appendChild(rt);const Nt=this.styleRef.get(de);Nt?Nt.push(rt):this.styleRef.set(de,[rt])}resetHostNodes(){const ne=this.hostNodes;ne.clear(),ne.add(this.doc.head)}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(p.K0))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const St={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,ke=new G.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jt(ve,le){return le.flat(100).map(ne=>ne.replace(At,ve))}function yn(ve){return le=>{if("__ngUnwrap__"===le)return ve;!1===ve(le)&&(le.preventDefault(),le.returnValue=!1)}}let Ut=(()=>{class ve{constructor(ne,de,rt,Nt){this.eventManager=ne,this.sharedStylesHost=de,this.appId=rt,this.removeStylesOnCompDestory=Nt,this.rendererByCompId=new Map,this.defaultRenderer=new Ve(ne)}createRenderer(ne,de){if(!ne||!de)return this.defaultRenderer;const rt=this.getOrCreateRenderer(ne,de);return rt instanceof Ot?rt.applyToHost(ne):rt instanceof ct&&rt.applyStyles(),rt}getOrCreateRenderer(ne,de){const rt=this.rendererByCompId;let Nt=rt.get(de.id);if(!Nt){const tn=this.eventManager,xn=this.sharedStylesHost,br=this.removeStylesOnCompDestory;switch(de.encapsulation){case G.ifc.Emulated:Nt=new Ot(tn,xn,de,this.appId,br);break;case G.ifc.ShadowDom:return new wt(tn,xn,ne,de);default:Nt=new ct(tn,xn,de,br)}Nt.onDestroy=()=>rt.delete(de.id),rt.set(de.id,Nt)}return Nt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(ht),G.LFG(yt),G.LFG(G.AFp),G.LFG(ke))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();class Ve{constructor(le){this.eventManager=le,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(le,ne){return ne?document.createElementNS(St[ne]||ne,le):document.createElement(le)}createComment(le){return document.createComment(le)}createText(le){return document.createTextNode(le)}appendChild(le,ne){(lt(le)?le.content:le).appendChild(ne)}insertBefore(le,ne,de){le&&(lt(le)?le.content:le).insertBefore(ne,de)}removeChild(le,ne){le&&le.removeChild(ne)}selectRootElement(le,ne){let de="string"==typeof le?document.querySelector(le):le;if(!de)throw new Error(`The selector "${le}" did not match any elements`);return ne||(de.textContent=""),de}parentNode(le){return le.parentNode}nextSibling(le){return le.nextSibling}setAttribute(le,ne,de,rt){if(rt){ne=rt+":"+ne;const Nt=St[rt];Nt?le.setAttributeNS(Nt,ne,de):le.setAttribute(ne,de)}else le.setAttribute(ne,de)}removeAttribute(le,ne,de){if(de){const rt=St[de];rt?le.removeAttributeNS(rt,ne):le.removeAttribute(`${de}:${ne}`)}else le.removeAttribute(ne)}addClass(le,ne){le.classList.add(ne)}removeClass(le,ne){le.classList.remove(ne)}setStyle(le,ne,de,rt){rt&(G.JOm.DashCase|G.JOm.Important)?le.style.setProperty(ne,de,rt&G.JOm.Important?"important":""):le.style[ne]=de}removeStyle(le,ne,de){de&G.JOm.DashCase?le.style.removeProperty(ne):le.style[ne]=""}setProperty(le,ne,de){le[ne]=de}setValue(le,ne){le.nodeValue=ne}listen(le,ne,de){return"string"==typeof le?this.eventManager.addGlobalEventListener(le,ne,yn(de)):this.eventManager.addEventListener(le,ne,yn(de))}}function lt(ve){return"TEMPLATE"===ve.tagName&&void 0!==ve.content}class wt extends Ve{constructor(le,ne,de,rt){super(le),this.sharedStylesHost=ne,this.hostEl=de,this.shadowRoot=de.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Nt=jt(rt.id,rt.styles);for(const tn of Nt){const xn=document.createElement("style");xn.textContent=tn,this.shadowRoot.appendChild(xn)}}nodeOrShadowRoot(le){return le===this.hostEl?this.shadowRoot:le}appendChild(le,ne){return super.appendChild(this.nodeOrShadowRoot(le),ne)}insertBefore(le,ne,de){return super.insertBefore(this.nodeOrShadowRoot(le),ne,de)}removeChild(le,ne){return super.removeChild(this.nodeOrShadowRoot(le),ne)}parentNode(le){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(le)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ct extends Ve{constructor(le,ne,de,rt,Nt=de.id){super(le),this.sharedStylesHost=ne,this.removeStylesOnCompDestory=rt,this.rendererUsageCount=0,this.styles=jt(Nt,de.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ot extends ct{constructor(le,ne,de,rt,Nt){const tn=rt+"-"+de.id;super(le,ne,de,Nt,tn),this.contentAttr=function Pt(ve){return"_ngcontent-%COMP%".replace(At,ve)}(tn),this.hostAttr=function on(ve){return"_nghost-%COMP%".replace(At,ve)}(tn)}applyToHost(le){this.applyStyles(),this.setAttribute(le,this.hostAttr,"")}createElement(le,ne){const de=super.createElement(le,ne);return super.setAttribute(de,this.contentAttr,""),de}}let Te=(()=>{class ve extends Gt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,de,rt){return ne.addEventListener(de,rt,!1),()=>this.removeEventListener(ne,de,rt)}removeEventListener(ne,de,rt){return ne.removeEventListener(de,rt)}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(p.K0))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Ke=["alt","control","meta","shift"],ye={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={alt:ve=>ve.altKey,control:ve=>ve.ctrlKey,meta:ve=>ve.metaKey,shift:ve=>ve.shiftKey};let It=(()=>{class ve extends Gt{constructor(ne){super(ne)}supports(ne){return null!=ve.parseEventName(ne)}addEventListener(ne,de,rt){const Nt=ve.parseEventName(de),tn=ve.eventCallback(Nt.fullKey,rt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(ne,Nt.domEventName,tn))}static parseEventName(ne){const de=ne.toLowerCase().split("."),rt=de.shift();if(0===de.length||"keydown"!==rt&&"keyup"!==rt)return null;const Nt=ve._normalizeKey(de.pop());let tn="",xn=de.indexOf("code");if(xn>-1&&(de.splice(xn,1),tn="code."),Ke.forEach(Jn=>{const Je=de.indexOf(Jn);Je>-1&&(de.splice(Je,1),tn+=Jn+".")}),tn+=Nt,0!=de.length||0===Nt.length)return null;const br={};return br.domEventName=rt,br.fullKey=tn,br}static matchEventFullKeyCode(ne,de){let rt=ye[ne.key]||ne.key,Nt="";return de.indexOf("code.")>-1&&(rt=ne.code,Nt="code."),!(null==rt||!rt)&&(rt=rt.toLowerCase()," "===rt?rt="space":"."===rt&&(rt="dot"),Ke.forEach(tn=>{tn!==rt&&(0,Le[tn])(ne)&&(Nt+=tn+".")}),Nt+=rt,Nt===de)}static eventCallback(ne,de,rt){return Nt=>{ve.matchEventFullKeyCode(Nt,ne)&&rt.runGuarded(()=>de(Nt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(p.K0))},ve.\u0275prov=G.Yz7({token:ve,factory:ve.\u0275fac}),ve})();const Kr=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:p.bD},{provide:G.g9A,useValue:function pr(){De.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function Qr(){return(0,G.RDi)(document),document},deps:[]}]),Rn=new G.OlP(""),kt=[{provide:G.rWj,useClass:class Ce{addToWindow(le){G.dqk.getAngularTestability=(de,rt=!0)=>{const Nt=le.findTestabilityInTree(de,rt);if(null==Nt)throw new Error("Could not find testability for element.");return Nt},G.dqk.getAllAngularTestabilities=()=>le.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>le.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(de=>{const rt=G.dqk.getAllAngularTestabilities();let Nt=rt.length,tn=!1;const xn=function(br){tn=tn||br,Nt--,0==Nt&&de(tn)};rt.forEach(function(br){br.whenStable(xn)})})}findTestabilityInTree(le,ne,de){return null==ne?null:le.getTestability(ne)??(de?(0,p.q)().isShadowRoot(ne)?this.findTestabilityInTree(le,ne.host,!0):this.findTestabilityInTree(le,ne.parentElement,!0):null)}},deps:[]},{provide:G.lri,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]}],Vn=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function ar(){return new G.qLn},deps:[]},{provide:dt,useClass:Te,multi:!0,deps:[p.K0,G.R0b,G.Lbi]},{provide:dt,useClass:It,multi:!0,deps:[p.K0]},{provide:Ut,useClass:Ut,deps:[ht,yt,G.AFp,ke]},{provide:G.FYo,useExisting:Ut},{provide:tt,useExisting:yt},{provide:yt,useClass:yt,deps:[p.K0]},{provide:ht,useClass:ht,deps:[dt,G.R0b]},{provide:p.JF,useClass:gt,deps:[]},[]];let ui=(()=>{class ve{constructor(ne){}static withServerTransition(ne){return{ngModule:ve,providers:[{provide:G.AFp,useValue:ne.appId},{provide:Ze,useExisting:G.AFp},he]}}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(Rn,12))},ve.\u0275mod=G.oAB({type:ve}),ve.\u0275inj=G.cJS({providers:[...Vn,...kt],imports:[p.ez,G.hGG]}),ve})(),Sn=(()=>{class ve{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(p.K0))},ve.\u0275prov=G.Yz7({token:ve,factory:function(ne){let de=null;return de=ne?new ne:function Mn(){return new Sn((0,G.LFG)(p.K0))}(),de},providedIn:"root"}),ve})();typeof window<"u"&&window;let pe=(()=>{class ve{}return ve.\u0275fac=function(ne){return new(ne||ve)},ve.\u0275prov=G.Yz7({token:ve,factory:function(ne){let de=null;return de=ne?new(ne||ve):G.LFG(xe),de},providedIn:"root"}),ve})(),xe=(()=>{class ve extends pe{constructor(ne){super(),this._doc=ne}sanitize(ne,de){if(null==de)return null;switch(ne){case G.q3G.NONE:return de;case G.q3G.HTML:return(0,G.qzn)(de,"HTML")?(0,G.z3N)(de):(0,G.EiD)(this._doc,String(de)).toString();case G.q3G.STYLE:return(0,G.qzn)(de,"Style")?(0,G.z3N)(de):de;case G.q3G.SCRIPT:if((0,G.qzn)(de,"Script"))return(0,G.z3N)(de);throw new Error("unsafe value used in a script context");case G.q3G.URL:return(0,G.qzn)(de,"URL")?(0,G.z3N)(de):(0,G.mCW)(String(de));case G.q3G.RESOURCE_URL:if((0,G.qzn)(de,"ResourceURL"))return(0,G.z3N)(de);throw new Error(`unsafe value used in a resource URL context (see ${G.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ne} (see ${G.JZr})`)}}bypassSecurityTrustHtml(ne){return(0,G.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,G.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,G.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,G.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,G.pB0)(ne)}}return ve.\u0275fac=function(ne){return new(ne||ve)(G.LFG(p.K0))},ve.\u0275prov=G.Yz7({token:ve,factory:function(ne){let de=null;return de=ne?new ne:function $e(ve){return new xe(ve.get(p.K0))}(G.LFG(G.zs3)),de},providedIn:"root"}),ve})()},6647:(un,at,W)=>{W.d(at,{F0:()=>ai,rH:()=>la,Bz:()=>wi,lC:()=>Xn});var p=W(4650),G=W(8996),q=W(9646),De=W(7579);class Se extends De.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:T}=this;if(E)throw m;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}var we=W(6805),je=W(9751),Ne=W(4742),Ze=W(4671),ce=W(3268),he=W(7669),Ce=W(1810),gt=W(5403),dt=W(9672);function ht(...y){const E=(0,he.yG)(y),m=(0,he.jO)(y),{args:T,keys:M}=(0,Ne.D)(y);if(0===T.length)return(0,G.D)([],E);const V=new je.y(function Gt(y,E,m=Ze.y){return T=>{tt(E,()=>{const{length:M}=y,V=new Array(M);let Y=M,Me=M;for(let _t=0;_t<M;_t++)tt(E,()=>{const Jt=(0,G.D)(y[_t],E);let Zt=!1;Jt.subscribe((0,gt.x)(T,gr=>{V[_t]=gr,Zt||(Zt=!0,Me--),Me||T.next(m(V.slice()))},()=>{--Y||T.complete()}))},T)},T)}}(T,E,M?Y=>(0,Ce.n)(M,Y):Ze.y));return m?V.pipe((0,ce.Z)(m)):V}function tt(y,E,m){y?(0,dt.f)(m,y,E):E()}var yt=W(8189);function At(...y){return function St(){return(0,yt.J)(1)}()((0,G.D)(y,(0,he.yG)(y)))}var Be=W(8421);function _e(y){return new je.y(E=>{(0,Be.Xf)(y()).subscribe(E)})}var nt=W(9635),Tt=W(576);function ot(y,E){const m=(0,Tt.m)(y)?y:()=>y,T=M=>M.error(m());return new je.y(E?M=>E.schedule(T,0,M):T)}var ke=W(515),Pt=W(727),on=W(4482);function jt(){return(0,on.e)((y,E)=>{let m=null;y._refCount++;const T=(0,gt.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const M=y._connection,V=m;m=null,M&&(!V||M===V)&&M.unsubscribe(),E.unsubscribe()});y.subscribe(T),T.closed||(m=y.connect())})}class yn extends je.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,on.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Pt.w0;const m=this.getSubject();E.add(this.source.subscribe((0,gt.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Pt.w0.EMPTY)}return E}refCount(){return jt()(this)}}var Ut=W(6895),Ve=W(4004),it=W(3900),We=W(5698),wt=W(9300),ct=W(5577),Ot=W(590),Te=W(4351),Ke=W(8505);function ye(y){return(0,on.e)((E,m)=>{let V,T=null,M=!1;T=E.subscribe((0,gt.x)(m,void 0,void 0,Y=>{V=(0,Be.Xf)(y(Y,ye(y)(E))),T?(T.unsubscribe(),T=null,V.subscribe(m)):M=!0})),M&&(T.unsubscribe(),T=null,V.subscribe(m))})}function It(y,E){return(0,on.e)(function Le(y,E,m,T,M){return(V,Y)=>{let Me=m,_t=E,Jt=0;V.subscribe((0,gt.x)(Y,Zt=>{const gr=Jt++;_t=Me?y(_t,Zt,gr):(Me=!0,Zt),T&&Y.next(_t)},M&&(()=>{Me&&Y.next(_t),Y.complete()})))}}(y,E,arguments.length>=2,!0))}function $t(y){return y<=0?()=>ke.E:(0,on.e)((E,m)=>{let T=[];E.subscribe((0,gt.x)(m,M=>{T.push(M),y<T.length&&T.shift()},()=>{for(const M of T)m.next(M);m.complete()},void 0,()=>{T=null}))})}var Kn=W(8068),zn=W(6590);function yr(y,E){const m=arguments.length>=2;return T=>T.pipe(y?(0,wt.h)((M,V)=>y(M,V,T)):Ze.y,$t(1),m?(0,zn.d)(E):(0,Kn.T)(()=>new we.K))}function ar(y){return(0,on.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(y)}})}var Qr=W(1481);const ln="primary",Kr=Symbol("RouteTitle");class Rn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function kt(y){return new Rn(y)}function Vn(y,E,m){const T=m.path.split("/");if(T.length>y.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<y.length))return null;const M={};for(let V=0;V<T.length;V++){const Y=T[V],Me=y[V];if(Y.startsWith(":"))M[Y.substring(1)]=Me;else if(Y!==Me.path)return null}return{consumed:y.slice(0,T.length),posParams:M}}function nr(y,E){const m=y?Object.keys(y):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let M;for(let V=0;V<m.length;V++)if(M=m[V],!Jr(y[M],E[M]))return!1;return!0}function Jr(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const m=[...y].sort(),T=[...E].sort();return m.every((M,V)=>T[V]===M)}return y===E}function mi(y){return Array.prototype.concat.apply([],y)}function Mn(y){return y.length>0?y[y.length-1]:null}function Lt(y,E){for(const m in y)y.hasOwnProperty(m)&&E(y[m],m)}function Vt(y){return(0,p.CqO)(y)?y:(0,p.QGY)(y)?(0,G.D)(Promise.resolve(y)):(0,q.of)(y)}const Rr=!1,$r={exact:function ci(y,E,m){if(!ie(y.segments,E.segments)||!yi(y.segments,E.segments,m)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!y.children[T]||!ci(y.children[T],E.children[T],m))return!1;return!0},subset:Xi},Pr={exact:function Tr(y,E){return nr(y,E)},subset:function ur(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(m=>Jr(y[m],E[m]))},ignored:()=>!0};function li(y,E,m){return $r[m.paths](y.root,E.root,m.matrixParams)&&Pr[m.queryParams](y.queryParams,E.queryParams)&&!("exact"===m.fragment&&y.fragment!==E.fragment)}function Xi(y,E,m){return qn(y,E,E.segments,m)}function qn(y,E,m,T){if(y.segments.length>m.length){const M=y.segments.slice(0,m.length);return!(!ie(M,m)||E.hasChildren()||!yi(M,m,T))}if(y.segments.length===m.length){if(!ie(y.segments,m)||!yi(y.segments,m,T))return!1;for(const M in E.children)if(!y.children[M]||!Xi(y.children[M],E.children[M],T))return!1;return!0}{const M=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(ie(y.segments,M)&&yi(y.segments,M,T)&&y.children[ln])&&qn(y.children[ln],E,V,T)}}function yi(y,E,m){return E.every((T,M)=>Pr[m](y[M].parameters,T.parameters))}class On{constructor(E=new Dt([],{}),m={},T=null){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return oe.serialize(this)}}class Dt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Lt(m,(T,M)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class Cr{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=kt(this.parameters)),this._parameterMap}toString(){return de(this)}}function ie(y,E){return y.length===E.length&&y.every((m,T)=>m.path===E[T].path)}let qe=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return new ft},providedIn:"root"}),y})();class ft{parse(E){const m=new Mt(E);return new On(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${pe(E.root,!0)}`,T=function Nt(y){const E=Object.keys(y).map(m=>{const T=y[m];return Array.isArray(T)?T.map(M=>`${xe(m)}=${xe(M)}`).join("&"):`${xe(m)}=${xe(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function Ct(y){return encodeURI(y)}(E.fragment)}`:""}`}}const oe=new ft;function se(y){return y.segments.map(E=>de(E)).join("/")}function pe(y,E){if(!y.hasChildren())return se(y);if(E){const m=y.children[ln]?pe(y.children[ln],!1):"",T=[];return Lt(y.children,(M,V)=>{V!==ln&&T.push(`${V}:${pe(M,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function be(y,E){let m=[];return Lt(y.children,(T,M)=>{M===ln&&(m=m.concat(E(T,M)))}),Lt(y.children,(T,M)=>{M!==ln&&(m=m.concat(E(T,M)))}),m}(y,(T,M)=>M===ln?[pe(y.children[ln],!1)]:[`${M}:${pe(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[ln]?`${se(y)}/${m[0]}`:`${se(y)}/(${m.join("//")})`}}function $e(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xe(y){return $e(y).replace(/%3B/gi,";")}function ve(y){return $e(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(y){return decodeURIComponent(y)}function ne(y){return le(y.replace(/\+/g,"%20"))}function de(y){return`${ve(y.path)}${function rt(y){return Object.keys(y).map(E=>`;${ve(E)}=${ve(y[E])}`).join("")}(y.parameters)}`}const tn=/^[^\/()?;=#]+/;function xn(y){const E=y.match(tn);return E?E[0]:""}const br=/^[^=?&#]+/,Je=/^[^&#]+/;class Mt{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[ln]=new Dt(E,m)),T}parseSegment(){const E=xn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,Rr);return this.capture(E),new Cr(le(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=xn(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const M=xn(this.remaining);M&&(T=M,this.capture(T))}E[le(m)]=le(T)}parseQueryParam(E){const m=function Jn(y){const E=y.match(br);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const Y=function Ue(y){const E=y.match(Je);return E?E[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const M=ne(m),V=ne(T);if(E.hasOwnProperty(M)){let Y=E[M];Array.isArray(Y)||(Y=[Y],E[M]=Y),Y.push(V)}else E[M]=V}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=xn(this.remaining),M=this.remaining[T.length];if("/"!==M&&")"!==M&&";"!==M)throw new p.vHH(4010,Rr);let V;T.indexOf(":")>-1?(V=T.slice(0,T.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=ln);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[ln]:new Dt([],Y),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,Rr)}}function an(y){return y.segments.length>0?new Dt([],{[ln]:y}):y}function hn(y){const E={};for(const T of Object.keys(y.children)){const V=hn(y.children[T]);(V.segments.length>0||V.hasChildren())&&(E[T]=V)}return function wn(y){if(1===y.numberOfChildren&&y.children[ln]){const E=y.children[ln];return new Dt(y.segments.concat(E.segments),E.children)}return y}(new Dt(y.segments,E))}function Kt(y){return y instanceof On}const Un=!1;function $s(y,E,m,T,M){if(0===m.length)return Ur(E.root,E.root,E.root,T,M);const V=function Or(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Dn(!0,0,y);let E=0,m=!1;const T=y.reduce((M,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Me={};return Lt(V.outlets,(_t,Jt)=>{Me[Jt]="string"==typeof _t?_t.split("/"):_t}),[...M,{outlets:Me}]}if(V.segmentPath)return[...M,V.segmentPath]}return"string"!=typeof V?[...M,V]:0===Y?(V.split("/").forEach((Me,_t)=>{0==_t&&"."===Me||(0==_t&&""===Me?m=!0:".."===Me?E++:""!=Me&&M.push(Me))}),M):[...M,V]},[]);return new Dn(m,E,T)}(m);return V.toRoot()?Ur(E.root,E.root,new Dt([],{}),T,M):function Y(_t){const Jt=function vi(y,E,m,T){if(y.isAbsolute)return new Zn(E.root,!0,0);if(-1===T)return new Zn(m,m===E.root,0);return function _s(y,E,m){let T=y,M=E,V=m;for(;V>M;){if(V-=M,T=T.parent,!T)throw new p.vHH(4005,Un&&"Invalid number of '../'");M=T.segments.length}return new Zn(T,!1,M-V)}(m,T+(js(y.commands[0])?0:1),y.numberOfDoubleDots)}(V,E,y.snapshot?._urlSegment,_t),Zt=Jt.processChildren?Ie(Jt.segmentGroup,Jt.index,V.commands):Oe(Jt.segmentGroup,Jt.index,V.commands);return Ur(E.root,Jt.segmentGroup,Zt,T,M)}(y.snapshot?._lastPathIndex)}function js(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function jr(y){return"object"==typeof y&&null!=y&&y.outlets}function Ur(y,E,m,T,M){let Y,V={};T&&Lt(T,(_t,Jt)=>{V[Jt]=Array.isArray(_t)?_t.map(Zt=>`${Zt}`):`${_t}`}),Y=y===E?m:Ht(y,E,m);const Me=an(hn(Y));return new On(Me,V,M)}function Ht(y,E,m){const T={};return Lt(y.children,(M,V)=>{T[V]=M===E?m:Ht(M,E,m)}),new Dt(y.segments,T)}class Dn{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&js(T[0]))throw new p.vHH(4003,Un&&"Root segment cannot have matrix parameters");const M=T.find(jr);if(M&&M!==Mn(T))throw new p.vHH(4004,Un&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zn{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function Oe(y,E,m){if(y||(y=new Dt([],{})),0===y.segments.length&&y.hasChildren())return Ie(y,E,m);const T=function Ae(y,E,m){let T=0,M=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;M<y.segments.length;){if(T>=m.length)return V;const Y=y.segments[M],Me=m[T];if(jr(Me))break;const _t=`${Me}`,Jt=T<m.length-1?m[T+1]:null;if(M>0&&void 0===_t)break;if(_t&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!kn(_t,Jt,Y))return V;T+=2}else{if(!kn(_t,{},Y))return V;T++}M++}return{match:!0,pathIndex:M,commandIndex:T}}(y,E,m),M=m.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const V=new Dt(y.segments.slice(0,T.pathIndex),{});return V.children[ln]=new Dt(y.segments.slice(T.pathIndex),y.children),Ie(V,0,M)}return T.match&&0===M.length?new Dt(y.segments,{}):T.match&&!y.hasChildren()?pt(y,E,m):T.match?Ie(y,0,M):pt(y,E,m)}function Ie(y,E,m){if(0===m.length)return new Dt(y.segments,{});{const T=function Sr(y){return jr(y[0])?y[0].outlets:{[ln]:y}}(m),M={};if(!T[ln]&&y.children[ln]&&1===y.numberOfChildren&&0===y.children[ln].segments.length){const V=Ie(y.children[ln],E,m);return new Dt(y.segments,V.children)}return Lt(T,(V,Y)=>{"string"==typeof V&&(V=[V]),null!==V&&(M[Y]=Oe(y.children[Y],E,V))}),Lt(y.children,(V,Y)=>{void 0===T[Y]&&(M[Y]=V)}),new Dt(y.segments,M)}}function pt(y,E,m){const T=y.segments.slice(0,E);let M=0;for(;M<m.length;){const V=m[M];if(jr(V)){const _t=xt(V.outlets);return new Dt(T,_t)}if(0===M&&js(m[0])){T.push(new Cr(y.segments[E].path,gn(m[0]))),M++;continue}const Y=jr(V)?V.outlets[ln]:`${V}`,Me=M<m.length-1?m[M+1]:null;Y&&Me&&js(Me)?(T.push(new Cr(Y,gn(Me))),M+=2):(T.push(new Cr(Y,{})),M++)}return new Dt(T,{})}function xt(y){const E={};return Lt(y,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[T]=pt(new Dt([],{}),0,m))}),E}function gn(y){const E={};return Lt(y,(m,T)=>E[T]=`${m}`),E}function kn(y,E,m){return y==m.path&&nr(E,m.parameters)}const mn="imperative";class Fn{constructor(E,m){this.id=E,this.url=m}}class Di extends Fn{constructor(E,m,T="imperative",M=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=M}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qr extends Fn{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ei extends Fn{constructor(E,m,T,M){super(E,m),this.reason=T,this.code=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class di extends Fn{constructor(E,m,T,M){super(E,m),this.reason=T,this.code=M,this.type=16}}class vr extends Fn{constructor(E,m,T,M){super(E,m),this.error=T,this.target=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ji extends Fn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Io extends Fn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Fn{constructor(E,m,T,M,V){super(E,m),this.urlAfterRedirects=T,this.state=M,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ms extends Fn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cs extends Fn{constructor(E,m,T,M){super(E,m),this.urlAfterRedirects=T,this.state=M,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zi{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fi{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vo{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ti{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Br=(()=>{class y{createUrlTree(m,T,M,V,Y,Me){return $s(m||T.root,M,V,Y,Me)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})(),Uo=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(E){return Br.\u0275fac(E)},providedIn:"root"}),y})();class ts{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=ra(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=ra(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=Bo(E,this._root);return m.length<2?[]:m[m.length-2].children.map(M=>M.value).filter(M=>M!==E)}pathFromRoot(E){return Bo(E,this._root).map(m=>m.value)}}function ra(y,E){if(y===E.value)return E;for(const m of E.children){const T=ra(y,m);if(T)return T}return null}function Bo(y,E){if(y===E.value)return[E];for(const m of E.children){const T=Bo(y,m);if(T.length)return T.unshift(E),T}return[]}class Fi{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function go(y){const E={};return y&&y.children.forEach(m=>E[m.value.outlet]=m),E}class $o extends ts{constructor(E,m){super(E),this.snapshot=m,ws(this,E)}toString(){return this.snapshot.toString()}}function Do(y,E){const m=function To(y,E){const Y=new rs([],{},{},"",{},ln,E,null,y.root,-1,{});return new Co("",new Fi(Y,[]))}(y,E),T=new Se([new Cr("",{})]),M=new Se({}),V=new Se({}),Y=new Se({}),Me=new Se(""),_t=new ns(T,M,Y,Me,V,ln,E,m.root);return _t.snapshot=m.root,new $o(new Fi(_t,[]),m)}class ns{constructor(E,m,T,M,V,Y,Me,_t){this.url=E,this.params=m,this.queryParams=T,this.fragment=M,this.data=V,this.outlet=Y,this.component=Me,this.title=this.data?.pipe((0,Ve.U)(Jt=>Jt[Kr]))??(0,q.of)(void 0),this._futureSnapshot=_t}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ve.U)(E=>kt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ve.U)(E=>kt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jo(y,E="emptyOnly"){const m=y.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const M=m[T],V=m[T-1];if(M.routeConfig&&""===M.routeConfig.path)T--;else{if(V.component)break;T--}}return function xs(y){return y.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class rs{get title(){return this.data?.[Kr]}constructor(E,m,T,M,V,Y,Me,_t,Jt,Zt,gr){this.url=E,this.params=m,this.queryParams=T,this.fragment=M,this.data=V,this.outlet=Y,this.component=Me,this.routeConfig=_t,this._urlSegment=Jt,this._lastPathIndex=Zt,this._resolve=gr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Co extends ts{constructor(E,m){super(m),this.url=E,ws(this,m)}toString(){return bo(this._root)}}function ws(y,E){E.value._routerState=y,E.children.forEach(m=>ws(y,m))}function bo(y){const E=y.children.length>0?` { ${y.children.map(bo).join(", ")} } `:"";return`${y.value}${E}`}function Ho(y){if(y.snapshot){const E=y.snapshot,m=y._futureSnapshot;y.snapshot=m,nr(E.queryParams,m.queryParams)||y.queryParams.next(m.queryParams),E.fragment!==m.fragment&&y.fragment.next(m.fragment),nr(E.params,m.params)||y.params.next(m.params),function ui(y,E){if(y.length!==E.length)return!1;for(let m=0;m<y.length;++m)if(!nr(y[m],E[m]))return!1;return!0}(E.url,m.url)||y.url.next(m.url),nr(E.data,m.data)||y.data.next(m.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Gi(y,E){const m=nr(y.params,E.params)&&function st(y,E){return ie(y,E)&&y.every((m,T)=>nr(m.parameters,E[T].parameters))}(y.url,E.url);return m&&!(!y.parent!=!E.parent)&&(!y.parent||Gi(y.parent,E.parent))}function Li(y,E,m){if(m&&y.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const M=function ya(y,E,m){return E.children.map(T=>{for(const M of m.children)if(y.shouldReuseRoute(T.value,M.value.snapshot))return Li(y,T,M);return Li(y,T)})}(y,E,m);return new Fi(T,M)}{if(y.shouldAttach(E.value)){const V=y.retrieve(E.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=E.value,Y.children=E.children.map(Me=>Li(y,Me)),Y}}const T=function Gs(y){return new ns(new Se(y.url),new Se(y.params),new Se(y.queryParams),new Se(y.fragment),new Se(y.data),y.outlet,y.component,y)}(E.value),M=E.children.map(V=>Li(y,V));return new Fi(T,M)}}const mo="ngNavigationCancelingError";function So(y,E){const{redirectTo:m,navigationBehaviorOptions:T}=Kt(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,M=Ri(!1,0,E);return M.url=m,M.navigationBehaviorOptions=T,M}function Ri(y,E,m){const T=new Error("NavigationCancelingError: "+(y||""));return T[mo]=!0,T.cancellationCode=E,m&&(T.url=m),T}function Is(y){return Ao(y)&&Kt(y.url)}function Ao(y){return y&&y[mo]}class Ws{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new is,this.attachRef=null}}let is=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const M=this.getOrCreateContext(m);M.outlet=T,this.contexts.set(m,M)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new Ws,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Vi=!1;let Xn=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=ln,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(is),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:M}=m.name;if(T)return;this.isTrackedInParentContexts(M)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(M)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Vi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Vi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Vi);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new p.vHH(4013,Vi);this._activatedRoute=m;const M=this.location,Y=m.snapshot.component,Me=this.parentContexts.getOrCreateContext(this.name).children,_t=new hs(m,Me,M.injector);if(T&&function fs(y){return!!y.resolveComponentFactory}(T)){const Jt=T.resolveComponentFactory(Y);this.activated=M.createComponent(Jt,M.length,_t)}else this.activated=M.createComponent(Y,{index:M.length,injector:_t,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=p.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),y})();class hs{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===ns?this.route:E===is?this.childContexts:this.parent.get(E,m)}}let Yn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=p.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,T){1&m&&p._UZ(0,"router-outlet")},dependencies:[Xn],encapsulation:2}),y})();function Rs(y,E){return y.providers&&!y._injector&&(y._injector=(0,p.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}function yo(y){const E=y.children&&y.children.map(yo),m=E?{...y,children:E}:{...y};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==ln&&(m.component=Yn),m}function lr(y){return y.outlet||ln}function Pi(y,E){const m=y.filter(T=>lr(T)===E);return m.push(...y.filter(T=>lr(T)!==E)),m}function Ui(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class zo{constructor(E,m,T,M){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=M}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),Ho(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const M=go(m);E.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,M[Y],T),delete M[Y]}),Lt(M,(V,Y)=>{this.deactivateRouteAndItsChildren(V,T)})}deactivateRoutes(E,m,T){const M=E.value,V=m?m.value:null;if(M===V)if(M.component){const Y=T.getContext(M.outlet);Y&&this.deactivateChildRoutes(E,m,Y.children)}else this.deactivateChildRoutes(E,m,T);else V&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),M=T&&E.value.component?T.children:m,V=go(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);if(T&&T.outlet){const Y=T.outlet.detach(),Me=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Y,route:E,contexts:Me})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),M=T&&E.value.component?T.children:m,V=go(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],M);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,m,T){const M=go(m);E.children.forEach(V=>{this.activateRoutes(V,M[V.value.outlet],T),this.forwardEvent(new Hs(V.value.snapshot))}),E.children.length&&this.forwardEvent(new Ti(E.value.snapshot))}activateRoutes(E,m,T){const M=E.value,V=m?m.value:null;if(Ho(M),M===V)if(M.component){const Y=T.getOrCreateContext(M.outlet);this.activateChildRoutes(E,m,Y.children)}else this.activateChildRoutes(E,m,T);else if(M.component){const Y=T.getOrCreateContext(M.outlet);if(this.routeReuseStrategy.shouldAttach(M.snapshot)){const Me=this.routeReuseStrategy.retrieve(M.snapshot);this.routeReuseStrategy.store(M.snapshot,null),Y.children.onOutletReAttached(Me.contexts),Y.attachRef=Me.componentRef,Y.route=Me.route.value,Y.outlet&&Y.outlet.attach(Me.componentRef,Me.route.value),Ho(Me.route.value),this.activateChildRoutes(E,null,Y.children)}else{const Me=Ui(M.snapshot),_t=Me?.get(p._Vd)??null;Y.attachRef=null,Y.route=M,Y.resolver=_t,Y.injector=Me,Y.outlet&&Y.outlet.activateWith(M,Y.injector),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,T)}}class ia{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Ps{constructor(E,m){this.component=E,this.route=m}}function to(y,E,m){const T=y._root;return Ns(T,E?E._root:null,m,[T.value])}function no(y,E){const m=Symbol(),T=E.get(y,m);return T===m?"function"!=typeof y||(0,p.Z0I)(y)?E.get(y):y:T}function Ns(y,E,m,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=go(E);return y.children.forEach(Y=>{(function qa(y,E,m,T,M={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=E?E.value:null,Me=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const _t=function R(y,E,m){if("function"==typeof m)return m(y,E);switch(m){case"pathParamsChange":return!ie(y.url,E.url);case"pathParamsOrQueryParamsChange":return!ie(y.url,E.url)||!nr(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gi(y,E)||!nr(y.queryParams,E.queryParams);default:return!Gi(y,E)}}(Y,V,V.routeConfig.runGuardsAndResolvers);_t?M.canActivateChecks.push(new ia(T)):(V.data=Y.data,V._resolvedData=Y._resolvedData),Ns(y,E,V.component?Me?Me.children:null:m,T,M),_t&&Me&&Me.outlet&&Me.outlet.isActivated&&M.canDeactivateChecks.push(new Ps(Me.outlet.component,Y))}else Y&&O(E,Me,M),M.canActivateChecks.push(new ia(T)),Ns(y,null,V.component?Me?Me.children:null:m,T,M)})(Y,V[Y.value.outlet],m,T.concat([Y.value]),M),delete V[Y.value.outlet]}),Lt(V,(Y,Me)=>O(Y,m.getContext(Me),M)),M}function O(y,E,m){const T=go(y),M=y.value;Lt(T,(V,Y)=>{O(V,M.component?E?E.children.getContext(Y):null:E,m)}),m.canDeactivateChecks.push(new Ps(M.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,M))}function k(y){return"function"==typeof y}function _i(y){return y instanceof we.K||"EmptyError"===y?.name}const Ci=Symbol("INITIAL_VALUE");function Zr(){return(0,it.w)(y=>ht(y.map(E=>E.pipe((0,We.q)(1),function lt(...y){const E=(0,he.yG)(y);return(0,on.e)((m,T)=>{(E?At(y,m,E):At(y,m)).subscribe(T)})}(Ci)))).pipe((0,Ve.U)(E=>{for(const m of E)if(!0!==m){if(m===Ci)return Ci;if(!1===m||m instanceof On)return m}return!0}),(0,wt.h)(E=>E!==Ci),(0,We.q)(1)))}function _a(y){return(0,nt.z)((0,Ke.b)(E=>{if(Kt(E))throw So(0,E)}),(0,Ve.U)(E=>!0===E))}const Ea={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function so(y,E,m,T,M){const V=ms(y,E,m);return V.matched?function oa(y,E,m,T){const M=E.canMatch;if(!M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const Me=no(Y,y);return Vt(function ss(y){return y&&k(y.canMatch)}(Me)?Me.canMatch(E,m):y.runInContext(()=>Me(E,m)))});return(0,q.of)(V).pipe(Zr(),_a())}(T=Rs(E,T),E,m).pipe((0,Ve.U)(Y=>!0===Y?V:{...Ea})):(0,q.of)(V)}function ms(y,E,m){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||m.length>0)?{...Ea}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const M=(E.matcher||Vn)(m,y,E);if(!M)return{...Ea};const V={};Lt(M.posParams,(Me,_t)=>{V[_t]=Me.path});const Y=M.consumed.length>0?{...V,...M.consumed[M.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:M.consumed,remainingSegments:m.slice(M.consumed.length),parameters:Y,positionalParamSegments:M.posParams??{}}}function Os(y,E,m,T){if(m.length>0&&function $(y,E,m){return m.some(T=>w(y,E,T)&&lr(T)!==ln)}(y,m,T)){const V=new Dt(E,function Go(y,E,m,T){const M={};M[ln]=T,T._sourceSegment=y,T._segmentIndexShift=E.length;for(const V of m)if(""===V.path&&lr(V)!==ln){const Y=new Dt([],{});Y._sourceSegment=y,Y._segmentIndexShift=E.length,M[lr(V)]=Y}return M}(y,E,T,new Dt(m,y.children)));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:[]}}if(0===m.length&&function _(y,E,m){return m.some(T=>w(y,E,T))}(y,m,T)){const V=new Dt(y.segments,function wa(y,E,m,T,M){const V={};for(const Y of T)if(w(y,m,Y)&&!M[lr(Y)]){const Me=new Dt([],{});Me._sourceSegment=y,Me._segmentIndexShift=E.length,V[lr(Y)]=Me}return{...M,...V}}(y,E,m,T,y.children));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:m}}const M=new Dt(y.segments,y.children);return M._sourceSegment=y,M._segmentIndexShift=E.length,{segmentGroup:M,slicedSegments:m}}function w(y,E,m){return(!(y.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function F(y,E,m,T){return!!(lr(y)===T||T!==ln&&w(E,m,y))&&("**"===y.path||ms(E,y,m).matched)}function K(y,E,m){return 0===E.length&&!y.children[m]}const te=!1;class ge{constructor(E){this.segmentGroup=E||null}}class fe{constructor(E){this.urlTree=E}}function Ge(y){return ot(new ge(y))}function mt(y){return ot(new fe(y))}class er{constructor(E,m,T,M,V){this.injector=E,this.configLoader=m,this.urlSerializer=T,this.urlTree=M,this.config=V,this.allowRedirects=!0}apply(){const E=Os(this.urlTree.root,[],[],this.config).segmentGroup,m=new Dt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,ln).pipe((0,Ve.U)(V=>this.createUrlTree(hn(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ye(V=>{if(V instanceof fe)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof ge?this.noMatchError(V):V}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,ln).pipe((0,Ve.U)(M=>this.createUrlTree(hn(M),E.queryParams,E.fragment))).pipe(ye(M=>{throw M instanceof ge?this.noMatchError(M):M}))}noMatchError(E){return new p.vHH(4002,te)}createUrlTree(E,m,T){const M=an(E);return new On(M,m,T)}expandSegmentGroup(E,m,T,M){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,m,T).pipe((0,Ve.U)(V=>new Dt([],V))):this.expandSegment(E,T,m,T.segments,M,!0)}expandChildren(E,m,T){const M=[];for(const V of Object.keys(T.children))"primary"===V?M.unshift(V):M.push(V);return(0,G.D)(M).pipe((0,Te.b)(V=>{const Y=T.children[V],Me=Pi(m,V);return this.expandSegmentGroup(E,Me,Y,V).pipe((0,Ve.U)(_t=>({segment:_t,outlet:V})))}),It((V,Y)=>(V[Y.outlet]=Y.segment,V),{}),yr())}expandSegment(E,m,T,M,V,Y){return(0,G.D)(T).pipe((0,Te.b)(Me=>this.expandSegmentAgainstRoute(E,m,T,Me,M,V,Y).pipe(ye(Jt=>{if(Jt instanceof ge)return(0,q.of)(null);throw Jt}))),(0,Ot.P)(Me=>!!Me),ye((Me,_t)=>{if(_i(Me))return K(m,M,V)?(0,q.of)(new Dt([],{})):Ge(m);throw Me}))}expandSegmentAgainstRoute(E,m,T,M,V,Y,Me){return F(M,m,V,Y)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(E,m,M,V,Y):Me&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y):Ge(m):Ge(m)}expandSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y){return"**"===M.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,M,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,M){const V=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?mt(V):this.lineralizeSegments(T,V).pipe((0,ct.z)(Y=>{const Me=new Dt(Y,{});return this.expandSegment(E,Me,m,Y,M,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,M,V,Y){const{matched:Me,consumedSegments:_t,remainingSegments:Jt,positionalParamSegments:Zt}=ms(m,M,V);if(!Me)return Ge(m);const gr=this.applyRedirectCommands(_t,M.redirectTo,Zt);return M.redirectTo.startsWith("/")?mt(gr):this.lineralizeSegments(M,gr).pipe((0,ct.z)(Si=>this.expandSegment(E,m,T,Si.concat(Jt),Y,!1)))}matchSegmentAgainstRoute(E,m,T,M,V){return"**"===T.path?(E=Rs(T,E),T.loadChildren?(T._loadedRoutes?(0,q.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,Ve.U)(Me=>(T._loadedRoutes=Me.routes,T._loadedInjector=Me.injector,new Dt(M,{})))):(0,q.of)(new Dt(M,{}))):so(m,T,M,E).pipe((0,it.w)(({matched:Y,consumedSegments:Me,remainingSegments:_t})=>Y?this.getChildConfig(E=T._injector??E,T,M).pipe((0,ct.z)(Zt=>{const gr=Zt.injector??E,Si=Zt.routes,{segmentGroup:No,slicedSegments:Zo}=Os(m,Me,_t,Si),Ss=new Dt(No.segments,No.children);if(0===Zo.length&&Ss.hasChildren())return this.expandChildren(gr,Si,Ss).pipe((0,Ve.U)(Ua=>new Dt(Me,Ua)));if(0===Si.length&&0===Zo.length)return(0,q.of)(new Dt(Me,{}));const uo=lr(T)===V;return this.expandSegment(gr,Ss,Si,Zo,uo?ln:V,!0).pipe((0,Ve.U)(Ln=>new Dt(Me.concat(Ln.segments),Ln.children)))})):Ge(m)))}getChildConfig(E,m,T){return m.children?(0,q.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,q.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function Ei(y,E,m,T){const M=E.canLoad;if(void 0===M||0===M.length)return(0,q.of)(!0);const V=M.map(Y=>{const Me=no(Y,y);return Vt(function He(y){return y&&k(y.canLoad)}(Me)?Me.canLoad(E,m):y.runInContext(()=>Me(E,m)))});return(0,q.of)(V).pipe(Zr(),_a())}(E,m,T).pipe((0,ct.z)(M=>M?this.configLoader.loadChildren(E,m).pipe((0,Ke.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function cn(y){return ot(Ri(te,3))}())):(0,q.of)({routes:[],injector:E})}lineralizeSegments(E,m){let T=[],M=m.root;for(;;){if(T=T.concat(M.segments),0===M.numberOfChildren)return(0,q.of)(T);if(M.numberOfChildren>1||!M.children[ln])return E.redirectTo,ot(new p.vHH(4e3,te));M=M.children[ln]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,M){const V=this.createSegmentGroup(E,m.root,T,M);return new On(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return Lt(E,(M,V)=>{if("string"==typeof M&&M.startsWith(":")){const Me=M.substring(1);T[V]=m[Me]}else T[V]=M}),T}createSegmentGroup(E,m,T,M){const V=this.createSegments(E,m.segments,T,M);let Y={};return Lt(m.children,(Me,_t)=>{Y[_t]=this.createSegmentGroup(E,Me,T,M)}),new Dt(V,Y)}createSegments(E,m,T,M){return m.map(V=>V.path.startsWith(":")?this.findPosParam(E,V,M):this.findOrReturn(V,T))}findPosParam(E,m,T){const M=T[m.path.substring(1)];if(!M)throw new p.vHH(4001,te);return M}findOrReturn(E,m){let T=0;for(const M of m){if(M.path===E.path)return m.splice(T),M;T++}return E}}class cr{}class N{constructor(E,m,T,M,V,Y,Me){this.injector=E,this.rootComponentType=m,this.config=T,this.urlTree=M,this.url=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=Me}recognize(){const E=Os(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,ln).pipe((0,Ve.U)(m=>{if(null===m)return null;const T=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),M=new Fi(T,m),V=new Co(this.url,M);return this.inheritParamsAndData(V._root),V}))}inheritParamsAndData(E){const m=E.value,T=jo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(M=>this.inheritParamsAndData(M))}processSegmentGroup(E,m,T,M){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,M)}processChildren(E,m,T){return(0,G.D)(Object.keys(T.children)).pipe((0,Te.b)(M=>{const V=T.children[M],Y=Pi(m,M);return this.processSegmentGroup(E,Y,V,M)}),It((M,V)=>M&&V?(M.push(...V),M):null),function fr(y,E=!1){return(0,on.e)((m,T)=>{let M=0;m.subscribe((0,gt.x)(T,V=>{const Y=y(V,M++);(Y||E)&&T.next(V),!Y&&T.complete()}))})}(M=>null!==M),(0,zn.d)(null),yr(),(0,Ve.U)(M=>{if(null===M)return null;const V=Ye(M);return function Z(y){y.sort((E,m)=>E.value.outlet===ln?-1:m.value.outlet===ln?1:E.value.outlet.localeCompare(m.value.outlet))}(V),V}))}processSegment(E,m,T,M,V){return(0,G.D)(m).pipe((0,Te.b)(Y=>this.processSegmentAgainstRoute(Y._injector??E,Y,T,M,V)),(0,Ot.P)(Y=>!!Y),ye(Y=>{if(_i(Y))return K(T,M,V)?(0,q.of)([]):(0,q.of)(null);throw Y}))}processSegmentAgainstRoute(E,m,T,M,V){if(m.redirectTo||!F(m,T,M,V))return(0,q.of)(null);let Y;if("**"===m.path){const Me=M.length>0?Mn(M).parameters:{},_t=$n(T)+M.length,Jt=new rs(M,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bn(m),lr(m),m.component??m._loadedComponent??null,m,or(T),_t,Fr(m));Y=(0,q.of)({snapshot:Jt,consumedSegments:[],remainingSegments:[]})}else Y=so(T,m,M,E).pipe((0,Ve.U)(({matched:Me,consumedSegments:_t,remainingSegments:Jt,parameters:Zt})=>{if(!Me)return null;const gr=$n(T)+_t.length;return{snapshot:new rs(_t,Zt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Bn(m),lr(m),m.component??m._loadedComponent??null,m,or(T),gr,Fr(m)),consumedSegments:_t,remainingSegments:Jt}}));return Y.pipe((0,it.w)(Me=>{if(null===Me)return(0,q.of)(null);const{snapshot:_t,consumedSegments:Jt,remainingSegments:Zt}=Me;E=m._injector??E;const gr=m._loadedInjector??E,Si=function ue(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(m),{segmentGroup:No,slicedSegments:Zo}=Os(T,Jt,Zt,Si.filter(uo=>void 0===uo.redirectTo));if(0===Zo.length&&No.hasChildren())return this.processChildren(gr,Si,No).pipe((0,Ve.U)(uo=>null===uo?null:[new Fi(_t,uo)]));if(0===Si.length&&0===Zo.length)return(0,q.of)([new Fi(_t,[])]);const Ss=lr(m)===V;return this.processSegment(gr,Si,No,Zo,Ss?ln:V).pipe((0,Ve.U)(uo=>null===uo?null:[new Fi(_t,uo)]))}))}}function Xe(y){const E=y.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Ye(y){const E=[],m=new Set;for(const T of y){if(!Xe(T)){E.push(T);continue}const M=E.find(V=>T.value.routeConfig===V.value.routeConfig);void 0!==M?(M.children.push(...T.children),m.add(M)):E.push(T)}for(const T of m){const M=Ye(T.children);E.push(new Fi(T.value,M))}return E.filter(T=>!m.has(T))}function or(y){let E=y;for(;E._sourceSegment;)E=E._sourceSegment;return E}function $n(y){let E=y,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function Bn(y){return y.data||{}}function Fr(y){return y.resolve||{}}function Ar(y){return"string"==typeof y.title||null===y.title}function Hr(y){return(0,it.w)(E=>{const m=y(E);return m?(0,G.D)(m).pipe((0,Ve.U)(()=>E)):(0,q.of)(E)})}const Wi=new p.OlP("ROUTES");let Lr=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,q.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=Vt(m.loadComponent()).pipe((0,Ve.U)(aa),(0,Ke.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),ar(()=>{this.componentLoaders.delete(m)})),M=new yn(T,()=>new De.x).pipe(jt());return this.componentLoaders.set(m,M),M}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,q.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const V=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Ve.U)(Me=>{this.onLoadEndListener&&this.onLoadEndListener(T);let _t,Jt,Zt=!1;Array.isArray(Me)?Jt=Me:(_t=Me.create(m).injector,Jt=mi(_t.get(Wi,[],p.XFs.Self|p.XFs.Optional)));return{routes:Jt.map(yo),injector:_t}}),ar(()=>{this.childrenLoaders.delete(T)})),Y=new yn(V,()=>new De.x).pipe(jt());return this.childrenLoaders.set(T,Y),Y}loadModuleFactoryOrRoutes(m){return Vt(m()).pipe((0,Ve.U)(aa),(0,ct.z)(T=>T instanceof p.YKP||Array.isArray(T)?(0,q.of)(T):(0,G.D)(this.compiler.compileModuleAsync(T))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function aa(y){return function au(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Ks=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.configLoader=(0,p.f3M)(Lr),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(qe),this.rootContexts=(0,p.f3M)(is),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=M=>this.events.next(new fi(M)),this.configLoader.onLoadStartListener=M=>this.events.next(new zi(M))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m){return this.transitions=new Se({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(T=>0!==T.id),(0,Ve.U)(T=>({...T,extractedUrl:m.urlHandlingStrategy.extract(T.rawUrl)})),(0,it.w)(T=>{let M=!1,V=!1;return(0,q.of)(T).pipe((0,Ke.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,it.w)(Y=>{const Me=m.browserUrlTree.toString(),_t=!m.navigated||Y.extractedUrl.toString()!==Me||Me!==m.currentUrlTree.toString();if(!_t&&"reload"!==(Y.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Zt="";return this.events.next(new di(Y.id,m.serializeUrl(T.rawUrl),Zt,0)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),ke.E}if(m.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return zr(Y.source)&&(m.browserUrlTree=Y.extractedUrl),(0,q.of)(Y).pipe((0,it.w)(Zt=>{const gr=this.transitions?.getValue();return this.events.next(new Di(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),Zt.source,Zt.restoredState)),gr!==this.transitions?.getValue()?ke.E:Promise.resolve(Zt)}),function Tn(y,E,m,T){return(0,it.w)(M=>function ir(y,E,m,T,M){return new er(y,E,m,T,M).apply()}(y,E,m,M.extractedUrl,T).pipe((0,Ve.U)(V=>({...M,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,Ke.b)(Zt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Zt.urlAfterRedirects},T.urlAfterRedirects=Zt.urlAfterRedirects}),function Ir(y,E,m,T,M){return(0,ct.z)(V=>function B(y,E,m,T,M,V,Y="emptyOnly"){return new N(y,E,m,T,M,Y,V).recognize().pipe((0,it.w)(Me=>null===Me?function A(y){return new je.y(E=>E.error(y))}(new cr):(0,q.of)(Me)))}(y,E,m,V.urlAfterRedirects,T.serialize(V.urlAfterRedirects),T,M).pipe((0,Ve.U)(Y=>({...V,targetSnapshot:Y}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,Ke.b)(Zt=>{if(T.targetSnapshot=Zt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Zt.extras.skipLocationChange){const Si=m.urlHandlingStrategy.merge(Zt.urlAfterRedirects,Zt.rawUrl);m.setBrowserUrl(Si,Zt)}m.browserUrlTree=Zt.urlAfterRedirects}const gr=new ji(Zt.id,this.urlSerializer.serialize(Zt.extractedUrl),this.urlSerializer.serialize(Zt.urlAfterRedirects),Zt.targetSnapshot);this.events.next(gr)}));if(_t&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Zt,extractedUrl:gr,source:Si,restoredState:No,extras:Zo}=Y,Ss=new Di(Zt,this.urlSerializer.serialize(gr),Si,No);this.events.next(Ss);const uo=Do(gr,this.rootComponentType).snapshot;return T={...Y,targetSnapshot:uo,urlAfterRedirects:gr,extras:{...Zo,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(T)}{const Zt="";return this.events.next(new di(Y.id,m.serializeUrl(T.extractedUrl),Zt,1)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),ke.E}}),(0,Ke.b)(Y=>{const Me=new Io(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(Me)}),(0,Ve.U)(Y=>T={...Y,guards:to(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)}),function Ni(y,E){return(0,ct.z)(m=>{const{targetSnapshot:T,currentSnapshot:M,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,q.of)({...m,guardsResult:!0}):function io(y,E,m,T){return(0,G.D)(y).pipe((0,ct.z)(M=>function bu(y,E,m,T,M){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,q.of)(!0);const Y=V.map(Me=>{const _t=Ui(E)??M,Jt=no(Me,_t);return Vt(function kr(y){return y&&k(y.canDeactivate)}(Jt)?Jt.canDeactivate(y,E,m,T):_t.runInContext(()=>Jt(y,E,m,T))).pipe((0,Ot.P)())});return(0,q.of)(Y).pipe(Zr())}(M.component,M.route,m,E,T)),(0,Ot.P)(M=>!0!==M,!0))}(Y,T,M,y).pipe((0,ct.z)(Me=>Me&&function X(y){return"boolean"==typeof y}(Me)?function Er(y,E,m,T){return(0,G.D)(E).pipe((0,Te.b)(M=>At(function _o(y,E){return null!==y&&E&&E(new Vo(y)),(0,q.of)(!0)}(M.route.parent,T),function os(y,E){return null!==y&&E&&E(new ds(y)),(0,q.of)(!0)}(M.route,T),function Za(y,E,m){const T=E[E.length-1],V=E.slice(0,E.length-1).reverse().map(Y=>function sa(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>_e(()=>{const Me=Y.guards.map(_t=>{const Jt=Ui(Y.node)??m,Zt=no(_t,Jt);return Vt(function _r(y){return y&&k(y.canActivateChild)}(Zt)?Zt.canActivateChild(T,y):Jt.runInContext(()=>Zt(T,y))).pipe((0,Ot.P)())});return(0,q.of)(Me).pipe(Zr())}));return(0,q.of)(V).pipe(Zr())}(y,M.path,m),function Ts(y,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,q.of)(!0);const M=T.map(V=>_e(()=>{const Y=Ui(E)??m,Me=no(V,Y);return Vt(function pn(y){return y&&k(y.canActivate)}(Me)?Me.canActivate(E,y):Y.runInContext(()=>Me(E,y))).pipe((0,Ot.P)())}));return(0,q.of)(M).pipe(Zr())}(y,M.route,m))),(0,Ot.P)(M=>!0!==M,!0))}(T,V,y,E):(0,q.of)(Me)),(0,Ve.U)(Me=>({...m,guardsResult:Me})))})}(this.environmentInjector,Y=>this.events.next(Y)),(0,Ke.b)(Y=>{if(T.guardsResult=Y.guardsResult,Kt(Y.guardsResult))throw So(0,Y.guardsResult);const Me=new Hi(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.events.next(Me)}),(0,wt.h)(Y=>!!Y.guardsResult||(m.restoreHistory(Y),this.cancelNavigationTransition(Y,"",3),!1)),Hr(Y=>{if(Y.guards.canActivateChecks.length)return(0,q.of)(Y).pipe((0,Ke.b)(Me=>{const _t=new Ms(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(_t)}),(0,it.w)(Me=>{let _t=!1;return(0,q.of)(Me).pipe(function hi(y,E){return(0,ct.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:M}}=m;if(!M.length)return(0,q.of)(m);let V=0;return(0,G.D)(M).pipe((0,Te.b)(Y=>function rn(y,E,m,T){const M=y.routeConfig,V=y._resolve;return void 0!==M?.title&&!Ar(M)&&(V[Kr]=M.title),function sn(y,E,m,T){const M=function vn(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===M.length)return(0,q.of)({});const V={};return(0,G.D)(M).pipe((0,ct.z)(Y=>function Nn(y,E,m,T){const M=Ui(E)??T,V=no(y,M);return Vt(V.resolve?V.resolve(E,m):M.runInContext(()=>V(E,m)))}(y[Y],E,m,T).pipe((0,Ot.P)(),(0,Ke.b)(Me=>{V[Y]=Me}))),$t(1),function pr(y){return(0,Ve.U)(()=>y)}(V),ye(Y=>_i(Y)?ke.E:ot(Y)))}(V,y,E,T).pipe((0,Ve.U)(Y=>(y._resolvedData=Y,y.data=jo(y,m).resolve,M&&Ar(M)&&(y.data[Kr]=M.title),null)))}(Y.route,T,y,E)),(0,Ke.b)(()=>V++),$t(1),(0,ct.z)(Y=>V===M.length?(0,q.of)(m):ke.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,Ke.b)({next:()=>_t=!0,complete:()=>{_t||(m.restoreHistory(Me),this.cancelNavigationTransition(Me,"",2))}}))}),(0,Ke.b)(Me=>{const _t=new cs(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(_t)}))}),Hr(Y=>{const Me=_t=>{const Jt=[];_t.routeConfig?.loadComponent&&!_t.routeConfig._loadedComponent&&Jt.push(this.configLoader.loadComponent(_t.routeConfig).pipe((0,Ke.b)(Zt=>{_t.component=Zt}),(0,Ve.U)(()=>{})));for(const Zt of _t.children)Jt.push(...Me(Zt));return Jt};return ht(Me(Y.targetSnapshot.root)).pipe((0,zn.d)(),(0,We.q)(1))}),Hr(()=>this.afterPreactivation()),(0,Ve.U)(Y=>{const Me=function zs(y,E,m){const T=Li(y,E._root,m?m._root:void 0);return new $o(T,E)}(m.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return T={...Y,targetRouterState:Me}}),(0,Ke.b)(Y=>{m.currentUrlTree=Y.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),m.routerState=Y.targetRouterState,"deferred"===m.urlUpdateStrategy&&(Y.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,Y),m.browserUrlTree=Y.urlAfterRedirects)}),((y,E,m)=>(0,Ve.U)(T=>(new zo(E,T.targetRouterState,T.currentRouterState,m).activate(y),T)))(this.rootContexts,m.routeReuseStrategy,Y=>this.events.next(Y)),(0,We.q)(1),(0,Ke.b)({next:Y=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new qr(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(Y.targetRouterState.snapshot),Y.resolve(!0)},complete:()=>{M=!0}}),ar(()=>{M||V||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),ye(Y=>{if(V=!0,Ao(Y)){Is(Y)||(m.navigated=!0,m.restoreHistory(T,!0));const Me=new ei(T.id,this.urlSerializer.serialize(T.extractedUrl),Y.message,Y.cancellationCode);if(this.events.next(Me),Is(Y)){const _t=m.urlHandlingStrategy.merge(Y.url,m.rawUrlTree),Jt={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||zr(T.source)};m.scheduleNavigation(_t,mn,null,Jt,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{m.restoreHistory(T,!0);const Me=new vr(T.id,this.urlSerializer.serialize(T.extractedUrl),Y,T.targetSnapshot??void 0);this.events.next(Me);try{T.resolve(m.errorHandler(Y))}catch(_t){T.reject(_t)}}return ke.E}))}))}cancelNavigationTransition(m,T,M){const V=new ei(m.id,this.urlSerializer.serialize(m.extractedUrl),T,M);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function zr(y){return y!==mn}let Na=(()=>{class y{buildTitle(m){let T,M=m.root;for(;void 0!==M;)T=this.getResolvedTitleForRoute(M)??T,M=M.children.find(V=>V.outlet===ln);return T}getResolvedTitleForRoute(m){return m.data[Kr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Ia)},providedIn:"root"}),y})(),Ia=(()=>{class y extends Na{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(Qr.Dx))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),xo=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Mi)},providedIn:"root"}),y})();class Wu{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Mi=(()=>{class y extends Wu{}return y.\u0275fac=function(){let E;return function(T){return(E||(E=p.n5z(y)))(T||y)}}(),y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Oa=new p.OlP("",{providedIn:"root",factory:()=>({})});let Ku=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Wo)},providedIn:"root"}),y})(),Wo=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function lu(y){throw y}function Bi(y,E,m){return E.parse("/")}const cu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ai=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Oa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||lu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Bi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Ku),this.routeReuseStrategy=(0,p.f3M)(xo),this.urlCreationStrategy=(0,p.f3M)(Uo),this.titleStrategy=(0,p.f3M)(Na),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=mi((0,p.f3M)(Wi,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ks),this.urlSerializer=(0,p.f3M)(qe),this.location=(0,p.f3M)(Ut.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Do(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,M){const V={replaceUrl:!0},Y=M?.navigationId?M:null;if(M){const _t={...M};delete _t.navigationId,delete _t.\u0275routerPageId,0!==Object.keys(_t).length&&(V.state=_t)}const Me=this.parseUrl(m);this.scheduleNavigation(Me,T,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(yo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:M,queryParams:V,fragment:Y,queryParamsHandling:Me,preserveFragment:_t}=T,Jt=_t?this.currentUrlTree.fragment:Y;let Zt=null;switch(Me){case"merge":Zt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Zt=this.currentUrlTree.queryParams;break;default:Zt=V||null}return null!==Zt&&(Zt=this.removeEmptyProps(Zt)),this.urlCreationStrategy.createUrlTree(M,this.routerState,this.currentUrlTree,m,Zt,Jt??null)}navigateByUrl(m,T={skipLocationChange:!1}){const M=Kt(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(M,this.rawUrlTree);return this.scheduleNavigation(V,mn,null,T)}navigate(m,T={skipLocationChange:!1}){return function Da(y){for(let E=0;E<y.length;E++){const m=y[E];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(M){T=this.malformedUriErrorHandler(M,this.urlSerializer,m)}return T}isActive(m,T){let M;if(M=!0===T?{...cu}:!1===T?{...oi}:T,Kt(m))return li(this.currentUrlTree,m,M);const V=this.parseUrl(m);return li(this.currentUrlTree,V,M)}removeEmptyProps(m){return Object.keys(m).reduce((T,M)=>{const V=m[M];return null!=V&&(T[M]=V),T},{})}scheduleNavigation(m,T,M,V,Y){if(this.disposed)return Promise.resolve(!1);let Me,_t,Jt,Zt;return Y?(Me=Y.resolve,_t=Y.reject,Jt=Y.promise):Jt=new Promise((gr,Si)=>{Me=gr,_t=Si}),Zt="computed"===this.canceledNavigationResolution?M&&M.\u0275routerPageId?M.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Zt,source:T,restoredState:M,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:Me,reject:_t,promise:Jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jt.catch(gr=>Promise.reject(gr))}setBrowserUrl(m,T){const M=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(M)||T.extras.replaceUrl){const Y={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(M,"",Y)}else{const V={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.go(M,"",V)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),la=(()=>{class y{constructor(m,T,M,V,Y,Me){this.router=m,this.route=T,this.tabIndexAttribute=M,this.renderer=V,this.el=Y,this.locationStrategy=Me,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new De.x;const _t=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_t||"area"===_t,this.isAnchorElement?this.subscription=m.events.subscribe(Jt=>{Jt instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,M,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||M||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const M=this.renderer,V=this.el.nativeElement;null!==T?M.setAttribute(V,m,T):M.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(p.Y36(ai),p.Y36(ns),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Ut.S$))},y.\u0275dir=p.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,T){1&m&&p.NdJ("click",function(V){return T.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&p.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),y})();class qs{}let Ya=(()=>{class y{constructor(m,T,M,V,Y){this.router=m,this.injector=M,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(m=>m instanceof qr),(0,Te.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const M=[];for(const V of T){V.providers&&!V._injector&&(V._injector=(0,p.MMx)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,Me=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&M.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&M.push(this.processRoutes(Me,V.children??V._loadedRoutes))}return(0,G.D)(M).pipe((0,yt.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let M;M=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,q.of)(null);const V=M.pipe((0,ct.z)(Y=>null===Y?(0,q.of)(void 0):(T._loadedRoutes=Y.routes,T._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(T.loadComponent&&!T._loadedComponent){const Y=this.loader.loadComponent(T);return(0,G.D)([V,Y]).pipe((0,yt.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(ai),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(qs),p.LFG(Lr))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ca=new p.OlP("");let Cs=(()=>{class y{constructor(m,T,M,V,Y={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=M,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Di?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof qr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Es&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Es(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){p.$Z()},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})();var Ki=(()=>((Ki=Ki||{})[Ki.COMPLETE=0]="COMPLETE",Ki[Ki.FAILED=1]="FAILED",Ki[Ki.REDIRECTING=2]="REDIRECTING",Ki))();const oo=!1;function ks(y,E){return{\u0275kind:y,\u0275providers:E}}const Zs=new p.OlP("",{providedIn:"root",factory:()=>!1});function Qa(){const y=(0,p.f3M)(p.zs3);return E=>{const m=y.get(p.z2F);if(E!==m.components[0])return;const T=y.get(ai),M=y.get(Ja);1===y.get(hu)&&T.initialNavigation(),y.get(Zu,null,p.XFs.Optional)?.setUpPreloading(),y.get(Ca,null,p.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),M.closed||(M.next(),M.complete(),M.unsubscribe())}}const Ja=new p.OlP(oo?"bootstrap done indicator":"",{factory:()=>new De.x}),hu=new p.OlP(oo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Fa(){let y=[];return y=oo?[{provide:p.Xts,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ai);return()=>E.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function eo(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],ks(1,y)}const Zu=new p.OlP(oo?"router preloader":"");function vl(y){return ks(0,[{provide:Zu,useExisting:Ya},{provide:qs,useExisting:y}])}const Ko=!1,qo=new p.OlP(Ko?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),da=[Ut.Ye,{provide:qe,useClass:ft},ai,is,{provide:ns,useFactory:function ca(y){return y.routerState.root},deps:[ai]},Lr,Ko?{provide:Zs,useValue:!0}:[]];function La(){return new p.PXZ("Router",ai)}let wi=(()=>{class y{constructor(m){}static forRoot(m,T){return{ngModule:y,providers:[da,Ko&&T?.enableTracing?Fa().\u0275providers:[],{provide:Wi,multi:!0,useValue:m},{provide:qo,useFactory:_l,deps:[[ai,new p.FiY,new p.tp0]]},{provide:Oa,useValue:T||{}},T?.useHash?{provide:Ut.S$,useClass:Ut.Do}:{provide:Ut.S$,useClass:Ut.b0},{provide:Ca,useFactory:()=>{const y=(0,p.f3M)(Ut.EM),E=(0,p.f3M)(p.R0b),m=(0,p.f3M)(Oa),T=(0,p.f3M)(Ks),M=(0,p.f3M)(qe);return m.scrollOffset&&y.setOffset(m.scrollOffset),new Cs(M,T,y,E,m)}},T?.preloadingStrategy?vl(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:La},T?.initialNavigation?Rt(T):[],[{provide:ii,useFactory:Qa},{provide:p.tb,multi:!0,useExisting:ii}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Wi,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(qo,8))},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[Yn]}),y})();function _l(y){if(Ko&&y)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rt(y){return["disabled"===y.initialNavigation?ks(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ai);return()=>{E.setUpLocationChangeListener()}}},{provide:hu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?ks(2,[{provide:hu,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const m=E.get(Ut.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const M=E.get(ai),V=E.get(Ja);(function ka(y,E){y.events.pipe((0,wt.h)(m=>m instanceof qr||m instanceof ei||m instanceof vr||m instanceof di),(0,Ve.U)(m=>m instanceof qr||m instanceof di?Ki.COMPLETE:m instanceof ei&&(0===m.code||1===m.code)?Ki.REDIRECTING:Ki.FAILED),(0,wt.h)(m=>m!==Ki.REDIRECTING),(0,We.q)(1)).subscribe(()=>{E()})})(M,()=>{T(!0)}),E.get(Ks).afterPreactivation=()=>(T(!0),V.closed?(0,q.of)(void 0):V),M.initialNavigation()}))}}]).\u0275providers:[]]}const ii=new p.OlP(Ko?"Router Initializer":"")},3942:(un,at,W)=>{W.d(at,{Z:()=>ht});var p=W(2090),G=W(4859),q=W(6881),De=W(1877);class Se{constructor(tt,yt){this._delegate=tt,this.firebase=yt,(0,q._addComponent)(tt,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=tt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(tt){this._delegate.automaticDataCollectionEnabled=tt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(tt=>{this._delegate.checkDestroyed(),tt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(tt,yt=q._DEFAULT_ENTRY_NAME){var St;this._delegate.checkDestroyed();const At=this._delegate.container.getProvider(tt);return!At.isInitialized()&&"EXPLICIT"===(null===(St=At.getComponent())||void 0===St?void 0:St.instantiationMode)&&At.initialize(),At.getImmediate({identifier:yt})}_removeServiceInstance(tt,yt=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(tt).clearInstance(yt)}_addComponent(tt){(0,q._addComponent)(this._delegate,tt)}_addOrOverwriteComponent(tt){(0,q._addOrOverwriteComponent)(this._delegate,tt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const je=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ce=function Ze(){const Gt=function Ne(Gt){const tt={},yt={__esModule:!0,initializeApp:function Be(ot,ke={}){const Pt=q.initializeApp(ot,ke);if((0,p.r3)(tt,Pt.name))return tt[Pt.name];const on=new Gt(Pt,yt);return tt[Pt.name]=on,on},app:At,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function nt(ot){const ke=ot.name,Pt=ke.replace("-compat","");if(q._registerComponent(ot)&&"PUBLIC"===ot.type){const on=(jt=At())=>{if("function"!=typeof jt[Pt])throw je.create("invalid-app-argument",{appName:ke});return jt[Pt]()};void 0!==ot.serviceProps&&(0,p.ZB)(on,ot.serviceProps),yt[Pt]=on,Gt.prototype[Pt]=function(...jt){return this._getService.bind(this,ke).apply(this,ot.multipleInstances?jt:[])}}return"PUBLIC"===ot.type?yt[Pt]:null},removeApp:function St(ot){delete tt[ot]},useAsService:function Tt(ot,ke){return"serverAuth"===ke?null:ke},modularAPIs:q}};function At(ot){if(!(0,p.r3)(tt,ot=ot||q._DEFAULT_ENTRY_NAME))throw je.create("no-app",{appName:ot});return tt[ot]}return yt.default=yt,Object.defineProperty(yt,"apps",{get:function _e(){return Object.keys(tt).map(ot=>tt[ot])}}),At.App=Gt,yt}(Se);return Gt.INTERNAL=Object.assign(Object.assign({},Gt.INTERNAL),{createFirebaseNamespace:Ze,extendNamespace:function tt(yt){(0,p.ZB)(Gt,yt)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Gt}(),he=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){he.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Gt=self.firebase.SDK_VERSION;Gt&&Gt.indexOf("LITE")>=0&&he.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ht=ce;!function dt(Gt){(0,q.registerVersion)("@firebase/app-compat","0.2.9",Gt)}()},6881:(un,at,W)=>{W.r(at),W.d(at,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>Xi,_DEFAULT_ENTRY_NAME:()=>Jr,_addComponent:()=>Lt,_addOrOverwriteComponent:()=>Vt,_apps:()=>Mn,_clearComponents:()=>li,_components:()=>Sn,_getProvider:()=>$r,_registerComponent:()=>Rr,_removeServiceInstance:()=>Pr,deleteApp:()=>Dt,getApp:()=>yi,getApps:()=>On,initializeApp:()=>qn,onLog:()=>ie,registerVersion:()=>st,setLogLevel:()=>be});var p=W(5861),G=W(4859),q=W(1877),De=W(2090);const Se=(Je,Ue)=>Ue.some(Mt=>Je instanceof Mt);let we,je;const ce=new WeakMap,he=new WeakMap,Ce=new WeakMap,gt=new WeakMap,dt=new WeakMap;let tt={get(Je,Ue,Mt){if(Je instanceof IDBTransaction){if("done"===Ue)return he.get(Je);if("objectStoreNames"===Ue)return Je.objectStoreNames||Ce.get(Je);if("store"===Ue)return Mt.objectStoreNames[1]?void 0:Mt.objectStore(Mt.objectStoreNames[0])}return Be(Je[Ue])},set:(Je,Ue,Mt)=>(Je[Ue]=Mt,!0),has:(Je,Ue)=>Je instanceof IDBTransaction&&("done"===Ue||"store"===Ue)||Ue in Je};function At(Je){return"function"==typeof Je?function St(Je){return Je!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ze(){return je||(je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Je)?function(...Ue){return Je.apply(_e(this),Ue),Be(ce.get(this))}:function(...Ue){return Be(Je.apply(_e(this),Ue))}:function(Ue,...Mt){const an=Je.call(_e(this),Ue,...Mt);return Ce.set(an,Ue.sort?Ue.sort():[Ue]),Be(an)}}(Je):(Je instanceof IDBTransaction&&function Gt(Je){if(he.has(Je))return;const Ue=new Promise((Mt,an)=>{const hn=()=>{Je.removeEventListener("complete",wn),Je.removeEventListener("error",Kt),Je.removeEventListener("abort",Kt)},wn=()=>{Mt(),hn()},Kt=()=>{an(Je.error||new DOMException("AbortError","AbortError")),hn()};Je.addEventListener("complete",wn),Je.addEventListener("error",Kt),Je.addEventListener("abort",Kt)});he.set(Je,Ue)}(Je),Se(Je,function Ne(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Je,tt):Je)}function Be(Je){if(Je instanceof IDBRequest)return function ht(Je){const Ue=new Promise((Mt,an)=>{const hn=()=>{Je.removeEventListener("success",wn),Je.removeEventListener("error",Kt)},wn=()=>{Mt(Be(Je.result)),hn()},Kt=()=>{an(Je.error),hn()};Je.addEventListener("success",wn),Je.addEventListener("error",Kt)});return Ue.then(Mt=>{Mt instanceof IDBCursor&&ce.set(Mt,Je)}).catch(()=>{}),dt.set(Ue,Je),Ue}(Je);if(gt.has(Je))return gt.get(Je);const Ue=At(Je);return Ue!==Je&&(gt.set(Je,Ue),dt.set(Ue,Je)),Ue}const _e=Je=>dt.get(Je),ot=["get","getKey","getAll","getAllKeys","count"],ke=["put","add","delete","clear"],Pt=new Map;function on(Je,Ue){if(!(Je instanceof IDBDatabase)||Ue in Je||"string"!=typeof Ue)return;if(Pt.get(Ue))return Pt.get(Ue);const Mt=Ue.replace(/FromIndex$/,""),an=Ue!==Mt,hn=ke.includes(Mt);if(!(Mt in(an?IDBIndex:IDBObjectStore).prototype)||!hn&&!ot.includes(Mt))return;const wn=function(){var Kt=(0,p.Z)(function*(Un,...rr){const Nr=this.transaction(Un,hn?"readwrite":"readonly");let Xr=Nr.store;return an&&(Xr=Xr.index(rr.shift())),(yield Promise.all([Xr[Mt](...rr),hn&&Nr.done]))[0]});return function(rr){return Kt.apply(this,arguments)}}();return Pt.set(Ue,wn),wn}!function yt(Je){tt=Je(tt)}(Je=>({...Je,get:(Ue,Mt,an)=>on(Ue,Mt)||Je.get(Ue,Mt,an),has:(Ue,Mt)=>!!on(Ue,Mt)||Je.has(Ue,Mt)}));class jt{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(Mt=>{if(function yn(Je){return"VERSION"===Je.getComponent()?.type}(Mt)){const an=Mt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Mt=>Mt).join(" ")}}const Ut="@firebase/app",it=new q.Yd("@firebase/app"),Jr="[DEFAULT]",mi={[Ut]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mn=new Map,Sn=new Map;function Lt(Je,Ue){try{Je.container.addComponent(Ue)}catch(Mt){it.debug(`Component ${Ue.name} failed to register with FirebaseApp ${Je.name}`,Mt)}}function Vt(Je,Ue){Je.container.addOrOverwriteComponent(Ue)}function Rr(Je){const Ue=Je.name;if(Sn.has(Ue))return it.debug(`There were multiple attempts to register component ${Ue}.`),!1;Sn.set(Ue,Je);for(const Mt of Mn.values())Lt(Mt,Je);return!0}function $r(Je,Ue){const Mt=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return Mt&&Mt.triggerHeartbeat(),Je.container.getProvider(Ue)}function Pr(Je,Ue,Mt=Jr){$r(Je,Ue).clearInstance(Mt)}function li(){Sn.clear()}const ci=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ur{constructor(Ue,Mt,an){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},Mt),this._name=Mt.name,this._automaticDataCollectionEnabled=Mt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}const Xi="9.21.0";function qn(Je,Ue={}){let Mt=Je;"object"!=typeof Ue&&(Ue={name:Ue});const an=Object.assign({name:Jr,automaticDataCollectionEnabled:!1},Ue),hn=an.name;if("string"!=typeof hn||!hn)throw ci.create("bad-app-name",{appName:String(hn)});if(Mt||(Mt=(0,De.aH)()),!Mt)throw ci.create("no-options");const wn=Mn.get(hn);if(wn){if((0,De.vZ)(Mt,wn.options)&&(0,De.vZ)(an,wn.config))return wn;throw ci.create("duplicate-app",{appName:hn})}const Kt=new G.H0(hn);for(const rr of Sn.values())Kt.addComponent(rr);const Un=new ur(Mt,an,Kt);return Mn.set(hn,Un),Un}function yi(Je=Jr){const Ue=Mn.get(Je);if(!Ue&&Je===Jr)return qn();if(!Ue)throw ci.create("no-app",{appName:Je});return Ue}function On(){return Array.from(Mn.values())}function Dt(Je){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,p.Z)(function*(Je){const Ue=Je.name;Mn.has(Ue)&&(Mn.delete(Ue),yield Promise.all(Je.container.getProviders().map(Mt=>Mt.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function st(Je,Ue,Mt){var an;let hn=null!==(an=mi[Je])&&void 0!==an?an:Je;Mt&&(hn+=`-${Mt}`);const wn=hn.match(/\s|\//),Kt=Ue.match(/\s|\//);if(wn||Kt){const Un=[`Unable to register library "${hn}" with version "${Ue}":`];return wn&&Un.push(`library name "${hn}" contains illegal characters (whitespace or "/")`),wn&&Kt&&Un.push("and"),Kt&&Un.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void it.warn(Un.join(" "))}Rr(new G.wA(`${hn}-version`,()=>({library:hn,version:Ue}),"VERSION"))}function ie(Je,Ue){if(null!==Je&&"function"!=typeof Je)throw ci.create("invalid-log-argument");(0,q.Am)(Je,Ue)}function be(Je){(0,q.Ub)(Je)}const qe="firebase-heartbeat-database",ft=1,oe="firebase-heartbeat-store";let se=null;function pe(){return se||(se=function nt(Je,Ue,{blocked:Mt,upgrade:an,blocking:hn,terminated:wn}={}){const Kt=indexedDB.open(Je,Ue),Un=Be(Kt);return an&&Kt.addEventListener("upgradeneeded",rr=>{an(Be(Kt.result),rr.oldVersion,rr.newVersion,Be(Kt.transaction),rr)}),Mt&&Kt.addEventListener("blocked",rr=>Mt(rr.oldVersion,rr.newVersion,rr)),Un.then(rr=>{wn&&rr.addEventListener("close",()=>wn()),hn&&rr.addEventListener("versionchange",Nr=>hn(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),Un}(qe,ft,{upgrade:(Je,Ue)=>{0===Ue&&Je.createObjectStore(oe)}}).catch(Je=>{throw ci.create("idb-open",{originalErrorMessage:Je.message})})),se}function xe(){return(xe=(0,p.Z)(function*(Je){try{return(yield pe()).transaction(oe).objectStore(oe).get(le(Je))}catch(Ue){if(Ue instanceof De.ZR)it.warn(Ue.message);else{const Mt=ci.create("idb-get",{originalErrorMessage:Ue?.message});it.warn(Mt.message)}}})).apply(this,arguments)}function Ct(Je,Ue){return ve.apply(this,arguments)}function ve(){return(ve=(0,p.Z)(function*(Je,Ue){try{const an=(yield pe()).transaction(oe,"readwrite");return yield an.objectStore(oe).put(Ue,le(Je)),an.done}catch(Mt){if(Mt instanceof De.ZR)it.warn(Mt.message);else{const an=ci.create("idb-set",{originalErrorMessage:Mt?.message});it.warn(an.message)}}})).apply(this,arguments)}function le(Je){return`${Je.name}!${Je.options.appId}`}class rt{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const Mt=this.container.getProvider("app").getImmediate();this._storage=new xn(Mt),this._heartbeatsCachePromise=this._storage.read().then(an=>(this._heartbeatsCache=an,an))}triggerHeartbeat(){var Ue=this;return(0,p.Z)(function*(){const an=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),hn=Nt();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==hn&&!Ue._heartbeatsCache.heartbeats.some(wn=>wn.date===hn))return Ue._heartbeatsCache.heartbeats.push({date:hn,agent:an}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(wn=>{const Kt=new Date(wn.date).valueOf();return Date.now()-Kt<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,p.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const Mt=Nt(),{heartbeatsToSend:an,unsentEntries:hn}=function tn(Je,Ue=1024){const Mt=[];let an=Je.slice();for(const hn of Je){const wn=Mt.find(Kt=>Kt.agent===hn.agent);if(wn){if(wn.dates.push(hn.date),br(Mt)>Ue){wn.dates.pop();break}}else if(Mt.push({agent:hn.agent,dates:[hn.date]}),br(Mt)>Ue){Mt.pop();break}an=an.slice(1)}return{heartbeatsToSend:Mt,unsentEntries:an}}(Ue._heartbeatsCache.heartbeats),wn=(0,De.L)(JSON.stringify({version:2,heartbeats:an}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Mt,hn.length>0?(Ue._heartbeatsCache.heartbeats=hn,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),wn})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class xn{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,p.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function $e(Je){return xe.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var Mt=this;return(0,p.Z)(function*(){var an;if(yield Mt._canUseIndexedDBPromise){const wn=yield Mt.read();return Ct(Mt.app,{lastSentHeartbeatDate:null!==(an=Ue.lastSentHeartbeatDate)&&void 0!==an?an:wn.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var Mt=this;return(0,p.Z)(function*(){var an;if(yield Mt._canUseIndexedDBPromise){const wn=yield Mt.read();return Ct(Mt.app,{lastSentHeartbeatDate:null!==(an=Ue.lastSentHeartbeatDate)&&void 0!==an?an:wn.lastSentHeartbeatDate,heartbeats:[...wn.heartbeats,...Ue.heartbeats]})}})()}}function br(Je){return(0,De.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Jn(Je){Rr(new G.wA("platform-logger",Ue=>new jt(Ue),"PRIVATE")),Rr(new G.wA("heartbeat",Ue=>new rt(Ue),"PRIVATE")),st(Ut,"0.9.9",Je),st(Ut,"0.9.9","esm2017"),st("fire-js","")}("")},4859:(un,at,W)=>{W.d(at,{H0:()=>Ne,wA:()=>q});var p=W(5861),G=W(2090);class q{constructor(ce,he,Ce){this.name=ce,this.instanceFactory=he,this.type=Ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ce){return this.instantiationMode=ce,this}setMultipleInstances(ce){return this.multipleInstances=ce,this}setServiceProps(ce){return this.serviceProps=ce,this}setInstanceCreatedCallback(ce){return this.onInstanceCreated=ce,this}}const De="[DEFAULT]";class Se{constructor(ce,he){this.name=ce,this.container=he,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ce){const he=this.normalizeInstanceIdentifier(ce);if(!this.instancesDeferred.has(he)){const Ce=new G.BH;if(this.instancesDeferred.set(he,Ce),this.isInitialized(he)||this.shouldAutoInitialize())try{const gt=this.getOrInitializeService({instanceIdentifier:he});gt&&Ce.resolve(gt)}catch{}}return this.instancesDeferred.get(he).promise}getImmediate(ce){var he;const Ce=this.normalizeInstanceIdentifier(ce?.identifier),gt=null!==(he=ce?.optional)&&void 0!==he&&he;if(!this.isInitialized(Ce)&&!this.shouldAutoInitialize()){if(gt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ce})}catch(dt){if(gt)return null;throw dt}}getComponent(){return this.component}setComponent(ce){if(ce.name!==this.name)throw Error(`Mismatching Component ${ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ce,this.shouldAutoInitialize()){if(function je(Ze){return"EAGER"===Ze.instantiationMode}(ce))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[he,Ce]of this.instancesDeferred.entries()){const gt=this.normalizeInstanceIdentifier(he);try{const dt=this.getOrInitializeService({instanceIdentifier:gt});Ce.resolve(dt)}catch{}}}}clearInstance(ce=De){this.instancesDeferred.delete(ce),this.instancesOptions.delete(ce),this.instances.delete(ce)}delete(){var ce=this;return(0,p.Z)(function*(){const he=Array.from(ce.instances.values());yield Promise.all([...he.filter(Ce=>"INTERNAL"in Ce).map(Ce=>Ce.INTERNAL.delete()),...he.filter(Ce=>"_delete"in Ce).map(Ce=>Ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ce=De){return this.instances.has(ce)}getOptions(ce=De){return this.instancesOptions.get(ce)||{}}initialize(ce={}){const{options:he={}}=ce,Ce=this.normalizeInstanceIdentifier(ce.instanceIdentifier);if(this.isInitialized(Ce))throw Error(`${this.name}(${Ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const gt=this.getOrInitializeService({instanceIdentifier:Ce,options:he});for(const[dt,ht]of this.instancesDeferred.entries())Ce===this.normalizeInstanceIdentifier(dt)&&ht.resolve(gt);return gt}onInit(ce,he){var Ce;const gt=this.normalizeInstanceIdentifier(he),dt=null!==(Ce=this.onInitCallbacks.get(gt))&&void 0!==Ce?Ce:new Set;dt.add(ce),this.onInitCallbacks.set(gt,dt);const ht=this.instances.get(gt);return ht&&ce(ht,gt),()=>{dt.delete(ce)}}invokeOnInitCallbacks(ce,he){const Ce=this.onInitCallbacks.get(he);if(Ce)for(const gt of Ce)try{gt(ce,he)}catch{}}getOrInitializeService({instanceIdentifier:ce,options:he={}}){let Ce=this.instances.get(ce);if(!Ce&&this.component&&(Ce=this.component.instanceFactory(this.container,{instanceIdentifier:(Ze=ce,Ze===De?void 0:Ze),options:he}),this.instances.set(ce,Ce),this.instancesOptions.set(ce,he),this.invokeOnInitCallbacks(Ce,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Ce)}catch{}var Ze;return Ce||null}normalizeInstanceIdentifier(ce=De){return this.component?this.component.multipleInstances?ce:De:ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(ce){this.name=ce,this.providers=new Map}addComponent(ce){const he=this.getProvider(ce.name);if(he.isComponentSet())throw new Error(`Component ${ce.name} has already been registered with ${this.name}`);he.setComponent(ce)}addOrOverwriteComponent(ce){this.getProvider(ce.name).isComponentSet()&&this.providers.delete(ce.name),this.addComponent(ce)}getProvider(ce){if(this.providers.has(ce))return this.providers.get(ce);const he=new Se(ce,this);return this.providers.set(ce,he),he}getProviders(){return Array.from(this.providers.values())}}},1877:(un,at,W)=>{W.d(at,{Am:()=>Ze,Ub:()=>Ne,Yd:()=>je,in:()=>G});const p=[];var G=(()=>{return(ce=G||(G={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",G;var ce})();const q={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},De=G.INFO,Se={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},we=(ce,he,...Ce)=>{if(he<ce.logLevel)return;const gt=(new Date).toISOString(),dt=Se[he];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${he})`);console[dt](`[${gt}]  ${ce.name}:`,...Ce)};class je{constructor(he){this.name=he,this._logLevel=De,this._logHandler=we,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(he){if(!(he in G))throw new TypeError(`Invalid value "${he}" assigned to \`logLevel\``);this._logLevel=he}setLogLevel(he){this._logLevel="string"==typeof he?q[he]:he}get logHandler(){return this._logHandler}set logHandler(he){if("function"!=typeof he)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=he}get userLogHandler(){return this._userLogHandler}set userLogHandler(he){this._userLogHandler=he}debug(...he){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...he),this._logHandler(this,G.DEBUG,...he)}log(...he){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...he),this._logHandler(this,G.VERBOSE,...he)}info(...he){this._userLogHandler&&this._userLogHandler(this,G.INFO,...he),this._logHandler(this,G.INFO,...he)}warn(...he){this._userLogHandler&&this._userLogHandler(this,G.WARN,...he),this._logHandler(this,G.WARN,...he)}error(...he){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...he),this._logHandler(this,G.ERROR,...he)}}function Ne(ce){p.forEach(he=>{he.setLogLevel(ce)})}function Ze(ce,he){for(const Ce of p){let gt=null;he&&he.level&&(gt=q[he.level]),Ce.userLogHandler=null===ce?null:(dt,ht,...Gt)=>{const tt=Gt.map(yt=>{if(null==yt)return null;if("string"==typeof yt)return yt;if("number"==typeof yt||"boolean"==typeof yt)return yt.toString();if(yt instanceof Error)return yt.message;try{return JSON.stringify(yt)}catch{return null}}).filter(yt=>yt).join(" ");ht>=(gt??dt.logLevel)&&ce({level:G[ht].toLowerCase(),message:tt,args:Gt,type:dt.name})}}}},259:(un,at,W)=>{W.d(at,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=W(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(un,at,W)=>{W.d(at,{Z:()=>p.Z});var p=W(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},7185:(un,at,W)=>{W.d(at,{Rh:()=>We,_W:()=>yn});var p=W(4650),G=W(7340),q=W(6895),De=W(7579),Se=W(1481);const we=["toast-component",""];function je(Te,Ke){if(1&Te){const ye=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(ye);const It=p.oxw();return p.KtG(It.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Ne(Te,Ke){if(1&Te&&(p.ynx(0),p._uU(1),p.BQk()),2&Te){const ye=p.oxw(2);p.xp6(1),p.hij("[",ye.duplicatesCount+1,"]")}}function Ze(Te,Ke){if(1&Te&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Ne,2,1,"ng-container",4),p.qZA()),2&Te){const ye=p.oxw();p.Tol(ye.options.titleClass),p.uIk("aria-label",ye.title),p.xp6(1),p.hij(" ",ye.title," "),p.xp6(1),p.Q6J("ngIf",ye.duplicatesCount)}}function ce(Te,Ke){if(1&Te&&p._UZ(0,"div",7),2&Te){const ye=p.oxw();p.Tol(ye.options.messageClass),p.Q6J("innerHTML",ye.message,p.oJD)}}function he(Te,Ke){if(1&Te&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Te){const ye=p.oxw();p.Tol(ye.options.messageClass),p.uIk("aria-label",ye.message),p.xp6(1),p.hij(" ",ye.message," ")}}function Ce(Te,Ke){if(1&Te&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Te){const ye=p.oxw();p.xp6(1),p.Udp("width",ye.width+"%")}}class At{constructor(Ke,ye){this.component=Ke,this.injector=ye}attach(Ke,ye){return this._attachedHost=Ke,Ke.attach(this,ye)}detach(){const Ke=this._attachedHost;if(Ke)return this._attachedHost=void 0,Ke.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ke){this._attachedHost=Ke}}class Be{attach(Ke,ye){return this._attachedPortal=Ke,this.attachComponentPortal(Ke,ye)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(Ke){this._disposeFn=Ke}}class _e{constructor(Ke){this._overlayRef=Ke,this.duplicatesCount=0,this._afterClosed=new De.x,this._activate=new De.x,this._manualClose=new De.x,this._resetTimeout=new De.x,this._countDuplicate=new De.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(Ke,ye){Ke&&this._resetTimeout.next(),ye&&this._countDuplicate.next(++this.duplicatesCount)}}class nt{constructor(Ke,ye,Le,It,$t,Kn){this.toastId=Ke,this.config=ye,this.message=Le,this.title=It,this.toastType=$t,this.toastRef=Kn,this._onTap=new De.x,this._onAction=new De.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(Ke){this._onAction.next(Ke)}onAction(){return this._onAction.asObservable()}}const ot=new p.OlP("ToastConfig");class ke extends Be{constructor(Ke,ye,Le){super(),this._hostDomElement=Ke,this._componentFactoryResolver=ye,this._appRef=Le}attachComponentPortal(Ke,ye){const Le=this._componentFactoryResolver.resolveComponentFactory(Ke.component);let It;return It=Le.create(Ke.injector),this._appRef.attachView(It.hostView),this.setDisposeFn(()=>{this._appRef.detachView(It.hostView),It.destroy()}),ye?this._hostDomElement.insertBefore(this._getComponentRootNode(It),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(It)),It}_getComponentRootNode(Ke){return Ke.hostView.rootNodes[0]}}let Pt=(()=>{class Te{constructor(){this._document=(0,p.f3M)(q.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ye=this._document.createElement("div");ye.classList.add("overlay-container"),ye.setAttribute("aria-live","polite"),this._document.body.appendChild(ye),this._containerElement=ye}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})();class on{constructor(Ke){this._portalHost=Ke}attach(Ke,ye=!0){return this._portalHost.attach(Ke,ye)}detach(){return this._portalHost.detach()}}let jt=(()=>{class Te{constructor(){this._overlayContainer=(0,p.f3M)(Pt),this._componentFactoryResolver=(0,p.f3M)(p._Vd),this._appRef=(0,p.f3M)(p.z2F),this._document=(0,p.f3M)(q.K0),this._paneElements=new Map}create(ye,Le){return this._createOverlayRef(this.getPaneElement(ye,Le))}getPaneElement(ye="",Le){return this._paneElements.get(Le)||this._paneElements.set(Le,{}),this._paneElements.get(Le)[ye]||(this._paneElements.get(Le)[ye]=this._createPaneElement(ye,Le)),this._paneElements.get(Le)[ye]}_createPaneElement(ye,Le){const It=this._document.createElement("div");return It.id="toast-container",It.classList.add(ye),It.classList.add("toast-container"),Le?Le.getContainerElement().appendChild(It):this._overlayContainer.getContainerElement().appendChild(It),It}_createPortalHost(ye){return new ke(ye,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ye){return new on(this._createPortalHost(ye))}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),yn=(()=>{class Te{constructor(ye,Le,It,$t,Kn){this.overlay=Le,this._injector=It,this.sanitizer=$t,this.ngZone=Kn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...ye.default,...ye.config},ye.config.iconClasses&&(this.toastrConfig.iconClasses={...ye.default.iconClasses,...ye.config.iconClasses})}show(ye,Le,It={},$t=""){return this._preBuildNotification($t,ye,Le,this.applyConfig(It))}success(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ye,Le,this.applyConfig(It))}error(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ye,Le,this.applyConfig(It))}info(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ye,Le,this.applyConfig(It))}warning(ye,Le,It={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ye,Le,this.applyConfig(It))}clear(ye){for(const Le of this.toasts)if(void 0!==ye){if(Le.toastId===ye)return void Le.toastRef.manualClose()}else Le.toastRef.manualClose()}remove(ye){const Le=this._findToast(ye);if(!Le||(Le.activeToast.toastRef.close(),this.toasts.splice(Le.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const It=this.toasts[this.currentlyActive].toastRef;It.isInactive()||(this.currentlyActive=this.currentlyActive+1,It.activate())}return!0}findDuplicate(ye="",Le="",It,$t){const{includeTitleDuplicates:Kn}=this.toastrConfig;for(const zn of this.toasts)if((!Kn||Kn&&zn.title===ye)&&zn.message===Le)return zn.toastRef.onDuplicate(It,$t),zn;return null}applyConfig(ye={}){return{...this.toastrConfig,...ye}}_findToast(ye){for(let Le=0;Le<this.toasts.length;Le++)if(this.toasts[Le].toastId===ye)return{index:Le,activeToast:this.toasts[Le]};return null}_preBuildNotification(ye,Le,It,$t){return $t.onActivateTick?this.ngZone.run(()=>this._buildNotification(ye,Le,It,$t)):this._buildNotification(ye,Le,It,$t)}_buildNotification(ye,Le,It,$t){if(!$t.toastComponent)throw new Error("toastComponent required");const Kn=this.findDuplicate(It,Le,this.toastrConfig.resetTimeoutOnDuplicate&&$t.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&It||Le)&&this.toastrConfig.preventDuplicates&&null!==Kn)return Kn;this.previousToastMessage=Le;let zn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(zn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const yr=this.overlay.create($t.positionClass,this.overlayContainer);this.index=this.index+1;let fr=Le;Le&&$t.enableHtml&&(fr=this.sanitizer.sanitize(p.q3G.HTML,Le));const pr=new _e(yr),ar=new nt(this.index,$t,fr,It,ye,pr),ln=p.zs3.create({providers:[{provide:nt,useValue:ar}],parent:this._injector}),Kr=new At($t.toastComponent,ln),Rn=yr.attach(Kr,$t.newestOnTop);pr.componentInstance=Rn.instance;const kt={toastId:this.index,title:It||"",message:Le||"",toastRef:pr,onShown:pr.afterActivate(),onHidden:pr.afterClosed(),onTap:ar.onTap(),onAction:ar.onAction(),portal:Rn};return zn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{kt.toastRef.activate()})),this.toasts.push(kt),kt}}return Te.\u0275fac=function(ye){return new(ye||Te)(p.LFG(ot),p.LFG(jt),p.LFG(p.zs3),p.LFG(Se.H7),p.LFG(p.R0b))},Te.\u0275prov=p.Yz7({token:Te,factory:Te.\u0275fac,providedIn:"root"}),Te})(),Ut=(()=>{class Te{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(ye,Le,It){this.toastrService=ye,this.toastPackage=Le,this.ngZone=It,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Le.message,this.title=Le.title,this.options=Le.config,this.originalTimeout=Le.config.timeOut,this.toastClasses=`${Le.toastType} ${Le.config.toastClass}`,this.sub=Le.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Le.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Le.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Le.toastRef.countDuplicate().subscribe($t=>{this.duplicatesCount=$t})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ye=(new Date).getTime();this.width=(this.hideTime-ye)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ye,Le){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ye),Le)):this.timeout=setTimeout(()=>ye(),Le)}outsideInterval(ye,Le){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ye),Le)):this.intervalId=setInterval(()=>ye(),Le)}runInsideAngular(ye){this.ngZone?this.ngZone.run(()=>ye()):ye()}}return Te.\u0275fac=function(ye){return new(ye||Te)(p.Y36(yn),p.Y36(nt),p.Y36(p.R0b))},Te.\u0275cmp=p.Xpm({type:Te,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ye,Le){1&ye&&p.NdJ("click",function(){return Le.tapToast()})("mouseenter",function(){return Le.stickAround()})("mouseleave",function(){return Le.delayedHideToast()}),2&ye&&(p.d8E("@flyInOut",Le.state),p.Tol(Le.toastClasses),p.Udp("display",Le.displayStyle))},standalone:!0,features:[p.jDz],attrs:we,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(ye,Le){1&ye&&(p.YNc(0,je,3,0,"button",0),p.YNc(1,Ze,3,5,"div",1),p.YNc(2,ce,1,3,"div",2),p.YNc(3,he,2,4,"div",3),p.YNc(4,Ce,2,2,"div",4)),2&ye&&(p.Q6J("ngIf",Le.options.closeButton),p.xp6(1),p.Q6J("ngIf",Le.title),p.xp6(1),p.Q6J("ngIf",Le.message&&Le.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Le.message&&!Le.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Le.options.progressBar))},dependencies:[q.O5],encapsulation:2,data:{animation:[(0,G.X$)("flyInOut",[(0,G.SB)("inactive",(0,G.oB)({opacity:0})),(0,G.SB)("active",(0,G.oB)({opacity:1})),(0,G.SB)("removed",(0,G.oB)({opacity:0})),(0,G.eR)("inactive => active",(0,G.jt)("{{ easeTime }}ms {{ easing }}")),(0,G.eR)("active => removed",(0,G.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Te})();const Ve={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Ut},it=(Te={})=>(0,p.MR2)([{provide:ot,useValue:{default:Ve,config:Te}}]);let We=(()=>{class Te{static forRoot(ye={}){return{ngModule:Te,providers:[it(ye)]}}}return Te.\u0275fac=function(ye){return new(ye||Te)},Te.\u0275mod=p.oAB({type:Te}),Te.\u0275inj=p.cJS({imports:[Ut]}),Te})()},5861:(un,at,W)=>{function p(q,De,Se,we,je,Ne,Ze){try{var ce=q[Ne](Ze),he=ce.value}catch(Ce){return void Se(Ce)}ce.done?De(he):Promise.resolve(he).then(we,je)}function G(q){return function(){var De=this,Se=arguments;return new Promise(function(we,je){var Ne=q.apply(De,Se);function Ze(he){p(Ne,we,je,Ze,ce,"next",he)}function ce(he){p(Ne,we,je,Ze,ce,"throw",he)}Ze(void 0)})}}W.d(at,{Z:()=>G})}},un=>{un(un.s=7941)}]);