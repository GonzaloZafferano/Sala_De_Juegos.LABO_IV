"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[592],{1117:(f,l,a)=>{a.d(l,{n:()=>n});var n=(()=>{return(e=n||(n={}))[e.igual=0]="igual",e[e.distinto=1]="distinto",e[e.mayor=2]="mayor",e[e.mayorOIgual=3]="mayorOIgual",e[e.menor=4]="menor",e[e.menorOIgual=5]="menorOIgual",n;var e})()},8335:(f,l,a)=>{a.d(l,{Z:()=>n});class n{constructor(h="",u=new Date){this.id=h,this.fecha=u}}},2531:(f,l,a)=>{a.d(l,{b:()=>n});class n{constructor(h="",u="",b="",c=new Date,s=""){this.usuario=h,this.correo=u,this.clave=b,this.id=s,this.fechaRegistro=c}}},9814:(f,l,a)=>{a.d(l,{V:()=>b});var n=a(5861),e=a(9313),h=a(1117),u=a(4650);let b=(()=>{class c{constructor(o){this.firestore=o}guardarObjetoSinIdAsignado(o,r){const t=(0,e.hJ)(this.firestore,o),i=(0,e.JU)(t);return r.id=i.id,(0,e.pl)(i,r)}guardarObjetoConIdAsignado(o,r){const t=(0,e.hJ)(this.firestore,o),i=(0,e.JU)(t);return(0,e.pl)(i,r)}traerListaDeObjetos(o){var r=this;return(0,n.Z)(function*(){const t=(0,e.hJ)(r.firestore,o),i=yield(0,e.PL)(t).then(v=>v),d=[];return i.forEach(v=>{d.push(v.data())}),d})()}traerListaDeObjetosConObservable(o){const r=(0,e.hJ)(this.firestore,o);return(0,e.BS)(r)}traerListaDeObjetosFiltrada(o,r,t,i){var d=this;return(0,n.Z)(function*(){const v=(0,e.hJ)(d.firestore,o);let _;_=(0,e.IO)(v,(0,e.ar)(r,i==h.n.igual?"==":"!=",t));const D=yield(0,e.PL)(_).then(m=>m),g=[];return D.forEach(m=>{g.push(m.data())}),g})()}traerListaDeObjetosFiltradaConObservable(o,r,t,i){const d=(0,e.hJ)(this.firestore,o);return(0,e.BS)((0,e.IO)(d,(0,e.ar)(r,i==h.n.igual?"==":"!=",t)))}modificarObjeto(o,r){(0,e.hJ)(this.firestore,o);const i=(0,e.JU)(r.id);return(0,e.r7)(i,{...r})}eliminarObjeto(o,r){const t=(0,e.hJ)(this.firestore,o),i=(0,e.JU)(t,r);return(0,e.oe)(i)}}return c.\u0275fac=function(o){return new(o||c)(u.LFG(e.gg))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},3701:(f,l,a)=>{a.d(l,{u:()=>c});var n=a(1117),e=a(4650),h=a(9814),u=a(6842);let b=(()=>{class s{constructor(){}guardarItem(r,t){localStorage.setItem(r,JSON.stringify(t))}obtenerItem(r){const t=localStorage.getItem(r);return null!=t?JSON.parse(t):t}eliminarItem(r){localStorage.removeItem(r)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),c=(()=>{class s{constructor(r,t,i){this.firestoreDB=r,this.loginService=t,this.localStorage=i,this.nombreColeccion="usuarios",this.suscripcion&&this.suscripcion.unsubscribe(),this.suscripcion=this.loginService.ObtenerCambiosDeEstado().subscribe(d=>{d?this.localStorage.guardarItem("usuario",d):this.localStorage.eliminarItem("usuario")})}get usuarioEstaLogueado(){return null!=this.localStorage.obtenerItem("usuario")}get usuarioActual(){return this.localStorage.obtenerItem("usuario")}cargarUsuarioConIdAsignado(r){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...r})}traerUsuarioPorId(r){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"id",r,n.n.igual)}obtenerListaDeUsuarios(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeUsuariosObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}modificarUsuario(r){return this.firestoreDB.modificarObjeto(this.nombreColeccion,r)}eliminarUsuario(r){return this.firestoreDB.eliminarObjeto(this.nombreColeccion,r)}cargarUsuarioSinIdAsignado(r){return this.firestoreDB.guardarObjetoSinIdAsignado(this.nombreColeccion,{...r})}traerListaDeUsuariosFiltradaConObservable(r){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"usuario",r,n.n.igual)}traerListaDeCorreosFiltrada(r){return this.firestoreDB.traerListaDeObjetosFiltrada(this.nombreColeccion,"correo",r,n.n.igual)}traerListaDeCorreosFiltradaConObservable(r){return this.firestoreDB.traerListaDeObjetosFiltradaConObservable(this.nombreColeccion,"correo",r,n.n.igual)}}return s.\u0275fac=function(r){return new(r||s)(e.LFG(h.V),e.LFG(u.I),e.LFG(b))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},6939:(f,l,a)=>{a.d(l,{n:()=>h});var n=a(4650),e=a(9814);let h=(()=>{class u{constructor(c){this.firestoreDB=c,this.nombreColeccion="logsDeUsuarios"}cargarUsuarioConIdAsignado(c){return this.firestoreDB.guardarObjetoConIdAsignado(this.nombreColeccion,{...c})}obtenerListaDeLogs(){return this.firestoreDB.traerListaDeObjetos(this.nombreColeccion)}obtenerListadoDeLogsObservable(){return this.firestoreDB.traerListaDeObjetosConObservable(this.nombreColeccion)}}return u.\u0275fac=function(c){return new(c||u)(n.LFG(e.V))},u.\u0275prov=n.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},904:(f,l,a)=>{a.d(l,{U5:()=>e,kK:()=>b,qc:()=>h,y$:()=>c});var n=a(4004);function e(s){return o=>{const r=o.get("clave"),t=o.get("confirmarClave"),i={};return r?.value!==t?.value&&(i.clavesDistintas={hayError:!0,mensajeError:"Las clave y confirmaci\xf3n NO conciden."}),(null==t||null==t.value||""!=t.value&&t.value.length<4)&&(i.longitudInvalida={hayError:!0,mensajeError:`La confirmaci\xf3n de clave debe contener por lo menos ${s} caracteres. \n`}),Object.keys(i).length?(o.get("confirmarClave")?.setErrors(i),i):(o.get("confirmarClave")?.setErrors(null),null)}}function h(){return s=>{let r="",t=!1;if(null!=s&&null!=s.value&&s.value.length>0&&!/^([a-zA-Z0-9\.]+@+[a-zA-Z]+(\.)+[a-zA-Z]{2,3})$/.test(s.value)&&(r+="El formato de correo electr\xf3nico es invalido. ",t=!0),t){const i={errorCorreo:r};return s?.setErrors(i),i}return s?.setErrors(null),null}}function b(s){return o=>s.traerListaDeUsuariosFiltradaConObservable(o.value).pipe((0,n.U)(t=>{if(t.length>0){const i={errorUsuario:"El nombre de usuario ya existe."};return o.setErrors(i),i}return null}))}function c(s){return o=>s.traerListaDeCorreosFiltradaConObservable(o.value).pipe((0,n.U)(t=>{if(t.length>0){const d={errorCorreo:"El correo electr\xf3nico ingresado ya existe."};return o.setErrors(d),d}return null}))}}}]);