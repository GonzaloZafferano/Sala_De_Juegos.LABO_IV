"use strict";(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{2313:(nn,it,G)=>{G.d(it,{nm:()=>Un});var p=G(1157),be=(G(4650),G(3692),G(259),G(5861)),Se=G(6881),ze=G(4859),Be=G(2090),rt=G(1877);const de=new Map,le={activated:!1,tokenObservers:[]},pe={initialized:!1,enabled:!1};function dt(xe){return de.get(xe)||Object.assign({},le)}function It(){return pe}const $t="https://content-firebaseappcheck.googleapis.com/v1",Et="exchangeDebugToken",wt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class we{constructor(Ee,Te,lt,Ct,hn){if(this.operation=Ee,this.retryPolicy=Te,this.getWaitDuration=lt,this.lowerBound=Ct,this.upperBound=hn,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>hn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ee){var Te=this;return(0,be.Z)(function*(){Te.stop();try{Te.pending=new Be.BH,yield function Ze(xe){return new Promise(Ee=>{setTimeout(Ee,xe)})}(Te.getNextRun(Ee)),Te.pending.resolve(),yield Te.pending.promise,Te.pending=new Be.BH,yield Te.operation(),Te.pending.resolve(),yield Te.pending.promise,Te.process(!0).catch(()=>{})}catch(lt){Te.retryPolicy(lt)?Te.process(!1).catch(()=>{}):Te.stop()}})()}getNextRun(Ee){if(Ee)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Te=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Te}}}const et=new Be.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _n(xe,Ee){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,be.Z)(function*({url:xe,body:Ee},Te){const lt={"Content-Type":"application/json"},Ct=Te.getImmediate({optional:!0});if(Ct){const Gr=yield Ct.getHeartbeatsHeader();Gr&&(lt["X-Firebase-Client"]=Gr)}const hn={method:"POST",body:JSON.stringify(Ee),headers:lt};let An,fn;try{An=yield fetch(xe,hn)}catch(Gr){throw et.create("fetch-network-error",{originalErrorMessage:Gr?.message})}if(200!==An.status)throw et.create("fetch-status-error",{httpStatus:An.status});try{fn=yield An.json()}catch(Gr){throw et.create("fetch-parse-error",{originalErrorMessage:Gr?.message})}const On=fn.ttl.match(/^([\d.]+)(s)$/);if(!On||!On[2]||isNaN(Number(On[1])))throw et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${fn.ttl}`});const xi=1e3*Number(On[1]),Br=Date.now();return{token:fn.token,expireTimeMillis:Br+xi,issuedAtTimeMillis:Br}})).apply(this,arguments)}const ot="firebase-app-check-database",mt=1,st="firebase-app-check-store";let Ie=null;function Kn(xe,Ee){return jn.apply(this,arguments)}function jn(){return(jn=(0,be.Z)(function*(xe,Ee){const lt=(yield function He(){return Ie||(Ie=new Promise((xe,Ee)=>{try{const Te=indexedDB.open(ot,mt);Te.onsuccess=lt=>{xe(lt.target.result)},Te.onerror=lt=>{var Ct;Ee(et.create("storage-open",{originalErrorMessage:null===(Ct=lt.target.error)||void 0===Ct?void 0:Ct.message}))},Te.onupgradeneeded=lt=>{0===lt.oldVersion&&lt.target.result.createObjectStore(st,{keyPath:"compositeKey"})}}catch(Te){Ee(et.create("storage-open",{originalErrorMessage:Te?.message}))}}),Ie)}()).transaction(st,"readwrite"),hn=lt.objectStore(st).put({compositeKey:xe,value:Ee});return new Promise((An,fn)=>{hn.onsuccess=On=>{An()},lt.onerror=On=>{var xi;fn(et.create("storage-set",{originalErrorMessage:null===(xi=On.target.error)||void 0===xi?void 0:xi.message}))}})})).apply(this,arguments)}const hr=new rt.Yd("@firebase/app-check");function Dr(xe,Ee){return(0,Be.hl)()?function Ne(xe,Ee){return Kn(function Ir(xe){return`${xe.options.appId}-${xe.name}`}(xe),Ee)}(xe,Ee).catch(Te=>{hr.warn(`Failed to write token to IndexedDB. Error: ${Te}`)}):Promise.resolve()}function yi(){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,be.Z)(function*(){const xe=It();if(xe.enabled&&xe.token)return xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ki={error:"UNKNOWN_ERROR"};function Xn(xe){return Be.US.encodeString(JSON.stringify(xe),!1)}function Cn(xe){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,be.Z)(function*(xe,Ee=!1){const Te=xe.app;!function Ft(xe){if(!dt(xe).activated)throw et.create("use-before-activation",{appName:xe.name})}(Te);const lt=dt(Te);let hn,Ct=lt.token;if(Ct&&!ir(Ct)&&(lt.token=void 0,Ct=void 0),!Ct){const On=yield lt.cachedTokenPromise;On&&(ir(On)?Ct=On:yield Dr(Te,void 0))}if(!Ee&&Ct&&ir(Ct))return{token:Ct.token};let fn,An=!1;if(function Hn(){return It().enabled}()){lt.exchangeTokenPromise||(lt.exchangeTokenPromise=_n(function je(xe,Ee){const{projectId:Te,appId:lt,apiKey:Ct}=xe.options;return{url:`${$t}/projects/${Te}/apps/${lt}:${Et}?key=${Ct}`,body:{debug_token:Ee}}}(Te,yield yi()),xe.heartbeatServiceProvider).finally(()=>{lt.exchangeTokenPromise=void 0}),An=!0);const On=yield lt.exchangeTokenPromise;return yield Dr(Te,On),lt.token=On,{token:On.token}}try{lt.exchangeTokenPromise||(lt.exchangeTokenPromise=lt.provider.getToken().finally(()=>{lt.exchangeTokenPromise=void 0}),An=!0),Ct=yield dt(Te).exchangeTokenPromise}catch(On){"appCheck/throttled"===On.code?hr.warn(On.message):hr.error(On),hn=On}return Ct?hn?fn=ir(Ct)?{token:Ct.token,internalError:hn}:Wi(hn):(fn={token:Ct.token},lt.token=Ct,yield Dr(Te,Ct)):fn=Wi(hn),An&&function _i(xe,Ee){const Te=dt(xe).tokenObservers;for(const lt of Te)try{"EXTERNAL"===lt.type&&null!=Ee.error?lt.error(Ee.error):lt.next(Ee)}catch{}}(Te,fn),fn})).apply(this,arguments)}function mr(xe,Ee){const Te=dt(xe),lt=Te.tokenObservers.filter(Ct=>Ct.next!==Ee);0===lt.length&&Te.tokenRefresher&&Te.tokenRefresher.isRunning()&&Te.tokenRefresher.stop(),Te.tokenObservers=lt}function Ti(xe){const{app:Ee}=xe,Te=dt(Ee);let lt=Te.tokenRefresher;lt||(lt=function ri(xe){const{app:Ee}=xe;return new we((0,be.Z)(function*(){let lt;if(lt=dt(Ee).token?yield Cn(xe,!0):yield Cn(xe),lt.error)throw lt.error;if(lt.internalError)throw lt.internalError}),()=>!0,()=>{const Te=dt(Ee);if(Te.token){let lt=Te.token.issuedAtTimeMillis+.5*(Te.token.expireTimeMillis-Te.token.issuedAtTimeMillis)+3e5;return lt=Math.min(lt,Te.token.expireTimeMillis-3e5),Math.max(0,lt-Date.now())}return 0},wt.RETRIAL_MIN_WAIT,wt.RETRIAL_MAX_WAIT)}(xe),Te.tokenRefresher=lt),!lt.isRunning()&&Te.isTokenAutoRefreshEnabled&&lt.start()}function ir(xe){return xe.expireTimeMillis-Date.now()>0}function Wi(xe){return{token:Xn(ki),error:xe}}class Yn{constructor(Ee,Te){this.app=Ee,this.heartbeatServiceProvider=Te}_delete(){const{tokenObservers:Ee}=dt(this.app);for(const Te of Ee)mr(this.app,Te.next);return Promise.resolve()}}const qt="app-check-internal";!function un(){(0,Se._registerComponent)(new ze.wA("app-check",xe=>function Ci(xe,Ee){return new Yn(xe,Ee)}(xe.getProvider("app").getImmediate(),xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((xe,Ee,Te)=>{xe.getProvider(qt).initialize()})),(0,Se._registerComponent)(new ze.wA(qt,xe=>function Rn(xe){return{getToken:Ee=>Cn(xe,Ee),addTokenListener:Ee=>function Mr(xe,Ee,Te,lt){const{app:Ct}=xe,hn=dt(Ct);if(hn.tokenObservers=[...hn.tokenObservers,{next:Te,error:lt,type:Ee}],hn.token&&ir(hn.token)){const fn=hn.token;Promise.resolve().then(()=>{Te({token:fn.token}),Ti(xe)}).catch(()=>{})}hn.cachedTokenPromise.then(()=>Ti(xe))}(xe,"INTERNAL",Ee),removeTokenListener:Ee=>mr(xe.app,Ee)}}(xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/app-check","0.7.0")}();class Un{constructor(){return(0,p.vb)("app-check")}}typeof window<"u"&&window},3692:(nn,it,G)=>{G.d(it,{Ot:()=>De,ZF:()=>Qe,hX:()=>dt,z6:()=>be});var p=G(259),W=G(4650),Z=G(1157);class De{constructor(we){return we}}class be{constructor(){return(0,p.C6)()}}const Be=new W.OlP("angularfire2._apps"),rt={provide:De,useFactory:function ze(Fe){return Fe&&1===Fe.length?Fe[0]:new De((0,p.Mq)())},deps:[[new W.FiY,Be]]},de={provide:be,deps:[[new W.FiY,Be]]};function le(Fe){return(we,Ze)=>{const vt=we.runOutsideAngular(()=>Fe(Ze));return new De(vt)}}let pe=(()=>{class Fe{constructor(Ze){(0,p.KN)("angularfire",Z.q4.full,"core"),(0,p.KN)("angularfire",Z.q4.full,"app"),(0,p.KN)("angular",W.q4F.full,Ze.toString())}}return Fe.\u0275fac=function(Ze){return new(Ze||Fe)(W.LFG(W.Lbi))},Fe.\u0275mod=W.oAB({type:Fe}),Fe.\u0275inj=W.cJS({providers:[rt,de]}),Fe})();function dt(Fe,...we){return{ngModule:pe,providers:[{provide:Be,useFactory:le(Fe),multi:!0,deps:[W.R0b,W.zs3,Z.HU,...we]}]}}const Qe=(0,Z.u3)(p.ZF,!0)},1205:(nn,it,G)=>{G.d(it,{zQ:()=>ke,ww:()=>Ye});var p=G(4650),W=G(7579),Z=G(9646),De=G(9751),be=G(8996),Se=G(6451),ze=G(5363),Be=G(3900),rt=G(4004),de=G(6063);class le extends W.x{constructor(ot=1/0,mt=1/0,st=de.l){super(),this._bufferSize=ot,this._windowTime=mt,this._timestampProvider=st,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=mt===1/0,this._bufferSize=Math.max(1,ot),this._windowTime=Math.max(1,mt)}next(ot){const{isStopped:mt,_buffer:st,_infiniteTimeWindow:Nt,_timestampProvider:Ie,_windowTime:He}=this;mt||(st.push(ot),!Nt&&st.push(Ie.now()+He)),this._trimBuffer(),super.next(ot)}_subscribe(ot){this._throwIfClosed(),this._trimBuffer();const mt=this._innerSubscribe(ot),{_infiniteTimeWindow:st,_buffer:Nt}=this,Ie=Nt.slice();for(let He=0;He<Ie.length&&!ot.closed;He+=st?1:2)ot.next(Ie[He]);return this._checkFinalizedStatuses(ot),mt}_trimBuffer(){const{_bufferSize:ot,_timestampProvider:mt,_buffer:st,_infiniteTimeWindow:Nt}=this,Ie=(Nt?1:2)*ot;if(ot<1/0&&Ie<st.length&&st.splice(0,st.length-Ie),!Nt){const He=mt.now();let he=0;for(let Ne=1;Ne<st.length&&st[Ne]<=He;Ne+=2)he=Ne;he&&st.splice(0,he+1)}}}var pe=G(3099);function dt(je,ot,mt){let st,Nt=!1;return je&&"object"==typeof je?({bufferSize:st=1/0,windowTime:ot=1/0,refCount:Nt=!1,scheduler:mt}=je):st=je??1/0,(0,pe.B)({connector:()=>new le(st,ot,mt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Nt})}var ut=G(590),It=G(576);function $t(je,ot){return(0,It.m)(ot)?(0,Be.w)(()=>je,ot):(0,Be.w)(()=>je)}var Qe=G(9468),ft=G(9300),Et=G(1157),wt=G(2011),Fe=G(6895),we=G(2313),Ze=G(9260);const et=new p.OlP("angularfire2.auth.use-emulator"),Pe=new p.OlP("angularfire2.auth.settings"),Ft=new p.OlP("angularfire2.auth.tenant-id"),rn=new p.OlP("angularfire2.auth.langugage-code"),zt=new p.OlP("angularfire2.auth.use-device-language"),_n=new p.OlP("angularfire.auth.persistence");let ke=(()=>{class je{constructor(mt,st,Nt,Ie,He,he,Ne,yt,Ut,Kn,jn,Er){const wr=new W.x,Ir=(0,Z.of)(void 0).pipe((0,ze.Q)(He.outsideAngular),(0,Be.w)(()=>Ie.runOutsideAngular(()=>G.e(568).then(G.bind(G,9568)))),(0,rt.U)(()=>(0,wt.on)(mt,Ie,st)),(0,rt.U)(hr=>((je,ot,mt,st,Nt,Ie,He,he)=>(0,wt.cc)(`${je.name}.auth`,"AngularFireAuth",je.name,()=>{const Ne=ot.runOutsideAngular(()=>je.auth());if(mt&&Ne.useEmulator(...mt),st&&(Ne.tenantId=st),Ne.languageCode=Nt,Ie&&Ne.useDeviceLanguage(),He)for(const[yt,Ut]of Object.entries(He))Ne.settings[yt]=Ut;return he&&Ne.setPersistence(he),Ne},[mt,st,Nt,Ie,He,he]))(hr,Ie,he,yt,Ut,Kn,Ne,jn)),dt({bufferSize:1,refCount:!1}));if((0,Fe.PM)(Nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Z.of)(null);else{Ir.pipe((0,ut.P)()).subscribe();const zr=Ir.pipe((0,Be.w)(xn=>xn.getRedirectResult().then(Pt=>Pt,()=>null)),Et.iC,dt({bufferSize:1,refCount:!1})),sn=Ir.pipe((0,Be.w)(xn=>new De.y(Pt=>({unsubscribe:Ie.runOutsideAngular(()=>xn.onAuthStateChanged(Hn=>Pt.next(Hn),Hn=>Pt.error(Hn),()=>Pt.complete()))})))),Dr=Ir.pipe((0,Be.w)(xn=>new De.y(Pt=>({unsubscribe:Ie.runOutsideAngular(()=>xn.onIdTokenChanged(Hn=>Pt.next(Hn),Hn=>Pt.error(Hn),()=>Pt.complete()))}))));this.authState=zr.pipe($t(sn),(0,Qe.R)(He.outsideAngular),(0,ze.Q)(He.insideAngular)),this.user=zr.pipe($t(Dr),(0,Qe.R)(He.outsideAngular),(0,ze.Q)(He.insideAngular)),this.idToken=this.user.pipe((0,Be.w)(xn=>xn?(0,be.D)(xn.getIdToken()):(0,Z.of)(null))),this.idTokenResult=this.user.pipe((0,Be.w)(xn=>xn?(0,be.D)(xn.getIdTokenResult()):(0,Z.of)(null))),this.credential=(0,Se.T)(zr,wr,this.authState.pipe((0,ft.h)(xn=>!xn))).pipe((0,rt.U)(xn=>xn?.user?xn:null),(0,Qe.R)(He.outsideAngular),(0,ze.Q)(He.insideAngular))}return(0,wt.pX)(this,Ir,Ie,{spy:{apply:(hr,zr,sn)=>{(hr.startsWith("signIn")||hr.startsWith("createUser"))&&sn.then(Dr=>wr.next(Dr))}}})}}return je.\u0275fac=function(mt){return new(mt||je)(p.LFG(wt.Dh),p.LFG(wt.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Et.HU),p.LFG(et,8),p.LFG(Pe,8),p.LFG(Ft,8),p.LFG(rn,8),p.LFG(zt,8),p.LFG(_n,8),p.LFG(we.nm,8))},je.\u0275prov=p.Yz7({token:je,factory:je.\u0275fac,providedIn:"any"}),je})(),Ye=(()=>{class je{constructor(){Ze.Z.registerVersion("angularfire",Et.q4.full,"auth-compat")}}return je.\u0275fac=function(mt){return new(mt||je)},je.\u0275mod=p.oAB({type:je}),je.\u0275inj=p.cJS({providers:[ke]}),je})()},2011:(nn,it,G)=>{G.d(it,{Dh:()=>Be,GT:()=>Se,cc:()=>ut,hO:()=>dt,on:()=>de,pX:()=>be,xv:()=>rt});var p=G(4650),W=G(9260),Z=G(1157);nn=G.hmd(nn);const De=["ngOnDestroy"],be=(ft,Et,wt,Fe={})=>new Proxy(ft,{get:(we,Ze)=>wt.runOutsideAngular(()=>{var vt;if(ft[Ze])return!(null===(vt=Fe?.spy)||void 0===vt)&&vt.get&&Fe.spy.get(Ze,ft[Ze]),ft[Ze];if(De.indexOf(Ze)>-1)return()=>{};const et=Et.toPromise().then(Pe=>{const Ft=Pe&&Pe[Ze];return"function"==typeof Ft?Ft.bind(Pe):Ft&&Ft.then?Ft.then(rn=>wt.run(()=>rn)):wt.run(()=>Ft)});return new Proxy(()=>{},{get:(Pe,Ft)=>et[Ft],apply:(Pe,Ft,rn)=>et.then(zt=>{var _n;const Lt=zt&&zt(...rn);return!(null===(_n=Fe?.spy)||void 0===_n)&&_n.apply&&Fe.spy.apply(Ze,rn,Lt),Lt})})})}),Se=(ft,Et)=>{Et.forEach(wt=>{Object.getOwnPropertyNames(wt.prototype||wt).forEach(Fe=>{Object.defineProperty(ft.prototype,Fe,Object.getOwnPropertyDescriptor(wt.prototype||wt,Fe))})})};class ze{constructor(Et){return Et}}const Be=new p.OlP("angularfire2.app.options"),rt=new p.OlP("angularfire2.app.name");function de(ft,Et,wt){const we="object"==typeof wt&&wt||{};we.name=we.name||"string"==typeof wt&&wt||"[DEFAULT]";const vt=W.Z.apps.filter(et=>et&&et.name===we.name)[0]||Et.runOutsideAngular(()=>W.Z.initializeApp(ft,we));try{JSON.stringify(ft)!==JSON.stringify(vt.options)&&le("error",`${vt.name} Firebase App already initialized with different options${nn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ze(vt)}const le=(ft,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ft](...Et)},pe={provide:ze,useFactory:de,deps:[Be,p.R0b,[new p.FiY,rt]]};let dt=(()=>{class ft{constructor(wt){W.Z.registerVersion("angularfire",Z.q4.full,"core"),W.Z.registerVersion("angularfire",Z.q4.full,"app-compat"),W.Z.registerVersion("angular",p.q4F.full,wt.toString())}static initializeApp(wt,Fe){return{ngModule:ft,providers:[{provide:Be,useValue:wt},{provide:rt,useValue:Fe}]}}}return ft.\u0275fac=function(wt){return new(wt||ft)(p.LFG(p.Lbi))},ft.\u0275mod=p.oAB({type:ft}),ft.\u0275inj=p.cJS({providers:[pe]}),ft})();function ut(ft,Et,wt,Fe,we){const[,Ze,vt]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===ft)||[];if(Ze)return function It(ft,Et){try{return ft.toString()===Et.toString()}catch{return ft===Et}}(we,vt)||(Qe("error",`${Et} was already initialized on the ${wt} Firebase App with different settings.${$t?" You may need to reload as Firebase is not HMR aware.":""}`),Qe("warn",{is:we,was:vt})),Ze;{const et=Fe();return globalThis.\u0275AngularfireInstanceCache.push([ft,et,we]),et}}const $t=!!nn.hot,Qe=(ft,...Et)=>{(0,p.X6Q)()&&typeof console<"u"&&console[ft](...Et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9313:(nn,it,G)=>{G.d(it,{gg:()=>zf,Um:()=>Gf,hJ:()=>Sv,BS:()=>um,oe:()=>Av,JU:()=>Mv,PL:()=>Sh,ad:()=>$0,Cm:()=>Iv,IO:()=>gw,pl:()=>K0,r7:()=>Z0,ar:()=>Y0});var p=G(1157),W=G(4650),Z=G(3692),De=G(259),Se=(G(8502),G(2090)),ze=G(6881),Be=G(1877),rt=G(4859);class pe{constructor(){return(0,p.vb)("auth")}}var St,Rn=G(2313),gt=G(5861),Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={},Yr=Yr||{},Jt=Tr||self;function fr(){}function ue(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function se(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var at="closure_uid_"+(1e9*Math.random()>>>0),Oe=0;function Mt(r,e,t){return r.call.apply(r.bind,arguments)}function me(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function ae(r,e,t){return(ae=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Mt:me).apply(null,arguments)}function re(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function ye(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[a].apply(s,f)}}function qe(){this.s=this.s,this.o=this.o}qe.prototype.s=!1,qe.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function ge(r){Object.prototype.hasOwnProperty.call(r,at)&&r[at]||(r[at]=++Oe)}(this)},qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pn=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Sn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function sr(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(ue(s)){const a=r.length||0,c=s.length||0;r.length=a+c;for(let f=0;f<c;f++)r[a+f]=s[f]}else r.push(s)}}function zn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!Jt.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Jt.addEventListener("test",fr,e),Jt.removeEventListener("test",fr,e)}catch{}return r}();function Le(r){return/^[\s\xa0]*$/.test(r)}var Tt=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function qt(r,e){return r<e?-1:r>e?1:0}function un(){var r=Jt.navigator;return r&&(r=r.userAgent)?r:""}function yn(r){return-1!=un().indexOf(r)}function Zt(r){return Zt[" "](r),r}function Un(r,e,t){return Object.prototype.hasOwnProperty.call(r,e)?r[e]:r[e]=t(e)}Zt[" "]=fr;var jt,r,Qn=yn("Opera"),Pr=yn("Trident")||yn("MSIE"),tr=yn("Edge"),xs=tr||Pr,os=yn("Gecko")&&!(-1!=un().toLowerCase().indexOf("webkit")&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),Mi=-1!=un().toLowerCase().indexOf("webkit")&&!yn("Edge");function kr(){var r=Jt.document;return r?r.documentMode:void 0}e:{var bn="",xr=(r=un(),os?/rv:([^\);]+)(\)|;)/.exec(r):tr?/Edge\/([\d\.]+)/.exec(r):Pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Mi?/WebKit\/(\S+)/.exec(r):Qn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(xr&&(bn=xr?xr[1]:""),Pr){var qn=kr();if(null!=qn&&qn>parseFloat(bn)){jt=String(qn);break e}}jt=bn}var Bi={},xe=Jt.document&&Pr&&(kr()||parseInt(jt,10))||void 0;function Ee(r,e){if(zn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(os){e:{try{Zt(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Te[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Ee.$.h.call(this)}}ye(Ee,zn);var Te={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function hn(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Ct,this.fa=this.ia=!1}function An(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function fn(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function On(r){const e={};for(const t in r)e[t]=r[t];return e}const xi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let c=0;c<xi.length;c++)t=xi[c],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function Gr(r){this.src=r,this.g={},this.h=0}function ii(r,e){var t=e.type;if(t in r.g){var c,s=r.g[t],a=pn(s,e);(c=0<=a)&&Array.prototype.splice.call(s,a,1),c&&(An(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Jn(r,e,t,s){for(var a=0;a<r.length;++a){var c=r[a];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==s)return a}return-1}Gr.prototype.add=function(r,e,t,s,a){var c=r.toString();(r=this.g[c])||(r=this.g[c]=[],this.h++);var f=Jn(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new hn(e,this.src,c,!!s,a)).ia=t,r.push(e)),e};var Fi="closure_lm_"+(1e6*Math.random()|0),to={};function _s(r,e,t,s,a){if(s&&s.once)return Ns(r,e,t,s,a);if(Array.isArray(e)){for(var c=0;c<e.length;c++)_s(r,e[c],t,s,a);return null}return t=ws(t),r&&r[lt]?r.O(e,t,se(s)?!!s.capture:!!s,a):no(r,e,t,!1,s,a)}function no(r,e,t,s,a,c){if(!e)throw Error("Invalid event type");var f=se(a)?!!a.capture:!!a,b=us(r);if(b||(r[Fi]=b=new Gr(r)),(t=b.add(e,t,s,f,c)).proxy)return t;if(s=function Rs(){const e=as;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Xe||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(di(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ns(r,e,t,s,a){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ns(r,e[c],t,s,a);return null}return t=ws(t),r&&r[lt]?r.P(e,t,se(s)?!!s.capture:!!s,a):no(r,e,t,!0,s,a)}function ci(r,e,t,s,a){if(Array.isArray(e))for(var c=0;c<e.length;c++)ci(r,e[c],t,s,a);else s=se(s)?!!s.capture:!!s,t=ws(t),r&&r[lt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Jn(c=r.g[e],t,s,a))&&(An(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete r.g[e],r.h--))):r&&(r=us(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Jn(e,t,s,a)),(t=-1<r?e[r]:null)&&$o(t))}function $o(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[lt])ii(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(di(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=us(e))?(ii(t,r),0==t.h&&(t.src=null,e[Fi]=null)):An(r)}}}function di(r){return r in to?to[r]:to[r]="on"+r}function as(r,e){if(r.fa)r=!0;else{e=new Ee(e,this);var t=r.listener,s=r.la||r.src;r.ia&&$o(r),r=t.call(s,e)}return r}function us(r){return(r=r[Fi])instanceof Gr?r:null}var Es="__closure_events_fn_"+(1e9*Math.random()>>>0);function ws(r){return"function"==typeof r?r:(r[Es]||(r[Es]=function(e){return r.handleEvent(e)}),r[Es])}function or(){qe.call(this),this.i=new Gr(this),this.S=this,this.J=null}function Fr(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new zn(e,r);else if(e instanceof zn)e.target=e.target||r;else{var a=e;Br(e=new zn(s,r),a)}if(a=!0,t)for(var c=t.length-1;0<=c;c--){var f=e.g=t[c];a=Ps(f,s,!0,e)&&a}if(a=Ps(f=e.g=r,s,!0,e)&&a,a=Ps(f,s,!1,e)&&a,t)for(c=0;c<t.length;c++)a=Ps(f=e.g=t[c],s,!1,e)&&a}function Ps(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.fa&&f.capture==t){var b=f.listener,L=f.la||f.src;f.ia&&ii(r.i,f),a=!1!==b.call(L,s)&&a}}return a&&!s.defaultPrevented}ye(or,qe),or.prototype[lt]=!0,or.prototype.removeEventListener=function(r,e,t,s){ci(this,r,e,t,s)},or.prototype.N=function(){if(or.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)An(t[s]);delete r.g[e],r.h--}}this.J=null},or.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},or.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var na=Jt.JSON.stringify;function Ki(){var r=ia;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var vo,So=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new ns,r=>r.reset());class ns{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zs(r){Jt.setTimeout(()=>{throw r},0)}function yo(r,e){vo||function ra(){var r=Jt.Promise.resolve(void 0);vo=function(){r.then(Ds)}}(),Is||(vo(),Is=!0),ia.add(r,e)}var Is=!1,ia=new class Ea{constructor(){this.h=this.g=null}add(e,t){const s=So.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ds(){for(var r;r=Ki();){try{r.h.call(r.g)}catch(t){zs(t)}var e=So;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Is=!1}function rs(r,e){or.call(this),this.h=r||1,this.g=e||Jt,this.j=ae(this.qb,this),this.l=Date.now()}function Ao(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ts(r,e,t){if("function"==typeof r)t&&(r=ae(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=ae(r.handleEvent,r)}return 2147483647<Number(e)?-1:Jt.setTimeout(r,e||0)}function _o(r){r.g=Ts(()=>{r.g=null,r.i&&(r.i=!1,_o(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ye(rs,or),(St=rs.prototype).ga=!1,St.T=null,St.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fr(this,"tick"),this.ga&&(Ao(this),this.start()))}},St.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},St.N=function(){rs.$.N.call(this),Ao(this),delete this.g};class jo extends qe{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_o(this)}N(){super.N(),this.g&&(Jt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(r){qe.call(this),this.h=r,this.g={}}ye(qi,qe);var Gs=[];function $i(r,e,t,s){Array.isArray(t)||(t&&(Gs[0]=t.toString()),t=Gs);for(var a=0;a<t.length;a++){var c=_s(e,t[a],s||r.handleEvent,!1,r.h||r);if(!c)break;r.g[c.key]=c}}function Ho(r){fn(r.g,function(e,t){this.g.hasOwnProperty(t)&&$o(e)},r),r.g={}}function ro(){this.g=!0}function Li(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Mo(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var c=a[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<a.length;f++)a[f]=""}}}return na(t)}catch{return e}}(r,t)+(s?" "+s:"")})}qi.prototype.N=function(){qi.$.N.call(this),Ho(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ro.prototype.Ea=function(){this.g=!1},ro.prototype.info=function(){};var hi={},Zi=null;function Ei(){return Zi=Zi||new or}function br(r){zn.call(this,hi.Ta,r)}function Os(r){const e=Ei();Fr(e,new br(e))}function io(r,e){zn.call(this,hi.STAT_EVENT,r),this.stat=e}function Gn(r){const e=Ei();Fr(e,new io(e,r))}function ks(r,e){zn.call(this,hi.Ua,r),this.size=e}function cs(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Jt.setTimeout(function(){r()},e)}hi.Ta="serverreachability",ye(br,zn),hi.STAT_EVENT="statevent",ye(io,zn),hi.Ua="timingevent",ye(ks,zn);var Wr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wa={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function wo(){}function oi(){}wo.prototype.h=null;var Jr,Qr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ji(){zn.call(this,"d")}function xo(){zn.call(this,"c")}function ds(){}function Hi(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new qi(this),this.P=Io,this.V=new rs(r=xs?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Tn}function Tn(){this.i=null,this.g="",this.h=!1}ye(ji,zn),ye(xo,zn),ye(ds,wo),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},Jr=new ds;var Io=45e3,oa={},Ws={};function Do(r,e,t){r.L=1,r.v=fs(bi(e)),r.s=t,r.S=!0,aa(r,null)}function aa(r,e){r.G=Date.now(),R(r),r.A=bi(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),F(t.i,"t",s),r.C=0,t=r.l.I,r.h=new Tn,r.g=zi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new jo(ae(r.Pa,r,r.g),r.O)),$i(r.U,r.g,"readystatechange",r.nb),e=r.I?On(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Os(),function Eo(r,e,t,s,a,c){r.info(function(){if(r.g)if(c)for(var f="",b=c.split("&"),L=0;L<b.length;L++){var H=b[L].split("=");if(1<H.length){var Q=H[0];H=H[1];var ce=Q.split("_");f=2<=ce.length&&"type"==ce[1]?f+(Q+"=")+H+"&":f+(Q+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function Ks(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function so(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Na(r,t),a==Ws){4==e&&(r.o=4,Gn(14),s=!1),Li(r.j,r.m,null,"[Incomplete Response]");break}if(a==oa){r.o=4,Gn(15),Li(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Li(r.j,r.m,a,null),dn(r,a)}Ks(r)&&a!=Ws&&a!=oa&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,Gn(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ca&&(r.ca=!0,(e=r.l).g==r&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Gu(e),e.L=!0,Gn(11))):(Li(r.j,r.m,t,"[Invalid Chunked Response]"),Ve(r),X(r))}function Na(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Ws:(t=Number(e.substring(t,s)),isNaN(t)?oa:(s+=1)+t>e.length?Ws:(e=e.substr(s,t),r.C=s+t,e))}function R(r){r.Y=Date.now()+r.P,O(r,r.P)}function O(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=cs(ae(r.lb,r),e)}function k(r){r.B&&(Jt.clearTimeout(r.B),r.B=null)}function X(r){0==r.l.H||r.J||Pa(r.l,r)}function Ve(r){k(r);var e=r.M;e&&"function"==typeof e.ra&&e.ra(),r.M=null,Ao(r.V),Ho(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.ra())}function dn(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||xt(t.h,r)))if(!r.K&&xt(t.h,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;da(t),ps(t)}Po(t),Gn(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.M&&0==t.A&&!t.v&&(t.v=cs(ae(t.ib,t),6e3));if(1>=kt(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Go(t,11)}else if((r.K||t.g==r)&&da(t),!Le(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let H=a[e];if(t.V=H[0],H=H[1],2==t.H)if("c"==H[0]){t.J=H[1],t.oa=H[2];const Q=H[3];null!=Q&&(t.qa=Q,t.j.info("VER="+t.qa));const ce=H[4];null!=ce&&(t.Ga=ce,t.j.info("SVER="+t.Ga));const Ue=H[5];null!=Ue&&"number"==typeof Ue&&0<Ue&&(t.K=s=1.5*Ue,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const pt=r.g;if(pt){const Bt=pt.g?pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bt){var c=s.h;c.g||-1==Bt.indexOf("spdy")&&-1==Bt.indexOf("quic")&&-1==Bt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Fn(c,c.h),c.h=null))}if(s.F){const tn=pt.g?pt.g.getResponseHeader("X-HTTP-Session-Id"):null;tn&&(s.Da=tn,ur(s.G,s.F,tn))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-r.G,t.j.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=uu(s,s.I?s.oa:null,s.Y),f.K){Nn(s.h,f);var b=f,L=s.K;L&&b.setTimeout(L),b.B&&(k(b),R(b)),s.g=f}else Cu(s);0<t.i.length&&To(t)}else"stop"!=H[0]&&"close"!=H[0]||Go(t,7);else 3==t.H&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Go(t,7):Xr(t):"noop"!=H[0]&&t.l&&t.l.Aa(H),t.A=0)}Os()}catch{}}function hs(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ue(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Lr(r){if(r.sa&&"function"==typeof r.sa)return r.sa();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(ue(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function yr(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(ue(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,c=0;c<a;c++)e.call(void 0,s[c],t&&t[c],r)}(St=Hi.prototype).setTimeout=function(r){this.P=r},St.nb=function(r){r=r.target;const e=this.M;e&&3==Ar(r)?e.l():this.Pa(r)},St.Pa=function(r){try{if(r==this.g)e:{const Q=Ar(this.g);var e=this.g.Ia();if(this.g.da(),!(3>Q)&&(3!=Q||xs||this.g&&(this.h.h||this.g.ja()||ui(this.g)))){this.J||4!=Q||7==e||Os(),k(this);var t=this.g.da();this.aa=t;t:if(Ks(this)){var s=ui(this.g);r="";var a=s.length,c=4==Ar(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ve(this),X(this);var f="";break t}this.h.i=new Jt.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:c&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function sa(r,e,t,s,a,c,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.W,Q,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Le(b)){var H=b;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Gn(12),Ve(this),X(this);break e}Li(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,t)}this.S?(so(this,Q,f),xs&&this.i&&3==Q&&($i(this.U,this.V,"tick",this.mb),this.V.start())):(Li(this.j,this.m,f,null),dn(this,f)),4==Q&&Ve(this),this.i&&!this.J&&(4==Q?Pa(this.l,this):(this.i=!1,R(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Gn(12)):(this.o=0,Gn(13)),Ve(this),X(this)}}}catch{}},St.mb=function(){if(this.g){var r=Ar(this.g),e=this.g.ja();this.C<e.length&&(k(this),so(this,r,e),this.i&&4!=r&&R(this))}},St.cancel=function(){this.J=!0,Ve(this)},St.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function ls(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Os(),Gn(17)),Ve(this),this.o=2,X(this)):O(this,this.Y-r)};var oo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wi(r,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof wi){this.h=void 0!==e?e:r.h,$r(this,r.j),this.s=r.s,this.g=r.g,Ri(this,r.m),this.l=r.l,e=r.i;var t=new ao;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Fs(this,t),this.o=r.o}else r&&(t=String(r).match(oo))?(this.h=!!e,$r(this,t[1]||"",!0),this.s=ua(t[2]||""),this.g=ua(t[3]||"",!0),Ri(this,t[4]),this.l=ua(t[5]||"",!0),Fs(this,t[6]||"",!0),this.o=ua(t[7]||"")):(this.h=!!e,this.i=new ao(null,this.h))}function bi(r){return new wi(r)}function $r(r,e,t){r.j=t?ua(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ri(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Fs(r,e,t){e instanceof ao?(r.i=e,function te(r,e){e&&!r.j&&(z(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(_(this,s),F(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=qs(e,No)),r.i=new ao(e,r.h))}function ur(r,e,t){r.i.set(e,t)}function fs(r){return ur(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ua(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function qs(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,su),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function su(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}wi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(qs(e,ou,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(qs(e,ou,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(qs(t,"/"==t.charAt(0)?la:fi,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",qs(t,ca)),r.join("")};var ou=/[#\/\?@]/g,fi=/[#\?:]/g,la=/[#\?]/g,No=/[#\?@]/g,ca=/#/g;function ao(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function z(r){r.g||(r.g=new Map,r.h=0,r.i&&function Ro(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var c=r[t].substring(0,s);a=r[t].substring(s+1)}else c=r[t];e(c,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _(r,e){z(r),e=K(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function w(r,e){return z(r),e=K(r,e),r.g.has(e)}function F(r,e,t){_(r,e),0<t.length&&(r.i=null,r.g.set(K(r,e),Sn(t)),r.h+=t.length)}function K(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ve(r){this.l=r||$e,r=Jt.PerformanceNavigationTiming?0<(r=Jt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Jt.g&&Jt.g.Ka&&Jt.g.Ka()&&Jt.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(St=ao.prototype).add=function(r,e){z(this),this.i=null,r=K(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},St.forEach=function(r,e){z(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},St.sa=function(){z(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let c=0;c<a.length;c++)t.push(e[s])}return t},St.Z=function(r){z(this);let e=[];if("string"==typeof r)w(this,r)&&(e=e.concat(this.g.get(K(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},St.set=function(r,e){return z(this),this.i=null,w(this,r=K(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},St.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},St.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const c=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=c;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var $e=10;function Je(r){return!!r.h||!!r.g&&r.g.size>=r.j}function kt(r){return r.h?1:r.g?r.g.size:0}function xt(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function Fn(r,e){r.g?r.g.add(e):r.h=e}function Nn(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function En(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Sn(r.i)}function kn(){}function Sr(){this.g=new kn}function jr(r,e,t){const s=t||"";try{hs(r,function(a,c){let f=a;se(a)&&(f=na(a)),e.push(s+c+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function gi(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function ai(r){this.l=r.fc||null,this.j=r.ob||!1}function M(r,e){or.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=B,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ve.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},kn.prototype.stringify=function(r){return Jt.JSON.stringify(r,void 0)},kn.prototype.parse=function(r){return Jt.JSON.parse(r,void 0)},ye(ai,wo),ai.prototype.g=function(){return new M(this.l,this.j)},ai.prototype.i=function(r){return function(){return r}}({}),ye(M,or);var B=0;function P(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function q(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ie(r)}function ie(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(St=M.prototype).open=function(r,e){if(this.readyState!=B)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ie(this)},St.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Jt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},St.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,q(this)),this.readyState=B},St.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ie(this)),this.g&&(this.readyState=3,ie(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Jt.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;P(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},St.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?q(this):ie(this),3==this.readyState&&P(this)}},St.Za=function(r){this.g&&(this.response=this.responseText=r,q(this))},St.Ya=function(r){this.g&&(this.response=r,q(this))},St.ka=function(){this.g&&q(this)},St.setRequestHeader=function(r,e){this.v.append(r,e)},St.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},St.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(M.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var Ke=Jt.JSON.parse;function tt(r){or.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=on,this.L=this.M=!1}ye(tt,or);var on="",rr=/^https?$/i,er=["POST","PUT"];function At(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,Yt(r),wn(r)}function Yt(r){r.F||(r.F=!0,Fr(r,"complete"),Fr(r,"error"))}function Gt(r){if(r.h&&typeof Yr<"u"&&(!r.C[1]||4!=Ar(r)||2!=r.da()))if(r.v&&4==Ar(r))Ts(r.La,0,r);else if(Fr(r,"readystatechange"),4==Ar(r)){r.h=!1;try{const b=r.da();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===b){var a=String(r.I).match(oo)[1]||null;if(!a&&Jt.self&&Jt.self.location){var c=Jt.self.location.protocol;a=c.substr(0,c.length-1)}s=!rr.test(a?a.toLowerCase():"")}t=s}if(t)Fr(r,"complete"),Fr(r,"success");else{r.m=6;try{var f=2<Ar(r)?r.g.statusText:""}catch{f=""}r.j=f+" ["+r.da()+"]",Yt(r)}}finally{wn(r)}}}function wn(r,e){if(r.g){Rr(r);const t=r.g,s=r.C[0]?fr:null;r.g=null,r.C=null,e||Fr(r,"ready");try{t.onreadystatechange=s}catch{}}}function Rr(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Jt.clearTimeout(r.A),r.A=null)}function Ar(r){return r.g?r.g.readyState:0}function ui(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case on:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Kr(r){let e="";return fn(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function nr(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Kr(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):ur(r,e,t))}function Ni(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function Cs(r){this.Ga=0,this.i=[],this.j=new ro,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ni("failFast",!1,r),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ni("baseRetryDelayMs",5e3,r),this.hb=Ni("retryDelaySeedMs",1e4,r),this.eb=Ni("forwardChannelMaxRetries",2,r),this.xa=Ni("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.K=void 0,this.I=r&&r.supportsCrossDomainXhr||!1,this.J="",this.h=new ve(r&&r.concurrentRequestLimit),this.Ja=new Sr,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.j.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Xr(r){if(Ls(r),3==r.H){var e=r.W++,t=bi(r.G);ur(t,"SID",r.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),gs(r,t),(e=new Hi(r,r.j,e,void 0)).L=2,e.v=fs(bi(t)),t=!1,Jt.navigator&&Jt.navigator.sendBeacon&&(t=Jt.navigator.sendBeacon(e.v.toString(),"")),!t&&Jt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),R(e)}au(r)}function ps(r){r.g&&(Gu(r),r.g.cancel(),r.g=null)}function Ls(r){ps(r),r.u&&(Jt.clearTimeout(r.u),r.u=null),da(r),r.h.cancel(),r.m&&("number"==typeof r.m&&Jt.clearTimeout(r.m),r.m=null)}function To(r){Je(r.h)||r.m||(r.m=!0,yo(r.Na,r),r.C=0)}function Ka(r,e){var t;t=e?e.m:r.W++;const s=bi(r.G);ur(s,"SID",r.J),ur(s,"RID",t),ur(s,"AID",r.V),gs(r,s),r.o&&r.s&&nr(s,r.o,r.s),t=new Hi(r,r.j,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.i=e.F.concat(r.i)),e=yl(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),Fn(r.h,t),Do(t,s,e)}function gs(r,e){r.ma&&fn(r.ma,function(t,s){ur(e,s,t)}),r.l&&hs({},function(t,s){ur(e,s,t)})}function yl(r,e,t){t=Math.min(r.i.length,t);var s=r.l?ae(r.l.Va,r.l,r):null;e:{var a=r.i;let c=-1;for(;;){const f=["count="+t];-1==c?0<t?(c=a[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let L=0;L<t;L++){let H=a[L].h;const Q=a[L].g;if(H-=c,0>H)c=Math.max(0,a[L].h-100),b=!1;else try{jr(Q,f,"req"+H+"_")}catch{s&&s(Q)}}if(b){s=f.join("&");break e}}}return r=r.i.splice(0,t),e.F=r,s}function Cu(r){r.g||r.u||(r.ba=1,yo(r.Ma,r),r.A=0)}function Po(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=cs(ae(r.Ma,r),Wu(r,r.A)),r.A++,0))}function Gu(r){null!=r.B&&(Jt.clearTimeout(r.B),r.B=null)}function Pi(r){r.g=new Hi(r,r.j,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=bi(r.wa);ur(e,"RID","rpc"),ur(e,"SID",r.J),ur(e,"CI",r.M?"0":"1"),ur(e,"AID",r.V),ur(e,"TYPE","xmlhttp"),gs(r,e),r.o&&r.s&&nr(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var t=r.g;r=r.oa,t.L=1,t.v=fs(bi(e)),t.s=null,t.S=!0,aa(t,r)}function da(r){null!=r.v&&(Jt.clearTimeout(r.v),r.v=null)}function Pa(r,e){var t=null;if(r.g==e){da(r),Gu(r),r.g=null;var s=2}else{if(!xt(r.h,e))return;t=e.F,Nn(r.h,e),s=1}if(0!=r.H)if(r.ta=e.aa,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;Fr(s=Ei(),new ks(s,t)),To(r)}else Cu(r);else if(3==(a=e.o)||0==a&&0<r.ta||!(1==s&&function zo(r,e){return!(kt(r.h)>=r.h.j-(r.m?1:0)||(r.m?(r.i=e.F.concat(r.i),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=cs(ae(r.Na,r,e),Wu(r,r.C)),r.C++,0)))}(r,e)||2==s&&Po(r)))switch(t&&0<t.length&&(e=r.h,e.i=e.i.concat(t)),a){case 1:Go(r,5);break;case 4:Go(r,10);break;case 3:Go(r,6);break;default:Go(r,2)}}function Wu(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.l||(t*=2),t*e}function Go(r,e){if(r.j.info("Error code "+e),2==e){var t=null;r.l&&(t=null);var s=ae(r.pb,r);t||(t=new wi("//www.google.com/images/cleardot.gif"),Jt.location&&"http"==Jt.location.protocol||$r(t,"https"),fs(t)),function pi(r,e){const t=new ro;if(Jt.Image){const s=new Image;s.onload=re(gi,t,s,"TestLoadImage: loaded",!0,e),s.onerror=re(gi,t,s,"TestLoadImage: error",!1,e),s.onabort=re(gi,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=re(gi,t,s,"TestLoadImage: timeout",!1,e),Jt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else Gn(2);r.H=0,r.l&&r.l.za(e),au(r),Ls(r)}function au(r){if(r.H=0,r.pa=[],r.l){const e=En(r.h);(0!=e.length||0!=r.i.length)&&(sr(r.pa,e),sr(r.pa,r.i),r.h.i.length=0,Sn(r.i),r.i.length=0),r.l.ya()}}function uu(r,e,t){var s=t instanceof wi?bi(t):new wi(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),Ri(s,s.m);else{var a=Jt.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var c=new wi(null,void 0);s&&$r(c,s),e&&(c.g=e),a&&Ri(c,a),t&&(c.l=t),s=c}return e=r.Da,(t=r.F)&&e&&ur(s,t,e),ur(s,"VER",r.qa),gs(r,s),s}function zi(r,e,t){if(e&&!r.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new tt(t&&r.Ha&&!r.va?new ai({ob:!0}):r.va)).Oa(r.I),e}function lu(){}function ei(){if(Pr&&!(10<=Number(xe)))throw Error("Environmental error: no available transport.")}function ti(r,e){or.call(this),this.g=new Cs(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!Le(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Le(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Oo(this)}function Ia(r){ji.call(this);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function ha(){xo.call(this),this.status=1}function Oo(r){this.g=r}function Zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Da(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=r.g[3],f=(e=r.g[0])+(c^(t=r.g[1])&((a=r.g[2])^c))+s[0]+3614090360&4294967295;f=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=(t=(a=(c=(e=t+(f<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(c^t&(a^c))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=c+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^c&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(c^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^c&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^c&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=c+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(c^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(c^e&(a^c))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^c)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^c)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=c+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(c^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^c^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~c))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~c))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(c|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(c^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((c=(e=t+((f=e+(a^(t|~c))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=c+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=c+((f=a+(e^(c|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+c&4294967295}function qr(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var c=0|r[a];s&&c==e||(t[a]=c,s=!1)}this.g=t}(St=tt.prototype).Oa=function(r){this.M=r},St.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jr.g(),this.C=function si(r){return r.h||(r.h=r.i())}(this.u?this.u:Jr),this.g.onreadystatechange=ae(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(c){return void At(this,c)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const c of s.keys())t.set(c,s.get(c))}s=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),a=Jt.FormData&&r instanceof Jt.FormData,!(0<=pn(er,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of t)this.g.setRequestHeader(c,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Rr(this),0<this.B&&((this.L=function pr(r){return Pr&&function li(){return Un(Bi,9,function(){let r=0;const e=Tt(String(jt)).split("."),t=Tt("9").split("."),s=Math.max(e.length,t.length);for(let f=0;0==r&&f<s;f++){var a=e[f]||"",c=t[f]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==a[0].length&&0==c[0].length)break;r=qt(0==a[1].length?0:parseInt(a[1],10),0==c[1].length?0:parseInt(c[1],10))||qt(0==a[2].length,0==c[2].length)||qt(a[2],c[2]),a=a[3],c=c[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ae(this.ua,this)):this.A=Ts(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(c){At(this,c)}},St.ua=function(){typeof Yr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fr(this,"timeout"),this.abort(8))},St.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Fr(this,"complete"),Fr(this,"abort"),wn(this))},St.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wn(this,!0)),tt.$.N.call(this)},St.La=function(){this.s||(this.G||this.v||this.l?Gt(this):this.kb())},St.kb=function(){Gt(this)},St.da=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},St.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},St.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),Ke(e)}},St.Ia=function(){return this.m},St.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(St=Cs.prototype).qa=8,St.H=1,St.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Hi(this,this.j,r,void 0);let c=this.s;if(this.U&&(c?(c=On(c),Br(c,this.U)):c=this.U),null!==this.o||this.O||(a.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yl(this,a,e),ur(t=bi(this.G),"RID",r),ur(t,"CVER",22),this.F&&ur(t,"X-HTTP-Session-Id",this.F),gs(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(Kr(c)))+"&"+e:this.o&&nr(t,this.o,c)),Fn(this.h,a),this.bb&&ur(t,"TYPE","init"),this.P?(ur(t,"$req",e),ur(t,"SID","null"),a.ba=!0,Do(a,t,null)):Do(a,t,e),this.H=2}}else 3==this.H&&(r?Ka(this,r):0==this.i.length||Je(this.h)||Ka(this))},St.Ma=function(){if(this.u=null,Pi(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var r=2*this.S;this.j.info("BP detection timer enabled: "+r),this.B=cs(ae(this.jb,this),r)}},St.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Gn(10),ps(this),Pi(this))},St.ib=function(){null!=this.v&&(this.v=null,ps(this),Po(this),Gn(19))},St.pb=function(r){r?(this.j.info("Successfully pinged google.com"),Gn(2)):(this.j.info("Failed to ping google.com"),Gn(1))},(St=lu.prototype).Ba=function(){},St.Aa=function(){},St.za=function(){},St.ya=function(){},St.Va=function(){},ei.prototype.g=function(r,e){return new ti(r,e)},ye(ti,or),ti.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var r=this.g,e=this.l,t=this.h||void 0;Gn(0),r.Y=e,r.ma=t||{},r.M=r.aa,r.G=uu(r,null,r.Y),To(r)},ti.prototype.close=function(){Xr(this.g)},ti.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=na(r),r=t);e.i.push(new class{constructor(r,e){this.h=r,this.g=e}}(e.fb++,r)),3==e.H&&To(e)},ti.prototype.N=function(){this.g.l=null,delete this.j,Xr(this.g),delete this.g,ti.$.N.call(this)},ye(Ia,ji),ye(ha,xo),ye(Oo,lu),Oo.prototype.Ba=function(){Fr(this.g,"a")},Oo.prototype.Aa=function(r){Fr(this.g,new Ia(r))},Oo.prototype.za=function(r){Fr(this.g,new ha)},Oo.prototype.ya=function(){Fr(this.g,"b")},ye(Zs,function Ku(){this.blockSize=-1}),Zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zs.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,c=0;c<e;){if(0==a)for(;c<=t;)Da(this,r,c),c+=this.blockSize;if("string"==typeof r){for(;c<e;)if(s[a++]=r.charCodeAt(c++),a==this.blockSize){Da(this,s),a=0;break}}else for(;c<e;)if(s[a++]=r[c++],a==this.blockSize){Da(this,s),a=0;break}}this.h=a,this.i+=e},Zs.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var qa={};function Ta(r){return-128<=r&&128>r?Un(qa,r,function(e){return new qr([0|e],0>e?-1:0)}):new qr([0|r],0>r?-1:0)}function bs(r){if(isNaN(r)||!isFinite(r))return uo;if(0>r)return Wn(bs(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=Oa;return new qr(e,0)}var Oa=4294967296,uo=Ta(0),bu=Ta(1),fa=Ta(16777216);function Vs(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function Ys(r){return-1==r.h}function Wn(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new qr(t,~r.h).add(bu)}function cu(r,e){return r.add(Wn(e))}function Su(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function Za(r,e){this.g=r,this.h=e}function Ya(r,e){if(Vs(e))throw Error("division by zero");if(Vs(r))return new Za(uo,uo);if(Ys(r))return e=Ya(Wn(r),e),new Za(Wn(e.g),Wn(e.h));if(Ys(e))return e=Ya(r,Wn(e)),new Za(Wn(e.g),e.h);if(30<r.g.length){if(Ys(r)||Ys(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bu,s=e;0>=s.X(r);)t=du(t),s=du(s);var a=hu(t,1),c=hu(s,1);for(s=hu(s,2),t=hu(t,2);!Vs(s);){var f=c.add(s);0>=f.X(r)&&(a=a.add(t),c=f),s=hu(s,1),t=hu(t,1)}return e=cu(r,a.R(e)),new Za(a,e)}for(a=uo;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(c=bs(t)).R(e);Ys(f)||0<f.X(r);)f=(c=bs(t-=s)).R(e);Vs(c)&&(c=bu),a=a.add(c),r=cu(r,f)}return new Za(a,r)}function du(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new qr(t,r.h)}function hu(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],c=0;c<s;c++)a[c]=0<e?r.D(c+t)>>>e|r.D(c+t+1)<<32-e:r.D(c+t);return new qr(a,r.h)}(St=qr.prototype).ea=function(){if(Ys(this))return-Wn(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:Oa+s)*e,e*=Oa}return r},St.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(Vs(this))return"0";if(Ys(this))return"-"+Wn(this).toString(r);for(var e=bs(Math.pow(r,6)),t=this,s="";;){var a=Ya(t,e).g,c=((0<(t=cu(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(Vs(t=a))return c+s;for(;6>c.length;)c="0"+c;s=c+s}},St.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},St.X=function(r){return Ys(r=cu(this,r))?-1:Vs(r)?0:1},St.abs=function(){return Ys(this)?Wn(this):this},St.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var c=s+(65535&this.D(a))+(65535&r.D(a)),f=(c>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(c&=65535)}return new qr(t,-2147483648&t[t.length-1]?-1:0)},St.R=function(r){if(Vs(this)||Vs(r))return uo;if(Ys(this))return Ys(r)?Wn(this).R(Wn(r)):Wn(Wn(this).R(r));if(Ys(r))return Wn(this.R(Wn(r)));if(0>this.X(fa)&&0>r.X(fa))return bs(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var c=this.D(s)>>>16,f=65535&this.D(s),b=r.D(a)>>>16,L=65535&r.D(a);t[2*s+2*a]+=f*L,Su(t,2*s+2*a),t[2*s+2*a+1]+=c*L,Su(t,2*s+2*a+1),t[2*s+2*a+1]+=f*b,Su(t,2*s+2*a+1),t[2*s+2*a+2]+=c*b,Su(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new qr(t,0)},St.gb=function(r){return Ya(this,r).h},St.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new qr(t,this.h&r.h)},St.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new qr(t,this.h|r.h)},St.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new qr(t,this.h^r.h)},ei.prototype.createWebChannel=ei.prototype.g,ti.prototype.send=ti.prototype.u,ti.prototype.open=ti.prototype.m,ti.prototype.close=ti.prototype.close,Wr.NO_ERROR=0,Wr.TIMEOUT=8,Wr.HTTP_ERROR=6,wa.COMPLETE="complete",oi.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",or.prototype.listen=or.prototype.O,tt.prototype.listenOnce=tt.prototype.P,tt.prototype.getLastError=tt.prototype.Sa,tt.prototype.getLastErrorCode=tt.prototype.Ia,tt.prototype.getStatus=tt.prototype.da,tt.prototype.getResponseJson=tt.prototype.Wa,tt.prototype.getResponseText=tt.prototype.ja,tt.prototype.send=tt.prototype.ha,tt.prototype.setWithCredentials=tt.prototype.Oa,Zs.prototype.digest=Zs.prototype.l,Zs.prototype.reset=Zs.prototype.reset,Zs.prototype.update=Zs.prototype.j,qr.prototype.add=qr.prototype.add,qr.prototype.multiply=qr.prototype.R,qr.prototype.modulo=qr.prototype.gb,qr.prototype.compare=qr.prototype.X,qr.prototype.toNumber=qr.prototype.ea,qr.prototype.toString=qr.prototype.toString,qr.prototype.getBits=qr.prototype.D,qr.fromNumber=bs,qr.fromString=function Yi(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Wn(Yi(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=bs(Math.pow(e,8)),s=uo,a=0;a<r.length;a+=8){var c=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+c),e);8>c?(c=bs(Math.pow(e,c)),s=s.R(c).add(bs(f))):s=(s=s.R(t)).add(bs(f))}return s};var jc=Cr.createWebChannelTransport=function(){return new ei},ka=Cr.getStatEventTarget=function(){return Ei()},qu=Cr.ErrorCode=Wr,vl=Cr.EventType=wa,Qi=Cr.Event=hi,fu=Cr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Au=Cr.FetchXmlHttpFactory=ai,Wo=Cr.WebChannel=oi,lo=Cr.XhrIo=tt,Ko=Cr.Md5=Zs,pa=Cr.Integer=qr;const Fa="@firebase/firestore";class Ii{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");let Ca="9.21.0";const ko=new Be.Yd("@firebase/firestore");function La(){return ko.logLevel}function Dt(r,...e){if(ko.logLevel<=Be.in.DEBUG){const t=e.map(ga);ko.debug(`Firestore (${Ca}): ${r}`,...t)}}function Zr(r,...e){if(ko.logLevel<=Be.in.ERROR){const t=e.map(ga);ko.error(`Firestore (${Ca}): ${r}`,...t)}}function Ss(r,...e){if(ko.logLevel<=Be.in.WARN){const t=e.map(ga);ko.warn(`Firestore (${Ca}): ${r}`,...t)}}function ga(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function y(r="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+r;throw Zr(e),new Error(e)}function E(r,e){r||y()}function T(r,e){return r}const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends Se.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ce{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ht{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ii.UNAUTHENTICATED))}shutdown(){}}class Xt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Wt{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const c=H=>this.i!==a?(a=this.i,t(H)):Promise.resolve();let f=new Y;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Y,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const H=f;e.enqueueRetryable((0,gt.Z)(function*(){yield H.promise,yield c(s.currentUser)}))},L=H=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Y)}},0),b()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(E("string"==typeof s.accessToken),new Ce(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return E(null===e||"string"==typeof e),new Ii(e)}}class lr{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Si{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new lr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qo{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=c=>{null!=c.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.T;return this.T=c.token,Dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?a(c):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(E("string"==typeof t.token),this.T=t.token,new Fo(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function co(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class sc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=co(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<t&&(s+=e.charAt(a[c]%e.length))}return s}}function Mn(r,e){return r<e?-1:r>e?1:0}function Va(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Di{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Di.fromMillis(Date.now())}static fromDate(e){return Di.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Di(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mn(this.nanoseconds,e.nanoseconds):Mn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class In{constructor(e){this.timestamp=e}static fromTimestamp(e){return new In(e)}static min(){return new In(new Di(0,0))}static max(){return new In(new Di(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Zu{constructor(e,t,s){void 0===t?t=0:t>e.length&&y(),void 0===s?s=e.length-t:s>e.length-t&&y(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Zu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const c=e.get(a),f=t.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Nr extends Zu{construct(e,t,s){return new Nr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new V(A.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Nr(t)}static emptyPath(){return new Nr([])}}const Hc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends Zu{construct(e,t,s){return new Ji(e,t,s)}static isValidIdentifier(e){return Hc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const c=()=>{if(0===s.length)throw new V(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const b=e[a];if("\\"===b){if(a+1===e.length)throw new V(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[a+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new V(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=L,a+=2}else"`"===b?(f=!f,a++):"."!==b||f?(s+=b,a++):(c(),a++)}if(c(),f)throw new V(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(t)}static emptyPath(){return new Ji([])}}class en{constructor(e){this.path=e}static fromPath(e){return new en(Nr.fromString(e))}static fromName(e){return new en(Nr.fromString(e).popFirst(5))}static empty(){return new en(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new en(new Nr(e.slice()))}}function Dl(r){return new fo(r.readTime,r.key,-1)}class fo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new fo(In.min(),en.empty(),-1)}static max(){return new fo(In.max(),en.empty(),-1)}}function Tl(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=en.comparator(r.documentKey,e.documentKey),0!==t?t:Mn(r.largestBatchId,e.largestBatchId))}const Qu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xh{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function pu(r){return gu.apply(this,arguments)}function gu(){return gu=(0,gt.Z)(function*(r){if(r.code!==A.FAILED_PRECONDITION||r.message!==Qu)throw r;Dt("LocalStore","Unexpectedly lost primary lease")}),gu.apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new We((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(t,c).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof We?t:We.resolve(t)}catch(t){return We.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):We.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):We.reject(t)}static resolve(e){return new We((t,s)=>{t(e)})}static reject(e){return new We((t,s)=>{s(e)})}static waitFor(e){return new We((t,s)=>{let a=0,c=0,f=!1;e.forEach(b=>{++a,b.next(()=>{++c,f&&c===a&&t()},L=>s(L))}),f=!0,c===a&&t()})}static or(e){let t=We.resolve(!1);for(const s of e)t=t.next(a=>a?We.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,c)=>{s.push(t.call(this,a,c))}),this.waitFor(s)}static mapArray(e,t){return new We((s,a)=>{const c=e.length,f=new Array(c);let b=0;for(let L=0;L<c;L++){const H=L;t(e[H]).next(Q=>{f[H]=Q,++b,b===c&&s(f)},Q=>a(Q))}})}static doWhile(e,t){return new We((s,a)=>{const c=()=>{!0===e()?t().next(()=>{c()},a):s()};c()})}}function ba(r){return"IndexedDbTransactionError"===r.name}let po=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function Sl(r){return null==r}function el(r){return 0===r&&1/r==-1/0}function ma(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function es(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ya(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Vr{constructor(e,t){this.comparator=e,this.root=t||Qs.EMPTY}insert(e,t){return new Vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qs.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Al(this.root,e,this.comparator,!1)}getReverseIterator(){return new Al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Al(this.root,e,this.comparator,!0)}}class Al{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?s(e.key,t):1,t&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qs{constructor(e,t,s,a,c){this.key=e,this.value=t,this.color=s??Qs.RED,this.left=a??Qs.EMPTY,this.right=c??Qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,c){return new Qs(e??this.key,t??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===c?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Qs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw y();const e=this.left.check();if(e!==this.right.check())throw y();return e+(this.isRed()?0:1)}}Qs.EMPTY=null,Qs.RED=!0,Qs.BLACK=!1,Qs.EMPTY=new class{constructor(){this.size=0}get key(){throw y()}get value(){throw y()}get color(){throw y()}get left(){throw y()}get right(){throw y()}copy(r,e,t,s,a){return this}insert(r,e,t){return new Qs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ui{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zc(this.data.getIterator())}getIteratorFrom(e){return new Zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ui)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(0!==this.comparator(a,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ui(this.comparator);return t.data=e,t}}class Zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yo{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new Ui(Ji.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Wf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Wf("Invalid base64 string: "+a):a}}(e);return new d(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}d.EMPTY_BYTE_STRING=new d("");const g=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(r){if(E(!!r),"string"==typeof r){let e=0;const t=g.exec(r);if(E(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:j(r.seconds),nanos:j(r.nanos)}}function j(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function ee(r){return"string"==typeof r?d.fromBase64String(r):d.fromUint8Array(r)}function Me(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nt(r){const e=r.mapValue.fields.__previous_value__;return Me(e)?nt(e):e}function Vt(r){const e=C(r.mapValue.fields.__local_write_time__.timestampValue);return new Di(e.seconds,e.nanos)}class an{constructor(e,t,s,a,c,f,b,L){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class mn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mn&&e.projectId===this.projectId&&e.database===this.database}}const $n={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Co(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Me(r)?4:Rh(r)?9007199254740991:10:y()}function va(r,e){if(r===e)return!0;const t=Co(r);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vt(r).isEqual(Vt(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=C(s.timestampValue),f=C(a.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,ee(r.bytesValue).isEqual(ee(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return j(s.geoPointValue.latitude)===j(a.geoPointValue.latitude)&&j(s.geoPointValue.longitude)===j(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return j(s.integerValue)===j(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=j(s.doubleValue),f=j(a.doubleValue);return c===f?el(c)===el(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return Va(r.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(s,a){const c=s.mapValue.fields||{},f=a.mapValue.fields||{};if(ma(c)!==ma(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!va(c[b],f[b])))return!1;return!0}(r,e);default:return y()}var a}function cc(r,e){return void 0!==(r.values||[]).find(t=>va(t,e))}function _a(r,e){if(r===e)return 0;const t=Co(r),s=Co(e);if(t!==s)return Mn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Mn(r.booleanValue,e.booleanValue);case 2:return function(a,c){const f=j(a.integerValue||a.doubleValue),b=j(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(r,e);case 3:return Rd(r.timestampValue,e.timestampValue);case 4:return Rd(Vt(r),Vt(e));case 5:return Mn(r.stringValue,e.stringValue);case 6:return function(a,c){const f=ee(a),b=ee(c);return f.compareTo(b)}(r.bytesValue,e.bytesValue);case 7:return function(a,c){const f=a.split("/"),b=c.split("/");for(let L=0;L<f.length&&L<b.length;L++){const H=Mn(f[L],b[L]);if(0!==H)return H}return Mn(f.length,b.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,c){const f=Mn(j(a.latitude),j(c.latitude));return 0!==f?f:Mn(j(a.longitude),j(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,c){const f=a.values||[],b=c.values||[];for(let L=0;L<f.length&&L<b.length;++L){const H=_a(f[L],b[L]);if(H)return H}return Mn(f.length,b.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,c){if(a===$n.mapValue&&c===$n.mapValue)return 0;if(a===$n.mapValue)return 1;if(c===$n.mapValue)return-1;const f=a.fields||{},b=Object.keys(f),L=c.fields||{},H=Object.keys(L);b.sort(),H.sort();for(let Q=0;Q<b.length&&Q<H.length;++Q){const ce=Mn(b[Q],H[Q]);if(0!==ce)return ce;const Ue=_a(f[b[Q]],L[H[Q]]);if(0!==Ue)return Ue}return Mn(b.length,H.length)}(r.mapValue,e.mapValue);default:throw y()}}function Rd(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Mn(r,e);const t=C(r),s=C(e),a=Mn(t.seconds,s.seconds);return 0!==a?a:Mn(t.nanos,s.nanos)}function Nu(r){return Ml(r)}function Ml(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=C(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?ee(r.bytesValue).toBase64():"referenceValue"in r?en.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",c=!0;for(const f of s.values||[])c?c=!1:a+=",",a+=Ml(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let c="{",f=!0;for(const b of a)f?f=!1:c+=",",c+=`${b}:${Ml(s.fields[b])}`;return c+"}"}(r.mapValue):y();var e}function eu(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rl(r){return!!r&&"integerValue"in r}function mu(r){return!!r&&"arrayValue"in r}function dc(r){return!!r&&"nullValue"in r}function hc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nl(r){return!!r&&"mapValue"in r}function fc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=fc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function Rh(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bo{constructor(e){this.value=e}static empty(){return new Bo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Nl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=Ji.emptyPath(),s={},a=[];e.forEach((f,b)=>{if(!t.isImmediateParentOf(b)){const L=this.getFieldsMap(t);this.applyChanges(L,s,a),s={},a=[],t=b.popLast()}f?s[b.lastSegment()]=fc(f):a.push(b.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,s,a)}delete(e){const t=this.field(e.popLast());Nl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Nl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){es(t,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new Bo(fc(this.value))}}function dm(r){const e=[];return es(r.fields,(t,s)=>{const a=new Ji([t]);if(Nl(s)){const c=dm(s.mapValue).fields;if(0===c.length)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Yo(e)}class Gi{constructor(e,t,s,a,c,f,b){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=b}static newInvalidDocument(e){return new Gi(e,0,In.min(),In.min(),In.min(),Bo.empty(),0)}static newFoundDocument(e,t,s,a){return new Gi(e,1,t,In.min(),s,a,0)}static newNoDocument(e,t){return new Gi(e,2,t,In.min(),In.min(),Bo.empty(),0)}static newUnknownDocument(e,t){return new Gi(e,3,t,In.min(),In.min(),Bo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(In.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=In.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rl{constructor(e,t){this.position=e,this.inclusive=t}}function Pd(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const c=e[a],f=r.position[a];if(s=c.field.isKeyField()?en.comparator(en.fromName(f.referenceValue),t.key):_a(f,t.data.field(c.field)),"desc"===c.dir&&(s*=-1),0!==s)break}return s}function Nh(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!va(r.position[t],e.position[t]))return!1;return!0}class yu{constructor(e,t="asc"){this.field=e,this.dir=t}}function jv(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class hm{}class Hr extends hm{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new pc(e,t,s):"array-contains"===t?new Gv(e,s):"in"===t?new pm(e,s):"not-in"===t?new il(e,s):"array-contains-any"===t?new Yc(e,s):new Hr(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new Hv(e,s):new zv(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(_a(t,this.value)):null!==t&&Co(this.value)===Co(t)&&this.matchesComparison(_a(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ai extends hm{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ai(e,t)}matches(e){return Pl(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pl(r){return"and"===r.op}function Ph(r){return function Od(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}(r)&&Pl(r)}function kd(r){if(r instanceof Hr)return r.field.canonicalString()+r.op.toString()+Nu(r.value);if(Ph(r))return r.filters.map(e=>kd(e)).join(",");{const e=r.filters.map(t=>kd(t)).join(",");return`${r.op}(${e})`}}function Zf(r,e){return r instanceof Hr?(t=r,(s=e)instanceof Hr&&t.op===s.op&&t.field.isEqual(s.field)&&va(t.value,s.value)):r instanceof Ai?function(t,s){return s instanceof Ai&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,c,f)=>a&&Zf(c,s.filters[f]),!0)}(r,e):void y();var t,s}function Qf(r){return r instanceof Hr?`${(e=r).field.canonicalString()} ${e.op} ${Nu(e.value)}`:r instanceof Ai?function(e){return e.op.toString()+" {"+e.getFilters().map(Qf).join(" ,")+"}"}(r):"Filter";var e}class pc extends Hr{constructor(e,t,s){super(e,t,s),this.key=en.fromName(s.referenceValue)}matches(e){const t=en.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hv extends Hr{constructor(e,t){super(e,"in",t),this.keys=fm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zv extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=fm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fm(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>en.fromName(s.referenceValue))}class Gv extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mu(t)&&cc(t.arrayValue,this.value)}}class pm extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cc(this.value.arrayValue,t)}}class il extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!cc(this.value.arrayValue,t)}}class Yc extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cc(this.value.arrayValue,s))}}class Wv{constructor(e,t=null,s=[],a=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=b,this.ft=null}}function Jf(r,e=null,t=[],s=[],a=null,c=null,f=null){return new Wv(r,e,t,s,a,c,f)}function gc(r){const e=T(r);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kd(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),Sl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),e.ft=t}return e.ft}function Fd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!jv(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Zf(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Nh(r.startAt,e.startAt)&&Nh(r.endAt,e.endAt)}function Oh(r){return en.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class sl{constructor(e,t=null,s=[],a=[],c=null,f="F",b=null,L=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=L,this.dt=null,this._t=null}}function Qc(r){return new sl(r)}function Ld(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function vu(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Ol(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Fh(r){return null!==r.collectionGroup}function kl(r){const e=T(r);if(null===e.dt){e.dt=[];const t=Ol(e),s=vu(e);if(null!==t&&null===s)t.isKeyField()||e.dt.push(new yu(t)),e.dt.push(new yu(Ji.keyField(),"asc"));else{let a=!1;for(const c of e.explicitOrderBy)e.dt.push(c),c.field.isKeyField()&&(a=!0);if(!a){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new yu(Ji.keyField(),c))}}}return e.dt}function Qo(r){const e=T(r);if(!e._t)if("F"===e.limitType)e._t=Jf(e.path,e.collectionGroup,kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of kl(e))t.push(new yu(c.field,"desc"===c.dir?"asc":"desc"));const s=e.endAt?new rl(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new rl(e.startAt.position,e.startAt.inclusive):null;e._t=Jf(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function ym(r,e){e.getFirstInequalityField(),Ol(r);const t=r.filters.concat([e]);return new sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function ep(r,e,t){return new sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lh(r,e){return Fd(Qo(r),Qo(e))&&r.limitType===e.limitType}function Vh(r){return`${gc(Qo(r))}|lt:${r.limitType}`}function Vd(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>Qf(s)).join(", ")}]`),Sl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Nu(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Nu(s)).join(",")),`Target(${t})`}(Qo(r))}; limitType=${r.limitType})`}function Uh(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):en.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of kl(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,c,f){const b=Pd(a,c,f);return a.inclusive?b<=0:b<0}(t.startAt,kl(t),s)||t.endAt&&!function(a,c,f){const b=Pd(a,c,f);return a.inclusive?b>=0:b>0}(t.endAt,kl(t),s)));var t,s}function tp(r){return(e,t)=>{let s=!1;for(const a of kl(r)){const c=qv(a,e,t);if(0!==c)return c;s=s||a.field.isKeyField()}return 0}}function qv(r,e,t){const s=r.field.isKeyField()?en.comparator(e.key,t.key):function(a,c,f){const b=c.data.field(a),L=f.data.field(a);return null!==b&&null!==L?_a(b,L):y()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return y()}}class ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,c]of s)if(this.equalsFn(a,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(t,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return ya(this.inner)}size(){return this.innerSize}}const Zv=new Vr(en.comparator);function Aa(){return Zv}const np=new Vr(en.comparator);function Fl(...r){let e=np;for(const t of r)e=e.insert(t.key,t);return e}function rp(r){let e=np;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function tu(){return ts()}function vm(){return ts()}function ts(){return new ol(r=>r.toString(),(r,e)=>r.isEqual(e))}const _m=new Vr(en.comparator),Yv=new Ui(en.comparator);function cr(...r){let e=Yv;for(const t of r)e=e.add(t);return e}const Em=new Ui(Mn);function wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(e)?"-0":e}}function Im(r){return{integerValue:""+r}}function Dm(r,e){return function ac(r){return"number"==typeof r&&Number.isInteger(r)&&!el(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Im(e):wm(r,e)}class Ud{constructor(){this._=void 0}}function dE(r,e,t){return r instanceof Ll?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Me(a)&&(a=nt(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):r instanceof Vl?sp(r,e):r instanceof Ul?Tm(r,e):function(s,a){const c=Jc(s,a),f=op(c)+op(s.wt);return Rl(c)&&Rl(s.wt)?Im(f):wm(s.serializer,f)}(r,e)}function hE(r,e,t){return r instanceof Vl?sp(r,e):r instanceof Ul?Tm(r,e):t}function Jc(r,e){return r instanceof Xc?Rl(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ll extends Ud{}class Vl extends Ud{constructor(e){super(),this.elements=e}}function sp(r,e){const t=ap(e);for(const s of r.elements)t.some(a=>va(a,s))||t.push(s);return{arrayValue:{values:t}}}class Ul extends Ud{constructor(e){super(),this.elements=e}}function Tm(r,e){let t=ap(e);for(const s of r.elements)t=t.filter(a=>!va(a,s));return{arrayValue:{values:t}}}class Xc extends Ud{constructor(e,t){super(),this.serializer=e,this.wt=t}}function op(r){return j(r.integerValue||r.doubleValue)}function ap(r){return mu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class up{constructor(e,t){this.version=e,this.transformResults=t}}class ss{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ed(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Bd{}function lp(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new $l(r.key,ss.none()):new td(r.key,r.data,ss.none());{const t=r.data,s=Bo.empty();let a=new Ui(Ji.comparator);for(let c of e.fields)if(!a.has(c)){let f=t.field(c);null===f&&c.length>1&&(c=c.popLast(),f=t.field(c)),null===f?s.delete(c):s.set(c,f),a=a.add(c)}return new _u(r.key,s,new Yo(a.toArray()),ss.none())}}function yc(r,e,t){r instanceof td?function(s,a,c){const f=s.value.clone(),b=Bl(s.fieldTransforms,a,c.transformResults);f.setAll(b),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof _u?function(s,a,c){if(!ed(s.precondition,a))return void a.convertToUnknownDocument(c.version);const f=Bl(s.fieldTransforms,a,c.transformResults),b=a.data;b.setAll(Hd(s)),b.setAll(f),a.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $d(r,e,t,s){return r instanceof td?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=a.value.clone(),H=dp(a.fieldTransforms,b,c);return L.setAll(H),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(r,e,t,s):r instanceof _u?function(a,c,f,b){if(!ed(a.precondition,c))return f;const L=dp(a.fieldTransforms,b,c),H=c.data;return H.setAll(Hd(a)),H.setAll(L),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(Q=>Q.field))}(r,e,t,s):(f=t,ed(r.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function cp(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),c=Jc(s.transform,a||null);null!=c&&(null===t&&(t=Bo.empty()),t.set(s.field,c))}return t||null}function jd(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&Va(t,s,(a,c)=>function fE(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof Vl&&s instanceof Vl||t instanceof Ul&&s instanceof Ul?Va(t.elements,s.elements,va):t instanceof Xc&&s instanceof Xc?va(t.wt,s.wt):t instanceof Ll&&s instanceof Ll);var t,s}(a,c))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class td extends Bd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class _u extends Bd{constructor(e,t,s,a,c=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Hd(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Bl(r,e,t){const s=new Map;E(r.length===t.length);for(let a=0;a<t.length;a++){const c=r[a],f=c.transform,b=e.data.field(c.field);s.set(c.field,hE(f,b,t[a]))}return s}function dp(r,e,t){const s=new Map;for(const a of r){const c=a.transform,f=t.data.field(a.field);s.set(a.field,dE(c,f,e))}return s}class $l extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hp extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fp{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&yc(c,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$d(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=vm();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=t.has(a.key)?null:b;const L=lp(f,b);null!==L&&s.set(a.key,L),f.isValidDocument()||f.convertToNoDocument(In.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),cr())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,(t,s)=>jd(t,s))&&Va(this.baseMutations,e.baseMutations,(t,s)=>jd(t,s))}}class Bh{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){E(e.mutations.length===s.length);let a=_m;const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new Bh(e,t,s,a)}}class jl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jv{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xs,Ur;function pp(r){if(void 0===r)return Zr("GRPC error has no .code"),A.UNKNOWN;switch(r){case Xs.OK:return A.OK;case Xs.CANCELLED:return A.CANCELLED;case Xs.UNKNOWN:return A.UNKNOWN;case Xs.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Xs.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Xs.INTERNAL:return A.INTERNAL;case Xs.UNAVAILABLE:return A.UNAVAILABLE;case Xs.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Xs.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Xs.NOT_FOUND:return A.NOT_FOUND;case Xs.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Xs.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Xs.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Xs.ABORTED:return A.ABORTED;case Xs.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Xs.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Xs.DATA_LOSS:return A.DATA_LOSS;default:return y()}}(Ur=Xs||(Xs={}))[Ur.OK=0]="OK",Ur[Ur.CANCELLED=1]="CANCELLED",Ur[Ur.UNKNOWN=2]="UNKNOWN",Ur[Ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ur[Ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ur[Ur.NOT_FOUND=5]="NOT_FOUND",Ur[Ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ur[Ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ur[Ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ur[Ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ur[Ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ur[Ur.ABORTED=10]="ABORTED",Ur[Ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ur[Ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ur[Ur.INTERNAL=13]="INTERNAL",Ur[Ur.UNAVAILABLE=14]="UNAVAILABLE",Ur[Ur.DATA_LOSS=15]="DATA_LOSS";class gp{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zd}static getOrCreateInstance(){return null===zd&&(zd=new gp),zd}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let zd=null;const e_=new pa([4294967295,4294967295],0);function nd(r){const e=function Xv(){return new TextEncoder}().encode(r),t=new Ko;return t.update(e),new Uint8Array(t.digest())}function bm(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pa([t,s],0),new pa([a,c],0)]}class Hl{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new al(`Invalid padding: ${t}`);if(s<0)throw new al(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new al(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new al(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=pa.fromNumber(this.yt)}Tt(e,t,s){let a=e.add(t.multiply(pa.fromNumber(s)));return 1===a.compare(e_)&&(a=new pa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=nd(e),[s,a]=bm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);if(!this.Et(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Hl(c,a,t);return s.forEach(b=>f.insert(b)),f}insert(e){if(0===this.yt)return;const t=nd(e),[s,a]=bm(t);for(let c=0;c<this.hashCount;c++){const f=this.Tt(s,a,c);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gd{constructor(e,t,s,a,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Gd(In.min(),a,new Vr(Mn),Aa(),cr())}}class rd{constructor(e,t,s,a,c){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rd(s,t,cr(),cr(),cr())}}class $h{constructor(e,t,s,a){this.vt=e,this.removedTargetIds=t,this.key=s,this.Pt=a}}class Sm{constructor(e,t){this.targetId=e,this.bt=t}}class Am{constructor(e,t,s=d.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class mp{constructor(){this.Vt=0,this.St=Hh(),this.Dt=d.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=cr(),t=cr(),s=cr();return this.St.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:y()}}),new rd(this.Dt,this.Ct,e,t,s)}$t(){this.xt=!1,this.St=Hh()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Mm{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=Aa(),this.jt=jh(),this.zt=new Vr(Mn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const s=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&s.Mt(e.resumeToken);break;case 1:s.qt(),s.Nt||s.$t(),s.Mt(e.resumeToken);break;case 2:s.qt(),s.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(s.Ut(),s.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),s.Mt(e.resumeToken));break;default:y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((s,a)=>{this.Zt(a)&&t(a)})}ee(e){var t;const s=e.targetId,a=e.bt.count,c=this.ne(s);if(c){const f=c.target;if(Oh(f))if(0===a){const b=new en(f.path);this.Jt(s,b,Gi.newNoDocument(b,In.min()))}else E(1===a);else{const b=this.se(s);if(b!==a){const L=this.ie(e,b);0!==L&&(this.te(s),this.zt=this.zt.insert(s,2===L?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(H,Q,ce){var Ue,pt,Bt,tn,vn,gr;const mi={localCacheCount:Q,existenceFilterCount:ce.count},_r=ce.unchangedNames;return _r&&(mi.bloomFilter={applied:0===H,hashCount:null!==(Ue=_r?.hashCount)&&void 0!==Ue?Ue:0,bitmapLength:null!==(tn=null===(Bt=null===(pt=_r?.bits)||void 0===pt?void 0:pt.bitmap)||void 0===Bt?void 0:Bt.length)&&void 0!==tn?tn:0,padding:null!==(gr=null===(vn=_r?.bits)||void 0===vn?void 0:vn.padding)&&void 0!==gr?gr:0}),mi}(L,b,e.bt))}}}}ie(e,t){const{unchangedNames:s,count:a}=e.bt;if(!s||!s.bits)return 1;const{bits:{bitmap:c="",padding:f=0},hashCount:b=0}=s;let L,H;try{L=ee(c).toUint8Array()}catch(Q){if(Q instanceof Wf)return Ss("Decoding the base64 bloom filter in existence filter failed ("+Q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw Q}try{H=new Hl(L,f,b)}catch(Q){return Ss(Q instanceof al?"BloomFilter error: ":"Applying bloom filter failed: ",Q),1}return 0===H.yt?1:a!==t-this.re(e.targetId,H)?2:0}re(e,t){const s=this.Kt.getRemoteKeysForTarget(e);let a=0;return s.forEach(c=>{const f=this.Kt.oe(),b=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.At(b)||(this.Jt(e,c,null),a++)}),a}ue(e){const t=new Map;this.Gt.forEach((c,f)=>{const b=this.ne(f);if(b){if(c.current&&Oh(b.target)){const L=new en(b.target.path);null!==this.Qt.get(L)||this.ce(f,L)||this.Jt(f,L,Gi.newNoDocument(L,e))}c.kt&&(t.set(f,c.Ot()),c.$t())}});let s=cr();this.jt.forEach((c,f)=>{let b=!0;f.forEachWhile(L=>{const H=this.ne(L);return!H||"TargetPurposeLimboResolution"===H.purpose||(b=!1,!1)}),b&&(s=s.add(c))}),this.Qt.forEach((c,f)=>f.setReadTime(e));const a=new Gd(e,t,this.zt,this.Qt,s);return this.Qt=Aa(),this.jt=jh(),this.zt=new Vr(Mn),a}Ht(e,t){if(!this.Zt(e))return;const s=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,s),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,s){if(!this.Zt(e))return;const a=this.Xt(e);this.ce(e,t)?a.Ft(t,1):a.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),s&&(this.Qt=this.Qt.insert(t,s))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new mp,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Ui(Mn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new mp),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function jh(){return new Vr(en.comparator)}function Hh(){return new Vr(en.comparator)}const t_={asc:"ASCENDING",desc:"DESCENDING"},yp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wd={and:"AND",or:"OR"};class n_{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||Sl(e)?e:{value:e}}function id(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xm(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function r_(r,e){return id(r,e.toTimestamp())}function Bs(r){return E(!!r),In.fromTimestamp(function(e){const t=C(e);return new Di(t.seconds,t.nanos)}(r))}function _p(r,e){return(t=r,new Nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function vc(r){const e=Nr.fromString(r);return E(bp(e)),e}function ja(r,e){return _p(r.databaseId,e.path)}function Pu(r,e){const t=vc(e);if(t.get(1)!==r.databaseId.projectId)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new V(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new en(wp(t))}function Ep(r,e){return _p(r.databaseId,e)}function zh(r){return new Nr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function wp(r){return E(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function s_(r,e,t){return{name:ja(r,e),fields:t.value.mapValue.fields}}function nu(r,e){return{documents:[Ep(r,e.path)]}}function Tp(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Ep(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ep(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(L){if(0!==L.length)return Om(Ai.create(L,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(L){if(0!==L.length)return L.map(H=>{return{field:zl((Q=H).field),direction:l_(Q.dir)};var Q})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=vp(r,e.limit);var b,L;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(t.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),t}function Cp(r){let e=function i_(r){const e=vc(r);return 4===e.length?Nr.emptyPath():wp(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){E(1===s);const Q=t.from[0];Q.allDescendants?a=Q.collectionId:e=e.child(Q.collectionId)}let c=[];t.where&&(c=function(Q){const ce=Nm(Q);return ce instanceof Ai&&Ph(ce)?ce.getFilters():[ce]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(Q=>{return new yu(od((ce=Q).field),function(Ue){switch(Ue){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ce.direction));var ce}));let b=null;t.limit&&(b=function(Q){let ce;return ce="object"==typeof Q?Q.value:Q,Sl(ce)?null:ce}(t.limit));let L=null;var Q;t.startAt&&(L=new rl((Q=t.startAt).values||[],!!Q.before));let H=null;return t.endAt&&(H=function(Q){return new rl(Q.values||[],!Q.before)}(t.endAt)),function mm(r,e,t,s,a,c,f,b){return new sl(r,e,t,s,a,c,f,b)}(e,a,f,c,b,"F",L,H)}function Nm(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=od(e.unaryFilter.field);return Hr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=od(e.unaryFilter.field);return Hr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=od(e.unaryFilter.field);return Hr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=od(e.unaryFilter.field);return Hr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return y()}}(r):void 0!==r.fieldFilter?Hr.create(od((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return y()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Ai.create(e.compositeFilter.filters.map(t=>Nm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return y()}}(e.compositeFilter.op))}(r):y();var e}function l_(r){return t_[r]}function c_(r){return yp[r]}function Pm(r){return Wd[r]}function zl(r){return{fieldPath:r.canonicalString()}}function od(r){return Ji.fromServerFormat(r.fieldPath)}function Om(r){return r instanceof Hr?function(e){if("=="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NAN"}};if(dc(e.value))return{unaryFilter:{field:zl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zl(e.field),op:c_(e.op),value:e.value}}}(r):r instanceof Ai?function(e){const t=e.getFilters().map(s=>Om(s));return 1===t.length?t[0]:{compositeFilter:{op:Pm(e.op),filters:t}}}(r):y()}function ar(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Ou{constructor(e,t,s,a,c=In.min(),f=In.min(),b=d.EMPTY_BYTE_STRING,L=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b,this.expectedCount=L}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.le=e}}function Gh(r){const e=Cp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?ep(e,e.limit,"L"):e}class ad{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(j(e.integerValue));else if("doubleValue"in e){const s=j(e.doubleValue);isNaN(s)?this.ge(t,13):(this.ge(t,15),el(s)?t.ye(0):t.ye(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ge(t,20),"string"==typeof s?t.pe(s):(t.pe(`${s.seconds||""}`),t.ye(s.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ee(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ge(t,45),t.ye(s.latitude||0),t.ye(s.longitude||0)}else"mapValue"in e?Rh(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):y()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const s=e.fields||{};this.ge(t,55);for(const a of Object.keys(s))this.Ie(a,t),this.we(s[a],t)}ve(e,t){const s=e.values||[];this.ge(t,50);for(const a of s)this.we(a,t)}Ae(e,t){this.ge(t,37),en.fromName(e).path.forEach(s=>{this.ge(t,60),this.Pe(s,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}ad.be=new ad;class kp{constructor(){this.sn=new jm}addToCollectionParentIndex(e,t){return this.sn.add(t),We.resolve()}getCollectionParents(e,t){return We.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return We.resolve()}deleteFieldIndex(e,t){return We.resolve()}getDocumentsMatchingTarget(e,t){return We.resolve(null)}getIndexType(e,t){return We.resolve(0)}getFieldIndexes(e,t){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,t){return We.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return We.resolve(fo.min())}updateCollectionGroup(e,t,s){return We.resolve()}updateIndexEntries(e,t){return We.resolve()}}class jm{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ui(Nr.comparator),c=!a.has(s);return this.index[t]=a.add(s),c}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ui(Nr.comparator)).toArray()}}new Uint8Array(0);class Jo{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class cl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new cl(0)}static kn(){return new cl(-1)}}class E_{constructor(){this.changes=new ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?We.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class jp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&$d(s.mutation,a,Yo.empty(),Di.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,cr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=cr()){const a=tu();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(c=>{let f=Fl();return c.forEach((b,L)=>{f=f.insert(b,L.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=tu();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,cr()))}populateOverlays(e,t,s){const a=[];return s.forEach(c=>{t.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,b)=>{t.set(f,b)})})}computeViews(e,t,s,a){let c=Aa();const f=ts(),b=ts();return t.forEach((L,H)=>{const Q=s.get(H.key);a.has(H.key)&&(void 0===Q||Q.mutation instanceof _u)?c=c.insert(H.key,H):void 0!==Q?(f.set(H.key,Q.mutation.getFieldMask()),$d(Q.mutation,H,Q.mutation.getFieldMask(),Di.now())):f.set(H.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((H,Q)=>f.set(H,Q)),t.forEach((H,Q)=>{var ce;return b.set(H,new D_(Q,null!==(ce=f.get(H))&&void 0!==ce?ce:null))}),b))}recalculateAndSaveOverlays(e,t){const s=ts();let a=new Vr((f,b)=>f-b),c=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const b of f)b.keys().forEach(L=>{const H=t.get(L);if(null===H)return;let Q=s.get(L)||Yo.empty();Q=b.applyToLocalView(H,Q),s.set(L,Q);const ce=(a.get(b.batchId)||cr()).add(L);a=a.insert(b.batchId,ce)})}).next(()=>{const f=[],b=a.getReverseIterator();for(;b.hasNext();){const L=b.getNext(),H=L.key,Q=L.value,ce=vm();Q.forEach(Ue=>{if(!c.has(Ue)){const pt=lp(t.get(Ue),s.get(Ue));null!==pt&&ce.set(Ue,pt),c=c.add(Ue)}}),f.push(this.documentOverlayCache.saveOverlays(e,H,ce))}return We.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return en.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Fh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-c.size):We.resolve(tu());let b=-1,L=c;return f.next(H=>We.forEach(H,(Q,ce)=>(b<ce.largestBatchId&&(b=ce.largestBatchId),c.get(Q)?We.resolve():this.remoteDocumentCache.getEntry(e,Q).next(Ue=>{L=L.insert(Q,Ue)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,L,H,cr())).next(Q=>({batchId:b,changes:rp(Q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new en(t)).next(s=>{let a=Fl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let c=Fl();return this.indexManager.getCollectionParents(e,a).next(f=>We.forEach(f,b=>{const L=(H=t,Q=b.child(a),new sl(Q,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,Q;return this.getDocumentsMatchingCollectionQuery(e,L,s).next(H=>{H.forEach((Q,ce)=>{c=c.insert(Q,ce)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(c=>{a.forEach((b,L)=>{const H=L.getKey();null===c.get(H)&&(c=c.insert(H,Gi.newInvalidDocument(H)))});let f=Fl();return c.forEach((b,L)=>{const H=a.get(b);void 0!==H&&$d(H.mutation,L,Yo.empty(),Di.now()),Uh(t,L)&&(f=f.insert(b,L))}),f})}}class T_{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return We.resolve(this.us.get(t))}saveBundleMetadata(e,t){var s;return this.us.set(t.id,{id:(s=t).id,version:s.version,createTime:Bs(s.createTime)}),We.resolve()}getNamedQuery(e,t){return We.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(s=t).name,query:Gh(s.bundledQuery),readTime:Bs(s.readTime)}),We.resolve();var s}}class C_{constructor(){this.overlays=new Vr(en.comparator),this.hs=new Map}getOverlay(e,t){return We.resolve(this.overlays.get(t))}getOverlays(e,t){const s=tu();return We.forEach(t,a=>this.getOverlay(e,a).next(c=>{null!==c&&s.set(a,c)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,c)=>{this.de(e,t,c)}),We.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.hs.get(s);return void 0!==a&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.hs.delete(s)),We.resolve()}getOverlaysForCollection(e,t,s){const a=tu(),c=t.length+1,f=new en(t.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const L=b.getNext().value,H=L.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===c&&L.largestBatchId>s&&a.set(L.getKey(),L)}return We.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let c=new Vr((H,Q)=>H-Q);const f=this.overlays.getIterator();for(;f.hasNext();){const H=f.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>s){let Q=c.get(H.largestBatchId);null===Q&&(Q=tu(),c=c.insert(H.largestBatchId,Q)),Q.set(H.getKey(),H)}}const b=tu(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,Q)=>b.set(H,Q)),!(b.size()>=a)););return We.resolve(b)}de(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.hs.get(a.largestBatchId).delete(s.key);this.hs.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new jl(t,s));let c=this.hs.get(t);void 0===c&&(c=cr(),this.hs.set(t,c)),this.hs.set(t,c.add(s.key))}}class eh{constructor(){this.ls=new Ui(bo.fs),this.ds=new Ui(bo._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const s=new bo(e,t);this.ls=this.ls.add(s),this.ds=this.ds.add(s)}ws(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.gs(new bo(e,t))}ys(e,t){e.forEach(s=>this.removeReference(s,t))}ps(e){const t=new en(new Nr([])),s=new bo(t,e),a=new bo(t,e+1),c=[];return this.ds.forEachInRange([s,a],f=>{this.gs(f),c.push(f.key)}),c}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new en(new Nr([])),s=new bo(t,e),a=new bo(t,e+1);let c=cr();return this.ds.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const t=new bo(e,0),s=this.ls.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class bo{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return en.comparator(e.key,t.key)||Mn(e.Es,t.Es)}static _s(e,t){return Mn(e.Es,t.Es)||en.comparator(e.key,t.key)}}class b_{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Ui(bo.fs)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const c=this.As;this.As++;const f=new fp(c,t,s,a);this.mutationQueue.push(f);for(const b of a)this.Rs=this.Rs.add(new bo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return We.resolve(f)}lookupMutationBatch(e,t){return We.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ps(t+1),c=a<0?0:a;return We.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new bo(t,0),a=new bo(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([s,a],f=>{const b=this.vs(f.Es);c.push(b)}),We.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ui(Mn);return t.forEach(a=>{const c=new bo(a,0),f=new bo(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,f],b=>{s=s.add(b.Es)})}),We.resolve(this.bs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let c=s;en.isDocumentKey(c)||(c=c.child(""));const f=new bo(new en(c),0);let b=new Ui(Mn);return this.Rs.forEachWhile(L=>{const H=L.key.path;return!!s.isPrefixOf(H)&&(H.length===a&&(b=b.add(L.Es)),!0)},f),We.resolve(this.bs(b))}bs(e){const t=[];return e.forEach(s=>{const a=this.vs(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){E(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return We.forEach(t.mutations,a=>{const c=new bo(a.key,t.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Dn(e){}containsKey(e,t){const s=new bo(t,0),a=this.Rs.firstAfterOrEqual(s);return We.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return We.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class S_{constructor(e){this.Ss=e,this.docs=new Vr(en.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),c=a?a.size:0,f=this.Ss(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return We.resolve(s?s.document.mutableCopy():Gi.newInvalidDocument(t))}getEntries(e,t){let s=Aa();return t.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Gi.newInvalidDocument(a))}),We.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let c=Aa();const f=t.path,b=new en(f.child("")),L=this.docs.getIteratorFrom(b);for(;L.hasNext();){const{key:H,value:{document:Q}}=L.getNext();if(!f.isPrefixOf(H.path))break;H.path.length>f.length+1||Tl(Dl(Q),s)<=0||(a.has(Q.key)||Uh(t,Q))&&(c=c.insert(Q.key,Q.mutableCopy()))}return We.resolve(c)}getAllFromCollectionGroup(e,t,s,a){y()}Ds(e,t){return We.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new A_(this)}getSize(e){return We.resolve(this.size)}}class A_ extends E_{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.rs.addEntry(e,a)):this.rs.removeEntry(s)}),We.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class M_{constructor(e){this.persistence=e,this.Cs=new ol(t=>gc(t),Fd),this.lastRemoteSnapshotVersion=In.min(),this.highestTargetId=0,this.xs=0,this.Ns=new eh,this.targetCount=0,this.ks=cl.Nn()}forEachTarget(e,t){return this.Cs.forEach((s,a)=>t(a)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.xs&&(this.xs=t),We.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new cl(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,We.resolve()}updateTargetData(e,t){return this.$n(t),We.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,t,s){let a=0;const c=[];return this.Cs.forEach((f,b)=>{b.sequenceNumber<=t&&null===s.get(b.targetId)&&(this.Cs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),a++)}),We.waitFor(c).next(()=>a)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,t){const s=this.Cs.get(t)||null;return We.resolve(s)}addMatchingKeys(e,t,s){return this.Ns.ws(t,s),We.resolve()}removeMatchingKeys(e,t,s){this.Ns.ys(t,s);const a=this.persistence.referenceDelegate,c=[];return a&&t.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),We.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),We.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ns.Ts(t);return We.resolve(s)}containsKey(e,t){return We.resolve(this.Ns.containsKey(t))}}class ru{constructor(e,t){this.Ms={},this.overlays={},this.Os=new po(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new M_(this),this.indexManager=new kp,this.remoteDocumentCache=new S_(s=>this.referenceDelegate.Bs(s)),this.serializer=new Sp(t),this.Ls=new T_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new C_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Ms[e.toKey()];return s||(s=new b_(t,this.referenceDelegate),this.Ms[e.toKey()]=s),s}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,s){Dt("MemoryPersistence","Starting transaction:",e);const a=new Hp(this.Os.next());return this.referenceDelegate.qs(),s(a).next(c=>this.referenceDelegate.Us(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Ks(e,t){return We.or(Object.values(this.Ms).map(s=>()=>s.containsKey(e,t)))}}class Hp extends xh{constructor(e){super(),this.currentSequenceNumber=e}}class Qh{constructor(e){this.persistence=e,this.Gs=new eh,this.Qs=null}static js(e){return new Qh(e)}get zs(){if(this.Qs)return this.Qs;throw y()}addReference(e,t,s){return this.Gs.addReference(s,t),this.zs.delete(s.toString()),We.resolve()}removeReference(e,t,s){return this.Gs.removeReference(s,t),this.zs.add(s.toString()),We.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),We.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(a=>this.zs.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(c=>this.zs.add(c.toString()))}).next(()=>s.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.zs,s=>{const a=en.fromPath(s);return this.Ws(e,a).next(c=>{c||t.removeEntry(a,In.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(s=>{s?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return We.or([()=>We.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class fd{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.$i=s,this.Fi=a}static Bi(e,t){let s=cr(),a=cr();for(const c of t.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new fd(e,t.fromCache,s,a)}}class th{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ui(e,t).next(c=>c||this.Ki(e,t,a,s)).next(c=>c||this.Gi(e,t))}Ui(e,t){if(Ld(t))return We.resolve(null);let s=Qo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=ep(t,null,"F"),s=Qo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=cr(...c);return this.qi.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,s).next(L=>{const H=this.Qi(t,b);return this.ji(t,H,f,L.readTime)?this.Ui(e,ep(t,null,"F")):this.zi(e,H,t,L)}))})))}Ki(e,t,s,a){return Ld(t)||a.isEqual(In.min())?this.Gi(e,t):this.qi.getDocuments(e,s).next(c=>{const f=this.Qi(t,c);return this.ji(t,f,s,a)?this.Gi(e,t):(La()<=Be.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vd(t)),this.zi(e,f,t,function Ua(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=In.fromTimestamp(1e9===s?new Di(t+1,0):new Di(t,s));return new fo(a,en.empty(),e)}(a,-1)))})}Qi(e,t){let s=new Ui(tp(e));return t.forEach((a,c)=>{Uh(e,c)&&(s=s.add(c))}),s}ji(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}Gi(e,t){return La()<=Be.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",Vd(t)),this.qi.getDocumentsMatchingQuery(e,t,fo.min())}zi(e,t,s,a){return this.qi.getDocumentsMatchingQuery(e,s,a).next(c=>(t.forEach(f=>{c=c.insert(f.key,f)}),c))}}class ef{constructor(e,t,s,a){this.persistence=e,this.Wi=t,this.serializer=a,this.Hi=new Vr(Mn),this.Ji=new ol(c=>gc(c),Fd),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(s)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jp(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function tf(r,e){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,gt.Z)(function*(r,e){const t=T(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,t.Zi(e),t.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],b=[];let L=cr();for(const H of a){f.push(H.batchId);for(const Q of H.mutations)L=L.add(Q.key)}for(const H of c){b.push(H.batchId);for(const Q of H.mutations)L=L.add(Q.key)}return t.localDocuments.getDocuments(s,L).next(H=>({tr:H,removedBatchIds:f,addedBatchIds:b}))})})}),Qm.apply(this,arguments)}function Kp(r){const e=T(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Zp(r,e){const t=T(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hl(r,e,t){return pd.apply(this,arguments)}function pd(){return pd=(0,gt.Z)(function*(r,e,t){const s=T(r),a=s.Hi.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!ba(f))throw f;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Hi=s.Hi.remove(e),s.Ji.delete(a.target)}),pd.apply(this,arguments)}function Zl(r,e,t){const s=T(r);let a=In.min(),c=cr();return s.persistence.runTransaction("Execute query","readonly",f=>function(b,L,H){const Q=T(b),ce=Q.Ji.get(H);return void 0!==ce?We.resolve(Q.Hi.get(ce)):Q.Fs.getTargetData(L,H)}(s,f,Qo(e)).next(b=>{if(b)return a=b.lastLimboFreeSnapshotVersion,s.Fs.getMatchingKeysForTargetId(f,b.targetId).next(L=>{c=L})}).next(()=>s.Wi.getDocumentsMatchingQuery(f,e,t?a:In.min(),t?c:cr())).next(b=>(function Qp(r,e,t){let s=r.Yi.get(e)||In.min();t.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Yi.set(e,s)}(s,function Kv(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),b),{documents:b,sr:c})))}class ng{constructor(){this.activeTargetIds=function ip(){return Em}()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class af{constructor(){this.Wr=new ng,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,s){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new ng,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class P_{Jr(e){}shutdown(){}}class uf{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let lf=null;function rg(){return null===lf?lf=268435456+Math.round(2147483648*Math.random()):lf++,"0x"+lf.toString(16)}const O_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k_{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Xo="WebChannelConnection";class F_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,s,a,c){const f=rg(),b=this.Io(e,t);Dt("RestConnection",`Sending RPC '${e}' ${f}:`,b,s);const L={};return this.To(L,a,c),this.Eo(e,b,L,s).then(H=>(Dt("RestConnection",`Received RPC '${e}' ${f}: `,H),H),H=>{throw Ss("RestConnection",`RPC '${e}' ${f} failed with error: `,H,"url: ",b,"request:",s),H})}Ao(e,t,s,a,c,f){return this.po(e,t,s,a,c)}To(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ca,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,c)=>e[c]=a),s&&s.headers.forEach((a,c)=>e[c]=a)}Io(e,t){return`${this.wo}/v1/${t}:${O_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,s,a){const c=rg();return new Promise((f,b)=>{const L=new lo;L.setWithCredentials(!0),L.listenOnce(vl.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case qu.NO_ERROR:const Q=L.getResponseJson();Dt(Xo,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(Q)),f(Q);break;case qu.TIMEOUT:Dt(Xo,`RPC '${e}' ${c} timed out`),b(new V(A.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const ce=L.getStatus();if(Dt(Xo,`RPC '${e}' ${c} failed with status:`,ce,"response text:",L.getResponseText()),ce>0){let Ue=L.getResponseJson();Array.isArray(Ue)&&(Ue=Ue[0]);const pt=Ue?.error;if(pt&&pt.status&&pt.message){const Bt=function(tn){const vn=tn.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(vn)>=0?vn:A.UNKNOWN}(pt.status);b(new V(Bt,pt.message))}else b(new V(A.UNKNOWN,"Server responded with status "+L.getStatus()))}else b(new V(A.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{Dt(Xo,`RPC '${e}' ${c} completed.`)}});const H=JSON.stringify(a);Dt(Xo,`RPC '${e}' ${c} sending request:`,a),L.send(t,"POST",H,s,15)})}Ro(e,t,s){const a=rg(),c=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jc(),b=ka(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Au({})),this.To(L.initMessageHeaders,t,s),L.encodeInitMessageHeaders=!0;const H=c.join("");Dt(Xo,`Creating RPC '${e}' stream ${a}: ${H}`,L);const Q=f.createWebChannel(H,L);let ce=!1,Ue=!1;const pt=new k_({io:tn=>{Ue?Dt(Xo,`Not sending because RPC '${e}' stream ${a} is closed:`,tn):(ce||(Dt(Xo,`Opening RPC '${e}' stream ${a} transport.`),Q.open(),ce=!0),Dt(Xo,`RPC '${e}' stream ${a} sending:`,tn),Q.send(tn))},ro:()=>Q.close()}),Bt=(tn,vn,gr)=>{tn.listen(vn,mi=>{try{gr(mi)}catch(_r){setTimeout(()=>{throw _r},0)}})};return Bt(Q,Wo.EventType.OPEN,()=>{Ue||Dt(Xo,`RPC '${e}' stream ${a} transport opened.`)}),Bt(Q,Wo.EventType.CLOSE,()=>{Ue||(Ue=!0,Dt(Xo,`RPC '${e}' stream ${a} transport closed`),pt.fo())}),Bt(Q,Wo.EventType.ERROR,tn=>{Ue||(Ue=!0,Ss(Xo,`RPC '${e}' stream ${a} transport errored:`,tn),pt.fo(new V(A.UNAVAILABLE,"The operation could not be completed")))}),Bt(Q,Wo.EventType.MESSAGE,tn=>{var vn;if(!Ue){const gr=tn.data[0];E(!!gr);const _r=gr.error||(null===(vn=gr[0])||void 0===vn?void 0:vn.error);if(_r){Dt(Xo,`RPC '${e}' stream ${a} received error:`,_r);const Wa=_r.status;let eo=function(iu){const Tu=Xs[iu];if(void 0!==Tu)return pp(Tu)}(Wa),ys=_r.message;void 0===eo&&(eo=A.INTERNAL,ys="Unknown error status: "+Wa+" with message "+_r.message),Ue=!0,pt.fo(new V(eo,ys)),Q.close()}else Dt(Xo,`RPC '${e}' stream ${a} received:`,gr),pt._o(gr)}}),Bt(b,Qi.STAT_EVENT,tn=>{tn.stat===fu.PROXY?Dt(Xo,`RPC '${e}' stream ${a} detected buffering proxy`):tn.stat===fu.NOPROXY&&Dt(Xo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{pt.lo()},0),pt}}function ih(){return typeof document<"u"?document:null}function gd(r){return new n_(r,!0)}class ig{constructor(e,t,s=1e3,a=1.5,c=6e4){this.si=e,this.timerId=t,this.vo=s,this.Po=a,this.bo=c,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),s=Math.max(0,Date.now()-this.Do),a=Math.max(0,t-s);a>0&&Dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,a,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class L_{constructor(e,t,s,a,c,f,b,L){this.si=e,this.Mo=s,this.Oo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new ig(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,gt.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,gt.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var s=this;return(0,gt.Z)(function*(){s.Wo(),s.Ho(),s.Lo.cancel(),s.$o++,4!==e?s.Lo.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),s.Lo.Co()):t&&t.code===A.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Jo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.$o===t&&this.Xo(s,a)},s=>{e(()=>{const a=new V(A.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Zo(a)})})}Xo(e,t){const s=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{s(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(a=>{s(()=>this.Zo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,gt.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ry extends L_{constructor(e,t,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function o_(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:y(),a=e.targetChange.targetIds||[],c=function(L,H){return L.useProto3Json?(E(void 0===H||"string"==typeof H),d.fromBase64String(H||"")):(E(void 0===H||H instanceof Uint8Array),d.fromUint8Array(H||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(L){const H=void 0===L.code?A.UNKNOWN:pp(L.code);return new V(H,L.message||"")}(f);t=new Am(s,a,c,b||null)}else if("documentChange"in e){const s=e.documentChange,a=Pu(r,s.document.name),c=Bs(s.document.updateTime),f=s.document.createTime?Bs(s.document.createTime):In.min(),b=new Bo({mapValue:{fields:s.document.fields}}),L=Gi.newFoundDocument(a,c,f,b);t=new $h(s.targetIds||[],s.removedTargetIds||[],L.key,L)}else if("documentDelete"in e){const s=e.documentDelete,a=Pu(r,s.document),c=s.readTime?Bs(s.readTime):In.min(),f=Gi.newNoDocument(a,c);t=new $h([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Pu(r,s.document);t=new $h([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return y();{const s=e.filter,{count:a=0,unchangedNames:c}=s,f=new Jv(a,c);t=new Sm(s.targetId,f)}}var L;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return In.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?In.min():c.readTime?Bs(c.readTime):In.min()}(e);return this.listener.eu(t,s)}nu(e){const t={};t.database=zh(this.serializer),t.addTarget=function(a,c){let f;const b=c.target;if(f=Oh(b)?{documents:nu(a,b)}:{query:Tp(a,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=xm(a,c.resumeToken);const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}else if(c.snapshotVersion.compareTo(In.min())>0){f.readTime=id(a,c.snapshotVersion.toTimestamp());const L=vp(a,c.expectedCount);null!==L&&(f.expectedCount=L)}return f}(this.serializer,e);const s=function u_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return y()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.zo(t)}su(e){const t={};t.database=zh(this.serializer),t.removeTarget=e,this.zo(t)}}class gE extends L_{constructor(e,t,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=c,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(E(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function a_(r,e){return r&&r.length>0?(E(void 0!==e),r.map(t=>function(s,a){let c=Bs(s.updateTime?s.updateTime:a);return c.isEqual(In.min())&&(c=Bs(a)),new up(c,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Bs(e.commitTime);return this.listener.uu(s,t)}return E(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=zh(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function sd(r,e){let t;if(e instanceof td)t={update:s_(r,e.key,e.value)};else if(e instanceof $l)t={delete:ja(r,e.key)};else if(e instanceof _u)t={update:s_(r,e.key,e.data),updateMask:ar(e.fieldMask)};else{if(!(e instanceof hp))return y();t={verify:ja(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,c){const f=c.transform;if(f instanceof Ll)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Vl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ul)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xc)return{fieldPath:c.field.canonicalString(),increment:f.wt};throw y()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:r_(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:y()),t;var a}(this.serializer,s))};this.zo(t)}}class cf extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.hu=!1}lu(){if(this.hu)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,s){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.po(e,t,s,a,c)).catch(a=>{throw"FirebaseError"===a.name?(a.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new V(A.UNKNOWN,a.toString())})}Ao(e,t,s,a){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ao(e,t,s,c,f,a)).catch(c=>{throw"FirebaseError"===c.name?(c.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new V(A.UNKNOWN,c.toString())})}terminate(){this.hu=!0}}class og{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Zr(t),this.wu=!1):Dt("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class U_{constructor(e,t,s,a,c){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=c,this.vu.Jr(b=>{s.enqueueAndForget((0,gt.Z)(function*(){var L;za(f)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,gt.Z)(function*(H){const Q=T(H);Q.Au.add(4),yield $s(Q),Q.Pu.set("Unknown"),Q.Au.delete(4),yield xa(Q)}),function(H){return L.apply(this,arguments)})(f))}))}),this.Pu=new og(s,a)}}function xa(r){return Ic.apply(this,arguments)}function Ic(){return Ic=(0,gt.Z)(function*(r){if(za(r))for(const e of r.Ru)yield e(!0)}),Ic.apply(this,arguments)}function $s(r){return fl.apply(this,arguments)}function fl(){return fl=(0,gt.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),fl.apply(this,arguments)}function Dc(r,e){const t=T(r);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Ql(t)?Yl(t):Sc(t).Uo()&&sh(t,e))}function ea(r,e){const t=T(r),s=Sc(t);t.Eu.delete(e),s.Uo()&&Tc(t,e),0===t.Eu.size&&(s.Uo()?s.Qo():za(t)&&t.Pu.set("Unknown"))}function sh(r,e){if(r.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(In.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sc(r).nu(e)}function Tc(r,e){r.bu.Lt(e),Sc(r).su(e)}function Yl(r){r.bu=new Mm({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),he:e=>r.Eu.get(e)||null,oe:()=>r.datastore.serializer.databaseId}),Sc(r).start(),r.Pu.mu()}function Ql(r){return za(r)&&!Sc(r).qo()&&r.Eu.size>0}function za(r){return 0===T(r).Au.size}function Cc(r){r.bu=void 0}function md(r){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,gt.Z)(function*(r){r.Eu.forEach((e,t)=>{sh(r,e)})}),Jl.apply(this,arguments)}function yd(r,e){return Xl.apply(this,arguments)}function Xl(){return Xl=(0,gt.Z)(function*(r,e){Cc(r),Ql(r)?(r.Pu.pu(e),Yl(r)):r.Pu.set("Unknown")}),Xl.apply(this,arguments)}function iy(r,e,t){return df.apply(this,arguments)}function df(){return df=(0,gt.Z)(function*(r,e,t){if(r.Pu.set("Online"),e instanceof Am&&2===e.state&&e.cause)try{yield(s=(0,gt.Z)(function*(a,c){const f=c.cause;for(const b of c.targetIds)a.Eu.has(b)&&(yield a.remoteSyncer.rejectListen(b,f),a.Eu.delete(b),a.bu.removeTarget(b))}),function(a,c){return s.apply(this,arguments)})(r,e)}catch(s){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield oh(r,s)}else if(e instanceof $h?r.bu.Wt(e):e instanceof Sm?r.bu.ee(e):r.bu.Yt(e),!t.isEqual(In.min()))try{const s=yield Kp(r.localStore);t.compareTo(s)>=0&&(yield function(a,c){const f=a.bu.ue(c);return f.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const H=a.Eu.get(L);H&&a.Eu.set(L,H.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach((b,L)=>{const H=a.Eu.get(b);if(!H)return;a.Eu.set(b,H.withResumeToken(d.EMPTY_BYTE_STRING,H.snapshotVersion)),Tc(a,b);const Q=new Ou(H.target,b,L,H.sequenceNumber);sh(a,Q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){Dt("RemoteStore","Failed to raise snapshot:",s),yield oh(r,s)}var s}),df.apply(this,arguments)}function oh(r,e,t){return hf.apply(this,arguments)}function hf(){return hf=(0,gt.Z)(function*(r,e,t){if(!ba(e))throw e;r.Au.add(1),yield $s(r),r.Pu.set("Offline"),t||(t=()=>Kp(r.localStore)),r.asyncQueue.enqueueRetryable((0,gt.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield t(),r.Au.delete(1),yield xa(r)}))}),hf.apply(this,arguments)}function ag(r,e){return e().catch(t=>oh(r,t,e))}function bc(r){return ff.apply(this,arguments)}function ff(){return ff=(0,gt.Z)(function*(r){const e=T(r),t=pl(e);let s=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;sy(e);)try{const a=yield Zp(e.localStore,s);if(null===a){0===e.Tu.length&&t.Qo();break}s=a.batchId,oy(e,a)}catch(a){yield oh(e,a)}ay(e)&&uy(e)}),ff.apply(this,arguments)}function sy(r){return za(r)&&r.Tu.length<10}function oy(r,e){r.Tu.push(e);const t=pl(r);t.Uo()&&t.ru&&t.ou(e.mutations)}function ay(r){return za(r)&&!pl(r).qo()&&r.Tu.length>0}function uy(r){pl(r).start()}function ly(r){return ug.apply(this,arguments)}function ug(){return ug=(0,gt.Z)(function*(r){pl(r).au()}),ug.apply(this,arguments)}function B_(r){return ah.apply(this,arguments)}function ah(){return ah=(0,gt.Z)(function*(r){const e=pl(r);for(const t of r.Tu)e.ou(t.mutations)}),ah.apply(this,arguments)}function lg(r,e,t){return cg.apply(this,arguments)}function cg(){return cg=(0,gt.Z)(function*(r,e,t){const s=r.Tu.shift(),a=Bh.from(s,e,t);yield ag(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield bc(r)}),cg.apply(this,arguments)}function pf(r,e){return vd.apply(this,arguments)}function vd(){return vd=(0,gt.Z)(function*(r,e){var t;e&&pl(r).ru&&(yield(t=(0,gt.Z)(function*(s,a){if(function Cm(r){switch(r){default:return y();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}(c=a.code)&&c!==A.ABORTED){const f=s.Tu.shift();pl(s).Go(),yield ag(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield bc(s)}var c}),function(s,a){return t.apply(this,arguments)})(r,e)),ay(r)&&uy(r)}),vd.apply(this,arguments)}function gf(r,e){return dg.apply(this,arguments)}function dg(){return dg=(0,gt.Z)(function*(r,e){const t=T(r);t.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const s=za(t);t.Au.add(3),yield $s(t),s&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield xa(t)}),dg.apply(this,arguments)}function Ed(){return Ed=(0,gt.Z)(function*(r,e){const t=T(r);e?(t.Au.delete(2),yield xa(t)):e||(t.Au.add(2),yield $s(t),t.Pu.set("Unknown"))}),Ed.apply(this,arguments)}function Sc(r){return r.Vu||(r.Vu=function(e,t,s){const a=T(e);return a.lu(),new ry(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:md.bind(null,r),co:yd.bind(null,r),eu:iy.bind(null,r)}),r.Ru.push(function(){var e=(0,gt.Z)(function*(t){t?(r.Vu.Go(),Ql(r)?Yl(r):r.Pu.set("Unknown")):(yield r.Vu.stop(),Cc(r))});return function(t){return e.apply(this,arguments)}}())),r.Vu}function pl(r){return r.Su||(r.Su=function(e,t,s){const a=T(e);return a.lu(),new gE(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{oo:ly.bind(null,r),co:pf.bind(null,r),cu:B_.bind(null,r),uu:lg.bind(null,r)}),r.Ru.push(function(){var e=(0,gt.Z)(function*(t){t?(r.Su.Go(),yield bc(r)):(yield r.Su.stop(),r.Tu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${r.Tu.length} pending writes`),r.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Su}class uh{constructor(e,t,s,a,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,c){const f=Date.now()+s,b=new uh(e,t,f,a,c);return b.start(s),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new V(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ac(r,e){if(Zr("AsyncQueue",`${e}: ${r}`),ba(r))return new V(A.UNAVAILABLE,`${e}: ${r}`);throw r}class Mc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||en.comparator(t.key,s.key):(t,s)=>en.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new Vr(this.comparator)}static emptySet(e){return new Mc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Mc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class mf{constructor(){this.Du=new Vr(en.comparator)}track(e){const t=e.doc.key,s=this.Du.get(t);s?0!==e.type&&3===s.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==s.type?this.Du=this.Du.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Du=this.Du.remove(t):1===e.type&&2===s.type?this.Du=this.Du.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):y():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,s)=>{e.push(s)}),e}}class xc{constructor(e,t,s,a,c,f,b,L,H){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(e,t,s,a,c){const f=[];return t.forEach(b=>{f.push({type:0,doc:b})}),new xc(e,t,Mc.emptySet(t),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class $_{constructor(){this.xu=void 0,this.listeners=[]}}class cy{constructor(){this.queries=new ol(e=>Vh(e),Lh),this.onlineState="Unknown",this.Nu=new Set}}function yf(r,e){return vf.apply(this,arguments)}function vf(){return vf=(0,gt.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1,c=t.queries.get(s);if(c||(a=!0,c=new $_),a)try{c.xu=yield t.onListen(s)}catch(f){const b=Ac(f,`Initialization of query '${Vd(e.query)}' failed`);return void e.onError(b)}t.queries.set(s,c),c.listeners.push(e),e.ku(t.onlineState),c.xu&&e.Mu(c.xu)&&Ef(t)}),vf.apply(this,arguments)}function _f(r,e){return hg.apply(this,arguments)}function hg(){return hg=(0,gt.Z)(function*(r,e){const t=T(r),s=e.query;let a=!1;const c=t.queries.get(s);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),a=0===c.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),hg.apply(this,arguments)}function j_(r,e){const t=T(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const b of f.listeners)b.Mu(a)&&(s=!0);f.xu=a}}s&&Ef(t)}function H_(r,e,t){const s=T(r),a=s.queries.get(e);if(a)for(const c of a.listeners)c.onError(t);s.queries.delete(e)}function Ef(r){r.Nu.forEach(e=>{e.next()})}class lh{constructor(e,t,s){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=s||{}}Mu(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new xc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=xc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class gg{constructor(e){this.key=e}}class mg{constructor(e){this.key=e}}class yg{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=cr(),this.mutatedKeys=cr(),this.Zu=tp(e),this.tc=new Mc(this.Zu)}get ec(){return this.Ju}nc(e,t){const s=t?t.sc:new mf,a=t?t.tc:this.tc;let c=t?t.mutatedKeys:this.mutatedKeys,f=a,b=!1;const L="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,H="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((Q,ce)=>{const Ue=a.get(Q),pt=Uh(this.query,ce)?ce:null,Bt=!!Ue&&this.mutatedKeys.has(Ue.key),tn=!!pt&&(pt.hasLocalMutations||this.mutatedKeys.has(pt.key)&&pt.hasCommittedMutations);let vn=!1;Ue&&pt?Ue.data.isEqual(pt.data)?Bt!==tn&&(s.track({type:3,doc:pt}),vn=!0):this.ic(Ue,pt)||(s.track({type:2,doc:pt}),vn=!0,(L&&this.Zu(pt,L)>0||H&&this.Zu(pt,H)<0)&&(b=!0)):!Ue&&pt?(s.track({type:0,doc:pt}),vn=!0):Ue&&!pt&&(s.track({type:1,doc:Ue}),vn=!0,(L||H)&&(b=!0)),vn&&(pt?(f=f.add(pt),c=tn?c.add(Q):c.delete(Q)):(f=f.delete(Q),c=c.delete(Q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const Q="F"===this.query.limitType?f.last():f.first();f=f.delete(Q.key),c=c.delete(Q.key),s.track({type:1,doc:Q})}return{tc:f,sc:s,ji:b,mutatedKeys:c}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const c=e.sc.Cu();c.sort((H,Q)=>function(ce,Ue){const pt=Bt=>{switch(Bt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return pt(ce)-pt(Ue)}(H.type,Q.type)||this.Zu(H.doc,Q.doc)),this.rc(s);const f=t?this.oc():[],b=0===this.Xu.size&&this.current?1:0,L=b!==this.Yu;return this.Yu=b,0!==c.length||L?{snapshot:new xc(this.query,e.tc,a,c,e.mutatedKeys,0===b,L,!1,!!s&&s.resumeToken.approximateByteSize()>0),uc:f}:{uc:f}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new mf,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=cr(),this.tc.forEach(s=>{this.cc(s.key)&&(this.Xu=this.Xu.add(s.key))});const t=[];return e.forEach(s=>{this.Xu.has(s)||t.push(new mg(s))}),this.Xu.forEach(s=>{e.has(s)||t.push(new gg(s))}),t}ac(e){this.Ju=e.sr,this.Xu=cr();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return xc.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class fy{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class wf{constructor(e){this.key=e,this.lc=!1}}class ec{constructor(e,t,s,a,c,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.fc={},this.dc=new ol(b=>Vh(b),Lh),this._c=new Map,this.wc=new Set,this.mc=new Vr(en.comparator),this.gc=new Map,this.yc=new eh,this.Ic={},this.Tc=new Map,this.Ec=cl.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function z_(r,e){return vg.apply(this,arguments)}function vg(){return vg=(0,gt.Z)(function*(r,e){const t=function Og(r){const e=T(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uu.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=my.bind(null,e),e.fc.eu=j_.bind(null,e.eventManager),e.fc.vc=H_.bind(null,e.eventManager),e}(r);let s,a;const c=t.dc.get(e);if(c)s=c.targetId,t.sharedClientState.addLocalQueryTarget(s),a=c.view.hc();else{const f=yield function Ma(r,e){const t=T(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Fs.getTargetData(s,e).next(c=>c?(a=c,We.resolve(a)):t.Fs.allocateTargetId(s).next(f=>(a=new Ou(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Fs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Hi.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(s.targetId,s),t.Ji.set(e,s.targetId)),s})}(t.localStore,Qo(e)),b=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function ch(r,e,t,s,a){return gl.apply(this,arguments)}(t,e,s,"current"===b,f.resumeToken),t.isPrimaryClient&&Dc(t.remoteStore,f)}return a}),vg.apply(this,arguments)}function gl(){return gl=(0,gt.Z)(function*(r,e,t,s,a){r.Rc=(ce,Ue,pt)=>{return(Bt=(0,gt.Z)(function*(tn,vn,gr,mi){let _r=vn.view.nc(gr);_r.ji&&(_r=yield Zl(tn.localStore,vn.query,!1).then(({documents:ys})=>vn.view.nc(ys,_r)));const Wa=mi&&mi.targetChanges.get(vn.targetId),eo=vn.view.applyChanges(_r,tn.isPrimaryClient,Wa);return bg(tn,vn.targetId,eo.uc),eo.snapshot}),function(tn,vn,gr,mi){return Bt.apply(this,arguments)})(r,ce,Ue,pt);var Bt};const c=yield Zl(r.localStore,e,!0),f=new yg(e,c.sr),b=f.nc(c.documents),L=rd.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),H=f.applyChanges(b,r.isPrimaryClient,L);bg(r,t,H.uc);const Q=new fy(e,t,f);return r.dc.set(e,Q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),H.snapshot}),gl.apply(this,arguments)}function _g(r,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,gt.Z)(function*(r,e){const t=T(r),s=t.dc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(c=>!Lh(c,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield hl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ea(t.remoteStore,s.targetId),wu(t,s.targetId)}).catch(pu))):(wu(t,s.targetId),yield hl(t.localStore,s.targetId,!0))}),Eg.apply(this,arguments)}function py(){return py=(0,gt.Z)(function*(r,e,t){const s=function Sf(r){const e=T(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=go.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W_.bind(null,e),e}(r);try{const a=yield function(c,f){const b=T(c),L=Di.now(),H=f.reduce((Ue,pt)=>Ue.add(pt.key),cr());let Q,ce;return b.persistence.runTransaction("Locally write mutations","readwrite",Ue=>{let pt=Aa(),Bt=cr();return b.Xi.getEntries(Ue,H).next(tn=>{pt=tn,pt.forEach((vn,gr)=>{gr.isValidDocument()||(Bt=Bt.add(vn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Ue,pt)).next(tn=>{Q=tn;const vn=[];for(const gr of f){const mi=cp(gr,Q.get(gr.key).overlayedDocument);null!=mi&&vn.push(new _u(gr.key,mi,dm(mi.value.mapValue),ss.exists(!0)))}return b.mutationQueue.addMutationBatch(Ue,L,vn,f)}).next(tn=>{ce=tn;const vn=tn.applyToLocalDocumentSet(Q,Bt);return b.documentOverlayCache.saveOverlays(Ue,tn.batchId,vn)})}).then(()=>({batchId:ce.batchId,changes:rp(Q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,f,b){let L=c.Ic[c.currentUser.toKey()];L||(L=new Vr(Mn)),L=L.insert(f,b),c.Ic[c.currentUser.toKey()]=L}(s,a.batchId,t),yield Vu(s,a.changes),yield bc(s.remoteStore)}catch(a){const c=Ac(a,"Failed to persist write");t.reject(c)}}),py.apply(this,arguments)}function G_(r,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,gt.Z)(function*(r,e){const t=T(r);try{const s=yield function Xm(r,e){const t=T(r),s=e.snapshotVersion;let a=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=t.Xi.newChangeBuffer({trackRemovals:!0});a=t.Hi;const b=[];e.targetChanges.forEach((Q,ce)=>{const Ue=a.get(ce);if(!Ue)return;b.push(t.Fs.removeMatchingKeys(c,Q.removedDocuments,ce).next(()=>t.Fs.addMatchingKeys(c,Q.addedDocuments,ce)));let pt=Ue.withSequenceNumber(c.currentSequenceNumber);var Bt,tn,vn;null!==e.targetMismatches.get(ce)?pt=pt.withResumeToken(d.EMPTY_BYTE_STRING,In.min()).withLastLimboFreeSnapshotVersion(In.min()):Q.resumeToken.approximateByteSize()>0&&(pt=pt.withResumeToken(Q.resumeToken,s)),a=a.insert(ce,pt),tn=pt,vn=Q,(0===(Bt=Ue).resumeToken.approximateByteSize()||tn.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&b.push(t.Fs.updateTargetData(c,pt))});let L=Aa(),H=cr();if(e.documentUpdates.forEach(Q=>{e.resolvedLimboDocuments.has(Q)&&b.push(t.persistence.referenceDelegate.updateLimboDocument(c,Q))}),b.push(function qp(r,e,t){let s=cr(),a=cr();return t.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Aa();return t.forEach((b,L)=>{const H=c.get(b);L.isFoundDocument()!==H.isFoundDocument()&&(a=a.add(b)),L.isNoDocument()&&L.version.isEqual(In.min())?(e.removeEntry(b,L.readTime),f=f.insert(b,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(L),f=f.insert(b,L)):Dt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",L.version)}),{er:f,nr:a}})}(c,f,e.documentUpdates).next(Q=>{L=Q.er,H=Q.nr})),!s.isEqual(In.min())){const Q=t.Fs.getLastRemoteSnapshotVersion(c).next(ce=>t.Fs.setTargetsMetadata(c,c.currentSequenceNumber,s));b.push(Q)}return We.waitFor(b).next(()=>f.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,L,H)).next(()=>L)}).then(c=>(t.Hi=a,c))}(t.localStore,e);e.targetChanges.forEach((a,c)=>{const f=t.gc.get(c);f&&(E(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.lc=!0:a.modifiedDocuments.size>0?E(f.lc):a.removedDocuments.size>0&&(E(f.lc),f.lc=!1))}),yield Vu(t,s,e)}catch(s){yield pu(s)}}),Ig.apply(this,arguments)}function gy(r,e,t){const s=T(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.dc.forEach((c,f)=>{const b=f.view.ku(e);b.snapshot&&a.push(b.snapshot)}),function(c,f){const b=T(c);b.onlineState=f;let L=!1;b.queries.forEach((H,Q)=>{for(const ce of Q.listeners)ce.ku(f)&&(L=!0)}),L&&Ef(b)}(s.eventManager,e),a.length&&s.fc.eu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function my(r,e,t){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,gt.Z)(function*(r,e,t){const s=T(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.gc.get(e),c=a&&a.key;if(c){let f=new Vr(en.comparator);f=f.insert(c,Gi.newNoDocument(c,In.min()));const b=cr().add(c),L=new Gd(In.min(),new Map,new Vr(Mn),f,b);yield G_(s,L),s.mc=s.mc.remove(c),s.gc.delete(e),Sg(s)}else yield hl(s.localStore,e,!1).then(()=>wu(s,e,t)).catch(pu)}),Dg.apply(this,arguments)}function go(r,e){return If.apply(this,arguments)}function If(){return If=(0,gt.Z)(function*(r,e){const t=T(r),s=e.batch.batchId;try{const a=yield function Jm(r,e){const t=T(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=t.Xi.newChangeBuffer({trackRemovals:!0});return function(f,b,L,H){const Q=L.batch,ce=Q.keys();let Ue=We.resolve();return ce.forEach(pt=>{Ue=Ue.next(()=>H.getEntry(b,pt)).next(Bt=>{const tn=L.docVersions.get(pt);E(null!==tn),Bt.version.compareTo(tn)<0&&(Q.applyToRemoteDocument(Bt,L),Bt.isValidDocument()&&(Bt.setReadTime(L.commitVersion),H.addEntry(Bt)))})}),Ue.next(()=>f.mutationQueue.removeMutationBatch(b,Q))}(t,s,e,c).next(()=>c.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let b=cr();for(let L=0;L<f.mutationResults.length;++L)f.mutationResults[L].transformResults.length>0&&(b=b.add(f.batch.mutations[L].key));return b}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);Tf(t,s,null),Df(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Vu(t,a)}catch(a){yield pu(a)}}),If.apply(this,arguments)}function W_(r,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,gt.Z)(function*(r,e,t){const s=T(r);try{const a=yield function(c,f){const b=T(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return b.mutationQueue.lookupMutationBatch(L,f).next(Q=>(E(null!==Q),H=Q.keys(),b.mutationQueue.removeMutationBatch(L,Q))).next(()=>b.mutationQueue.performConsistencyCheck(L)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(L,H,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>b.localDocuments.getDocuments(L,H))})}(s.localStore,e);Tf(s,e,t),Df(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Vu(s,a)}catch(a){yield pu(a)}}),Tg.apply(this,arguments)}function Df(r,e){(r.Tc.get(e)||[]).forEach(t=>{t.resolve()}),r.Tc.delete(e)}function Tf(r,e,t){const s=T(r);let a=s.Ic[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(t?c.reject(t):c.resolve(),a=a.remove(e)),s.Ic[s.currentUser.toKey()]=a}}function wu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.dc.delete(s),t&&r.fc.vc(s,t);r._c.delete(e),r.isPrimaryClient&&r.yc.ps(e).forEach(s=>{r.yc.containsKey(s)||vy(r,s)})}function vy(r,e){r.wc.delete(e.path.canonicalString());const t=r.mc.get(e);null!==t&&(ea(r.remoteStore,t),r.mc=r.mc.remove(e),r.gc.delete(t),Sg(r))}function bg(r,e,t){for(const s of t)s instanceof gg?(r.yc.addReference(s.key,e),_y(r,s)):s instanceof mg?(Dt("SyncEngine","Document no longer in limbo: "+s.key),r.yc.removeReference(s.key,e),r.yc.containsKey(s.key)||vy(r,s.key)):y()}function _y(r,e){const t=e.key,s=t.path.canonicalString();r.mc.get(t)||r.wc.has(s)||(Dt("SyncEngine","New document in limbo: "+t),r.wc.add(s),Sg(r))}function Sg(r){for(;r.wc.size>0&&r.mc.size<r.maxConcurrentLimboResolutions;){const e=r.wc.values().next().value;r.wc.delete(e);const t=new en(Nr.fromString(e)),s=r.Ec.next();r.gc.set(s,new wf(t)),r.mc=r.mc.insert(t,s),Dc(r.remoteStore,new Ou(Qo(Qc(t.path)),s,"TargetPurposeLimboResolution",po.ct))}}function Vu(r,e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,gt.Z)(function*(r,e,t){const s=T(r),a=[],c=[],f=[];var b;s.dc.isEmpty()||(s.dc.forEach((b,L)=>{f.push(s.Rc(L,e,t).then(H=>{if((H||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){a.push(H);const Q=fd.Bi(L.targetId,H);c.push(Q)}}))}),yield Promise.all(f),s.fc.eu(a),yield(b=(0,gt.Z)(function*(L,H){const Q=T(L);try{yield Q.persistence.runTransaction("notifyLocalViewChanges","readwrite",ce=>We.forEach(H,Ue=>We.forEach(Ue.$i,pt=>Q.persistence.referenceDelegate.addReference(ce,Ue.targetId,pt)).next(()=>We.forEach(Ue.Fi,pt=>Q.persistence.referenceDelegate.removeReference(ce,Ue.targetId,pt)))))}catch(ce){if(!ba(ce))throw ce;Dt("LocalStore","Failed to update sequence numbers: "+ce)}for(const ce of H){const Ue=ce.targetId;if(!ce.fromCache){const pt=Q.Hi.get(Ue),tn=pt.withLastLimboFreeSnapshotVersion(pt.snapshotVersion);Q.Hi=Q.Hi.insert(Ue,tn)}}}),function(L,H){return b.apply(this,arguments)})(s.localStore,c))}),Ey.apply(this,arguments)}function Ag(r,e){return dh.apply(this,arguments)}function dh(){return dh=(0,gt.Z)(function*(r,e){const t=T(r);if(!t.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const s=yield tf(t.localStore,e);t.currentUser=e,(a=t).Tc.forEach(f=>{f.forEach(b=>{b.reject(new V(A.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Tc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Vu(t,s.tr)}var a}),dh.apply(this,arguments)}function Uu(r,e){const t=T(r),s=t.gc.get(e);if(s&&s.lc)return cr().add(s.key);{let a=cr();const c=t._c.get(e);if(!c)return a;for(const f of c){const b=t.dc.get(f);a=a.unionWith(b.view.ec)}return a}}class Rc{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,gt.Z)(function*(){t.serializer=gd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function x_(r,e,t,s){return new ef(r,e,t,s)}(this.persistence,new th,e.initialUser,this.serializer)}createPersistence(e){return new ru(Qh.js,this.serializer)}createSharedClientState(e){return new af}terminate(){var e=this;return(0,gt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tc{initialize(e,t){var s=this;return(0,gt.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>gy(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Ag.bind(null,s.syncEngine),yield function _d(r,e){return Ed.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cy}createDatastore(e){const t=gd(e.databaseInfo.databaseId),s=new F_(e.databaseInfo);return new cf(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,c=b=>gy(this.syncEngine,b,0),f=uf.D()?new uf:new P_,new U_(t,s,a,c,f);var t,s,a,c,f}createSyncEngine(e,t){return function(s,a,c,f,b,L,H){const Q=new ec(s,a,c,f,b,L);return H&&(Q.Ac=!0),Q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,gt.Z)(function*(t){const s=T(t);Dt("RemoteStore","RemoteStore shutting down."),s.Au.add(5),yield $s(s),s.vu.shutdown(),s.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class ph{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class My{constructor(e,t,s,a){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Ii.UNAUTHENTICATED,this.clientId=sc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,gt.Z)(function*(b){Dt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(Dt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,gt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,gt.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ac(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function gh(r,e){return Af.apply(this,arguments)}function Af(){return Af=(0,gt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,gt.Z)(function*(c){s.isEqual(c)||(yield tf(e.localStore,c),s=c)});return function(c){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Af.apply(this,arguments)}function Mf(r,e){return Lg.apply(this,arguments)}function Lg(){return Lg=(0,gt.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Vg(r){return Ug.apply(this,arguments)}(r);Dt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>gf(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,c)=>gf(e.remoteStore,c)),r._onlineComponents=e}),Lg.apply(this,arguments)}function Ug(){return Ug=(0,gt.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Dt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield gh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xy(r){return"FirebaseError"===r.name?r.code===A.FAILED_PRECONDITION||r.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;Ss("Error using user provided cache. Falling back to memory cache: "+t),yield gh(r,new Rc)}}else Dt("FirestoreClient","Using default OfflineComponentProvider"),yield gh(r,new Rc);return r._offlineComponents}),Ug.apply(this,arguments)}function xf(r){return Bg.apply(this,arguments)}function Bg(){return Bg=(0,gt.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Dt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mf(r,r._uninitializedComponentsProvider._online)):(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield Mf(r,new tc))),r._onlineComponents}),Bg.apply(this,arguments)}function wd(r){return jg.apply(this,arguments)}function jg(){return jg=(0,gt.Z)(function*(r){const e=yield xf(r),t=e.eventManager;return t.onListen=z_.bind(null,e.syncEngine),t.onUnlisten=_g.bind(null,e.syncEngine),t}),jg.apply(this,arguments)}const zg=new Map;function Nf(r,e,t){if(!t)throw new V(A.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Gg(r){if(!en.isDocumentKey(r))throw new V(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wg(r){if(en.isDocumentKey(r))throw new V(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Id(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":y()}function vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new V(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Id(r);throw new V(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class $y{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new V(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new V(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Uy(r,e,t,s){if(!0===e&&!0===s)throw new V(A.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $u{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new V(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ht;switch(t.type){case"firstParty":return new Si(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new V(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zg.get(e);t&&(Dt("ComponentProvider","Removing Datastore"),zg.delete(e),t.terminate())}(this),Promise.resolve()}}class ms{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ms(this.firestore,e,this._key)}}class ta{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class Du extends ta{constructor(e,t,s){super(e,t,Qc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ms(this.firestore,null,new en(e))}withConverter(e){return new Du(this.firestore,e,this._path)}}function jy(r,e,...t){if(r=(0,Se.m9)(r),Nf("collection","path",e),r instanceof $u){const s=Nr.fromString(e,...t);return Wg(s),new Du(r,null,s)}{if(!(r instanceof ms||r instanceof Du))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nr.fromString(e,...t));return Wg(s),new Du(r.firestore,null,s)}}function Vn(r,e,...t){if(r=(0,Se.m9)(r),1===arguments.length&&(e=sc.A()),Nf("doc","path",e),r instanceof $u){const s=Nr.fromString(e,...t);return Gg(s),new ms(r,null,new en(s))}{if(!(r instanceof ms||r instanceof Du))throw new V(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Nr.fromString(e,...t));return Gg(s),new ms(r.firestore,r instanceof Du?r.converter:null,new en(s))}}class X_{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new ig(this,"async_queue_retry"),this.Yc=()=>{const t=ih();t&&Dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=ih();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=ih();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Y;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,gt.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!ba(t))throw t;Dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(s=>{throw this.zc=s,this.Wc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(s)),s}).then(s=>(this.Wc=!1,s))));return this.Kc=t,t}enqueueAfterDelay(e,t,s){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const a=uh.createAndSchedule(this,e,t,s,c=>this.ea(c));return this.jc.push(a),a}Xc(){this.zc&&y()}verifyOperationInProgress(){}na(){var e=this;return(0,gt.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function nc(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class Oi extends $u{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new X_,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qg(this),this._firestoreClient.terminate()}}function vE(r,e){const t="object"==typeof r?r:(0,ze.getApp)(),s="string"==typeof r?r:e||"(default)",a=(0,ze._getProvider)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=(0,Se.P0)("firestore");c&&function mE(r,e,t,s={}){var a;const c=(r=vr(r,$u))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Ss("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,b;if("string"==typeof s.mockUserToken)f=s.mockUserToken,b=Ii.MOCK_USER;else{f=(0,Se.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new V(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ii(L)}r._authCredentials=new Xt(new Ce(f,b))}}(a,...c)}return a}function Hs(r){return r._firestoreClient||qg(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function qg(r){var e,t,s;const a=r._freezeSettings(),c=(b=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new an(r._databaseId,b,r._persistenceKey,(H=a).host,H.ssl,H.experimentalForceLongPolling,H.experimentalAutoDetectLongPolling,H.useFetchStreams));var b,H;r._firestoreClient=new My(r._authCredentials,r._appCheckCredentials,r._queue,c),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rc(d.fromBase64String(e))}catch(t){throw new V(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new rc(d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new V(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yg{constructor(e){this._methodName=e}}class Pc{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mn(this._lat,e._lat)||Mn(this._long,e._long)}}const yh=/^__.*__$/;class o0{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new _u(e,this.data,this.fieldMask,t,this.fieldTransforms):new td(e,this.data,t,this.fieldTransforms)}}class Gy{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new _u(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wy(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}class vh{constructor(e,t,s,a,c,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===c&&this.oa(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new vh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.la(e),a}fa(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.ca({path:s,ha:!1});return a.oa(),a}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return Ff(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Wy(this.ua)&&yh.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Ky{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||gd(e)}ga(e,t,s,a=!1){return new vh({ua:e,methodName:t,ma:s,path:Ji.emptyPath(),ha:!1,wa:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oc(r){const e=r._freezeSettings(),t=gd(r._databaseId);return new Ky(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Qg(r,e,t,s,a,c={}){const f=r.ga(c.merge||c.mergeFields?2:0,e,t,a);Fc("Data must be an object, but it was:",f,s);const b=Zy(s,f);let L,H;if(c.merge)L=new Yo(f.fieldMask),H=f.fieldTransforms;else if(c.mergeFields){const Q=[];for(const ce of c.mergeFields){const Ue=Eh(e,ce,t);if(!f.contains(Ue))throw new V(A.INVALID_ARGUMENT,`Field '${Ue}' is specified in your field mask but missing from your input data.`);l0(Q,Ue)||Q.push(Ue)}L=new Yo(Q),H=f.fieldTransforms.filter(ce=>L.covers(ce.field))}else L=null,H=f.fieldTransforms;return new o0(new Bo(b),L,H)}class Dd extends Yg{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function kc(r,e){if(em(r=(0,Se.m9)(r)))return Fc("Unsupported field value:",e,r),Zy(r,e);if(r instanceof Yg)return function(t,s){if(!Wy(s.ua))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let c=0;for(const f of t){let b=kc(f,s.da(c));null==b&&(b={nullValue:"NULL_VALUE"}),a.push(b),c++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,Se.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Dm(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Di.fromDate(t);return{timestampValue:id(s.serializer,a)}}if(t instanceof Di){const a=new Di(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:id(s.serializer,a)}}if(t instanceof Pc)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rc)return{bytesValue:xm(s.serializer,t._byteString)};if(t instanceof ms){const a=s.databaseId,c=t.firestore._databaseId;if(!c.isEqual(a))throw s._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_p(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Id(t)}`)}(r,e)}function Zy(r,e){const t={};return ya(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(s,a)=>{const c=kc(a,e.aa(s));null!=c&&(t[s]=c)}),{mapValue:{fields:t}}}function em(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Di||r instanceof Pc||r instanceof rc||r instanceof ms||r instanceof Yg)}function Fc(r,e,t){if(!em(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Id(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function Eh(r,e,t){if((e=(0,Se.m9)(e))instanceof Nc)return e._internalPath;if("string"==typeof e)return kf(r,e);throw Ff("Field path arguments must be of type string or ",r,!1,void 0,t)}const u0=new RegExp("[~\\*/\\[\\]]");function kf(r,e,t){if(e.search(u0)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nc(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Ff(r,e,t,s,a){const c=s&&!s.isEmpty(),f=void 0!==a;let b=`Function ${e}() called with invalid data`;t&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(c||f)&&(L+=" (found",c&&(L+=` in field ${s}`),f&&(L+=` in document ${a}`),L+=")"),new V(A.INVALID_ARGUMENT,b+r+L)}function l0(r,e){return r.some(t=>t.isEqual(e))}class tm{constructor(e,t,s,a,c){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Yy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Yy extends tm{data(){return super.data()}}function Lf(r,e){return"string"==typeof e?kf(r,e):e instanceof Nc?e._internalPath:e._delegate._internalPath}function Qy(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new V(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lc{}class c0 extends Lc{}function Jy(r,e,...t){let s=[];e instanceof Lc&&s.push(e),s=s.concat(t),function(a){const c=a.filter(b=>b instanceof Td).length,f=a.filter(b=>b instanceof wh).length;if(c>1||c>0&&f>0)throw new V(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class wh extends c0{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new wh(e,t,s)}_apply(e){const t=this._parse(e);return iv(e._query,t),new ta(e.firestore,e.converter,ym(e._query,t))}_parse(e){const t=Oc(e.firestore);return function(a,c,f,b,L,H,Q){let ce;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new V(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){rv(Q,H);const Ue=[];for(const pt of Q)Ue.push(nv(b,a,pt));ce={arrayValue:{values:Ue}}}else ce=nv(b,a,Q)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||rv(Q,H),ce=function _h(r,e,t,s=!1){return kc(t,r.ga(s?4:3,e))}(f,"where",Q,"in"===H||"not-in"===H);return Hr.create(L,H,ce)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function Xy(r,e,t){const s=e,a=Lf("where",r);return wh._create(a,s,t)}class Td extends Lc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Td(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let c=s;const f=a.getFlattenedFilters();for(const b of f)iv(c,b),c=ym(c,b)}(e._query,t),new ta(e.firestore,e.converter,ym(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function nv(r,e,t){if("string"==typeof(t=(0,Se.m9)(t))){if(""===t)throw new V(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fh(e)&&-1!==t.indexOf("/"))throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Nr.fromString(t));if(!en.isDocumentKey(s))throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return eu(r,new en(s))}if(t instanceof ms)return eu(r,t._key);throw new V(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(t)}.`)}function rv(r,e){if(!Array.isArray(r)||0===r.length)throw new V(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iv(r,e){if(e.isInequality()){const s=Ol(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new V(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const c=vu(r);null!==c&&function sv(r,e,t){if(!t.isEqual(e))throw new V(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,c)}const t=function(s,a){for(const c of s)for(const f of c.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new V(A.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p0{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return j(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ee(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return es(e,(a,c)=>{s[a]=this.convertValue(c,t)}),s}convertGeoPoint(e){return new Pc(j(e.latitude),j(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nt(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Vt(e));default:return null}}convertTimestamp(e){const t=C(e);return new Di(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Nr.fromString(e);E(bp(s));const a=new mn(s.get(1),s.get(3)),c=new en(s.popFirst(5));return a.isEqual(t)||Zr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}class Vc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ic extends tm{constructor(e,t,s,a,c,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Lf("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Cd extends ic{data(e={}){return super.data(e)}}class Uc{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Vc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Cd(this._firestore,this._userDataWriter,s.key,s,new Vc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:c++}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const b=new Cd(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Vc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let L=-1,H=-1;return 0!==f.type&&(L=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),H=c.indexOf(f.doc.key)),{type:nm(f.type),doc:b,oldIndex:L,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nm(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}class ju extends p0{constructor(e){super(),this.firestore=e}convertBytes(e){return new rc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,t)}}function bd(r){r=vr(r,ta);const e=vr(r.firestore,Oi),t=Hs(e),s=new ju(e);return Qy(r._query),function Hg(r,e,t={}){const s=new Y;return r.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return function(a,c,f,b,L){const H=new ph({next:ce=>{c.enqueueAndForget(()=>_f(a,Q)),ce.fromCache&&"server"===b.source?L.reject(new V(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(ce)},error:ce=>L.reject(ce)}),Q=new lh(f,H,{includeMetadataChanges:!0,Uu:!0});return yf(a,Q)}(yield wd(r),r.asyncQueue,e,t,s)})),s.promise}(t,r._query).then(a=>new Uc(e,s,r,a))}function BE(r,e,t){r=vr(r,ms);const s=vr(r.firestore,Oi),a=function Bf(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}(r.converter,e,t);return Sd(s,[Qg(Oc(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,ss.none())])}function uv(r,e,t,...s){r=vr(r,ms);const a=vr(r.firestore,Oi),c=Oc(a);let f;return f="string"==typeof(e=(0,Se.m9)(e))||e instanceof Nc?function Xg(r,e,t,s,a,c){const f=r.ga(1,e,t),b=[Eh(e,s,t)],L=[a];if(c.length%2!=0)throw new V(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ue=0;Ue<c.length;Ue+=2)b.push(Eh(e,c[Ue])),L.push(c[Ue+1]);const H=[],Q=Bo.empty();for(let Ue=b.length-1;Ue>=0;--Ue)if(!l0(H,b[Ue])){const pt=b[Ue];let Bt=L[Ue];Bt=(0,Se.m9)(Bt);const tn=f.fa(pt);if(Bt instanceof Dd)H.push(pt);else{const vn=kc(Bt,tn);null!=vn&&(H.push(pt),Q.set(pt,vn))}}const ce=new Yo(H);return new Gy(Q,ce,f.fieldTransforms)}(c,"updateDoc",r._key,e,t,s):function a0(r,e,t,s){const a=r.ga(1,e,t);Fc("Data must be an object, but it was:",a,s);const c=[],f=Bo.empty();es(s,(L,H)=>{const Q=kf(e,L,t);H=(0,Se.m9)(H);const ce=a.fa(Q);if(H instanceof Dd)c.push(Q);else{const Ue=kc(H,ce);null!=Ue&&(c.push(Q),f.set(Q,Ue))}});const b=new Yo(c);return new Gy(f,b,a.fieldTransforms)}(c,"updateDoc",r._key,e),Sd(a,[f.toMutation(r._key,ss.exists(!0))])}function rm(r){return Sd(vr(r.firestore,Oi),[new $l(r._key,ss.none())])}function Sd(r,e){return function(t,s){const a=new Y;return t.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return function wg(r,e,t){return py.apply(this,arguments)}(yield function $g(r){return xf(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(Hs(r),e)}!function(r,e=!0){Ca=ze.SDK_VERSION,(0,ze._registerComponent)(new rt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const c=t.getProvider("app").getImmediate(),f=new Oi(new Wt(t.getProvider("auth-internal")),new qo(t.getProvider("app-check-internal")),function(b,L){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new V(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mn(b.options.projectId,L)}(c,s),c);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,ze.registerVersion)(Fa,"3.11.0",r),(0,ze.registerVersion)(Fa,"3.11.0","esm2017")}();var fv=G(9751),sm=G(4004),pv={includeMetadataChanges:!1};function jf(r,e){return void 0===e&&(e=pv),new fv.y(function(t){var s=function im(r,...e){var t,s,a;r=(0,Se.m9)(r);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||nc(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(nc(e[f])){const ce=e[f];e[f]=null===(t=ce.next)||void 0===t?void 0:t.bind(ce),e[f+1]=null===(s=ce.error)||void 0===s?void 0:s.bind(ce),e[f+2]=null===(a=ce.complete)||void 0===a?void 0:a.bind(ce)}let L,H,Q;if(r instanceof ms)H=vr(r.firestore,Oi),Q=Qc(r._key.path),L={next:ce=>{e[f]&&e[f](function Th(r,e,t){const s=t.docs.get(e._key),a=new ju(r);return new ic(r,a,e._key,s,new Vc(t.hasPendingWrites,t.fromCache),e.converter)}(H,r,ce))},error:e[f+1],complete:e[f+2]};else{const ce=vr(r,ta);H=vr(ce.firestore,Oi),Q=ce._query;const Ue=new ju(H);L={next:pt=>{e[f]&&e[f](new Uc(H,Ue,ce,pt))},error:e[f+1],complete:e[f+2]},Qy(r._query)}return function(ce,Ue,pt,Bt){const tn=new ph(Bt),vn=new lh(Ue,tn,pt);return ce.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return yf(yield wd(ce),vn)})),()=>{tn.Sc(),ce.asyncQueue.enqueueAndForget((0,gt.Z)(function*(){return _f(yield wd(ce),vn)}))}}(Hs(H),Q,b,L)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Ch(r,e){return void 0===e&&(e={}),function Hu(r){return jf(r,{includeMetadataChanges:!0}).pipe((0,sm.U)(function(e){return e.docs}))}(r).pipe((0,sm.U)(function(t){return t.map(function(s){return function mv(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class zf{constructor(e){return e}}const _v="firestore",Md=new W.OlP("angularfire2.firestore-instances");function O0(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new zf(s)}}const Ev={provide:class N0{constructor(){return(0,p.vb)(_v)}},deps:[[new W.FiY,Md]]},wv={provide:zf,useFactory:function P0(r,e){const t=(0,p.JM)(_v,r,e);return t&&new zf(t)},deps:[[new W.FiY,Md],Z.Ot]};let Gf=(()=>{class r{constructor(){(0,De.KN)("angularfire",p.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=W.oAB({type:r}),r.\u0275inj=W.cJS({providers:[wv,Ev]}),r})();function Iv(r,...e){return{ngModule:Gf,providers:[{provide:Md,useFactory:O0(r),multi:!0,deps:[W.R0b,W.zs3,p.HU,Z.z6,[new W.FiY,pe],[new W.FiY,Rn.nm],...e]}]}}const um=(0,p.u3)(Ch,!0),Sv=(0,p.u3)(jy,!0),Av=(0,p.u3)(rm,!0),Mv=(0,p.u3)(Vn,!0),Sh=(0,p.u3)(bd,!0),$0=(0,p.u3)(vE,!0),gw=(0,p.u3)(Jy,!0),K0=(0,p.u3)(BE,!0),Z0=(0,p.u3)(uv,!0),Y0=(0,p.u3)(Xy,!0)},1157:(nn,it,G)=>{G.d(it,{q4:()=>Gc,iC:()=>uc,HU:()=>Sa,vb:()=>ac,JM:()=>el,u3:()=>tl});var p=G(4650),W=G(259),Z=G(5861),De=G(6881),be=G(2090),Se=G(4859),ze=G(1877);const Be=(D,x)=>x.some(U=>D instanceof U);let rt,de;const dt=new WeakMap,ut=new WeakMap,It=new WeakMap,$t=new WeakMap,Qe=new WeakMap;let wt={get(D,x,U){if(D instanceof IDBTransaction){if("done"===x)return ut.get(D);if("objectStoreNames"===x)return D.objectStoreNames||It.get(D);if("store"===x)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return vt(D[x])},set:(D,x,U)=>(D[x]=U,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function Ze(D){return"function"==typeof D?function we(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(et(this),x),vt(dt.get(this))}:function(...x){return vt(D.apply(et(this),x))}:function(x,...U){const ne=D.call(et(this),x,...U);return It.set(ne,x.sort?x.sort():[x]),vt(ne)}}(D):(D instanceof IDBTransaction&&function Et(D){if(ut.has(D))return;const x=new Promise((U,ne)=>{const _e=()=>{D.removeEventListener("complete",Re),D.removeEventListener("error",ct),D.removeEventListener("abort",ct)},Re=()=>{U(),_e()},ct=()=>{ne(D.error||new DOMException("AbortError","AbortError")),_e()};D.addEventListener("complete",Re),D.addEventListener("error",ct),D.addEventListener("abort",ct)});ut.set(D,x)}(D),Be(D,function le(){return rt||(rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,wt):D)}function vt(D){if(D instanceof IDBRequest)return function ft(D){const x=new Promise((U,ne)=>{const _e=()=>{D.removeEventListener("success",Re),D.removeEventListener("error",ct)},Re=()=>{U(vt(D.result)),_e()},ct=()=>{ne(D.error),_e()};D.addEventListener("success",Re),D.addEventListener("error",ct)});return x.then(U=>{U instanceof IDBCursor&&dt.set(U,D)}).catch(()=>{}),Qe.set(x,D),x}(D);if($t.has(D))return $t.get(D);const x=Ze(D);return x!==D&&($t.set(D,x),Qe.set(x,D)),x}const et=D=>Qe.get(D),rn=["get","getKey","getAll","getAllKeys","count"],zt=["put","add","delete","clear"],_n=new Map;function Lt(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(_n.get(x))return _n.get(x);const U=x.replace(/FromIndex$/,""),ne=x!==U,_e=zt.includes(U);if(!(U in(ne?IDBIndex:IDBObjectStore).prototype)||!_e&&!rn.includes(U))return;const Re=function(){var ct=(0,Z.Z)(function*(Qt,...Kt){const gn=this.transaction(Qt,_e?"readwrite":"readonly");let Bn=gn.store;return ne&&(Bn=Bn.index(Kt.shift())),(yield Promise.all([Bn[U](...Kt),_e&&gn.done]))[0]});return function(Kt){return ct.apply(this,arguments)}}();return _n.set(x,Re),Re}!function Fe(D){wt=D(wt)}(D=>({...D,get:(x,U,ne)=>Lt(x,U)||D.get(x,U,ne),has:(x,U)=>!!Lt(x,U)||D.has(x,U)}));const ke="@firebase/installations",Ye="0.6.4",je=1e4,ot=`w:${Ye}`,mt="FIS_v2",st="https://firebaseinstallations.googleapis.com/v1",Nt=36e5,Ne=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(D){return D instanceof be.ZR&&D.code.includes("request-failed")}function Ut({projectId:D}){return`${st}/projects/${D}/installations`}function Kn(D){return{token:D.token,requestStatus:2,expiresIn:sn(D.expiresIn),creationTime:Date.now()}}function jn(D,x){return Er.apply(this,arguments)}function Er(){return(Er=(0,Z.Z)(function*(D,x){const ne=(yield x.json()).error;return Ne.create("request-failed",{requestName:D,serverCode:ne.code,serverMessage:ne.message,serverStatus:ne.status})})).apply(this,arguments)}function wr({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function hr(D){return zr.apply(this,arguments)}function zr(){return(zr=(0,Z.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function sn(D){return Number(D.replace("s","000"))}function Pt(){return(Pt=(0,Z.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:U}){const ne=Ut(D),_e=wr(D),Re=x.getImmediate({optional:!0});if(Re){const gn=yield Re.getHeartbeatsHeader();gn&&_e.append("x-firebase-client",gn)}const Qt={method:"POST",headers:_e,body:JSON.stringify({fid:U,authVersion:mt,appId:D.appId,sdkVersion:ot})},Kt=yield hr(()=>fetch(ne,Qt));if(Kt.ok){const gn=yield Kt.json();return{fid:gn.fid||U,registrationStatus:2,refreshToken:gn.refreshToken,authToken:Kn(gn.authToken)}}throw yield jn("Create Installation",Kt)})).apply(this,arguments)}function Hn(D){return new Promise(x=>{setTimeout(x,D)})}const Pn=/^[cdef][\w-]{21}$/,vi="";function ki(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const U=function Xn(D){return function yi(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Pn.test(U)?U:vi}catch{return vi}}function Cn(D){return`${D.appName}!${D.appId}`}const Ot=new Map;function ln(D,x){const U=Cn(D);mr(U,x),function Ti(D,x){const U=function _i(){return!ri&&"BroadcastChannel"in self&&(ri=new BroadcastChannel("[Firebase] FID Change"),ri.onmessage=D=>{mr(D.data.key,D.data.fid)}),ri}();U&&U.postMessage({key:D,fid:x}),function ir(){0===Ot.size&&ri&&(ri.close(),ri=null)}()}(U,x)}function mr(D,x){const U=Ot.get(D);if(U)for(const ne of U)ne(x)}let ri=null;const Wi="firebase-installations-database",Yn=1,Ci="firebase-installations-store";let Rn=null;function gt(){return Rn||(Rn=function Pe(D,x,{blocked:U,upgrade:ne,blocking:_e,terminated:Re}={}){const ct=indexedDB.open(D,x),Qt=vt(ct);return ne&&ct.addEventListener("upgradeneeded",Kt=>{ne(vt(ct.result),Kt.oldVersion,Kt.newVersion,vt(ct.transaction))}),U&&ct.addEventListener("blocked",()=>U()),Qt.then(Kt=>{Re&&Kt.addEventListener("close",()=>Re()),_e&&Kt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),Qt}(Wi,Yn,{upgrade:(D,x)=>{0===x&&D.createObjectStore(Ci)}})),Rn}function Tr(D,x){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,Z.Z)(function*(D,x){const U=Cn(D),_e=(yield gt()).transaction(Ci,"readwrite"),Re=_e.objectStore(Ci),ct=yield Re.get(U);return yield Re.put(x,U),yield _e.done,(!ct||ct.fid!==x.fid)&&ln(D,x.fid),x})).apply(this,arguments)}function St(D){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,Z.Z)(function*(D){const x=Cn(D),ne=(yield gt()).transaction(Ci,"readwrite");yield ne.objectStore(Ci).delete(x),yield ne.done})).apply(this,arguments)}function Jt(D,x){return fr.apply(this,arguments)}function fr(){return(fr=(0,Z.Z)(function*(D,x){const U=Cn(D),_e=(yield gt()).transaction(Ci,"readwrite"),Re=_e.objectStore(Ci),ct=yield Re.get(U),Qt=x(ct);return void 0===Qt?yield Re.delete(U):yield Re.put(Qt,U),yield _e.done,Qt&&(!ct||ct.fid!==Qt.fid)&&ln(D,Qt.fid),Qt})).apply(this,arguments)}function ue(D){return se.apply(this,arguments)}function se(){return se=(0,Z.Z)(function*(D){let x;const U=yield Jt(D.appConfig,ne=>{const _e=function ge(D){return ye(D||{fid:ki(),registrationStatus:0})}(ne),Re=function at(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(Ne.create("app-offline"))};const U={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},ne=function Oe(D,x){return Mt.apply(this,arguments)}(D,U);return{installationEntry:U,registrationPromise:ne}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:me(D)}:{installationEntry:x}}(D,_e);return x=Re.registrationPromise,Re.installationEntry});return U.fid===vi?{installationEntry:yield x}:{installationEntry:U,registrationPromise:x}}),se.apply(this,arguments)}function Mt(){return Mt=(0,Z.Z)(function*(D,x){try{const U=yield function xn(D,x){return Pt.apply(this,arguments)}(D,x);return Tr(D.appConfig,U)}catch(U){throw yt(U)&&409===U.customData.serverCode?yield St(D.appConfig):yield Tr(D.appConfig,{fid:x.fid,registrationStatus:0}),U}}),Mt.apply(this,arguments)}function me(D){return ae.apply(this,arguments)}function ae(){return(ae=(0,Z.Z)(function*(D){let x=yield re(D.appConfig);for(;1===x.registrationStatus;)yield Hn(100),x=yield re(D.appConfig);if(0===x.registrationStatus){const{installationEntry:U,registrationPromise:ne}=yield ue(D);return ne||U}return x})).apply(this,arguments)}function re(D){return Jt(D,x=>{if(!x)throw Ne.create("installation-not-found");return ye(x)})}function ye(D){return function qe(D){return 1===D.registrationStatus&&D.registrationTime+je<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function pn(){return(pn=(0,Z.Z)(function*({appConfig:D,heartbeatServiceProvider:x},U){const ne=function Sn(D,{fid:x}){return`${Ut(D)}/${x}/authTokens:generate`}(D,U),_e=function Ir(D,{refreshToken:x}){const U=wr(D);return U.append("Authorization",function Dr(D){return`${mt} ${D}`}(x)),U}(D,U),Re=x.getImmediate({optional:!0});if(Re){const gn=yield Re.getHeartbeatsHeader();gn&&_e.append("x-firebase-client",gn)}const Qt={method:"POST",headers:_e,body:JSON.stringify({installation:{sdkVersion:ot,appId:D.appId}})},Kt=yield hr(()=>fetch(ne,Qt));if(Kt.ok)return Kn(yield Kt.json());throw yield jn("Generate Auth Token",Kt)})).apply(this,arguments)}function sr(D){return zn.apply(this,arguments)}function zn(){return zn=(0,Z.Z)(function*(D,x=!1){let U;const ne=yield Jt(D.appConfig,Re=>{if(!yn(Re))throw Ne.create("not-registered");const ct=Re.authToken;if(!x&&function Zt(D){return 2===D.requestStatus&&!function Un(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+Nt}(D)}(ct))return Re;if(1===ct.requestStatus)return U=function Xe(D,x){return Le.apply(this,arguments)}(D,x),Re;{if(!navigator.onLine)throw Ne.create("app-offline");const Qt=function Qn(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}(Re);return U=function qt(D,x){return un.apply(this,arguments)}(D,Qt),Qt}});return U?yield U:ne.authToken}),zn.apply(this,arguments)}function Le(){return(Le=(0,Z.Z)(function*(D,x){let U=yield Tt(D.appConfig);for(;1===U.authToken.requestStatus;)yield Hn(100),U=yield Tt(D.appConfig);const ne=U.authToken;return 0===ne.requestStatus?sr(D,x):ne})).apply(this,arguments)}function Tt(D){return Jt(D,x=>{if(!yn(x))throw Ne.create("not-registered");return function Pr(D){return 1===D.requestStatus&&D.requestTime+je<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function un(){return un=(0,Z.Z)(function*(D,x){try{const U=yield function bt(D,x){return pn.apply(this,arguments)}(D,x),ne=Object.assign(Object.assign({},x),{authToken:U});return yield Tr(D.appConfig,ne),U}catch(U){if(!yt(U)||401!==U.customData.serverCode&&404!==U.customData.serverCode){const ne=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Tr(D.appConfig,ne)}else yield St(D.appConfig);throw U}}),un.apply(this,arguments)}function yn(D){return void 0!==D&&2===D.registrationStatus}function xs(){return(xs=(0,Z.Z)(function*(D){const x=D,{installationEntry:U,registrationPromise:ne}=yield ue(x);return ne?ne.catch(console.error):sr(x).catch(console.error),U.fid})).apply(this,arguments)}function Mi(){return Mi=(0,Z.Z)(function*(D,x=!1){const U=D;return yield function kr(D){return jt.apply(this,arguments)}(U),(yield sr(U,x)).token}),Mi.apply(this,arguments)}function jt(){return(jt=(0,Z.Z)(function*(D){const{registrationPromise:x}=yield ue(D);x&&(yield x)})).apply(this,arguments)}function Ee(D){return Ne.create("missing-app-config-values",{valueName:D})}const Te="installations",Ct=D=>{const x=D.getProvider("app").getImmediate(),U=function xe(D){if(!D||!D.options)throw Ee("App Configuration");if(!D.name)throw Ee("App Name");const x=["projectId","apiKey","appId"];for(const U of x)if(!D.options[U])throw Ee(U);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:U,heartbeatServiceProvider:(0,De._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},hn=D=>{const x=D.getProvider("app").getImmediate(),U=(0,De._getProvider)(x,Te).getImmediate();return{getId:()=>function tr(D){return xs.apply(this,arguments)}(U),getToken:_e=>function os(D){return Mi.apply(this,arguments)}(U,_e)}};(function An(){(0,De._registerComponent)(new Se.wA(Te,Ct,"PUBLIC")),(0,De._registerComponent)(new Se.wA("installations-internal",hn,"PRIVATE"))})(),(0,De.registerVersion)(ke,Ye),(0,De.registerVersion)(ke,Ye,"esm2017");const fn="@firebase/remote-config",ii=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ea{constructor(x,U,ne,_e){this.client=x,this.storage=U,this.storageCache=ne,this.logger=_e}isCachedDataFresh(x,U){if(!U)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ne=Date.now()-U,_e=ne<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${_e}.`),_e}fetch(x){var U=this;return(0,Z.Z)(function*(){const[ne,_e]=yield Promise.all([U.storage.getLastSuccessfulFetchTimestampMillis(),U.storage.getLastSuccessfulFetchResponse()]);if(_e&&U.isCachedDataFresh(x.cacheMaxAgeMillis,ne))return _e;x.eTag=_e&&_e.eTag;const Re=yield U.client.fetch(x),ct=[U.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Re.status&&ct.push(U.storage.setLastSuccessfulFetchResponse(Re)),yield Promise.all(ct),Re})()}}function So(D=navigator){return D.languages&&D.languages[0]||D.language}class ns{constructor(x,U,ne,_e,Re,ct){this.firebaseInstallations=x,this.sdkVersion=U,this.namespace=ne,this.projectId=_e,this.apiKey=Re,this.appId=ct}fetch(x){var U=this;return(0,Z.Z)(function*(){const[ne,_e]=yield Promise.all([U.firebaseInstallations.getId(),U.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${U.projectId}/namespaces/${U.namespace}:fetch?key=${U.apiKey}`,Qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Kt={sdk_version:U.sdkVersion,app_instance_id:ne,app_instance_id_token:_e,app_id:U.appId,language_code:So()},gn={method:"POST",headers:Qt,body:JSON.stringify(Kt)},Bn=fetch(ct,gn),Ln=new Promise((es,ya)=>{x.signal.addEventListener(()=>{const Vr=new Error("The operation was aborted.");Vr.name="AbortError",ya(Vr)})});let Uo;try{yield Promise.race([Bn,Ln]),Uo=yield Bn}catch(es){let ya="fetch-client-network";throw"AbortError"===es?.name&&(ya="fetch-timeout"),ii.create(ya,{originalErrorMessage:es?.message})}let is=Uo.status;const Xa=Uo.headers.get("ETag")||void 0;let Xi,ma;if(200===Uo.status){let es;try{es=yield Uo.json()}catch(ya){throw ii.create("fetch-client-parse",{originalErrorMessage:ya?.message})}Xi=es.entries,ma=es.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?is=500:"NO_CHANGE"===ma?is=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(Xi={}),304!==is&&200!==is)throw ii.create("fetch-status",{httpStatus:is});return{status:is,eTag:Xa,config:Xi}})()}}class vo{constructor(x,U){this.client=x,this.storage=U}fetch(x){var U=this;return(0,Z.Z)(function*(){const ne=(yield U.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return U.attemptFetch(x,ne)})()}attemptFetch(x,{throttleEndTimeMillis:U,backoffCount:ne}){var _e=this;return(0,Z.Z)(function*(){yield function zs(D,x){return new Promise((U,ne)=>{const _e=Math.max(x-Date.now(),0),Re=setTimeout(U,_e);D.addEventListener(()=>{clearTimeout(Re),ne(ii.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,U);try{const Re=yield _e.client.fetch(x);return yield _e.storage.deleteThrottleMetadata(),Re}catch(Re){if(!function yo(D){if(!(D instanceof be.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Re))throw Re;const ct={throttleEndTimeMillis:Date.now()+(0,be.$s)(ne),backoffCount:ne+1};return yield _e.storage.setThrottleMetadata(ct),_e.attemptFetch(x,ct)}})()}}class ia{constructor(x,U,ne,_e,Re){this.app=x,this._client=U,this._storageCache=ne,this._storage=_e,this._logger=Re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ds(D,x){const U=D.target.error||void 0;return ii.create(x,{originalErrorMessage:U&&U?.message})}const rs="app_namespace_store";class jo{constructor(x,U,ne,_e=function _o(){return new Promise((D,x)=>{try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ne=>{x(Ds(ne,"storage-open"))},U.onsuccess=ne=>{D(ne.target.result)},U.onupgradeneeded=ne=>{0===ne.oldVersion&&ne.target.result.createObjectStore(rs,{keyPath:"compositeKey"})}}catch(U){x(ii.create("storage-open",{originalErrorMessage:U?.message}))}})}()){this.appId=x,this.appName=U,this.namespace=ne,this.openDbPromise=_e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var U=this;return(0,Z.Z)(function*(){const ne=yield U.openDbPromise;return new Promise((_e,Re)=>{const Qt=ne.transaction([rs],"readonly").objectStore(rs),Kt=U.createCompositeKey(x);try{const gn=Qt.get(Kt);gn.onerror=Bn=>{Re(Ds(Bn,"storage-get"))},gn.onsuccess=Bn=>{const Ln=Bn.target.result;_e(Ln?Ln.value:void 0)}}catch(gn){Re(ii.create("storage-get",{originalErrorMessage:gn?.message}))}})})()}set(x,U){var ne=this;return(0,Z.Z)(function*(){const _e=yield ne.openDbPromise;return new Promise((Re,ct)=>{const Kt=_e.transaction([rs],"readwrite").objectStore(rs),gn=ne.createCompositeKey(x);try{const Bn=Kt.put({compositeKey:gn,value:U});Bn.onerror=Ln=>{ct(Ds(Ln,"storage-set"))},Bn.onsuccess=()=>{Re()}}catch(Bn){ct(ii.create("storage-set",{originalErrorMessage:Bn?.message}))}})})()}delete(x){var U=this;return(0,Z.Z)(function*(){const ne=yield U.openDbPromise;return new Promise((_e,Re)=>{const Qt=ne.transaction([rs],"readwrite").objectStore(rs),Kt=U.createCompositeKey(x);try{const gn=Qt.delete(Kt);gn.onerror=Bn=>{Re(Ds(Bn,"storage-delete"))},gn.onsuccess=()=>{_e()}}catch(gn){Re(ii.create("storage-delete",{originalErrorMessage:gn?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class qi{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,Z.Z)(function*(){const U=x.storage.getLastFetchStatus(),ne=x.storage.getLastSuccessfulFetchTimestampMillis(),_e=x.storage.getActiveConfig(),Re=yield U;Re&&(x.lastFetchStatus=Re);const ct=yield ne;ct&&(x.lastSuccessfulFetchTimestampMillis=ct);const Qt=yield _e;Qt&&(x.activeConfig=Qt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function ro(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,Z.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function Gs(){(0,De._registerComponent)(new Se.wA("remote-config",function D(x,{instanceIdentifier:U}){const ne=x.getProvider("app").getImmediate(),_e=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ii.create("registration-window");if(!(0,be.hl)())throw ii.create("indexed-db-unavailable");const{projectId:Re,apiKey:ct,appId:Qt}=ne.options;if(!Re)throw ii.create("registration-project-id");if(!ct)throw ii.create("registration-api-key");if(!Qt)throw ii.create("registration-app-id");const Kt=new jo(Qt,ne.name,U=U||"firebase"),gn=new qi(Kt),Bn=new ze.Yd(fn);Bn.logLevel=ze.in.ERROR;const Ln=new ns(_e,De.SDK_VERSION,U,Re,ct,Qt),Uo=new vo(Ln,Kt),is=new Ea(Uo,Kt,gn,Bn),Xa=new ia(ne,is,gn,Kt,Bn);return function di(D){const x=(0,be.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Xa),Xa},"PUBLIC").setMultipleInstances(!0)),(0,De.registerVersion)(fn,"0.4.4"),(0,De.registerVersion)(fn,"0.4.4","esm2017")}();const sa=(D,x)=>x.some(U=>D instanceof U);let Li,ls;const Zi=new WeakMap,Ei=new WeakMap,br=new WeakMap,Os=new WeakMap,io=new WeakMap;let cs={get(D,x,U){if(D instanceof IDBTransaction){if("done"===x)return Ei.get(D);if("objectStoreNames"===x)return D.objectStoreNames||br.get(D);if("store"===x)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return si(D[x])},set:(D,x,U)=>(D[x]=U,!0),has:(D,x)=>D instanceof IDBTransaction&&("done"===x||"store"===x)||x in D};function wo(D){return"function"==typeof D?function wa(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hi(){return ls||(ls=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...x){return D.apply(oi(this),x),si(Zi.get(this))}:function(...x){return si(D.apply(oi(this),x))}:function(x,...U){const ne=D.call(oi(this),x,...U);return br.set(ne,x.sort?x.sort():[x]),si(ne)}}(D):(D instanceof IDBTransaction&&function ks(D){if(Ei.has(D))return;const x=new Promise((U,ne)=>{const _e=()=>{D.removeEventListener("complete",Re),D.removeEventListener("error",ct),D.removeEventListener("abort",ct)},Re=()=>{U(),_e()},ct=()=>{ne(D.error||new DOMException("AbortError","AbortError")),_e()};D.addEventListener("complete",Re),D.addEventListener("error",ct),D.addEventListener("abort",ct)});Ei.set(D,x)}(D),sa(D,function Mo(){return Li||(Li=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,cs):D)}function si(D){if(D instanceof IDBRequest)return function Gn(D){const x=new Promise((U,ne)=>{const _e=()=>{D.removeEventListener("success",Re),D.removeEventListener("error",ct)},Re=()=>{U(si(D.result)),_e()},ct=()=>{ne(D.error),_e()};D.addEventListener("success",Re),D.addEventListener("error",ct)});return x.then(U=>{U instanceof IDBCursor&&Zi.set(U,D)}).catch(()=>{}),io.set(x,D),x}(D);if(Os.has(D))return Os.get(D);const x=wo(D);return x!==D&&(Os.set(D,x),io.set(x,D)),x}const oi=D=>io.get(D);function Qr(D,x,{blocked:U,upgrade:ne,blocking:_e,terminated:Re}={}){const ct=indexedDB.open(D,x),Qt=si(ct);return ne&&ct.addEventListener("upgradeneeded",Kt=>{ne(si(ct.result),Kt.oldVersion,Kt.newVersion,si(ct.transaction))}),U&&ct.addEventListener("blocked",()=>U()),Qt.then(Kt=>{Re&&Kt.addEventListener("close",()=>Re()),_e&&Kt.addEventListener("versionchange",()=>_e())}).catch(()=>{}),Qt}function ji(D,{blocked:x}={}){const U=indexedDB.deleteDatabase(D);return x&&U.addEventListener("blocked",()=>x()),si(U).then(()=>{})}const xo=["get","getKey","getAll","getAllKeys","count"],Jr=["put","add","delete","clear"],ds=new Map;function Hi(D,x){if(!(D instanceof IDBDatabase)||x in D||"string"!=typeof x)return;if(ds.get(x))return ds.get(x);const U=x.replace(/FromIndex$/,""),ne=x!==U,_e=Jr.includes(U);if(!(U in(ne?IDBIndex:IDBObjectStore).prototype)||!_e&&!xo.includes(U))return;const Re=function(){var ct=(0,Z.Z)(function*(Qt,...Kt){const gn=this.transaction(Qt,_e?"readwrite":"readonly");let Bn=gn.store;return ne&&(Bn=Bn.index(Kt.shift())),(yield Promise.all([Bn[U](...Kt),_e&&gn.done]))[0]});return function(Kt){return ct.apply(this,arguments)}}();return ds.set(x,Re),Re}!function Wr(D){cs=D(cs)}(D=>({...D,get:(x,U,ne)=>Hi(x,U)||D.get(x,U,ne),has:(x,U)=>!!Hi(x,U)||D.has(x,U)}));const Tn="/firebase-messaging-sw.js",Io="/firebase-cloud-messaging-push-scope",oa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ws="https://fcmregistrations.googleapis.com/v1",Do="google.c.a.c_id",aa="google.c.a.c_l",Ks="google.c.a.ts",so="google.c.a.e";var R=(()=>{return(D=R||(R={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",R;var D})();function O(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function k(D){const U=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ne=atob(U),_e=new Uint8Array(ne.length);for(let Re=0;Re<ne.length;++Re)_e[Re]=ne.charCodeAt(Re);return _e}const X="fcm_token_details_db",Ve=5,dn="fcm_token_object_Store";function Lr(){return Lr=(0,Z.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Re=>Re.name).includes(X))return null;let x=null;return(yield Qr(X,Ve,{upgrade:(ne=(0,Z.Z)(function*(_e,Re,ct,Qt){var Kt;if(Re<2||!_e.objectStoreNames.contains(dn))return;const gn=Qt.objectStore(dn),Bn=yield gn.index("fcmSenderId").get(D);if(yield gn.clear(),Bn)if(2===Re){const Ln=Bn;if(!Ln.auth||!Ln.p256dh||!Ln.endpoint)return;x={token:Ln.fcmToken,createTime:null!==(Kt=Ln.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Ln.auth,p256dh:Ln.p256dh,endpoint:Ln.endpoint,swScope:Ln.swScope,vapidKey:"string"==typeof Ln.vapidKey?Ln.vapidKey:O(Ln.vapidKey)}}}else if(3===Re){const Ln=Bn;x={token:Ln.fcmToken,createTime:Ln.createTime,subscriptionOptions:{auth:O(Ln.auth),p256dh:O(Ln.p256dh),endpoint:Ln.endpoint,swScope:Ln.swScope,vapidKey:O(Ln.vapidKey)}}}else if(4===Re){const Ln=Bn;x={token:Ln.fcmToken,createTime:Ln.createTime,subscriptionOptions:{auth:O(Ln.auth),p256dh:O(Ln.p256dh),endpoint:Ln.endpoint,swScope:Ln.swScope,vapidKey:O(Ln.vapidKey)}}}}),function(Re,ct,Qt,Kt){return ne.apply(this,arguments)})})).close(),yield ji(X),yield ji("fcm_vapid_details_db"),yield ji("undefined"),function hs(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var ne}),Lr.apply(this,arguments)}const oo="firebase-messaging-database",Ro=1,wi="firebase-messaging-store";let bi=null;function $r(){return bi||(bi=Qr(oo,Ro,{upgrade:(D,x)=>{0===x&&D.createObjectStore(wi)}})),bi}function Ri(D){return Fs.apply(this,arguments)}function Fs(){return Fs=(0,Z.Z)(function*(D){const x=su(D),ne=yield(yield $r()).transaction(wi).objectStore(wi).get(x);if(ne)return ne;{const _e=yield function yr(D){return Lr.apply(this,arguments)}(D.appConfig.senderId);if(_e)return yield ur(D,_e),_e}}),Fs.apply(this,arguments)}function ur(D,x){return fs.apply(this,arguments)}function fs(){return(fs=(0,Z.Z)(function*(D,x){const U=su(D),_e=(yield $r()).transaction(wi,"readwrite");return yield _e.objectStore(wi).put(x,U),yield _e.done,x})).apply(this,arguments)}function qs(){return(qs=(0,Z.Z)(function*(D){const x=su(D),ne=(yield $r()).transaction(wi,"readwrite");yield ne.objectStore(wi).delete(x),yield ne.done})).apply(this,arguments)}function su({appConfig:D}){return D.appId}const fi=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function la(D,x){return No.apply(this,arguments)}function No(){return(No=(0,Z.Z)(function*(D,x){const U=yield F(D),ne=te(x),_e={method:"POST",headers:U,body:JSON.stringify(ne)};let Re;try{Re=yield(yield fetch(w(D.appConfig),_e)).json()}catch(ct){throw fi.create("token-subscribe-failed",{errorInfo:ct?.toString()})}if(Re.error)throw fi.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw fi.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function ao(){return(ao=(0,Z.Z)(function*(D,x){const U=yield F(D),ne=te(x.subscriptionOptions),_e={method:"PATCH",headers:U,body:JSON.stringify(ne)};let Re;try{Re=yield(yield fetch(`${w(D.appConfig)}/${x.token}`,_e)).json()}catch(ct){throw fi.create("token-update-failed",{errorInfo:ct?.toString()})}if(Re.error)throw fi.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw fi.create("token-update-no-token");return Re.token})).apply(this,arguments)}function z(D,x){return _.apply(this,arguments)}function _(){return(_=(0,Z.Z)(function*(D,x){const ne={method:"DELETE",headers:yield F(D)};try{const Re=yield(yield fetch(`${w(D.appConfig)}/${x}`,ne)).json();if(Re.error)throw fi.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(_e){throw fi.create("token-unsubscribe-failed",{errorInfo:_e?.toString()})}})).apply(this,arguments)}function w({projectId:D}){return`${Ws}/projects/${D}/registrations`}function F(D){return K.apply(this,arguments)}function K(){return(K=(0,Z.Z)(function*({appConfig:D,installations:x}){const U=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${U}`})})).apply(this,arguments)}function te({p256dh:D,auth:x,endpoint:U,vapidKey:ne}){const _e={web:{endpoint:U,auth:x,p256dh:D}};return ne!==oa&&(_e.web.applicationPubKey=ne),_e}const fe=6048e5;function $e(){return $e=(0,Z.Z)(function*(D){const x=yield function kn(D,x){return Sr.apply(this,arguments)}(D.swRegistration,D.vapidKey),U={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:O(x.getKey("auth")),p256dh:O(x.getKey("p256dh"))},ne=yield Ri(D.firebaseDependencies);if(ne){if(function jr(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}(ne.subscriptionOptions,U))return Date.now()>=ne.createTime+fe?function xt(D,x){return Fn.apply(this,arguments)}(D,{token:ne.token,createTime:Date.now(),subscriptionOptions:U}):ne.token;try{yield z(D.firebaseDependencies,ne.token)}catch(_e){console.warn(_e)}return Nn(D.firebaseDependencies,U)}return Nn(D.firebaseDependencies,U)}),$e.apply(this,arguments)}function kt(){return kt=(0,Z.Z)(function*(D){const x=yield Ri(D.firebaseDependencies);x&&(yield z(D.firebaseDependencies,x.token),yield function ua(D){return qs.apply(this,arguments)}(D.firebaseDependencies));const U=yield D.swRegistration.pushManager.getSubscription();return!U||U.unsubscribe()}),kt.apply(this,arguments)}function Fn(){return Fn=(0,Z.Z)(function*(D,x){try{const U=yield function ca(D,x){return ao.apply(this,arguments)}(D.firebaseDependencies,x),ne=Object.assign(Object.assign({},x),{token:U,createTime:Date.now()});return yield ur(D.firebaseDependencies,ne),U}catch(U){throw yield function Je(D){return kt.apply(this,arguments)}(D),U}}),Fn.apply(this,arguments)}function Nn(D,x){return En.apply(this,arguments)}function En(){return(En=(0,Z.Z)(function*(D,x){const ne={token:yield la(D,x),createTime:Date.now(),subscriptionOptions:x};return yield ur(D,ne),ne.token})).apply(this,arguments)}function Sr(){return(Sr=(0,Z.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:k(x)})})).apply(this,arguments)}function pi(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function gi(D,x){if(!x.notification)return;D.notification={};const U=x.notification.title;U&&(D.notification.title=U);const ne=x.notification.body;ne&&(D.notification.body=ne);const _e=x.notification.image;_e&&(D.notification.image=_e);const Re=x.notification.icon;Re&&(D.notification.icon=Re)}(x,D),function ai(D,x){x.data&&(D.data=x.data)}(x,D),function M(D,x){var U,ne,_e,Re,ct;if(!(x.fcmOptions||null!==(U=x.notification)&&void 0!==U&&U.click_action))return;D.fcmOptions={};const Qt=null!==(_e=null===(ne=x.fcmOptions)||void 0===ne?void 0:ne.link)&&void 0!==_e?_e:null===(Re=x.notification)||void 0===Re?void 0:Re.click_action;Qt&&(D.fcmOptions.link=Qt);const Kt=null===(ct=x.fcmOptions)||void 0===ct?void 0:ct.analytics_label;Kt&&(D.fcmOptions.analyticsLabel=Kt)}(x,D),x}function P(D,x){const U=[];for(let ne=0;ne<D.length;ne++)U.push(D.charAt(ne)),ne<x.length&&U.push(x.charAt(ne));return U.join("")}function ie(D){return fi.create("missing-app-config-values",{valueName:D})}P("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),P("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ke{constructor(x,U,ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _e=function q(D){if(!D||!D.options)throw ie("App Configuration Object");if(!D.name)throw ie("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:U}=D;for(const ne of x)if(!U[ne])throw ie(ne);return{appName:D.name,projectId:U.projectId,apiKey:U.apiKey,appId:U.appId,senderId:U.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:_e,installations:U,analyticsProvider:ne}}_delete(){return Promise.resolve()}}function tt(D){return on.apply(this,arguments)}function on(){return(on=(0,Z.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Tn,{scope:Io}),D.swRegistration.update().catch(()=>{})}catch(x){throw fi.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function er(){return(er=(0,Z.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield tt(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw fi.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function At(){return(At=(0,Z.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=oa)})).apply(this,arguments)}function Gt(){return Gt=(0,Z.Z)(function*(D,x){if(!navigator)throw fi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fi.create("permission-blocked");return yield function pr(D,x){return At.apply(this,arguments)}(D,x?.vapidKey),yield function rr(D,x){return er.apply(this,arguments)}(D,x?.serviceWorkerRegistration),function ve(D){return $e.apply(this,arguments)}(D)}),Gt.apply(this,arguments)}function Rr(){return(Rr=(0,Z.Z)(function*(D,x,U){const ne=function Ar(D){switch(D){case R.NOTIFICATION_CLICKED:return"notification_open";case R.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(ne,{message_id:U[Do],message_name:U[aa],message_time:U[Ks],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Kr(){return Kr=(0,Z.Z)(function*(D,x){const U=x.data;if(!U.isFirebaseMessaging)return;D.onMessageHandler&&U.messageType===R.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(pi(U)):D.onMessageHandler.next(pi(U)));const ne=U.data;(function B(D){return"object"==typeof D&&!!D&&Do in D})(ne)&&"1"===ne[so]&&(yield function wn(D,x,U){return Rr.apply(this,arguments)}(D,U.messageType,ne))}),Kr.apply(this,arguments)}const nr="@firebase/messaging",Cs=D=>{const x=new Ke(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",U=>function ui(D,x){return Kr.apply(this,arguments)}(x,U)),x},Xr=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:ne=>function Yt(D,x){return Gt.apply(this,arguments)}(x,ne)}};function Ls(){return To.apply(this,arguments)}function To(){return(To=(0,Z.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ps(){(0,De._registerComponent)(new Se.wA("messaging",Cs,"PUBLIC")),(0,De._registerComponent)(new Se.wA("messaging-internal",Xr,"PRIVATE")),(0,De.registerVersion)(nr,"0.12.4"),(0,De.registerVersion)(nr,"0.12.4","esm2017")}();const da="analytics",Pa="firebase_id",Wu="origin",Go=6e4,au="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uu="https://www.googletagmanager.com/gtag/js",zi=new ze.Yd("@firebase/analytics"),ei=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function ti(D){if(!D.startsWith(uu)){const x=ei.create("invalid-gtag-resource",{gtagURL:D});return zi.warn(x.message),""}return D}function Ia(D){return Promise.all(D.map(x=>x.catch(U=>U)))}function Da(){return(Da=(0,Z.Z)(function*(D,x,U,ne,_e,Re){const ct=ne[_e];try{if(ct)yield x[ct];else{const Kt=(yield Ia(U)).find(gn=>gn.measurementId===_e);Kt&&(yield x[Kt.appId])}}catch(Qt){zi.error(Qt)}D("config",_e,Re)})).apply(this,arguments)}function qa(){return(qa=(0,Z.Z)(function*(D,x,U,ne,_e){try{let Re=[];if(_e&&_e.send_to){let ct=_e.send_to;Array.isArray(ct)||(ct=[ct]);const Qt=yield Ia(U);for(const Kt of ct){const gn=Qt.find(Ln=>Ln.measurementId===Kt),Bn=gn&&x[gn.appId];if(!Bn){Re=[];break}Re.push(Bn)}}0===Re.length&&(Re=Object.values(x)),yield Promise.all(Re),D("event",ne,_e||{})}catch(Re){zi.error(Re)}})).apply(this,arguments)}const Oa=30,fa=new class bu{constructor(x={},U=1e3){this.throttleMetadata=x,this.intervalMillis=U}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,U){this.throttleMetadata[x]=U}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Vs(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wn(){return(Wn=(0,Z.Z)(function*(D){var x;const{appId:U,apiKey:ne}=D,_e={method:"GET",headers:Vs(ne)},Re=au.replace("{app-id}",U),ct=yield fetch(Re,_e);if(200!==ct.status&&304!==ct.status){let Qt="";try{const Kt=yield ct.json();null!==(x=Kt.error)&&void 0!==x&&x.message&&(Qt=Kt.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:ct.status,responseMessage:Qt})}return ct.json()})).apply(this,arguments)}function Su(){return(Su=(0,Z.Z)(function*(D,x=fa,U){const{appId:ne,apiKey:_e,measurementId:Re}=D.options;if(!ne)throw ei.create("no-app-id");if(!_e){if(Re)return{measurementId:Re,appId:ne};throw ei.create("no-api-key")}const ct=x.getThrottleMetadata(ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qt=new jc;return setTimeout((0,Z.Z)(function*(){Qt.abort()}),void 0!==U?U:Go),Za({appId:ne,apiKey:_e,measurementId:Re},ct,Qt,x)})).apply(this,arguments)}function Za(D,x,U){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,Z.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:U},ne,_e=fa){var Re;const{appId:ct,measurementId:Qt}=D;try{yield function du(D,x){return new Promise((U,ne)=>{const _e=Math.max(x-Date.now(),0),Re=setTimeout(U,_e);D.addEventListener(()=>{clearTimeout(Re),ne(ei.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(ne,x)}catch(Kt){if(Qt)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${Kt?.message}]`),{appId:ct,measurementId:Qt};throw Kt}try{const Kt=yield function Ys(D){return Wn.apply(this,arguments)}(D);return _e.deleteThrottleMetadata(ct),Kt}catch(Kt){const gn=Kt;if(!function hu(D){if(!(D instanceof be.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(gn)){if(_e.deleteThrottleMetadata(ct),Qt)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qt} provided in the "measurementId" field in the local Firebase config. [${gn?.message}]`),{appId:ct,measurementId:Qt};throw Kt}const Bn=503===Number(null===(Re=gn?.customData)||void 0===Re?void 0:Re.httpStatus)?(0,be.$s)(U,_e.intervalMillis,Oa):(0,be.$s)(U,_e.intervalMillis),Ln={throttleEndTimeMillis:Date.now()+Bn,backoffCount:U+1};return _e.setThrottleMetadata(ct,Ln),zi.debug(`Calling attemptFetch again in ${Bn} millis`),Za(D,Ln,ne,_e)}}),Ya.apply(this,arguments)}class jc{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let ka,ko;function vl(){return(vl=(0,Z.Z)(function*(D,x,U,ne,_e){if(_e&&_e.global)D("event",U,ne);else{const Re=yield x;D("event",U,Object.assign(Object.assign({},ne),{send_to:Re}))}})).apply(this,arguments)}function Zr(){return(Zr=(0,Z.Z)(function*(){if(!(0,be.hl)())return zi.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(D){return zi.warn(ei.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ga(){return ga=(0,Z.Z)(function*(D,x,U,ne,_e,Re,ct){var Qt;const Kt=function cu(D){return Su.apply(this,arguments)}(D);Kt.then(is=>{U[is.measurementId]=is.appId,D.options.measurementId&&is.measurementId!==D.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${is.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(is=>zi.error(is)),x.push(Kt);const gn=function Dt(){return Zr.apply(this,arguments)}().then(is=>{if(is)return ne.getId()}),[Bn,Ln]=yield Promise.all([Kt,gn]);(function Yi(D){const x=window.document.getElementsByTagName("script");for(const U of Object.values(x))if(U.src&&U.src.includes(uu)&&U.src.includes(D))return U;return null})(Re)||function Oo(D,x){const U=function ha(D,x){let U;return window.trustedTypes&&(U=window.trustedTypes.createPolicy(D,x)),U}("firebase-js-sdk-policy",{createScriptURL:ti}),ne=document.createElement("script"),_e=`${uu}?l=${D}&id=${x}`;ne.src=U?U?.createScriptURL(_e):_e,ne.async=!0,document.head.appendChild(ne)}(Re,Bn.measurementId),ko&&(_e("consent","default",ko),function La(D){ko=D}(void 0)),_e("js",new Date);const Uo=null!==(Qt=ct?.config)&&void 0!==Qt?Qt:{};return Uo[Wu]="firebase",Uo.update=!0,null!=Ln&&(Uo[Pa]=Ln),_e("config",Bn.measurementId,Uo),ka&&(_e("set",ka),function _l(D){ka=D}(void 0)),Bn.measurementId}),ga.apply(this,arguments)}class y{constructor(x){this.app=x}_delete(){return delete E[this.app.options.appId],Promise.resolve()}}let E={},m=[];const T={};let Y,Ce,A="dataLayer",V="gtag",ht=!1;function lr(D,x,U){!function Wt(){const D=[];if((0,be.ru)()&&D.push("This is a browser extension environment."),(0,be.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((ne,_e)=>`(${_e+1}) ${ne}`).join(" "),U=ei.create("invalid-analytics-context",{errorInfo:x});zi.warn(U.message)}}();const ne=D.options.appId;if(!ne)throw ei.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw ei.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=E[ne])throw ei.create("already-exists",{id:ne});if(!ht){!function Ku(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(A);const{wrappedGtag:Re,gtagCore:ct}=function bs(D,x,U,ne,_e){let Re=function(...ct){window[ne].push(arguments)};return window[_e]&&"function"==typeof window[_e]&&(Re=window[_e]),window[_e]=function Ta(D,x,U,ne){function Re(){return Re=(0,Z.Z)(function*(ct,...Qt){try{if("event"===ct){const[Kt,gn]=Qt;yield function qr(D,x,U,ne,_e){return qa.apply(this,arguments)}(D,x,U,Kt,gn)}else if("config"===ct){const[Kt,gn]=Qt;yield function Zs(D,x,U,ne,_e,Re){return Da.apply(this,arguments)}(D,x,U,ne,Kt,gn)}else if("consent"===ct){const[Kt]=Qt;D("consent","update",Kt)}else if("get"===ct){const[Kt,gn,Bn]=Qt;D("get",Kt,gn,Bn)}else if("set"===ct){const[Kt]=Qt;D("set",Kt)}else D(ct,...Qt)}catch(Kt){zi.error(Kt)}}),Re.apply(this,arguments)}return function _e(ct){return Re.apply(this,arguments)}}(Re,D,x,U),{gtagCore:Re,wrappedGtag:window[_e]}}(E,m,T,A,V);Ce=Re,Y=ct,ht=!0}return E[ne]=function Ss(D,x,U,ne,_e,Re,ct){return ga.apply(this,arguments)}(D,m,T,x,Y,A,U),new y(D)}function qo(){return As.apply(this,arguments)}function As(){return(As=(0,Z.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const Hc="@firebase/analytics";!function en(){(0,De._registerComponent)(new Se.wA(da,(x,{options:U})=>lr(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),U),"PUBLIC")),(0,De._registerComponent)(new Se.wA("analytics-internal",function D(x){try{const U=x.getProvider(da).getImmediate();return{logEvent:(ne,_e,Re)=>function Zu(D,x,U,ne){D=(0,be.m9)(D),function qu(D,x,U,ne,_e){return vl.apply(this,arguments)}(Ce,E[D.app.options.appId],x,U,ne).catch(_e=>zi.error(_e))}(U,ne,_e,Re)}}catch(U){throw ei.create("interop-component-reg-failed",{reason:U})}},"PRIVATE")),(0,De.registerVersion)(Hc,"0.10.0"),(0,De.registerVersion)(Hc,"0.10.0","esm2017")}();var El=G(727);class oc extends El.w0{constructor(x,U){super()}schedule(x,U=0){return this}}const ho={setInterval(D,x,...U){const{delegate:ne}=ho;return ne?.setInterval?ne.setInterval(D,x,...U):setInterval(D,x,...U)},clearInterval(D){const{delegate:x}=ho;return(x?.clearInterval||clearInterval)(D)},delegate:void 0};var zc=G(8737);class Yu extends oc{constructor(x,U){super(x,U),this.scheduler=x,this.work=U,this.pending=!1}schedule(x,U=0){var ne;if(this.closed)return this;this.state=x;const _e=this.id,Re=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(Re,_e,U)),this.pending=!0,this.delay=U,this.id=null!==(ne=this.id)&&void 0!==ne?ne:this.requestAsyncId(Re,this.id,U),this}requestAsyncId(x,U,ne=0){return ho.setInterval(x.flush.bind(x,this),ne)}recycleAsyncId(x,U,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return U;null!=U&&ho.clearInterval(U)}execute(x,U){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(x,U);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(x,U){let _e,ne=!1;try{this.work(x)}catch(Re){ne=!0,_e=Re||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),_e}unsubscribe(){if(!this.closed){const{id:x,scheduler:U}=this,{actions:ne}=U;this.work=this.state=this.scheduler=null,this.pending=!1,(0,zc.P)(ne,this),null!=x&&(this.id=this.recycleAsyncId(U,x,null)),this.delay=null,super.unsubscribe()}}}var Il=G(6063);class Ua{constructor(x,U=Ua.now){this.schedulerActionCtor=x,this.now=U}schedule(x,U=0,ne){return new this.schedulerActionCtor(this,x).schedule(ne,U)}}Ua.now=Il.l.now;class Dl extends Ua{constructor(x,U=Ua.now){super(x,U),this.actions=[],this._active=!1}flush(x){const{actions:U}=this;if(this._active)return void U.push(x);let ne;this._active=!0;do{if(ne=x.execute(x.state,x.delay))break}while(x=U.shift());if(this._active=!1,ne){for(;x=U.shift();)x.unsubscribe();throw ne}}}const Tl=new class fo extends Dl{}(class wl extends Yu{constructor(x,U){super(x,U),this.scheduler=x,this.work=U}schedule(x,U=0){return U>0?super.schedule(x,U):(this.delay=U,this.state=x,this.scheduler.flush(this),this)}execute(x,U){return U>0||this.closed?super.execute(x,U):this._execute(x,U)}requestAsyncId(x,U,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(x,U,ne):(x.flush(this),0)}}),xh=new Dl(Yu);var gu=G(9751),We=G(8505),Cl=G(9468),Zo=G(5363);const Gc=new p.GfV("7.5.0"),Mu="__angularfire_symbol__analyticsIsSupportedValue",ba="__angularfire_symbol__analyticsIsSupported",bl="__angularfire_symbol__remoteConfigIsSupportedValue",Lo="__angularfire_symbol__remoteConfigIsSupported",Ju="__angularfire_symbol__messagingIsSupportedValue",xu="__angularfire_symbol__messagingIsSupported";function el(D,x,U){if(x){if(1===x.length)return x[0];const Re=x.filter(ct=>ct.app===U);if(1===Re.length)return Re[0]}return U.container.getProvider(D).getImmediate({optional:!0})}globalThis[ba]||(globalThis[ba]=qo().then(D=>globalThis[Mu]=D).catch(()=>globalThis[Mu]=!1)),globalThis[xu]||(globalThis[xu]=Ls().then(D=>globalThis[Ju]=D).catch(()=>globalThis[Ju]=!1)),globalThis[Lo]||(globalThis[Lo]=ro().then(D=>globalThis[bl]=D).catch(()=>globalThis[bl]=!1));const ac=(D,x)=>{const U=x?[x]:(0,W.C6)(),ne=[];return U.forEach(_e=>{_e.container.getProvider(D).instances.forEach(ct=>{ne.includes(ct)||ne.push(ct)})}),ne};function Vi(){}class Wc{constructor(x,U=Tl){this.zone=x,this.delegate=U}now(){return this.delegate.now()}schedule(x,U,ne){const _e=this.zone;return this.delegate.schedule(function(ct){_e.runGuarded(()=>{x.apply(this,[ct])})},U,ne)}}class Kc{constructor(x){this.zone=x,this.task=null}call(x,U){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)),U.pipe((0,We.b)({next:ne,complete:ne,error:ne})).subscribe(x).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sa=(()=>{class D{constructor(U){this.ngZone=U,this.outsideAngular=U.runOutsideAngular(()=>new Wc(Zone.current)),this.insideAngular=U.run(()=>new Wc(Zone.current,xh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(U){return new(U||D)(p.LFG(p.R0b))},D.\u0275prov=p.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function $a(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ja(D){return $a().ngZone.run(()=>D())}function uc(D){return $a(),function lc(D){return function(U){return(U=U.lift(new Kc(D.ngZone))).pipe((0,Cl.R)(D.outsideAngular),(0,Zo.Q)(D.insideAngular))}}($a())(D)}const Us=(D,x)=>function(){const ne=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Ja(()=>D.apply(void 0,ne))},tl=(D,x)=>function(){let U;const ne=arguments;for(let Re=0;Re<arguments.length;Re++)"function"==typeof ne[Re]&&(x&&(U||(U=Ja(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vi,{},Vi,Vi)))),ne[Re]=Us(ne[Re],U));const _e=function Ru(D){return $a().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,ne));if(!x){if(_e instanceof gu.y){const Re=$a();return _e.pipe((0,Cl.R)(Re.outsideAngular),(0,Zo.Q)(Re.insideAngular))}return Ja(()=>_e)}return _e instanceof gu.y?_e.pipe(uc):_e instanceof Promise?Ja(()=>new Promise((Re,ct)=>_e.then(Qt=>Ja(()=>Re(Qt)),Qt=>Ja(()=>ct(Qt))))):"function"==typeof _e&&U?function(){return setTimeout(()=>{U&&"scheduled"===U.state&&U.invoke()},10),_e.apply(this,arguments)}:Ja(()=>_e)}},8502:(nn,it,G)=>{G.d(it,{$:()=>Tn,A:()=>le,D:()=>ut,I:()=>Or,J:()=>Ct,L:()=>Ki,N:()=>Jt,P:()=>Ss,Q:()=>jo,R:()=>Au,U:()=>Ho,V:()=>ro,W:()=>Eo,X:()=>$i,Y:()=>Mo,Z:()=>hi,_:()=>io,a:()=>gs,a0:()=>oa,a1:()=>Do,a2:()=>Na,a3:()=>dn,a4:()=>Lr,a5:()=>oo,a6:()=>wi,a7:()=>$r,a8:()=>Fs,a9:()=>fs,aA:()=>Pe,aB:()=>pu,aC:()=>St,aD:()=>fr,aE:()=>Dl,aF:()=>In,aG:()=>Di,aH:()=>qn,aL:()=>Po,aO:()=>Li,aa:()=>ua,ab:()=>su,ac:()=>ou,ad:()=>ca,ae:()=>z,af:()=>w,ai:()=>fe,aj:()=>$e,ak:()=>Je,an:()=>wa,ao:()=>gi,aq:()=>At,ar:()=>nr,as:()=>rn,at:()=>ye,au:()=>me,av:()=>Fe,aw:()=>_e,ax:()=>Zo,ay:()=>qe,az:()=>we,b:()=>zo,c:()=>Ce,d:()=>lr,e:()=>Xt,f:()=>Hc,g:()=>zc,h:()=>El,i:()=>uo,j:()=>Il,k:()=>gn,l:()=>Fa,m:()=>Uo,p:()=>Be,r:()=>Ca,s:()=>Ko,u:()=>Dt});var p=G(5861),W=G(2090),Z=G(6881),De=G(655),be=G(1877),Se=G(4859);const Be={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ut=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},It=function dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$t=new W.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new be.Yd("@firebase/auth");function wt(I,...d){ft.logLevel<=be.in.ERROR&&ft.error(`Auth (${Z.SDK_VERSION}): ${I}`,...d)}function Fe(I,...d){throw et(I,...d)}function we(I,...d){return et(I,...d)}function Ze(I,d,g){const C=Object.assign(Object.assign({},It()),{[d]:g});return new W.LL("auth","Firebase",C).create(d,{appName:I.name})}function vt(I,d,g){if(!(d instanceof g))throw g.name!==d.constructor.name&&Fe(I,"argument-error"),Ze(I,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(I,...d){if("string"!=typeof I){const g=d[0],C=[...d.slice(1)];return C[0]&&(C[0].appName=I.name),I._errorFactory.create(g,...C)}return $t.create(I,...d)}function Pe(I,d,...g){if(!I)throw et(d,...g)}function Ft(I){const d="INTERNAL ASSERTION FAILED: "+I;throw wt(d),new Error(d)}function rn(I,d){I||Ft(d)}function zt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function _n(){return"http:"===Lt()||"https:"===Lt()}function Lt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class je{constructor(d,g){this.shortDelay=d,this.longDelay=g,rn(g>d,"Short delay should be less than long delay!"),this.isMobile=(0,W.uI)()||(0,W.b$)()}get(){return function ke(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_n()||(0,W.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ot(I,d){rn(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return d?`${g}${d.startsWith("/")?d.slice(1):d}`:g}class mt{static initialize(d,g,C){this.fetchImpl=d,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const st={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nt=new je(3e4,6e4);function Ie(I,d){return I.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:I.tenantId}):d}function He(I,d,g,C){return he.apply(this,arguments)}function he(){return(he=(0,p.Z)(function*(I,d,g,C,j={}){return Ne(I,j,(0,p.Z)(function*(){let ee={},Me={};C&&("GET"===d?Me=C:ee={body:JSON.stringify(C)});const nt=(0,W.xO)(Object.assign({key:I.config.apiKey},Me)).slice(1),Vt=yield I._getAdditionalHeaders();return Vt["Content-Type"]="application/json",I.languageCode&&(Vt["X-Firebase-Locale"]=I.languageCode),mt.fetch()(jn(I,I.config.apiHost,g,nt),Object.assign({method:d,headers:Vt,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function Ne(I,d,g){return yt.apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(I,d,g){I._canInitEmulator=!1;const C=Object.assign(Object.assign({},st),d);try{const j=new Er(I),ee=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Me=yield ee.json();if("needConfirmation"in Me)throw wr(I,"account-exists-with-different-credential",Me);if(ee.ok&&!("errorMessage"in Me))return Me;{const nt=ee.ok?Me.errorMessage:Me.error.message,[Vt,an]=nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw wr(I,"credential-already-in-use",Me);if("EMAIL_EXISTS"===Vt)throw wr(I,"email-already-in-use",Me);if("USER_DISABLED"===Vt)throw wr(I,"user-disabled",Me);const mn=C[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(an)throw Ze(I,mn,an);Fe(I,mn)}}catch(j){if(j instanceof W.ZR)throw j;Fe(I,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function Ut(I,d,g,C){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,p.Z)(function*(I,d,g,C,j={}){const ee=yield He(I,d,g,C,j);return"mfaPendingCredential"in ee&&Fe(I,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function jn(I,d,g,C){const j=`${d}${g}?${C}`;return I.config.emulator?ot(I.config,j):`${I.config.apiScheme}://${j}`}class Er{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(we(this.auth,"network-request-failed")),Nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(I,d,g){const C={appName:I.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const j=we(I,d,C);return j.customData._tokenResponse=g,j}function hr(){return(hr=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function sn(){return(sn=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function Pt(I){if(I)try{const d=new Date(Number(I));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function Pn(){return(Pn=(0,p.Z)(function*(I,d=!1){const g=(0,W.m9)(I),C=yield g.getIdToken(d),j=ki(C);Pe(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const ee="object"==typeof j.firebase?j.firebase:void 0,Me=ee?.sign_in_provider;return{claims:j,token:C,authTime:Pt(vi(j.auth_time)),issuedAtTime:Pt(vi(j.iat)),expirationTime:Pt(vi(j.exp)),signInProvider:Me||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function vi(I){return 1e3*Number(I)}function ki(I){const[d,g,C]=I.split(".");if(void 0===d||void 0===g||void 0===C)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,W.tV)(g);return j?JSON.parse(j):(wt("Failed to decode base64 JWT payload"),null)}catch(j){return wt("Caught error parsing JWT payload as JSON",j?.toString()),null}}function Cn(I,d){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(I,d,g=!1){if(g)return d;try{return yield d}catch(C){throw C instanceof W.ZR&&function ln({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}(C)&&I.auth.currentUser===I&&(yield I.auth.signOut()),C}})).apply(this,arguments)}class ni{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var g;if(d){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(d);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),C)}iteration(){var d=this;return(0,p.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&d.schedule(!0))}d.schedule()})()}}class Mr{constructor(d,g){this.createdAt=d,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pt(this.lastLoginAt),this.creationTime=Pt(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mr(I){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,p.Z)(function*(I){var d;const g=I.auth,C=yield I.getIdToken(),j=yield Cn(I,function Dr(I,d){return xn.apply(this,arguments)}(g,{idToken:C}));Pe(j?.users.length,g,"internal-error");const ee=j.users[0];I._notifyReloadListener(ee);const Me=null!==(d=ee.providerUserInfo)&&void 0!==d&&d.length?function Wi(I){return I.map(d=>{var{providerId:g}=d,C=(0,De._T)(d,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(ee.providerUserInfo):[],nt=function ir(I,d){return[...I.filter(C=>!d.some(j=>j.providerId===C.providerId)),...d]}(I.providerData,Me),mn=!!I.isAnonymous&&!(I.email&&ee.passwordHash||nt?.length),$n={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:nt,metadata:new Mr(ee.createdAt,ee.lastLoginAt),isAnonymous:mn};Object.assign(I,$n)}),Ti.apply(this,arguments)}function _i(){return(_i=(0,p.Z)(function*(I){const d=(0,W.m9)(I);yield mr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Ci(){return(Ci=(0,p.Z)(function*(I,d){const g=yield Ne(I,{},(0,p.Z)(function*(){const C=(0,W.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:ee}=I.config,Me=jn(I,j,"/v1/token",`key=${ee}`),nt=yield I._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",mt.fetch()(Me,{method:"POST",headers:nt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Rn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Pe(d.idToken,"internal-error"),Pe(typeof d.idToken<"u","internal-error"),Pe(typeof d.refreshToken<"u","internal-error");const g="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Xn(I){const d=ki(I);return Pe(d,"internal-error"),Pe(typeof d.exp<"u","internal-error"),Pe(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,g)}getToken(d,g=!1){var C=this;return(0,p.Z)(function*(){return Pe(!C.accessToken||C.refreshToken,d,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(d,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,g){var C=this;return(0,p.Z)(function*(){const{accessToken:j,refreshToken:ee,expiresIn:Me}=yield function Yn(I,d){return Ci.apply(this,arguments)}(d,g);C.updateTokensAndExpiration(j,ee,Number(Me))})()}updateTokensAndExpiration(d,g,C){this.refreshToken=g||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(d,g){const{refreshToken:C,accessToken:j,expirationTime:ee}=g,Me=new Rn;return C&&(Pe("string"==typeof C,"internal-error",{appName:d}),Me.refreshToken=C),j&&(Pe("string"==typeof j,"internal-error",{appName:d}),Me.accessToken=j),ee&&(Pe("number"==typeof ee,"internal-error",{appName:d}),Me.expirationTime=ee),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new Rn,this.toJSON())}_performRefresh(){return Ft("not implemented")}}function gt(I,d){Pe("string"==typeof I||typeof I>"u","internal-error",{appName:d})}class Tr{constructor(d){var{uid:g,auth:C,stsTokenManager:j}=d,ee=(0,De._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ni(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Mr(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(d){var g=this;return(0,p.Z)(function*(){const C=yield Cn(g,g.stsTokenManager.getToken(g.auth,d));return Pe(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(d){return function yi(I){return Pn.apply(this,arguments)}(this,d)}reload(){return function ri(I){return _i.apply(this,arguments)}(this)}_assign(d){this!==d&&(Pe(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(g=>Object.assign({},g)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const g=new Tr(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(d){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,g=!1){var C=this;return(0,p.Z)(function*(){let j=!1;d.idToken&&d.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(d),j=!0),g&&(yield mr(C)),yield C.auth._persistUserIfCurrent(C),j&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var d=this;return(0,p.Z)(function*(){const g=yield d.getIdToken();return yield Cn(d,function Ir(I,d){return hr.apply(this,arguments)}(d.auth,{idToken:g})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,g){var C,j,ee,Me,nt,Vt,an,mn;const $n=null!==(C=g.displayName)&&void 0!==C?C:void 0,Js=null!==(j=g.email)&&void 0!==j?j:void 0,Co=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,va=null!==(Me=g.photoURL)&&void 0!==Me?Me:void 0,cc=null!==(nt=g.tenantId)&&void 0!==nt?nt:void 0,_a=null!==(Vt=g._redirectEventId)&&void 0!==Vt?Vt:void 0,Rd=null!==(an=g.createdAt)&&void 0!==an?an:void 0,Nu=null!==(mn=g.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:Ml,emailVerified:xl,isAnonymous:eu,providerData:Rl,stsTokenManager:mu}=g;Pe(Ml&&mu,d,"internal-error");const dc=Rn.fromJSON(this.name,mu);Pe("string"==typeof Ml,d,"internal-error"),gt($n,d.name),gt(Js,d.name),Pe("boolean"==typeof xl,d,"internal-error"),Pe("boolean"==typeof eu,d,"internal-error"),gt(Co,d.name),gt(va,d.name),gt(cc,d.name),gt(_a,d.name),gt(Rd,d.name),gt(Nu,d.name);const hc=new Tr({uid:Ml,auth:d,email:Js,emailVerified:xl,displayName:$n,isAnonymous:eu,photoURL:va,phoneNumber:Co,tenantId:cc,stsTokenManager:dc,createdAt:Rd,lastLoginAt:Nu});return Rl&&Array.isArray(Rl)&&(hc.providerData=Rl.map(Nl=>Object.assign({},Nl))),_a&&(hc._redirectEventId=_a),hc}static _fromIdTokenResponse(d,g,C=!1){return(0,p.Z)(function*(){const j=new Rn;j.updateFromServerResponse(g);const ee=new Tr({uid:g.localId,auth:d,stsTokenManager:j,isAnonymous:C});return yield mr(ee),ee})()}}const Cr=new Map;function St(I){rn(I instanceof Function,"Expected a class definition");let d=Cr.get(I);return d?(rn(d instanceof I,"Instance stored in cache mismatched with class"),d):(d=new I,Cr.set(I,d),d)}const Jt=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,C){var j=this;return(0,p.Z)(function*(){j.storage[g]=C})()}_get(g){var C=this;return(0,p.Z)(function*(){const j=C.storage[g];return void 0===j?null:j})()}_remove(g){var C=this;return(0,p.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return I.type="NONE",I})();function fr(I,d,g){return`firebase:${I}:${d}:${g}`}class ue{constructor(d,g,C){this.persistence=d,this.auth=g,this.userKey=C;const{config:j,name:ee}=this.auth;this.fullUserKey=fr(this.userKey,j.apiKey,ee),this.fullPersistenceKey=fr("persistence",j.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,p.Z)(function*(){const g=yield d.persistence._get(d.fullUserKey);return g?Tr._fromJSON(d.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var g=this;return(0,p.Z)(function*(){if(g.persistence===d)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=d,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,g,C="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ue(St(Jt),d,C);const j=(yield Promise.all(g.map(function(){var an=(0,p.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return an.apply(this,arguments)}}()))).filter(an=>an);let ee=j[0]||St(Jt);const Me=fr(C,d.config.apiKey,d.name);let nt=null;for(const an of g)try{const mn=yield an._get(Me);if(mn){const $n=Tr._fromJSON(d,mn);an!==ee&&(nt=$n),ee=an;break}}catch{}const Vt=j.filter(an=>an._shouldAllowMigration);return ee._shouldAllowMigration&&Vt.length?(ee=Vt[0],nt&&(yield ee._set(Me,nt.toJSON())),yield Promise.all(g.map(function(){var an=(0,p.Z)(function*(mn){if(mn!==ee)try{yield mn._remove(Me)}catch{}});return function(mn){return an.apply(this,arguments)}}())),new ue(ee,d,C)):new ue(ee,d,C)})()}}function se(I){const d=I.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Mt(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(ge(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(ae(d))return"Blackberry";if(re(d))return"Webos";if(at(d))return"Safari";if((d.includes("chrome/")||Oe(d))&&!d.includes("edge/"))return"Chrome";if(me(d))return"Android";{const C=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function ge(I=(0,W.z$)()){return/firefox\//i.test(I)}function at(I=(0,W.z$)()){const d=I.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Oe(I=(0,W.z$)()){return/crios\//i.test(I)}function Mt(I=(0,W.z$)()){return/iemobile/i.test(I)}function me(I=(0,W.z$)()){return/android/i.test(I)}function ae(I=(0,W.z$)()){return/blackberry/i.test(I)}function re(I=(0,W.z$)()){return/webos/i.test(I)}function ye(I=(0,W.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function qe(I=(0,W.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Sn(I=(0,W.z$)()){return ye(I)||me(I)||re(I)||ae(I)||/windows phone/i.test(I)||Mt(I)}function zn(I,d=[]){let g;switch(I){case"Browser":g=se((0,W.z$)());break;case"Worker":g=`${se((0,W.z$)())}-${I}`;break;default:g=I}const C=d.length?d.join(","):"FirebaseCore-web";return`${g}/JsCore/${Z.SDK_VERSION}/${C}`}function Le(){return(Le=(0,p.Z)(function*(I){return(yield He(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Tt(I,d){return qt.apply(this,arguments)}function qt(){return(qt=(0,p.Z)(function*(I,d){return He(I,"GET","/v2/recaptchaConfig",Ie(I,d))})).apply(this,arguments)}function un(I){return void 0!==I&&void 0!==I.getResponse}function yn(I){return void 0!==I&&void 0!==I.enterprise}class Zt{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Qn(I){return new Promise((d,g)=>{const C=document.createElement("script");C.setAttribute("src",I),C.onload=d,C.onerror=j=>{const ee=we("internal-error");ee.customData=j,g(ee)},C.type="text/javascript",C.charset="UTF-8",function Un(){var I,d;return null!==(d=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==d?d:document}().appendChild(C)})}function Pr(I){return`__${I}${Math.floor(1e6*Math.random())}`}const os="NO_RECAPTCHA";class Mi{constructor(d){this.type="recaptcha-enterprise",this.auth=qn(d)}verify(d="verify",g=!1){var C=this;return(0,p.Z)(function*(){function ee(){return ee=(0,p.Z)(function*(nt){if(!g){if(null==nt.tenantId&&null!=nt._agentRecaptchaConfig)return nt._agentRecaptchaConfig.siteKey;if(null!=nt.tenantId&&void 0!==nt._tenantRecaptchaConfigs[nt.tenantId])return nt._tenantRecaptchaConfigs[nt.tenantId].siteKey}return new Promise(function(){var Vt=(0,p.Z)(function*(an,mn){Tt(nt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then($n=>{if(void 0!==$n.recaptchaKey){const Js=new Zt($n);return null==nt.tenantId?nt._agentRecaptchaConfig=Js:nt._tenantRecaptchaConfigs[nt.tenantId]=Js,an(Js.siteKey)}mn(new Error("recaptcha Enterprise site key undefined"))}).catch($n=>{mn($n)})});return function(an,mn){return Vt.apply(this,arguments)}}())}),ee.apply(this,arguments)}function Me(nt,Vt,an){const mn=window.grecaptcha;yn(mn)?mn.enterprise.ready(()=>{mn.enterprise.execute(nt,{action:d}).then($n=>{Vt($n)}).catch(()=>{Vt(os)})}):an(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((nt,Vt)=>{(function j(nt){return ee.apply(this,arguments)})(C.auth).then(an=>{if(!g&&yn(window.grecaptcha))Me(an,nt,Vt);else{if(typeof window>"u")return void Vt(new Error("RecaptchaVerifier is only supported in browser"));Qn("https://www.google.com/recaptcha/enterprise.js?render="+an).then(()=>{Me(an,nt,Vt)}).catch(mn=>{Vt(mn)})}}).catch(an=>{Vt(an)})})})()}}function kr(I,d,g){return jt.apply(this,arguments)}function jt(){return(jt=(0,p.Z)(function*(I,d,g,C=!1){const j=new Mi(I);let ee;try{ee=yield j.verify(g)}catch{ee=yield j.verify(g,!0)}const Me=Object.assign({},d);return Object.assign(Me,C?{captchaResp:ee}:{captchaResponse:ee}),Object.assign(Me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Me})).apply(this,arguments)}class bn{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,g){const C=ee=>new Promise((Me,nt)=>{try{Me(d(ee))}catch(Vt){nt(Vt)}});C.onAbort=g,this.queue.push(C);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var g=this;return(0,p.Z)(function*(){if(g.auth.currentUser===d)return;const C=[];try{for(const j of g.queue)yield j(d),j.onAbort&&C.push(j.onAbort)}catch(j){C.reverse();for(const ee of C)try{ee()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class xr{constructor(d,g,C,j){this.app=d,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=C,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$t,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(d,g){var C=this;return g&&(this._popupRedirectResolver=St(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var j,ee;if(!C._deleted&&(C.persistenceManager=yield ue.create(C,d),!C._deleted)){if(null!==(j=C._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,p.Z)(function*(){if(d._deleted)return;const g=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||g){if(d.currentUser&&g&&d.currentUser.uid===g.uid)return d._currentUser._assign(g),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(g,!0)}})()}initializeCurrentUser(d){var g=this;return(0,p.Z)(function*(){var C;const j=yield g.assertedPersistence.getCurrentUser();let ee=j,Me=!1;if(d&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const nt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Vt=ee?._redirectEventId,an=yield g.tryRedirectSignIn(d);(!nt||nt===Vt)&&an?.user&&(ee=an.user,Me=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Me)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(nt){ee=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(nt))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return Pe(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(d){var g=this;return(0,p.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,d,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(d){var g=this;return(0,p.Z)(function*(){try{yield mr(d)}catch(C){if("auth/network-request-failed"!==C?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Ye(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var d=this;return(0,p.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var g=this;return(0,p.Z)(function*(){const C=d?(0,W.m9)(d):null;return C&&Pe(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(d,g=!1){var C=this;return(0,p.Z)(function*(){if(!C._deleted)return d&&Pe(C.tenantId===d.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(d)),C.queue((0,p.Z)(function*(){yield C.directlySetCurrentUser(d),C.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,p.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(St(d))}))}initializeRecaptchaConfig(){var d=this;return(0,p.Z)(function*(){const g=yield Tt(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new Zt(g);null==d.tenantId?d._agentRecaptchaConfig=C:d._tenantRecaptchaConfigs[d.tenantId]=C,C.emailPasswordEnabled&&new Mi(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new W.LL("auth","Firebase",d())}onAuthStateChanged(d,g,C){return this.registerStateListener(this.authStateSubscription,d,g,C)}beforeAuthStateChanged(d,g){return this.beforeStateQueue.pushCallback(d,g)}onIdTokenChanged(d,g,C){return this.registerStateListener(this.idTokenSubscription,d,g,C)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,g){var C=this;return(0,p.Z)(function*(){const j=yield C.getOrInitRedirectPersistenceManager(g);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const C=d&&St(d)||g._popupRedirectResolver;Pe(C,g,"argument-error"),g.redirectPersistenceManager=yield ue.create(g,[St(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(d){var g=this;return(0,p.Z)(function*(){var C,j;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===d?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?g.redirectUser:null})()}_persistUserIfCurrent(d){var g=this;return(0,p.Z)(function*(){if(d===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,g,C,j){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return Pe(Me,this,"internal-error"),Me.then(()=>ee(this.currentUser)),"function"==typeof g?d.addObserver(g,C,j):d.addObserver(g)}directlySetCurrentUser(d){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==d&&g._currentUser._stopProactiveRefresh(),d&&g.isProactiveRefreshEnabled&&d._startProactiveRefresh(),g.currentUser=d,d?yield g.assertedPersistence.setCurrentUser(d):yield g.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,p.Z)(function*(){var g;const C={"X-Client-Version":d.clientVersion};d.app.options.appId&&(C["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(g=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();j&&(C["X-Firebase-Client"]=j);const ee=yield d._getAppCheckToken();return ee&&(C["X-Firebase-AppCheck"]=ee),C})()}_getAppCheckToken(){var d=this;return(0,p.Z)(function*(){var g;const C=yield null===(g=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return C?.error&&function Et(I,...d){ft.logLevel<=be.in.WARN&&ft.warn(`Auth (${Z.SDK_VERSION}): ${I}`,...d)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function qn(I){return(0,W.m9)(I)}class Bi{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,W.ne)(g=>this.observer=g)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Or(I,d,g){const C=qn(I);Pe(C._canInitEmulator,C,"emulator-config-failed"),Pe(/^https?:\/\//.test(d),C,"invalid-emulator-scheme");const j=!!g?.disableWarnings,ee=xe(d),{host:Me,port:nt}=function Ee(I){const d=xe(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(d.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(C);if(j){const ee=j[1];return{host:ee,port:Te(C.substr(ee.length+1))}}{const[ee,Me]=C.split(":");return{host:ee,port:Te(Me)}}}(d);C.config.emulator={url:`${ee}//${Me}${null===nt?"":`:${nt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Me,port:nt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function lt(){function I(){const d=document.createElement("p"),g=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function xe(I){const d=I.indexOf(":");return d<0?"":I.substr(0,d+1)}function Te(I){if(!I)return null;const d=Number(I);return isNaN(d)?null:d}class Ct{constructor(d,g){this.providerId=d,this.signInMethod=g}toJSON(){return Ft("not implemented")}_getIdTokenResponse(d){return Ft("not implemented")}_linkToIdToken(d,g){return Ft("not implemented")}_getReauthenticationResolver(d){return Ft("not implemented")}}function hn(I,d){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:resetPassword",Ie(I,d))})).apply(this,arguments)}function fn(I,d){return On.apply(this,arguments)}function On(){return(On=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Br(){return(Br=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:update",Ie(I,d))})).apply(this,arguments)}function Gr(I,d){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithPassword",Ie(I,d))})).apply(this,arguments)}function Jn(I,d){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:sendOobCode",Ie(I,d))})).apply(this,arguments)}function _s(){return(_s=(0,p.Z)(function*(I,d){return Jn(I,d)})).apply(this,arguments)}function no(I,d){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(I,d){return Jn(I,d)})).apply(this,arguments)}function Ns(I,d){return ci.apply(this,arguments)}function ci(){return(ci=(0,p.Z)(function*(I,d){return Jn(I,d)})).apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(I,d){return Jn(I,d)})).apply(this,arguments)}function us(){return(us=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,d))})).apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,d))})).apply(this,arguments)}class or extends Ct{constructor(d,g,C,j=null){super("password",C),this._email=d,this._password=g,this._tenantId=j}static _fromEmailAndPassword(d,g){return new or(d,g,"password")}static _fromEmailAndCode(d,g,C=null){return new or(d,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(d){var g=this;return(0,p.Z)(function*(){var C;switch(g.signInMethod){case"password":const j={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=d._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield kr(d,j,"signInWithPassword");return Gr(d,ee)}return Gr(d,j).catch(function(){var ee=(0,p.Z)(function*(Me){if("auth/missing-recaptcha-token"===Me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const nt=yield kr(d,j,"signInWithPassword");return Gr(d,nt)}return Promise.reject(Me)});return function(Me){return ee.apply(this,arguments)}}());case"emailLink":return function as(I,d){return us.apply(this,arguments)}(d,{email:g._email,oobCode:g._password});default:Fe(d,"internal-error")}})()}_linkToIdToken(d,g){var C=this;return(0,p.Z)(function*(){switch(C.signInMethod){case"password":return fn(d,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Es(I,d){return ws.apply(this,arguments)}(d,{idToken:g,email:C._email,oobCode:C._password});default:Fe(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Fr(I,d){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithIdp",Ie(I,d))})).apply(this,arguments)}class Ki extends Ct{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const g=new Ki(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(g.idToken=d.idToken),d.accessToken&&(g.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(g.nonce=d.nonce),d.pendingToken&&(g.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(g.accessToken=d.oauthToken,g.secret=d.oauthTokenSecret):Fe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:j}=g,ee=(0,De._T)(g,["providerId","signInMethod"]);if(!C||!j)return null;const Me=new Ki(C,j);return Me.idToken=ee.idToken||void 0,Me.accessToken=ee.accessToken||void 0,Me.secret=ee.secret,Me.nonce=ee.nonce,Me.pendingToken=ee.pendingToken||null,Me}_getIdTokenResponse(d){return Fr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,Fr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Fr(d,g)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),d.postBody=(0,W.xO)(g)}return d}}function So(){return(So=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:sendVerificationCode",Ie(I,d))})).apply(this,arguments)}function zs(){return(zs=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,d))})).apply(this,arguments)}function vo(){return(vo=(0,p.Z)(function*(I,d){const g=yield Ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,d));if(g.temporaryProof)throw wr(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ra={USER_NOT_FOUND:"user-not-found"};function ia(){return(ia=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,Object.assign(Object.assign({},d),{operation:"REAUTH"})),ra)})).apply(this,arguments)}class Ds extends Ct{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,g){return new Ds({verificationId:d,verificationCode:g})}static _fromTokenResponse(d,g){return new Ds({phoneNumber:d,temporaryProof:g})}_getIdTokenResponse(d){return function ns(I,d){return zs.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,g){return function yo(I,d){return vo.apply(this,arguments)}(d,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function Is(I,d){return ia.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:g,verificationId:C,verificationCode:j}=this.params;return d&&g?{temporaryProof:d,phoneNumber:g}:{sessionInfo:C,code:j}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:g,verificationCode:C,phoneNumber:j,temporaryProof:ee}=d;return C||g||j||ee?new Ds({verificationId:g,verificationCode:C,phoneNumber:j,temporaryProof:ee}):null}}class Ts{constructor(d){var g,C,j,ee,Me,nt;const Vt=(0,W.zd)((0,W.pd)(d)),an=null!==(g=Vt.apiKey)&&void 0!==g?g:null,mn=null!==(C=Vt.oobCode)&&void 0!==C?C:null,$n=function rs(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Vt.mode)&&void 0!==j?j:null);Pe(an&&mn&&$n,"argument-error"),this.apiKey=an,this.operation=$n,this.code=mn,this.continueUrl=null!==(ee=Vt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Me=Vt.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(nt=Vt.tenantId)&&void 0!==nt?nt:null}static parseLink(d){const g=function Ao(I){const d=(0,W.zd)((0,W.pd)(I)).link,g=d?(0,W.zd)((0,W.pd)(d)).deep_link_id:null,C=(0,W.zd)((0,W.pd)(I)).deep_link_id;return(C?(0,W.zd)((0,W.pd)(C)).link:null)||C||g||d||I}(d);try{return new Ts(g)}catch{return null}}}let jo=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,C){return or._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const j=Ts.parseLink(C);return Pe(j,"argument-error"),or._fromEmailAndCode(g,j.code,j.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class qi{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Gs extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class $i extends Gs{static credentialFromJSON(d){const g="string"==typeof d?JSON.parse(d):d;return Pe("providerId"in g&&"signInMethod"in g,"argument-error"),Ki._fromParams(g)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Pe(d.idToken||d.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return $i.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return $i.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:j,pendingToken:ee,nonce:Me,providerId:nt}=d;if(!C&&!j&&!g&&!ee||!nt)return null;try{return new $i(nt)._credential({idToken:g,accessToken:C,nonce:Me,pendingToken:ee})}catch{return null}}}let Ho=(()=>{class I extends Gs{constructor(){super("facebook.com")}static credential(g){return Ki._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ro=(()=>{class I extends Gs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Ki._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:j}=g;if(!C&&!j)return null;try{return I.credential(C,j)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Eo=(()=>{class I extends Gs{constructor(){super("github.com")}static credential(g){return Ki._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Li extends Ct{constructor(d,g){super(d,d),this.pendingToken=g}_getIdTokenResponse(d){return Fr(d,this.buildRequest())}_linkToIdToken(d,g){const C=this.buildRequest();return C.idToken=g,Fr(d,C)}_getReauthenticationResolver(d){const g=this.buildRequest();return g.autoCreate=!1,Fr(d,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const g="string"==typeof d?JSON.parse(d):d,{providerId:C,signInMethod:j,pendingToken:ee}=g;return C&&j&&ee&&C===j?new Li(C,ee):null}static _create(d,g){return new Li(d,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mo extends qi{constructor(d){Pe(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return Mo.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return Mo.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const g=Li.fromJSON(d);return Pe(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:g,providerId:C}=d;if(!g||!C)return null;try{return Li._create(C,g)}catch{return null}}}let hi=(()=>{class I extends Gs{constructor(){super("twitter.com")}static credential(g,C){return Ki._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:j}=g;if(!C||!j)return null;try{return I.credential(C,j)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Zi(I,d){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signUp",Ie(I,d))})).apply(this,arguments)}class br{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,g,C,j=!1){return(0,p.Z)(function*(){const ee=yield Tr._fromIdTokenResponse(d,C,j),Me=Os(C);return new br({user:ee,providerId:Me,_tokenResponse:C,operationType:g})})()}static _forOperation(d,g,C){return(0,p.Z)(function*(){yield d._updateTokensIfNecessary(C,!0);const j=Os(C);return new br({user:d,providerId:j,_tokenResponse:C,operationType:g})})()}}function Os(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function io(I){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(I){var d;const g=qn(I);if(yield g._initializationPromise,null!==(d=g.currentUser)&&void 0!==d&&d.isAnonymous)return new br({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Zi(g,{returnSecureToken:!0}),j=yield br._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class ks extends W.ZR{constructor(d,g,C,j){var ee;super(g.code,g.message),this.operationType=C,this.user=j,Object.setPrototypeOf(this,ks.prototype),this.customData={appName:d.name,tenantId:null!==(ee=d.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(d,g,C,j){return new ks(d,g,C,j)}}function cs(I,d,g,C){return("reauthenticate"===d?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?ks._fromErrorAndOperation(I,ee,d,C):ee})}function Wr(I){return new Set(I.map(({providerId:d})=>d).filter(d=>!!d))}function wa(I,d){return wo.apply(this,arguments)}function wo(){return wo=(0,p.Z)(function*(I,d){const g=(0,W.m9)(I);yield Qr(!0,g,d);const{providerUserInfo:C}=yield function zr(I,d){return sn.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[d]}),j=Wr(C||[]);return g.providerData=g.providerData.filter(ee=>j.has(ee.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),wo.apply(this,arguments)}function si(I,d){return oi.apply(this,arguments)}function oi(){return(oi=(0,p.Z)(function*(I,d,g=!1){const C=yield Cn(I,d._linkToIdToken(I.auth,yield I.getIdToken()),g);return br._forOperation(I,"link",C)})).apply(this,arguments)}function Qr(I,d,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,p.Z)(function*(I,d,g){yield mr(d);const j=!1===I?"provider-already-linked":"no-such-provider";Pe(Wr(d.providerData).has(g)===I,d.auth,j)})).apply(this,arguments)}function xo(I,d){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(I,d,g=!1){const{auth:C}=I,j="reauthenticate";try{const ee=yield Cn(I,cs(C,j,d,I),g);Pe(ee.idToken,C,"internal-error");const Me=ki(ee.idToken);Pe(Me,C,"internal-error");const{sub:nt}=Me;return Pe(I.uid===nt,C,"user-mismatch"),br._forOperation(I,j,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&Fe(C,"user-mismatch"),ee}})).apply(this,arguments)}function ds(I,d){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,p.Z)(function*(I,d,g=!1){const C="signIn",j=yield cs(I,C,d),ee=yield br._fromIdTokenResponse(I,C,j);return g||(yield I._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Tn(I,d){return Io.apply(this,arguments)}function Io(){return(Io=(0,p.Z)(function*(I,d){return ds(qn(I),d)})).apply(this,arguments)}function oa(I,d){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,p.Z)(function*(I,d){const g=(0,W.m9)(I);return yield Qr(!1,g,d.providerId),si(g,d)})).apply(this,arguments)}function Do(I,d){return aa.apply(this,arguments)}function aa(){return(aa=(0,p.Z)(function*(I,d){return xo((0,W.m9)(I),d)})).apply(this,arguments)}function so(){return(so=(0,p.Z)(function*(I,d){return Ut(I,"POST","/v1/accounts:signInWithCustomToken",Ie(I,d))})).apply(this,arguments)}function Na(I,d){return R.apply(this,arguments)}function R(){return R=(0,p.Z)(function*(I,d){const g=qn(I),C=yield function Ks(I,d){return so.apply(this,arguments)}(g,{token:d,returnSecureToken:!0}),j=yield br._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(j.user),j}),R.apply(this,arguments)}class O{constructor(d,g){this.factorId=d,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(d,g){return"phoneInfo"in g?k._fromServerResponse(d,g):"totpInfo"in g?X._fromServerResponse(d,g):Fe(d,"internal-error")}}class k extends O{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,g){return new k(g)}}class X extends O{constructor(d){super("totp",d)}static _fromServerResponse(d,g){return new X(g)}}function Ve(I,d,g){var C;Pe((null===(C=g.url)||void 0===C?void 0:C.length)>0,I,"invalid-continue-uri"),Pe(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),d.continueUrl=g.url,d.dynamicLinkDomain=g.dynamicLinkDomain,d.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Pe(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),d.iOSBundleId=g.iOS.bundleId),g.android&&(Pe(g.android.packageName.length>0,I,"missing-android-pkg-name"),d.androidInstallApp=g.android.installApp,d.androidMinimumVersionCode=g.android.minimumVersion,d.androidPackageName=g.android.packageName)}function dn(I,d,g){return yr.apply(this,arguments)}function yr(){return yr=(0,p.Z)(function*(I,d,g){var C;const j=qn(I),ee={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=j._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Me=yield kr(j,ee,"getOobCode",!0);g&&Ve(j,Me,g),yield no(j,Me)}else g&&Ve(j,ee,g),yield no(j,ee).catch(function(){var Me=(0,p.Z)(function*(nt){if("auth/missing-recaptcha-token"!==nt.code)return Promise.reject(nt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Vt=yield kr(j,ee,"getOobCode",!0);g&&Ve(j,Vt,g),yield no(j,Vt)}});return function(nt){return Me.apply(this,arguments)}}())}),yr.apply(this,arguments)}function Lr(I,d,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,p.Z)(function*(I,d,g){yield hn((0,W.m9)(I),{oobCode:d,newPassword:g})})).apply(this,arguments)}function oo(I,d){return Ro.apply(this,arguments)}function Ro(){return Ro=(0,p.Z)(function*(I,d){yield function xi(I,d){return Br.apply(this,arguments)}((0,W.m9)(I),{oobCode:d})}),Ro.apply(this,arguments)}function wi(I,d){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(I,d){const g=(0,W.m9)(I),C=yield hn(g,{oobCode:d}),j=C.requestType;switch(Pe(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Pe(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Pe(C.mfaInfo,g,"internal-error");default:Pe(C.email,g,"internal-error")}let ee=null;return C.mfaInfo&&(ee=O._fromServerResponse(qn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ee},operation:j}})).apply(this,arguments)}function $r(I,d){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,p.Z)(function*(I,d){const{data:g}=yield wi((0,W.m9)(I),d);return g.email})).apply(this,arguments)}function Fs(I,d,g){return ur.apply(this,arguments)}function ur(){return ur=(0,p.Z)(function*(I,d,g){var C;const j=qn(I),ee={returnSecureToken:!0,email:d,password:g,clientType:"CLIENT_TYPE_WEB"};let Me;if(null!==(C=j._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const an=yield kr(j,ee,"signUpPassword");Me=Zi(j,an)}else Me=Zi(j,ee).catch(function(){var an=(0,p.Z)(function*(mn){if("auth/missing-recaptcha-token"===mn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const $n=yield kr(j,ee,"signUpPassword");return Zi(j,$n)}return Promise.reject(mn)});return function(mn){return an.apply(this,arguments)}}());const nt=yield Me.catch(an=>Promise.reject(an)),Vt=yield br._fromIdTokenResponse(j,"signIn",nt);return yield j._updateCurrentUser(Vt.user),Vt}),ur.apply(this,arguments)}function fs(I,d,g){return Tn((0,W.m9)(I),jo.credential(d,g))}function ua(I,d,g){return qs.apply(this,arguments)}function qs(){return qs=(0,p.Z)(function*(I,d,g){var C;const j=qn(I),ee={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};function Me(nt,Vt){Pe(Vt.handleCodeInApp,j,"argument-error"),Vt&&Ve(j,nt,Vt)}if(null!==(C=j._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const nt=yield kr(j,ee,"getOobCode",!0);Me(nt,g),yield Ns(j,nt)}else Me(ee,g),yield Ns(j,ee).catch(function(){var nt=(0,p.Z)(function*(Vt){if("auth/missing-recaptcha-token"!==Vt.code)return Promise.reject(Vt);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const an=yield kr(j,ee,"getOobCode",!0);Me(an,g),yield Ns(j,an)}});return function(Vt){return nt.apply(this,arguments)}}())}),qs.apply(this,arguments)}function su(I,d){return"EMAIL_SIGNIN"===Ts.parseLink(d)?.operation}function ou(I,d,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I),j=jo.credentialWithLink(d,g||zt());return Pe(j._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Tn(C,j)})).apply(this,arguments)}function No(){return(No=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:createAuthUri",Ie(I,d))})).apply(this,arguments)}function ca(I,d){return ao.apply(this,arguments)}function ao(){return ao=(0,p.Z)(function*(I,d){const C={identifier:d,continueUri:_n()?zt():"http://localhost"},{signinMethods:j}=yield function la(I,d){return No.apply(this,arguments)}((0,W.m9)(I),C);return j||[]}),ao.apply(this,arguments)}function z(I,d){return _.apply(this,arguments)}function _(){return _=(0,p.Z)(function*(I,d){const g=(0,W.m9)(I),j={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};d&&Ve(g.auth,j,d);const{email:ee}=yield function to(I,d){return _s.apply(this,arguments)}(g.auth,j);ee!==I.email&&(yield I.reload())}),_.apply(this,arguments)}function w(I,d,g){return F.apply(this,arguments)}function F(){return F=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:d};g&&Ve(C.auth,ee,g);const{email:Me}=yield function $o(I,d){return di.apply(this,arguments)}(C.auth,ee);Me!==I.email&&(yield I.reload())}),F.apply(this,arguments)}function te(){return(te=(0,p.Z)(function*(I,d){return He(I,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function fe(I,d){return ve.apply(this,arguments)}function ve(){return ve=(0,p.Z)(function*(I,{displayName:d,photoURL:g}){if(void 0===d&&void 0===g)return;const C=(0,W.m9)(I),ee={idToken:yield C.getIdToken(),displayName:d,photoUrl:g,returnSecureToken:!0},Me=yield Cn(C,function K(I,d){return te.apply(this,arguments)}(C.auth,ee));C.displayName=Me.displayName||null,C.photoURL=Me.photoUrl||null;const nt=C.providerData.find(({providerId:Vt})=>"password"===Vt);nt&&(nt.displayName=C.displayName,nt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Me)}),ve.apply(this,arguments)}function $e(I,d){return kt((0,W.m9)(I),d,null)}function Je(I,d){return kt((0,W.m9)(I),null,d)}function kt(I,d,g){return xt.apply(this,arguments)}function xt(){return(xt=(0,p.Z)(function*(I,d,g){const{auth:C}=I,ee={idToken:yield I.getIdToken(),returnSecureToken:!0};d&&(ee.email=d),g&&(ee.password=g);const Me=yield Cn(I,fn(C,ee));yield I._updateTokensIfNecessary(Me,!0)})).apply(this,arguments)}class Nn{constructor(d,g,C={}){this.isNewUser=d,this.providerId=g,this.profile=C}}class En extends Nn{constructor(d,g,C,j){super(d,g,C),this.username=j}}class kn extends Nn{constructor(d,g){super(d,"facebook.com",g)}}class Sr extends En{constructor(d,g){super(d,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class jr extends Nn{constructor(d,g){super(d,"google.com",g)}}class pi extends En{constructor(d,g,C){super(d,"twitter.com",g,C)}}function gi(I){const{user:d,_tokenResponse:g}=I;return d.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Fn(I){var d,g;if(!I)return null;const{providerId:C}=I,j=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ee=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!C&&I?.idToken){const Me=null===(g=null===(d=ki(I.idToken))||void 0===d?void 0:d.firebase)||void 0===g?void 0:g.sign_in_provider;if(Me)return new Nn(ee,"anonymous"!==Me&&"custom"!==Me?Me:null)}if(!C)return null;switch(C){case"facebook.com":return new kn(ee,j);case"github.com":return new Sr(ee,j);case"google.com":return new jr(ee,j);case"twitter.com":return new pi(ee,j,I.screenName||null);case"custom":case"anonymous":return new Nn(ee,null);default:return new Nn(ee,C,j)}}(g)}class er{constructor(d,g,C){this.type=d,this.credential=g,this.auth=C}static _fromIdtoken(d,g){return new er("enroll",d,g)}static _fromMfaPendingCredential(d){return new er("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var g,C;if(d?.multiFactorSession){if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.pendingCredential)return er._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(C=d.multiFactorSession)&&void 0!==C&&C.idToken)return er._fromIdtoken(d.multiFactorSession.idToken)}return null}}class pr{constructor(d,g,C){this.session=d,this.hints=g,this.signInResolver=C}static _fromError(d,g){const C=qn(d),j=g.customData._serverResponse,ee=(j.mfaInfo||[]).map(nt=>O._fromServerResponse(C,nt));Pe(j.mfaPendingCredential,C,"internal-error");const Me=er._fromMfaPendingCredential(j.mfaPendingCredential);return new pr(Me,ee,function(){var nt=(0,p.Z)(function*(Vt){const an=yield Vt._process(C,Me);delete j.mfaInfo,delete j.mfaPendingCredential;const mn=Object.assign(Object.assign({},j),{idToken:an.idToken,refreshToken:an.refreshToken});switch(g.operationType){case"signIn":const $n=yield br._fromIdTokenResponse(C,g.operationType,mn);return yield C._updateCurrentUser($n.user),$n;case"reauthenticate":return Pe(g.user,C,"internal-error"),br._forOperation(g.user,g.operationType,mn);default:Fe(C,"internal-error")}});return function(Vt){return nt.apply(this,arguments)}}())}resolveSignIn(d){var g=this;return(0,p.Z)(function*(){return g.signInResolver(d)})()}}function At(I,d){var g;const C=(0,W.m9)(I),j=d;return Pe(d.customData.operationType,C,"argument-error"),Pe(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),pr._fromError(C,j)}class ui{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>O._fromServerResponse(d.auth,C)))})}static _fromUser(d){return new ui(d)}getSession(){var d=this;return(0,p.Z)(function*(){return er._fromIdtoken(yield d.user.getIdToken(),d.user.auth)})()}enroll(d,g){var C=this;return(0,p.Z)(function*(){const j=d,ee=yield C.getSession(),Me=yield Cn(C.user,j._process(C.user.auth,ee,g));return yield C.user._updateTokensIfNecessary(Me),C.user.reload()})()}unenroll(d){var g=this;return(0,p.Z)(function*(){const C="string"==typeof d?d:d.uid,j=yield g.user.getIdToken();try{const ee=yield Cn(g.user,function Ar(I,d){return He(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(I,d))}(g.user.auth,{idToken:j,mfaEnrollmentId:C}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Me})=>Me!==C),yield g.user._updateTokensIfNecessary(ee),yield g.user.reload()}catch(ee){throw ee}})()}}const Kr=new WeakMap;function nr(I){const d=(0,W.m9)(I);return Kr.has(d)||Kr.set(d,ui._fromUser(d)),Kr.get(d)}const Ni="__sak";class Cs{constructor(d,g){this.storageRetriever=d,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ni,"1"),this.storage.removeItem(Ni),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,g){return this.storage.setItem(d,JSON.stringify(g)),Promise.resolve()}_get(d){const g=this.storage.getItem(d);return Promise.resolve(g?JSON.parse(g):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const zo=(()=>{class I extends Cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xr(){const I=(0,W.z$)();return at(I)||ye(I)}()&&function sr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Sn(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const j=this.storage.getItem(C),ee=this.localCache[C];j!==ee&&g(C,ee,j)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((nt,Vt,an)=>{this.notifyListeners(nt,an)});const j=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const nt=this.storage.getItem(j);if(g.newValue!==nt)null!==g.newValue?this.storage.setItem(j,g.newValue):this.storage.removeItem(j);else if(this.localCache[j]===g.newValue&&!C)return}const ee=()=>{const nt=this.storage.getItem(j);!C&&this.localCache[j]===nt||this.notifyListeners(j,nt)},Me=this.storage.getItem(j);!function pn(){return(0,W.w1)()&&10===document.documentMode}()||Me===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const j=this.listeners[g];if(j)for(const ee of Array.from(j))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var j=()=>super._set,ee=this;return(0,p.Z)(function*(){yield j().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,j=this;return(0,p.Z)(function*(){const ee=yield C().call(j,g);return j.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,j=this;return(0,p.Z)(function*(){yield C().call(j,g),delete j.localCache[g]})()}}return I.type="LOCAL",I})(),gs=(()=>{class I extends Cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return I.type="SESSION",I})();let Cu=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const j=new I(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,p.Z)(function*(){const j=g,{eventId:ee,eventType:Me,data:nt}=j.data,Vt=C.handlersMap[Me];if(!Vt?.size)return;j.ports[0].postMessage({status:"ack",eventId:ee,eventType:Me});const an=Array.from(Vt).map(function(){var $n=(0,p.Z)(function*(Js){return Js(j.origin,nt)});return function(Js){return $n.apply(this,arguments)}}()),mn=yield function yl(I){return Promise.all(I.map(function(){var d=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return d.apply(this,arguments)}}()))}(an);j.ports[0].postMessage({status:"done",eventId:ee,eventType:Me,response:mn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Po(I="",d=10){let g="";for(let C=0;C<d;C++)g+=Math.floor(10*Math.random());return I+g}class Gu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,g,C=50){var j=this;return(0,p.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Me,nt;return new Promise((Vt,an)=>{const mn=Po("",20);ee.port1.start();const $n=setTimeout(()=>{an(new Error("unsupported_event"))},C);nt={messageChannel:ee,onMessage(Js){const Co=Js;if(Co.data.eventId===mn)switch(Co.data.status){case"ack":clearTimeout($n),Me=setTimeout(()=>{an(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),Vt(Co.data.response);break;default:clearTimeout($n),clearTimeout(Me),an(new Error("invalid_response"))}}},j.handlers.add(nt),ee.port1.addEventListener("message",nt.onMessage),j.target.postMessage({eventType:d,eventId:mn,data:g},[ee.port2])}).finally(()=>{nt&&j.removeMessageHandler(nt)})})()}}function Pi(){return window}function Pa(){return typeof Pi().WorkerGlobalScope<"u"&&"function"==typeof Pi().importScripts}function Go(){return(Go=(0,p.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zi="firebaseLocalStorageDb",lu=1,ei="firebaseLocalStorage",ti="fbase_key";class Ia{constructor(d){this.request=d}toPromise(){return new Promise((d,g)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ha(I,d){return I.transaction([ei],d?"readwrite":"readonly").objectStore(ei)}function Ku(){const I=indexedDB.open(zi,lu);return new Promise((d,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const C=I.result;try{C.createObjectStore(ei,{keyPath:ti})}catch(j){g(j)}}),I.addEventListener("success",(0,p.Z)(function*(){const C=I.result;C.objectStoreNames.contains(ei)?d(C):(C.close(),yield function Oo(){const I=indexedDB.deleteDatabase(zi);return new Ia(I).toPromise()}(),d(yield Ku()))}))})}function Zs(I,d,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,p.Z)(function*(I,d,g){const C=ha(I,!0).put({[ti]:d,value:g});return new Ia(C).toPromise()})).apply(this,arguments)}function qa(){return(qa=(0,p.Z)(function*(I,d){const g=ha(I,!1).get(d),C=yield new Ia(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ta(I,d){const g=ha(I,!0).delete(d);return new Ia(g).toPromise()}const uo=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Ku()),g.db})()}_withRetries(g){var C=this;return(0,p.Z)(function*(){let j=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(j++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Pa()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Cu._getInstance(function uu(){return Pa()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,p.Z)(function*(j,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(j,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,p.Z)(function*(j,ee){return["keyChanged"]});return function(j,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var C,j;if(g.activeServiceWorker=yield function Wu(){return Go.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Gu(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);ee&&null!==(C=ee[0])&&void 0!==C&&C.fulfilled&&null!==(j=ee[0])&&void 0!==j&&j.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,p.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function au(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ku();return yield Zs(g,Ni,"1"),yield Ta(g,Ni),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,p.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var j=this;return(0,p.Z)(function*(){return j._withPendingWrite((0,p.Z)(function*(){return yield j._withRetries(ee=>Zs(ee,g,C)),j.localCache[g]=C,j.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,p.Z)(function*(){const j=yield C._withRetries(ee=>function qr(I,d){return qa.apply(this,arguments)}(ee,g));return C.localCache[g]=j,j})()}_remove(g){var C=this;return(0,p.Z)(function*(){return C._withPendingWrite((0,p.Z)(function*(){return yield C._withRetries(j=>Ta(j,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const C=yield g._withRetries(Me=>{const nt=ha(Me,!1).getAll();return new Ia(nt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const j=[],ee=new Set;for(const{fbase_key:Me,value:nt}of C)ee.add(Me),JSON.stringify(g.localCache[Me])!==JSON.stringify(nt)&&(g.notifyListeners(Me,nt),j.push(Me));for(const Me of Object.keys(g.localCache))g.localCache[Me]&&!ee.has(Me)&&(g.notifyListeners(Me,null),j.push(Me));return j})()}notifyListeners(g,C){this.localCache[g]=C;const j=this.listeners[g];if(j)for(const ee of Array.from(j))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})(),cu=1e12;class Su{constructor(d){this.auth=d,this.counter=cu,this._widgets=new Map}render(d,g){const C=this.counter;return this._widgets.set(C,new Za(d,this.auth.name,g||{})),this.counter++,C}reset(d){var g;const C=d||cu;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(d){var g;return(null===(g=this._widgets.get(d||cu))||void 0===g?void 0:g.getResponse())||""}execute(d){var g=this;return(0,p.Z)(function*(){var C;return null===(C=g._widgets.get(d||cu))||void 0===C||C.execute(),""})()}}class Za{constructor(d,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof d?document.getElementById(d):d;Pe(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ya(I){const d=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<I;C++)d.push(g.charAt(Math.floor(Math.random()*g.length)));return d.join("")}(50);const{callback:d,"expired-callback":g}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const du=Pr("rcb"),hu=new je(3e4,6e4);class ka{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=Pi().grecaptcha)||void 0===d||!d.render)}load(d,g=""){return Pe(function qu(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),d,"argument-error"),this.shouldResolveImmediately(g)&&un(Pi().grecaptcha)?Promise.resolve(Pi().grecaptcha):new Promise((C,j)=>{const ee=Pi().setTimeout(()=>{j(we(d,"network-request-failed"))},hu.get());Pi()[du]=()=>{Pi().clearTimeout(ee),delete Pi()[du];const nt=Pi().grecaptcha;if(!nt||!un(nt))return void j(we(d,"internal-error"));const Vt=nt.render;nt.render=(an,mn)=>{const $n=Vt(an,mn);return this.counter++,$n},this.hostLanguage=g,C(nt)},Qn(`https://www.google.com/recaptcha/api.js??${(0,W.xO)({onload:du,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ee),j(we(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var g;return!(null===(g=Pi().grecaptcha)||void 0===g||!g.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vl{load(d){return(0,p.Z)(function*(){return new Su(d)})()}clearedOneInstance(){}}const Qi="recaptcha",fu={theme:"light",type:"image"};class Au{constructor(d,g=Object.assign({},fu),C){this.parameters=g,this.type=Qi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(C),this.isInvisible="invisible"===this.parameters.size,Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof d?document.getElementById(d):d;Pe(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vl:new ka,this.validateStartingState()}verify(){var d=this;return(0,p.Z)(function*(){d.assertNotDestroyed();const g=yield d.render(),C=d.getAssertedRecaptcha();return C.getResponse(g)||new Promise(ee=>{const Me=nt=>{nt&&(d.tokenChangeListeners.delete(Me),ee(nt))};d.tokenChangeListeners.add(Me),d.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Pe(!this.parameters.sitekey,this.auth,"argument-error"),Pe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Pe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof d)d(g);else if("string"==typeof d){const C=Pi()[d];"function"==typeof C&&C(g)}}}assertNotDestroyed(){Pe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,p.Z)(function*(){if(yield d.init(),!d.widgetId){let g=d.container;if(!d.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}d.widgetId=d.getAssertedRecaptcha().render(g,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,p.Z)(function*(){Pe(_n()&&!Pa(),d.auth,"internal-error"),yield function Wo(){let I=null;return new Promise(d=>{"complete"!==document.readyState?(I=()=>d(),window.addEventListener("load",I)):d()}).catch(d=>{throw I&&window.removeEventListener("load",I),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const g=yield function Xe(I){return Le.apply(this,arguments)}(d.auth);Pe(g,d.auth,"internal-error"),d.parameters.sitekey=g})()}getAssertedRecaptcha(){return Pe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class lo{constructor(d,g){this.verificationId=d,this.onConfirmation=g}confirm(d){const g=Ds._fromVerification(this.verificationId,d);return this.onConfirmation(g)}}function Ko(I,d,g){return pa.apply(this,arguments)}function pa(){return(pa=(0,p.Z)(function*(I,d,g){const C=qn(I),j=yield La(C,d,(0,W.m9)(g));return new lo(j,ee=>Tn(C,ee))})).apply(this,arguments)}function Fa(I,d,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I);yield Qr(!1,C,"phone");const j=yield La(C.auth,d,(0,W.m9)(g));return new lo(j,ee=>oa(C,ee))})).apply(this,arguments)}function Ca(I,d,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I),j=yield La(C.auth,d,(0,W.m9)(g));return new lo(j,ee=>Do(C,ee))})).apply(this,arguments)}function La(I,d,g){return _l.apply(this,arguments)}function _l(){return _l=(0,p.Z)(function*(I,d,g){var C;const j=yield g.verify();try{let ee;if(Pe("string"==typeof j,I,"argument-error"),Pe(g.type===Qi,I,"argument-error"),ee="string"==typeof d?{phoneNumber:d}:d,"session"in ee){const Me=ee.session;if("phoneNumber"in ee)return Pe("enroll"===Me.type,I,"internal-error"),(yield function Yt(I,d){return He(I,"POST","/v2/accounts/mfaEnrollment:start",Ie(I,d))}(I,{idToken:Me.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Pe("signin"===Me.type,I,"internal-error");const nt=(null===(C=ee.multiFactorHint)||void 0===C?void 0:C.uid)||ee.multiFactorUid;return Pe(nt,I,"missing-multi-factor-info"),(yield function bu(I,d){return He(I,"POST","/v2/accounts/mfaSignIn:start",Ie(I,d))}(I,{mfaPendingCredential:Me.credential,mfaEnrollmentId:nt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Me}=yield function Ea(I,d){return So.apply(this,arguments)}(I,{phoneNumber:ee.phoneNumber,recaptchaToken:j});return Me}}finally{g._reset()}}),_l.apply(this,arguments)}function Dt(I,d){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(I,d){yield si((0,W.m9)(I),d)})).apply(this,arguments)}let Ss=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=qn(g)}verifyPhoneNumber(g,C){return La(this.auth,g,(0,W.m9)(C))}static credential(g,C){return Ds._fromVerification(g,C)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:j}=g;return C&&j?Ds._fromTokenResponse(C,j):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ga(I,d){return d?St(d):(Pe(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class y extends Ct{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Fr(d,this._buildIdpRequest())}_linkToIdToken(d,g){return Fr(d,this._buildIdpRequest(g))}_getReauthenticationResolver(d){return Fr(d,this._buildIdpRequest())}_buildIdpRequest(d){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(g.idToken=d),g}}function E(I){return ds(I.auth,new y(I),I.bypassAuthState)}function m(I){const{auth:d,user:g}=I;return Pe(g,d,"internal-error"),xo(g,new y(I),I.bypassAuthState)}function T(I){return A.apply(this,arguments)}function A(){return(A=(0,p.Z)(function*(I){const{auth:d,user:g}=I;return Pe(g,d,"internal-error"),si(g,new y(I),I.bypassAuthState)})).apply(this,arguments)}class V{constructor(d,g,C,j,ee=!1){this.auth=d,this.resolver=C,this.user=j,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var d=this;return new Promise(function(){var g=(0,p.Z)(function*(C,j){d.pendingPromise={resolve:C,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(ee){d.reject(ee)}});return function(C,j){return g.apply(this,arguments)}}())}onAuthEvent(d){var g=this;return(0,p.Z)(function*(){const{urlResponse:C,sessionId:j,postBody:ee,tenantId:Me,error:nt,type:Vt}=d;if(nt)return void g.reject(nt);const an={auth:g.auth,requestUri:C,sessionId:j,tenantId:Me||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Vt)(an))}catch(mn){g.reject(mn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return T;case"reauthViaPopup":case"reauthViaRedirect":return m;default:Fe(this.auth,"internal-error")}}resolve(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Y=new je(2e3,1e4);function Ce(I,d,g){return ht.apply(this,arguments)}function ht(){return(ht=(0,p.Z)(function*(I,d,g){const C=qn(I);vt(I,d,qi);const j=ga(C,g);return new Fo(C,"signInViaPopup",d,j).executeNotNull()})).apply(this,arguments)}function Xt(I,d,g){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I);vt(C.auth,d,qi);const j=ga(C.auth,g);return new Fo(C.auth,"reauthViaPopup",d,j,C).executeNotNull()})).apply(this,arguments)}function lr(I,d,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I);vt(C.auth,d,qi);const j=ga(C.auth,g);return new Fo(C.auth,"linkViaPopup",d,j,C).executeNotNull()})).apply(this,arguments)}let Fo=(()=>{class I extends V{constructor(g,C,j,ee,Me){super(g,C,ee,Me),this.provider=j,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const C=yield g.execute();return Pe(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,p.Z)(function*(){rn(1===g.filter.length,"Popup operations only handle one event");const C=Po();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(we(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,j;this.pollId=null!==(j=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Y.get())};g()}}return I.currentPopupAction=null,I})();const qo="pendingRedirect",As=new Map;class co extends V{constructor(d,g,C=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var d=()=>super.execute,g=this;return(0,p.Z)(function*(){let C=As.get(g.auth._key());if(!C){try{const ee=(yield function sc(I,d){return Mn.apply(this,arguments)}(g.resolver,g.auth))?yield d().call(g):null;C=()=>Promise.resolve(ee)}catch(j){C=()=>Promise.reject(j)}As.set(g.auth._key(),C)}return g.bypassAuthState||As.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(d){var g=()=>super.onAuthEvent,C=this;return(0,p.Z)(function*(){if("signInViaRedirect"===d.type)return g().call(C,d);if("unknown"!==d.type){if(d.eventId){const j=yield C.auth._redirectUserForId(d.eventId);if(j)return C.user=j,g().call(C,d);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Mn(){return(Mn=(0,p.Z)(function*(I,d){const g=Nr(d),C=Zu(I);if(!(yield C._isAvailable()))return!1;const j="true"===(yield C._get(g));return yield C._remove(g),j})).apply(this,arguments)}function Va(I,d){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(I,d){return Zu(I)._set(Nr(d),"true")})).apply(this,arguments)}function Di(){As.clear()}function In(I,d){As.set(I._key(),d)}function Zu(I){return St(I._redirectPersistence)}function Nr(I){return fr(qo,I.config.apiKey,I.name)}function Hc(I,d,g){return function Ji(I,d,g){return en.apply(this,arguments)}(I,d,g)}function en(){return(en=(0,p.Z)(function*(I,d,g){const C=qn(I);vt(I,d,qi),yield C._initializationPromise;const j=ga(C,g);return yield Va(j,C),j._openRedirect(C,d,"signInViaRedirect")})).apply(this,arguments)}function El(I,d,g){return function oc(I,d,g){return ho.apply(this,arguments)}(I,d,g)}function ho(){return(ho=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I);vt(C.auth,d,qi),yield C.auth._initializationPromise;const j=ga(C.auth,g);yield Va(j,C.auth);const ee=yield Tl(C);return j._openRedirect(C.auth,d,"reauthViaRedirect",ee)})).apply(this,arguments)}function zc(I,d,g){return function Yu(I,d,g){return wl.apply(this,arguments)}(I,d,g)}function wl(){return(wl=(0,p.Z)(function*(I,d,g){const C=(0,W.m9)(I);vt(C.auth,d,qi),yield C.auth._initializationPromise;const j=ga(C.auth,g);yield Qr(!1,C,d.providerId),yield Va(j,C.auth);const ee=yield Tl(C);return j._openRedirect(C.auth,d,"linkViaRedirect",ee)})).apply(this,arguments)}function Il(I,d){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,p.Z)(function*(I,d){return yield qn(I)._initializationPromise,Dl(I,d,!1)})).apply(this,arguments)}function Dl(I,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(I,d,g=!1){const C=qn(I),j=ga(C,d),Me=yield new co(C,j,g).execute();return Me&&!g&&(delete Me.user._redirectEventId,yield C._persistUserIfCurrent(Me.user),yield C._setRedirectUser(null,d)),Me})).apply(this,arguments)}function Tl(I){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,p.Z)(function*(I){const d=Po(`${I.uid}:::`);return I._redirectEventId=d,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),d})).apply(this,arguments)}class pu{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(d,C)&&(g=!0,this.sendToConsumer(d,C),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Cl(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return We(I);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=d,g=!0)),g}sendToConsumer(d,g){var C;if(d.error&&!We(d)){const j=(null===(C=d.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(we(this.auth,j))}else g.onAuthEvent(d)}isEventForConsumer(d,g){const C=null===g.eventId||!!d.eventId&&d.eventId===g.eventId;return g.filter.includes(d.type)&&C}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gu(d))}saveEventToCache(d){this.cachedEventUids.add(gu(d)),this.lastProcessedEventTime=Date.now()}}function gu(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(d=>d).join("-")}function We({type:I,error:d}){return"unknown"===I&&"auth/no-auth-event"===d?.code}function Zo(I){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,p.Z)(function*(I,d={}){return He(I,"GET","/v1/projects",d)})).apply(this,arguments)}const Mu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ba=/^https?/;function Lo(){return(Lo=(0,p.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:d}=yield Zo(I);for(const g of d)try{if(Ju(g))return}catch{}Fe(I,"unauthorized-domain")})).apply(this,arguments)}function Ju(I){const d=zt(),{protocol:g,hostname:C}=new URL(d);if(I.startsWith("chrome-extension://")){const Me=new URL(I);return""===Me.hostname&&""===C?"chrome-extension:"===g&&I.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===g&&Me.hostname===C}if(!ba.test(g))return!1;if(Mu.test(I))return C===I;const j=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(C)}const xu=new je(3e4,6e4);function Xu(){const I=Pi().___jsl;if(I?.H)for(const d of Object.keys(I.H))if(I.H[d].r=I.H[d].r||[],I.H[d].L=I.H[d].L||[],I.H[d].r=[...I.H[d].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let po=null;const el=new je(5e3,15e3),ac="__/auth/iframe",Vi="emulator/auth/iframe",Wc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sa(I){const d=I.config;Pe(d.authDomain,I,"auth-domain-config-required");const g=d.emulator?ot(d,Vi):`https://${I.config.authDomain}/${ac}`,C={apiKey:d.apiKey,appName:I.name,v:Z.SDK_VERSION},j=Kc.get(I.config.apiHost);j&&(C.eid=j);const ee=I._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,W.xO)(C).slice(1)}`}function Ru(){return Ru=(0,p.Z)(function*(I){const d=yield function Sl(I){return po=po||function Ba(I){return new Promise((d,g)=>{var C,j,ee;function Me(){Xu(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Xu(),g(we(I,"network-request-failed"))},timeout:xu.get()})}if(null!==(j=null===(C=Pi().gapi)||void 0===C?void 0:C.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(ee=Pi().gapi)||void 0===ee||!ee.load){const nt=Pr("iframefcb");return Pi()[nt]=()=>{gapi.load?Me():g(we(I,"network-request-failed"))},Qn(`https://apis.google.com/js/api.js?onload=${nt}`).catch(Vt=>g(Vt))}Me()}}).catch(d=>{throw po=null,d})}(I),po}(I),g=Pi().gapi;return Pe(g,I,"internal-error"),d.open({where:document.body,url:Sa(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wc,dontclear:!0},C=>new Promise(function(){var j=(0,p.Z)(function*(ee,Me){yield C.restyle({setHideOnLeave:!1});const nt=we(I,"network-request-failed"),Vt=Pi().setTimeout(()=>{Me(nt)},el.get());function an(){Pi().clearTimeout(Vt),ee(C)}C.ping(an).then(an,()=>{Me(nt)})});return function(ee,Me){return j.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const Ja={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vo=500,qc=600,uc="_blank",lc="http://localhost";class Us{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const x="__/auth/handler",U="emulator/auth/handler",ne=encodeURIComponent("fac");function _e(I,d,g,C,j,ee){return Re.apply(this,arguments)}function Re(){return(Re=(0,p.Z)(function*(I,d,g,C,j,ee){Pe(I.config.authDomain,I,"auth-domain-config-required"),Pe(I.config.apiKey,I,"invalid-api-key");const Me={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:C,v:Z.SDK_VERSION,eventId:j};if(d instanceof qi){d.setDefaultLanguage(I.languageCode),Me.providerId=d.providerId||"",(0,W.xb)(d.getCustomParameters())||(Me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[mn,$n]of Object.entries(ee||{}))Me[mn]=$n}if(d instanceof Gs){const mn=d.getScopes().filter($n=>""!==$n);mn.length>0&&(Me.scopes=mn.join(","))}I.tenantId&&(Me.tid=I.tenantId);const nt=Me;for(const mn of Object.keys(nt))void 0===nt[mn]&&delete nt[mn];const Vt=yield I._getAppCheckToken(),an=Vt?`#${ne}=${encodeURIComponent(Vt)}`:"";return`${function ct({config:I}){return I.emulator?ot(I,U):`https://${I.authDomain}/${x}`}(I)}?${(0,W.xO)(nt).slice(1)}${an}`})).apply(this,arguments)}const Qt="webStorageSupport",gn=class Kt{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gs,this._completeRedirectFn=Dl,this._overrideRedirectResult=In}_openPopup(d,g,C,j){var ee=this;return(0,p.Z)(function*(){var Me;rn(null===(Me=ee.eventManagers[d._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const nt=yield _e(d,g,C,zt(),j);return function tl(I,d,g,C=Vo,j=qc){const ee=Math.max((window.screen.availHeight-j)/2,0).toString(),Me=Math.max((window.screen.availWidth-C)/2,0).toString();let nt="";const Vt=Object.assign(Object.assign({},Ja),{width:C.toString(),height:j.toString(),top:ee,left:Me}),an=(0,W.z$)().toLowerCase();g&&(nt=Oe(an)?uc:g),ge(an)&&(d=d||lc,Vt.scrollbars="yes");const mn=Object.entries(Vt).reduce((Js,[Co,va])=>`${Js}${Co}=${va},`,"");if(function bt(I=(0,W.z$)()){var d;return ye(I)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(an)&&"_self"!==nt)return function D(I,d){const g=document.createElement("a");g.href=I,g.target=d;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(d||"",nt),new Us(null);const $n=window.open(d||"",nt,mn);Pe($n,I,"popup-blocked");try{$n.focus()}catch{}return new Us($n)}(d,nt,Po())})()}_openRedirect(d,g,C,j){var ee=this;return(0,p.Z)(function*(){return yield ee._originValidation(d),function da(I){Pi().location.href=I}(yield _e(d,g,C,zt(),j)),new Promise(()=>{})})()}_initialize(d){const g=d._key();if(this.eventManagers[g]){const{manager:j,promise:ee}=this.eventManagers[g];return j?Promise.resolve(j):(rn(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(d);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(d){var g=this;return(0,p.Z)(function*(){const C=yield function $a(I){return Ru.apply(this,arguments)}(d),j=new pu(d);return C.register("authEvent",ee=>(Pe(ee?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[d._key()]={manager:j},g.iframes[d._key()]=C,j})()}_isIframeWebStorageSupported(d,g){this.iframes[d._key()].send(Qt,{type:Qt},j=>{var ee;const Me=null===(ee=j?.[0])||void 0===ee?void 0:ee[Qt];void 0!==Me&&g(!!Me),Fe(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const g=d._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function bl(I){return Lo.apply(this,arguments)}(d)),this.originValidationPromises[g]}get _shouldInitProactively(){return Sn()||at()||ye()}};class Bn{constructor(d){this.factorId=d}_process(d,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(d,g.credential,C);case"signin":return this._finalizeSignIn(d,g.credential);default:return Ft("unexpected MultiFactorSessionType")}}}class Ln extends Bn{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new Ln(d)}_finalizeEnroll(d,g,C){return function Gt(I,d){return He(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(I,d))}(d,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,g){return function fa(I,d){return He(I,"POST","/v2/accounts/mfaSignIn:finalize",Ie(I,d))}(d,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uo=(()=>{class I{constructor(){}static assertion(g){return Ln._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var es="@firebase/auth";class Vr{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const g=this.auth.onIdTokenChanged(C=>{d(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,g),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const g=this.internalListeners.get(d);g&&(this.internalListeners.delete(d),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,W.Pz)("authIdTokenMaxAge"),function Qs(I){(0,Z._registerComponent)(new Se.wA("auth",(d,{options:g})=>{const C=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),ee=d.getProvider("app-check-internal"),{apiKey:Me,authDomain:nt}=C.options;Pe(Me&&!Me.includes(":"),"invalid-api-key",{appName:C.name}),Pe(!nt?.includes(":"),"argument-error",{appName:C.name});const Vt={apiKey:Me,authDomain:nt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(I)},an=new xr(C,j,ee,Vt);return function vs(I,d){const g=d?.persistence||[],C=(Array.isArray(g)?g:[g]).map(St);d?.errorMap&&I._updateErrorMap(d.errorMap),I._initializeWithPersistence(C,d?.popupRedirectResolver)}(an,g),an},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,g,C)=>{d.getProvider("auth-internal").initialize()})),(0,Z._registerComponent)(new Se.wA("auth-internal",d=>{const g=qn(d.getProvider("auth").getImmediate());return new Vr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Z.registerVersion)(es,"0.23.1",function Al(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,Z.registerVersion)(es,"0.23.1","esm2017")}("Browser")},2090:(nn,it,G)=>{G.d(it,{$s:()=>St,BH:()=>Ze,L:()=>rt,LL:()=>he,P0:()=>wt,Pz:()=>we,Sg:()=>vt,UG:()=>Ft,US:()=>Se,ZB:()=>pe,ZR:()=>He,aH:()=>Fe,b$:()=>_n,eu:()=>st,hl:()=>mt,jU:()=>rn,m9:()=>fr,ne:()=>Cn,pd:()=>ki,r3:()=>zr,ru:()=>zt,tV:()=>de,uI:()=>Pe,vZ:()=>Pt,w1:()=>ke,xO:()=>Pn,xb:()=>Dr,z$:()=>et,zI:()=>Nt,zd:()=>vi});const De=function(ue){const se=[];let ge=0;for(let at=0;at<ue.length;at++){let Oe=ue.charCodeAt(at);Oe<128?se[ge++]=Oe:Oe<2048?(se[ge++]=Oe>>6|192,se[ge++]=63&Oe|128):55296==(64512&Oe)&&at+1<ue.length&&56320==(64512&ue.charCodeAt(at+1))?(Oe=65536+((1023&Oe)<<10)+(1023&ue.charCodeAt(++at)),se[ge++]=Oe>>18|240,se[ge++]=Oe>>12&63|128,se[ge++]=Oe>>6&63|128,se[ge++]=63&Oe|128):(se[ge++]=Oe>>12|224,se[ge++]=Oe>>6&63|128,se[ge++]=63&Oe|128)}return se},Se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,se){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,at=[];for(let Oe=0;Oe<ue.length;Oe+=3){const Mt=ue[Oe],me=Oe+1<ue.length,ae=me?ue[Oe+1]:0,re=Oe+2<ue.length,ye=re?ue[Oe+2]:0;let pn=(15&ae)<<2|ye>>6,Sn=63&ye;re||(Sn=64,me||(pn=64)),at.push(ge[Mt>>2],ge[(3&Mt)<<4|ae>>4],ge[pn],ge[Sn])}return at.join("")},encodeString(ue,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(ue):this.encodeByteArray(De(ue),se)},decodeString(ue,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(ue):function(ue){const se=[];let ge=0,at=0;for(;ge<ue.length;){const Oe=ue[ge++];if(Oe<128)se[at++]=String.fromCharCode(Oe);else if(Oe>191&&Oe<224){const Mt=ue[ge++];se[at++]=String.fromCharCode((31&Oe)<<6|63&Mt)}else if(Oe>239&&Oe<365){const re=((7&Oe)<<18|(63&ue[ge++])<<12|(63&ue[ge++])<<6|63&ue[ge++])-65536;se[at++]=String.fromCharCode(55296+(re>>10)),se[at++]=String.fromCharCode(56320+(1023&re))}else{const Mt=ue[ge++],me=ue[ge++];se[at++]=String.fromCharCode((15&Oe)<<12|(63&Mt)<<6|63&me)}}return se.join("")}(this.decodeStringToByteArray(ue,se))},decodeStringToByteArray(ue,se){this.init_();const ge=se?this.charToByteMapWebSafe_:this.charToByteMap_,at=[];for(let Oe=0;Oe<ue.length;){const Mt=ge[ue.charAt(Oe++)],ae=Oe<ue.length?ge[ue.charAt(Oe)]:0;++Oe;const ye=Oe<ue.length?ge[ue.charAt(Oe)]:64;++Oe;const bt=Oe<ue.length?ge[ue.charAt(Oe)]:64;if(++Oe,null==Mt||null==ae||null==ye||null==bt)throw new ze;at.push(Mt<<2|ae>>4),64!==ye&&(at.push(ae<<4&240|ye>>2),64!==bt&&at.push(ye<<6&192|bt))}return at},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}};class ze extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rt=function(ue){return function(ue){const se=De(ue);return Se.encodeByteArray(se,!0)}(ue).replace(/\./g,"")},de=function(ue){try{return Se.decodeString(ue,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function pe(ue,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return se}for(const ge in se)!se.hasOwnProperty(ge)||!dt(ge)||(ue[ge]=pe(ue[ge],se[ge]));return ue}function dt(ue){return"__proto__"!==ue}const ft=()=>{try{return function ut(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ue=process.env.__FIREBASE_DEFAULTS__;return ue?JSON.parse(ue):void 0})()||(()=>{if(typeof document>"u")return;let ue;try{ue=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=ue&&de(ue[1]);return se&&JSON.parse(se)})()}catch(ue){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ue}`)}},wt=ue=>{const se=(ue=>{var se,ge;return null===(ge=null===(se=ft())||void 0===se?void 0:se.emulatorHosts)||void 0===ge?void 0:ge[ue]})(ue);if(!se)return;const ge=se.lastIndexOf(":");if(ge<=0||ge+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const at=parseInt(se.substring(ge+1),10);return"["===se[0]?[se.substring(1,ge-1),at]:[se.substring(0,ge),at]},Fe=()=>{var ue;return null===(ue=ft())||void 0===ue?void 0:ue.config},we=ue=>{var se;return null===(se=ft())||void 0===se?void 0:se[`_${ue}`]};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,ge)=>{this.resolve=se,this.reject=ge})}wrapCallback(se){return(ge,at)=>{ge?this.reject(ge):this.resolve(at),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(ge):se(ge,at))}}}function vt(ue,se){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const at=se||"demo-project",Oe=ue.iat||0,Mt=ue.sub||ue.user_id;if(!Mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const me=Object.assign({iss:`https://securetoken.google.com/${at}`,aud:at,iat:Oe,exp:Oe+3600,auth_time:Oe,sub:Mt,user_id:Mt,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(me)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function Ft(){var ue;const se=null===(ue=ft())||void 0===ue?void 0:ue.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return"object"==typeof self&&self.self===self}function zt(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function _n(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const ue=et();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function mt(){try{return"object"==typeof indexedDB}catch{return!1}}function st(){return new Promise((ue,se)=>{try{let ge=!0;const at="validate-browser-context-for-indexeddb-analytics-module",Oe=self.indexedDB.open(at);Oe.onsuccess=()=>{Oe.result.close(),ge||self.indexedDB.deleteDatabase(at),ue(!0)},Oe.onupgradeneeded=()=>{ge=!1},Oe.onerror=()=>{var Mt;se((null===(Mt=Oe.error)||void 0===Mt?void 0:Mt.message)||"")}}catch(ge){se(ge)}})}function Nt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class He extends Error{constructor(se,ge,at){super(ge),this.code=se,this.customData=at,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(se,ge,at){this.service=se,this.serviceName=ge,this.errors=at}create(se,...ge){const at=ge[0]||{},Oe=`${this.service}/${se}`,Mt=this.errors[se],me=Mt?function Ne(ue,se){return ue.replace(yt,(ge,at)=>{const Oe=se[at];return null!=Oe?String(Oe):`<${at}?>`})}(Mt,at):"Error";return new He(Oe,`${this.serviceName}: ${me} (${Oe}).`,at)}}const yt=/\{\$([^}]+)}/g;function zr(ue,se){return Object.prototype.hasOwnProperty.call(ue,se)}function Dr(ue){for(const se in ue)if(Object.prototype.hasOwnProperty.call(ue,se))return!1;return!0}function Pt(ue,se){if(ue===se)return!0;const ge=Object.keys(ue),at=Object.keys(se);for(const Oe of ge){if(!at.includes(Oe))return!1;const Mt=ue[Oe],me=se[Oe];if(Hn(Mt)&&Hn(me)){if(!Pt(Mt,me))return!1}else if(Mt!==me)return!1}for(const Oe of at)if(!ge.includes(Oe))return!1;return!0}function Hn(ue){return null!==ue&&"object"==typeof ue}function Pn(ue){const se=[];for(const[ge,at]of Object.entries(ue))Array.isArray(at)?at.forEach(Oe=>{se.push(encodeURIComponent(ge)+"="+encodeURIComponent(Oe))}):se.push(encodeURIComponent(ge)+"="+encodeURIComponent(at));return se.length?"&"+se.join("&"):""}function vi(ue){const se={};return ue.replace(/^\?/,"").split("&").forEach(at=>{if(at){const[Oe,Mt]=at.split("=");se[decodeURIComponent(Oe)]=decodeURIComponent(Mt)}}),se}function ki(ue){const se=ue.indexOf("?");if(!se)return"";const ge=ue.indexOf("#",se);return ue.substring(se,ge>0?ge:void 0)}function Cn(ue,se){const ge=new Ot(ue,se);return ge.subscribe.bind(ge)}class Ot{constructor(se,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{se(this)}).catch(at=>{this.error(at)})}next(se){this.forEachObserver(ge=>{ge.next(se)})}error(se){this.forEachObserver(ge=>{ge.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,ge,at){let Oe;if(void 0===se&&void 0===ge&&void 0===at)throw new Error("Missing Observer.");Oe=function ni(ue,se){if("object"!=typeof ue||null===ue)return!1;for(const ge of se)if(ge in ue&&"function"==typeof ue[ge])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:ge,complete:at},void 0===Oe.next&&(Oe.next=Mr),void 0===Oe.error&&(Oe.error=Mr),void 0===Oe.complete&&(Oe.complete=Mr);const Mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Oe.error(this.finalError):Oe.complete()}catch{}}),this.observers.push(Oe),Mt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,se)}sendOne(se,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{ge(this.observers[se])}catch(at){typeof console<"u"&&console.error&&console.error(at)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mr(){}const Rn=1e3,gt=2,Tr=144e5,Cr=.5;function St(ue,se=Rn,ge=gt){const at=se*Math.pow(ge,ue),Oe=Math.round(Cr*at*(Math.random()-.5)*2);return Math.min(Tr,at+Oe)}function fr(ue){return ue&&ue._delegate?ue._delegate:ue}},6842:(nn,it,G)=>{G.d(it,{I:()=>Z});var p=G(4650),W=G(1205);let Z=(()=>{class De{constructor(Se){this.auth=Se}registrarUsuario(Se,ze){return this.auth.createUserWithEmailAndPassword(Se,ze)}loguearUsuario(Se,ze){return this.auth.signInWithEmailAndPassword(Se,ze)}desloguear(){return this.auth.signOut()}ObtenerCambiosDeEstado(){return this.auth.authState}obtenerUsuarioActual(){return this.auth}}return De.\u0275fac=function(Se){return new(Se||De)(p.LFG(W.zQ))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},4443:(nn,it,G)=>{G.d(it,{j:()=>Z});var p=G(4650),W=G(7185);let Z=(()=>{class De{constructor(Se){this.toastr=Se}exito(Se="",ze=""){this.toastr.success(""!=Se?Se:"Se ha completado la operaci\xf3n con \xe9xito!.",""!=ze?ze:"Operaci\xf3n exitosa.",{toastClass:"toast-custom-success",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}error(Se="",ze=""){this.toastr.error(""!=Se?Se:"Ha ocurrido un error al procesar la operaci\xf3n.",""!=ze?ze:"Ha ocurrido un error.",{toastClass:"toast-custom-error",timeOut:4e3,extendedTimeOut:1e3,enableHtml:!0,positionClass:"toast-custom-position"})}}return De.\u0275fac=function(Se){return new(Se||De)(p.LFG(W._W))},De.\u0275prov=p.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})()},4191:(nn,it,G)=>{var p=G(1481),W=G(9036),Z=G(4650);const De=[{path:"login",loadChildren:()=>Promise.all([G.e(592),G.e(633)]).then(G.bind(G,7633)).then(z=>z.LoginModule)},{path:"home",loadChildren:()=>Promise.all([G.e(592),G.e(594)]).then(G.bind(G,7594)).then(z=>z.HomeModule)},{path:"",loadChildren:()=>Promise.all([G.e(592),G.e(594)]).then(G.bind(G,7594)).then(z=>z.HomeModule)},{path:"registro",loadChildren:()=>Promise.all([G.e(592),G.e(856)]).then(G.bind(G,7856)).then(z=>z.RegistroModule)},{path:"quien-soy",loadChildren:()=>G.e(937).then(G.bind(G,937)).then(z=>z.QuienSoyModule)}];let be=(()=>{class z{}return z.\u0275fac=function(w){return new(w||z)},z.\u0275mod=Z.oAB({type:z}),z.\u0275inj=Z.cJS({imports:[W.Bz.forRoot(De),W.Bz]}),z})();var Se=G(6842),ze=G(4443);let Be=(()=>{class z{constructor(w,F,K){this.router=w,this.firestoreLogin=F,this.toast=K,this.usuarioEstaLogueado=!1}ngOnInit(){this.verificarEstadoDeUsuario()}ngOnDestroy(){this.suscripcion&&this.suscripcion.unsubscribe()}desloguear(){this.firestoreLogin.desloguear(),this.toast.exito("Sesi\xf3n cerrada con exito."," "),this.router.navigate(["../login"])}verificarEstadoDeUsuario(){this.suscripcion=this.firestoreLogin.ObtenerCambiosDeEstado().subscribe(w=>{this.usuarioEstaLogueado=!!w})}}return z.\u0275fac=function(w){return new(w||z)(Z.Y36(W.F0),Z.Y36(Se.I),Z.Y36(ze.j))},z.\u0275cmp=Z.Xpm({type:z,selectors:[["app-header"]],decls:12,vars:3,consts:[[1,"navbar","bg-dark","navbar-expand-lg","text-light","m-0","p-1","fw-bold","d-flex","justify-content-between"],[1,"mx-2"],["src","assets/logo/logo.jpg",1,"logo"],[1,"mx-5"],["routerLink","../quien-soy",1,"btn","btn-warning","mx-2"],["routerLink","../login",1,"btn","btn-outline-primary","mx-2",3,"hidden"],["routerLink","../registro",1,"btn","btn-outline-primary","mx-2",3,"hidden"],[1,"btn","btn-outline-danger","mx-2",3,"hidden","click"]],template:function(w,F){1&w&&(Z.TgZ(0,"nav",0)(1,"div",1),Z._UZ(2,"img",2),Z.qZA(),Z.TgZ(3,"div",3)(4,"button",4),Z._uU(5," Quien Soy "),Z.qZA(),Z.TgZ(6,"button",5),Z._uU(7," Login "),Z.qZA(),Z.TgZ(8,"button",6),Z._uU(9," Registro "),Z.qZA(),Z.TgZ(10,"button",7),Z.NdJ("click",function(){return F.desloguear()}),Z._uU(11," Logout "),Z.qZA()()()),2&w&&(Z.xp6(6),Z.Q6J("hidden",F.usuarioEstaLogueado),Z.xp6(2),Z.Q6J("hidden",F.usuarioEstaLogueado),Z.xp6(2),Z.Q6J("hidden",!F.usuarioEstaLogueado))},dependencies:[W.rH],styles:[".logo[_ngcontent-%COMP%]{height:55px;border-radius:30px}"]}),z})(),rt=(()=>{class z{constructor(){this.title="sala-de-juego"}ngOnInit(){}}return z.\u0275fac=function(w){return new(w||z)},z.\u0275cmp=Z.Xpm({type:z,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container-fluid"]],template:function(w,F){1&w&&(Z.TgZ(0,"div",0),Z._UZ(1,"app-header")(2,"router-outlet"),Z.qZA())},dependencies:[W.lC,Be]}),z})();const de_firebase={projectId:"sala-de-juegos-6b9fd",appId:"1:280462303398:web:5727a83fec375e25341467",storageBucket:"sala-de-juegos-6b9fd.appspot.com",apiKey:"AIzaSyC6gK6WUsBf6Wom0zU2TrOOtXkWCkxs1qI",authDomain:"sala-de-juegos-6b9fd.firebaseapp.com",messagingSenderId:"280462303398"};var le=G(433),pe=G(7340);function ut(z){return new Z.vHH(3e3,!1)}function zr(){return typeof window<"u"&&typeof window.document<"u"}function sn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Dr(z){switch(z.length){case 0:return new pe.ZN;case 1:return z[0];default:return new pe.ZE(z)}}function xn(z,_,w,F,K=new Map,te=new Map){const fe=[],ve=[];let $e=-1,Je=null;if(F.forEach(kt=>{const xt=kt.get("offset"),Fn=xt==$e,Nn=Fn&&Je||new Map;kt.forEach((En,kn)=>{let Sr=kn,jr=En;if("offset"!==kn)switch(Sr=_.normalizePropertyName(Sr,fe),jr){case pe.k1:jr=K.get(kn);break;case pe.l3:jr=te.get(kn);break;default:jr=_.normalizeStyleValue(kn,Sr,jr,fe)}Nn.set(Sr,jr)}),Fn||ve.push(Nn),Je=Nn,$e=xt}),fe.length)throw function Nt(z){return new Z.vHH(3502,!1)}();return ve}function Pt(z,_,w,F){switch(_){case"start":z.onStart(()=>F(w&&Hn(w,"start",z)));break;case"done":z.onDone(()=>F(w&&Hn(w,"done",z)));break;case"destroy":z.onDestroy(()=>F(w&&Hn(w,"destroy",z)))}}function Hn(z,_,w){const te=yi(z.element,z.triggerName,z.fromState,z.toState,_||z.phaseName,w.totalTime??z.totalTime,!!w.disabled),fe=z._data;return null!=fe&&(te._data=fe),te}function yi(z,_,w,F,K="",te=0,fe){return{element:z,triggerName:_,fromState:w,toState:F,phaseName:K,totalTime:te,disabled:!!fe}}function Pn(z,_,w){let F=z.get(_);return F||z.set(_,F=w),F}function vi(z){const _=z.indexOf(":");return[z.substring(1,_),z.slice(_+1)]}let ki=(z,_)=>!1,Xn=(z,_,w)=>[],Cn=null;function Ot(z){const _=z.parentNode||z.host;return _===Cn?null:_}(sn()||typeof Element<"u")&&(zr()?(Cn=(()=>document.documentElement)(),ki=(z,_)=>{for(;_;){if(_===z)return!0;_=Ot(_)}return!1}):ki=(z,_)=>z.contains(_),Xn=(z,_,w)=>{if(w)return Array.from(z.querySelectorAll(_));const F=z.querySelector(_);return F?[F]:[]});let Mr=null,mr=!1;const ir=ki,Wi=Xn;let Ci=(()=>{class z{validateStyleProperty(w){return function Ti(z){Mr||(Mr=function _i(){return typeof document<"u"?document.body:null}()||{},mr=!!Mr.style&&"WebkitAppearance"in Mr.style);let _=!0;return Mr.style&&!function ni(z){return"ebkit"==z.substring(1,6)}(z)&&(_=z in Mr.style,!_&&mr&&(_="Webkit"+z.charAt(0).toUpperCase()+z.slice(1)in Mr.style)),_}(w)}matchesElement(w,F){return!1}containsElement(w,F){return ir(w,F)}getParentElement(w){return Ot(w)}query(w,F,K){return Wi(w,F,K)}computeStyle(w,F,K){return K||""}animate(w,F,K,te,fe,ve=[],$e){return new pe.ZN(K,te)}}return z.\u0275fac=function(w){return new(w||z)},z.\u0275prov=Z.Yz7({token:z,factory:z.\u0275fac}),z})(),Rn=(()=>{class z{}return z.NOOP=new Ci,z})();const gt=1e3,St="ng-enter",Yr="ng-leave",Jt="ng-trigger",fr=".ng-trigger",ue="ng-animating",se=".ng-animating";function ge(z){if("number"==typeof z)return z;const _=z.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:at(parseFloat(_[1]),_[2])}function at(z,_){return"s"===_?z*gt:z}function Oe(z,_,w){return z.hasOwnProperty("duration")?z:function Mt(z,_,w){let K,te=0,fe="";if("string"==typeof z){const ve=z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ve)return _.push(ut()),{duration:0,delay:0,easing:""};K=at(parseFloat(ve[1]),ve[2]);const $e=ve[3];null!=$e&&(te=at(parseFloat($e),ve[4]));const Je=ve[5];Je&&(fe=Je)}else K=z;if(!w){let ve=!1,$e=_.length;K<0&&(_.push(function It(){return new Z.vHH(3100,!1)}()),ve=!0),te<0&&(_.push(function $t(){return new Z.vHH(3101,!1)}()),ve=!0),ve&&_.splice($e,0,ut())}return{duration:K,delay:te,easing:fe}}(z,_,w)}function me(z,_={}){return Object.keys(z).forEach(w=>{_[w]=z[w]}),_}function ae(z){const _=new Map;return Object.keys(z).forEach(w=>{_.set(w,z[w])}),_}function qe(z,_=new Map,w){if(w)for(let[F,K]of w)_.set(F,K);for(let[F,K]of z)_.set(F,K);return _}function bt(z,_,w){return w?_+":"+w+";":""}function pn(z){let _="";for(let w=0;w<z.style.length;w++){const F=z.style.item(w);_+=bt(0,F,z.style.getPropertyValue(F))}for(const w in z.style)z.style.hasOwnProperty(w)&&!w.startsWith("_")&&(_+=bt(0,Un(w),z.style[w]));z.setAttribute("style",_)}function Sn(z,_,w){z.style&&(_.forEach((F,K)=>{const te=Zt(K);w&&!w.has(K)&&w.set(K,z.style[te]),z.style[te]=F}),sn()&&pn(z))}function sr(z,_){z.style&&(_.forEach((w,F)=>{const K=Zt(F);z.style[K]=""}),sn()&&pn(z))}function zn(z){return Array.isArray(z)?1==z.length?z[0]:(0,pe.vP)(z):z}const Le=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tt(z){let _=[];if("string"==typeof z){let w;for(;w=Le.exec(z);)_.push(w[1]);Le.lastIndex=0}return _}function qt(z,_,w){const F=z.toString(),K=F.replace(Le,(te,fe)=>{let ve=_[fe];return null==ve&&(w.push(function ft(z){return new Z.vHH(3003,!1)}()),ve=""),ve.toString()});return K==F?z:K}function un(z){const _=[];let w=z.next();for(;!w.done;)_.push(w.value),w=z.next();return _}const yn=/-+([a-z0-9])/g;function Zt(z){return z.replace(yn,(..._)=>_[1].toUpperCase())}function Un(z){return z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function tr(z,_,w){switch(_.type){case 7:return z.visitTrigger(_,w);case 0:return z.visitState(_,w);case 1:return z.visitTransition(_,w);case 2:return z.visitSequence(_,w);case 3:return z.visitGroup(_,w);case 4:return z.visitAnimate(_,w);case 5:return z.visitKeyframes(_,w);case 6:return z.visitStyle(_,w);case 8:return z.visitReference(_,w);case 9:return z.visitAnimateChild(_,w);case 10:return z.visitAnimateRef(_,w);case 11:return z.visitQuery(_,w);case 12:return z.visitStagger(_,w);default:throw function Et(z){return new Z.vHH(3004,!1)}()}}function xs(z,_){return window.getComputedStyle(z)[_]}const Bi="*";function li(z,_){const w=[];return"string"==typeof z?z.split(/\s*,\s*/).forEach(F=>function vs(z,_,w){if(":"==z[0]){const $e=function Or(z,_){switch(z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,F)=>parseFloat(F)>parseFloat(w);case":decrement":return(w,F)=>parseFloat(F)<parseFloat(w);default:return _.push(function je(z){return new Z.vHH(3016,!1)}()),"* => *"}}(z,w);if("function"==typeof $e)return void _.push($e);z=$e}const F=z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==F||F.length<4)return w.push(function Ye(z){return new Z.vHH(3015,!1)}()),_;const K=F[1],te=F[2],fe=F[3];_.push(Te(K,fe));"<"==te[0]&&!(K==Bi&&fe==Bi)&&_.push(Te(fe,K))}(F,w,_)):w.push(z),w}const xe=new Set(["true","1"]),Ee=new Set(["false","0"]);function Te(z,_){const w=xe.has(z)||Ee.has(z),F=xe.has(_)||Ee.has(_);return(K,te)=>{let fe=z==Bi||z==K,ve=_==Bi||_==te;return!fe&&w&&"boolean"==typeof K&&(fe=K?xe.has(z):Ee.has(z)),!ve&&F&&"boolean"==typeof te&&(ve=te?xe.has(_):Ee.has(_)),fe&&ve}}const Ct=new RegExp("s*:selfs*,?","g");function hn(z,_,w,F){return new fn(z).build(_,w,F)}class fn{constructor(_){this._driver=_}build(_,w,F){const K=new Br(w);return this._resetContextStyleTimingState(K),tr(this,zn(_),K)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,w){let F=w.queryCount=0,K=w.depCount=0;const te=[],fe=[];return"@"==_.name.charAt(0)&&w.errors.push(function Fe(){return new Z.vHH(3006,!1)}()),_.definitions.forEach(ve=>{if(this._resetContextStyleTimingState(w),0==ve.type){const $e=ve,Je=$e.name;Je.toString().split(/\s*,\s*/).forEach(kt=>{$e.name=kt,te.push(this.visitState($e,w))}),$e.name=Je}else if(1==ve.type){const $e=this.visitTransition(ve,w);F+=$e.queryCount,K+=$e.depCount,fe.push($e)}else w.errors.push(function we(){return new Z.vHH(3007,!1)}())}),{type:7,name:_.name,states:te,transitions:fe,queryCount:F,depCount:K,options:null}}visitState(_,w){const F=this.visitStyle(_.styles,w),K=_.options&&_.options.params||null;if(F.containsDynamicStyles){const te=new Set,fe=K||{};F.styles.forEach(ve=>{ve instanceof Map&&ve.forEach($e=>{Tt($e).forEach(Je=>{fe.hasOwnProperty(Je)||te.add(Je)})})}),te.size&&(un(te.values()),w.errors.push(function Ze(z,_){return new Z.vHH(3008,!1)}()))}return{type:0,name:_.name,style:F,options:K?{params:K}:null}}visitTransition(_,w){w.queryCount=0,w.depCount=0;const F=tr(this,zn(_.animation),w);return{type:1,matchers:li(_.expr,w.errors),animation:F,queryCount:w.queryCount,depCount:w.depCount,options:Jn(_.options)}}visitSequence(_,w){return{type:2,steps:_.steps.map(F=>tr(this,F,w)),options:Jn(_.options)}}visitGroup(_,w){const F=w.currentTime;let K=0;const te=_.steps.map(fe=>{w.currentTime=F;const ve=tr(this,fe,w);return K=Math.max(K,w.currentTime),ve});return w.currentTime=K,{type:3,steps:te,options:Jn(_.options)}}visitAnimate(_,w){const F=function ii(z,_){if(z.hasOwnProperty("duration"))return z;if("number"==typeof z)return Fi(Oe(z,_).duration,0,"");const w=z;if(w.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Fi(0,0,"");return te.dynamic=!0,te.strValue=w,te}const K=Oe(w,_);return Fi(K.duration,K.delay,K.easing)}(_.timings,w.errors);w.currentAnimateTimings=F;let K,te=_.styles?_.styles:(0,pe.oB)({});if(5==te.type)K=this.visitKeyframes(te,w);else{let fe=_.styles,ve=!1;if(!fe){ve=!0;const Je={};F.easing&&(Je.easing=F.easing),fe=(0,pe.oB)(Je)}w.currentTime+=F.duration+F.delay;const $e=this.visitStyle(fe,w);$e.isEmptyStep=ve,K=$e}return w.currentAnimateTimings=null,{type:4,timings:F,style:K,options:null}}visitStyle(_,w){const F=this._makeStyleAst(_,w);return this._validateStyleAst(F,w),F}_makeStyleAst(_,w){const F=[],K=Array.isArray(_.styles)?_.styles:[_.styles];for(let ve of K)"string"==typeof ve?ve===pe.l3?F.push(ve):w.errors.push(new Z.vHH(3002,!1)):F.push(ae(ve));let te=!1,fe=null;return F.forEach(ve=>{if(ve instanceof Map&&(ve.has("easing")&&(fe=ve.get("easing"),ve.delete("easing")),!te))for(let $e of ve.values())if($e.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:F,easing:fe,offset:_.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(_,w){const F=w.currentAnimateTimings;let K=w.currentTime,te=w.currentTime;F&&te>0&&(te-=F.duration+F.delay),_.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((ve,$e)=>{const Je=w.collectedStyles.get(w.currentQuerySelector),kt=Je.get($e);let xt=!0;kt&&(te!=K&&te>=kt.startTime&&K<=kt.endTime&&(w.errors.push(function Pe(z,_,w,F,K){return new Z.vHH(3010,!1)}()),xt=!1),te=kt.startTime),xt&&Je.set($e,{startTime:te,endTime:K}),w.options&&function Xe(z,_,w){const F=_.params||{},K=Tt(z);K.length&&K.forEach(te=>{F.hasOwnProperty(te)||w.push(function Qe(z){return new Z.vHH(3001,!1)}())})}(ve,w.options,w.errors)})})}visitKeyframes(_,w){const F={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Ft(){return new Z.vHH(3011,!1)}()),F;let te=0;const fe=[];let ve=!1,$e=!1,Je=0;const kt=_.steps.map(jr=>{const pi=this._makeStyleAst(jr,w);let gi=null!=pi.offset?pi.offset:function Gr(z){if("string"==typeof z)return null;let _=null;if(Array.isArray(z))z.forEach(w=>{if(w instanceof Map&&w.has("offset")){const F=w;_=parseFloat(F.get("offset")),F.delete("offset")}});else if(z instanceof Map&&z.has("offset")){const w=z;_=parseFloat(w.get("offset")),w.delete("offset")}return _}(pi.styles),ai=0;return null!=gi&&(te++,ai=pi.offset=gi),$e=$e||ai<0||ai>1,ve=ve||ai<Je,Je=ai,fe.push(ai),pi});$e&&w.errors.push(function rn(){return new Z.vHH(3012,!1)}()),ve&&w.errors.push(function zt(){return new Z.vHH(3200,!1)}());const xt=_.steps.length;let Fn=0;te>0&&te<xt?w.errors.push(function _n(){return new Z.vHH(3202,!1)}()):0==te&&(Fn=1/(xt-1));const Nn=xt-1,En=w.currentTime,kn=w.currentAnimateTimings,Sr=kn.duration;return kt.forEach((jr,pi)=>{const gi=Fn>0?pi==Nn?1:Fn*pi:fe[pi],ai=gi*Sr;w.currentTime=En+kn.delay+ai,kn.duration=ai,this._validateStyleAst(jr,w),jr.offset=gi,F.styles.push(jr)}),F}visitReference(_,w){return{type:8,animation:tr(this,zn(_.animation),w),options:Jn(_.options)}}visitAnimateChild(_,w){return w.depCount++,{type:9,options:Jn(_.options)}}visitAnimateRef(_,w){return{type:10,animation:this.visitReference(_.animation,w),options:Jn(_.options)}}visitQuery(_,w){const F=w.currentQuerySelector,K=_.options||{};w.queryCount++,w.currentQuery=_;const[te,fe]=function On(z){const _=!!z.split(/\s*,\s*/).find(w=>":self"==w);return _&&(z=z.replace(Ct,"")),z=z.replace(/@\*/g,fr).replace(/@\w+/g,w=>fr+"-"+w.slice(1)).replace(/:animating/g,se),[z,_]}(_.selector);w.currentQuerySelector=F.length?F+" "+te:te,Pn(w.collectedStyles,w.currentQuerySelector,new Map);const ve=tr(this,zn(_.animation),w);return w.currentQuery=null,w.currentQuerySelector=F,{type:11,selector:te,limit:K.limit||0,optional:!!K.optional,includeSelf:fe,animation:ve,originalSelector:_.selector,options:Jn(_.options)}}visitStagger(_,w){w.currentQuery||w.errors.push(function Lt(){return new Z.vHH(3013,!1)}());const F="full"===_.timings?{duration:0,delay:0,easing:"full"}:Oe(_.timings,w.errors,!0);return{type:12,animation:tr(this,zn(_.animation),w),timings:F,options:null}}}class Br{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jn(z){return z?(z=me(z)).params&&(z.params=function xi(z){return z?me(z):null}(z.params)):z={},z}function Fi(z,_,w){return{duration:z,delay:_,easing:w}}function to(z,_,w,F,K,te,fe=null,ve=!1){return{type:1,element:z,keyframes:_,preStyleProps:w,postStyleProps:F,duration:K,delay:te,totalTime:K+te,easing:fe,subTimeline:ve}}class _s{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,w){let F=this._map.get(_);F||this._map.set(_,F=[]),F.push(...w)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Ns=new RegExp(":enter","g"),$o=new RegExp(":leave","g");function di(z,_,w,F,K,te=new Map,fe=new Map,ve,$e,Je=[]){return(new as).buildKeyframes(z,_,w,F,K,te,fe,ve,$e,Je)}class as{buildKeyframes(_,w,F,K,te,fe,ve,$e,Je,kt=[]){Je=Je||new _s;const xt=new Es(_,w,Je,K,te,kt,[]);xt.options=$e;const Fn=$e.delay?ge($e.delay):0;xt.currentTimeline.delayNextStep(Fn),xt.currentTimeline.setStyles([fe],null,xt.errors,$e),tr(this,F,xt);const Nn=xt.timelines.filter(En=>En.containsAnimation());if(Nn.length&&ve.size){let En;for(let kn=Nn.length-1;kn>=0;kn--){const Sr=Nn[kn];if(Sr.element===w){En=Sr;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([ve],null,xt.errors,$e)}return Nn.length?Nn.map(En=>En.buildKeyframes()):[to(w,[],[],[],0,Fn,"",!1)]}visitTrigger(_,w){}visitState(_,w){}visitTransition(_,w){}visitAnimateChild(_,w){const F=w.subInstructions.get(w.element);if(F){const K=w.createSubContext(_.options),te=w.currentTimeline.currentTime,fe=this._visitSubInstructions(F,K,K.options);te!=fe&&w.transformIntoNewTimeline(fe)}w.previousNode=_}visitAnimateRef(_,w){const F=w.createSubContext(_.options);F.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],w,F),this.visitReference(_.animation,F),w.transformIntoNewTimeline(F.currentTimeline.currentTime),w.previousNode=_}_applyAnimationRefDelays(_,w,F){for(const K of _){const te=K?.delay;if(te){const fe="number"==typeof te?te:ge(qt(te,K?.params??{},w.errors));F.delayNextStep(fe)}}}_visitSubInstructions(_,w,F){let te=w.currentTimeline.currentTime;const fe=null!=F.duration?ge(F.duration):null,ve=null!=F.delay?ge(F.delay):null;return 0!==fe&&_.forEach($e=>{const Je=w.appendInstructionToTimeline($e,fe,ve);te=Math.max(te,Je.duration+Je.delay)}),te}visitReference(_,w){w.updateOptions(_.options,!0),tr(this,_.animation,w),w.previousNode=_}visitSequence(_,w){const F=w.subContextCount;let K=w;const te=_.options;if(te&&(te.params||te.delay)&&(K=w.createSubContext(te),K.transformIntoNewTimeline(),null!=te.delay)){6==K.previousNode.type&&(K.currentTimeline.snapshotCurrentStyles(),K.previousNode=us);const fe=ge(te.delay);K.delayNextStep(fe)}_.steps.length&&(_.steps.forEach(fe=>tr(this,fe,K)),K.currentTimeline.applyStylesToKeyframe(),K.subContextCount>F&&K.transformIntoNewTimeline()),w.previousNode=_}visitGroup(_,w){const F=[];let K=w.currentTimeline.currentTime;const te=_.options&&_.options.delay?ge(_.options.delay):0;_.steps.forEach(fe=>{const ve=w.createSubContext(_.options);te&&ve.delayNextStep(te),tr(this,fe,ve),K=Math.max(K,ve.currentTimeline.currentTime),F.push(ve.currentTimeline)}),F.forEach(fe=>w.currentTimeline.mergeTimelineCollectedStyles(fe)),w.transformIntoNewTimeline(K),w.previousNode=_}_visitTiming(_,w){if(_.dynamic){const F=_.strValue;return Oe(w.params?qt(F,w.params,w.errors):F,w.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,w){const F=w.currentAnimateTimings=this._visitTiming(_.timings,w),K=w.currentTimeline;F.delay&&(w.incrementTime(F.delay),K.snapshotCurrentStyles());const te=_.style;5==te.type?this.visitKeyframes(te,w):(w.incrementTime(F.duration),this.visitStyle(te,w),K.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=_}visitStyle(_,w){const F=w.currentTimeline,K=w.currentAnimateTimings;!K&&F.hasCurrentStyleProperties()&&F.forwardFrame();const te=K&&K.easing||_.easing;_.isEmptyStep?F.applyEmptyStep(te):F.setStyles(_.styles,te,w.errors,w.options),w.previousNode=_}visitKeyframes(_,w){const F=w.currentAnimateTimings,K=w.currentTimeline.duration,te=F.duration,ve=w.createSubContext().currentTimeline;ve.easing=F.easing,_.styles.forEach($e=>{ve.forwardTime(($e.offset||0)*te),ve.setStyles($e.styles,$e.easing,w.errors,w.options),ve.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(ve),w.transformIntoNewTimeline(K+te),w.previousNode=_}visitQuery(_,w){const F=w.currentTimeline.currentTime,K=_.options||{},te=K.delay?ge(K.delay):0;te&&(6===w.previousNode.type||0==F&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=us);let fe=F;const ve=w.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!K.optional,w.errors);w.currentQueryTotal=ve.length;let $e=null;ve.forEach((Je,kt)=>{w.currentQueryIndex=kt;const xt=w.createSubContext(_.options,Je);te&&xt.delayNextStep(te),Je===w.element&&($e=xt.currentTimeline),tr(this,_.animation,xt),xt.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,xt.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(fe),$e&&(w.currentTimeline.mergeTimelineCollectedStyles($e),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=_}visitStagger(_,w){const F=w.parentContext,K=w.currentTimeline,te=_.timings,fe=Math.abs(te.duration),ve=fe*(w.currentQueryTotal-1);let $e=fe*w.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":$e=ve-$e;break;case"full":$e=F.currentStaggerTime}const kt=w.currentTimeline;$e&&kt.delayNextStep($e);const xt=kt.currentTime;tr(this,_.animation,w),w.previousNode=_,F.currentStaggerTime=K.currentTime-xt+(K.startTime-F.currentTimeline.startTime)}}const us={};class Es{constructor(_,w,F,K,te,fe,ve,$e){this._driver=_,this.element=w,this.subInstructions=F,this._enterClassName=K,this._leaveClassName=te,this.errors=fe,this.timelines=ve,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=us,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=$e||new ws(this._driver,w,0),ve.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,w){if(!_)return;const F=_;let K=this.options;null!=F.duration&&(K.duration=ge(F.duration)),null!=F.delay&&(K.delay=ge(F.delay));const te=F.params;if(te){let fe=K.params;fe||(fe=this.options.params={}),Object.keys(te).forEach(ve=>{(!w||!fe.hasOwnProperty(ve))&&(fe[ve]=qt(te[ve],fe,this.errors))})}}_copyOptions(){const _={};if(this.options){const w=this.options.params;if(w){const F=_.params={};Object.keys(w).forEach(K=>{F[K]=w[K]})}}return _}createSubContext(_=null,w,F){const K=w||this.element,te=new Es(this._driver,K,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(K,F||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(_),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(_){return this.previousNode=us,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,w,F){const K={duration:w??_.duration,delay:this.currentTimeline.currentTime+(F??0)+_.delay,easing:""},te=new or(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,K,_.stretchStartingKeyframe);return this.timelines.push(te),K}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,w,F,K,te,fe){let ve=[];if(K&&ve.push(this.element),_.length>0){_=(_=_.replace(Ns,"."+this._enterClassName)).replace($o,"."+this._leaveClassName);let Je=this._driver.query(this.element,_,1!=F);0!==F&&(Je=F<0?Je.slice(Je.length+F,Je.length):Je.slice(0,F)),ve.push(...Je)}return!te&&0==ve.length&&fe.push(function ke(z){return new Z.vHH(3014,!1)}()),ve}}class ws{constructor(_,w,F,K){this._driver=_,this.element=w,this.startTime=F,this._elementTimelineStylesLookup=K,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+_),w&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,w){return this.applyStylesToKeyframe(),new ws(this._driver,_,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,w){this._localTimelineStyles.set(_,w),this._globalTimelineStyles.set(_,w),this._styleSummary.set(_,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[w,F]of this._globalTimelineStyles)this._backFill.set(w,F||pe.l3),this._currentKeyframe.set(w,pe.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,w,F,K){w&&this._previousKeyframe.set("easing",w);const te=K&&K.params||{},fe=function Ps(z,_){const w=new Map;let F;return z.forEach(K=>{if("*"===K){F=F||_.keys();for(let te of F)w.set(te,pe.l3)}else qe(K,w)}),w}(_,this._globalTimelineStyles);for(let[ve,$e]of fe){const Je=qt($e,te,F);this._pendingStyles.set(ve,Je),this._localTimelineStyles.has(ve)||this._backFill.set(ve,this._globalTimelineStyles.get(ve)??pe.l3),this._updateStyle(ve,Je)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,w)=>{this._currentKeyframe.set(w,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,_)}))}snapshotCurrentStyles(){for(let[_,w]of this._localTimelineStyles)this._pendingStyles.set(_,w),this._updateStyle(_,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let w in this._currentKeyframe)_.push(w);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((w,F)=>{const K=this._styleSummary.get(F);(!K||w.time>K.time)&&this._updateStyle(F,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,w=new Set,F=1===this._keyframes.size&&0===this.duration;let K=[];this._keyframes.forEach((ve,$e)=>{const Je=qe(ve,new Map,this._backFill);Je.forEach((kt,xt)=>{kt===pe.k1?_.add(xt):kt===pe.l3&&w.add(xt)}),F||Je.set("offset",$e/this.duration),K.push(Je)});const te=_.size?un(_.values()):[],fe=w.size?un(w.values()):[];if(F){const ve=K[0],$e=new Map(ve);ve.set("offset",0),$e.set("offset",1),K=[ve,$e]}return to(this.element,K,te,fe,this.duration,this.startTime,this.easing,!1)}}class or extends ws{constructor(_,w,F,K,te,fe,ve=!1){super(_,w,fe.delay),this.keyframes=F,this.preStyleProps=K,this.postStyleProps=te,this._stretchStartingKeyframe=ve,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:w,duration:F,easing:K}=this.timings;if(this._stretchStartingKeyframe&&w){const te=[],fe=F+w,ve=w/fe,$e=qe(_[0]);$e.set("offset",0),te.push($e);const Je=qe(_[0]);Je.set("offset",Fr(ve)),te.push(Je);const kt=_.length-1;for(let xt=1;xt<=kt;xt++){let Fn=qe(_[xt]);const Nn=Fn.get("offset");Fn.set("offset",Fr((w+Nn*F)/fe)),te.push(Fn)}F=fe,w=0,K="",_=te}return to(this.element,_,this.preStyleProps,this.postStyleProps,F,w,K,!0)}}function Fr(z,_=3){const w=Math.pow(10,_-1);return Math.round(z*w)/w}class Ki{}const So=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ns extends Ki{normalizePropertyName(_,w){return Zt(_)}normalizeStyleValue(_,w,F,K){let te="";const fe=F.toString().trim();if(So.has(w)&&0!==F&&"0"!==F)if("number"==typeof F)te="px";else{const ve=F.match(/^[+-]?[\d\.]+([a-z]*)$/);ve&&0==ve[1].length&&K.push(function wt(z,_){return new Z.vHH(3005,!1)}())}return fe+te}}function zs(z,_,w,F,K,te,fe,ve,$e,Je,kt,xt,Fn){return{type:0,element:z,triggerName:_,isRemovalTransition:K,fromState:w,fromStyles:te,toState:F,toStyles:fe,timelines:ve,queriedElements:$e,preStyleProps:Je,postStyleProps:kt,totalTime:xt,errors:Fn}}const yo={};class vo{constructor(_,w,F){this._triggerName=_,this.ast=w,this._stateStyles=F}match(_,w,F,K){return function Is(z,_,w,F,K){return z.some(te=>te(_,w,F,K))}(this.ast.matchers,_,w,F,K)}buildStyles(_,w,F){let K=this._stateStyles.get("*");return void 0!==_&&(K=this._stateStyles.get(_?.toString())||K),K?K.buildStyles(w,F):new Map}build(_,w,F,K,te,fe,ve,$e,Je,kt){const xt=[],Fn=this.ast.options&&this.ast.options.params||yo,En=this.buildStyles(F,ve&&ve.params||yo,xt),kn=$e&&$e.params||yo,Sr=this.buildStyles(K,kn,xt),jr=new Set,pi=new Map,gi=new Map,ai="void"===K,M={params:ia(kn,Fn),delay:this.ast.options?.delay},B=kt?[]:di(_,w,this.ast.animation,te,fe,En,Sr,M,Je,xt);let P=0;if(B.forEach(ie=>{P=Math.max(ie.duration+ie.delay,P)}),xt.length)return zs(w,this._triggerName,F,K,ai,En,Sr,[],[],pi,gi,P,xt);B.forEach(ie=>{const Ke=ie.element,tt=Pn(pi,Ke,new Set);ie.preStyleProps.forEach(rr=>tt.add(rr));const on=Pn(gi,Ke,new Set);ie.postStyleProps.forEach(rr=>on.add(rr)),Ke!==w&&jr.add(Ke)});const q=un(jr.values());return zs(w,this._triggerName,F,K,ai,En,Sr,B,q,pi,gi,P)}}function ia(z,_){const w=me(_);for(const F in z)z.hasOwnProperty(F)&&null!=z[F]&&(w[F]=z[F]);return w}class Ds{constructor(_,w,F){this.styles=_,this.defaultParams=w,this.normalizer=F}buildStyles(_,w){const F=new Map,K=me(this.defaultParams);return Object.keys(_).forEach(te=>{const fe=_[te];null!==fe&&(K[te]=fe)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((fe,ve)=>{fe&&(fe=qt(fe,K,w));const $e=this.normalizer.normalizePropertyName(ve,w);fe=this.normalizer.normalizeStyleValue(ve,$e,fe,w),F.set(ve,fe)})}),F}}class Ao{constructor(_,w,F){this.name=_,this.ast=w,this._normalizer=F,this.transitionFactories=[],this.states=new Map,w.states.forEach(K=>{this.states.set(K.name,new Ds(K.style,K.options&&K.options.params||{},F))}),_o(this.states,"true","1"),_o(this.states,"false","0"),w.transitions.forEach(K=>{this.transitionFactories.push(new vo(_,K,this.states))}),this.fallbackTransition=function Ts(z,_,w){return new vo(z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,ve)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,w,F,K){return this.transitionFactories.find(fe=>fe.match(_,w,F,K))||null}matchStyles(_,w,F){return this.fallbackTransition.buildStyles(_,w,F)}}function _o(z,_,w){z.has(_)?z.has(w)||z.set(w,z.get(_)):z.has(w)&&z.set(_,z.get(w))}const jo=new _s;class qi{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,w){const F=[],K=[],te=hn(this._driver,w,F,K);if(F.length)throw function Ie(z){return new Z.vHH(3503,!1)}();this._animations.set(_,te)}_buildPlayer(_,w,F){const K=_.element,te=xn(0,this._normalizer,0,_.keyframes,w,F);return this._driver.animate(K,te,_.duration,_.delay,_.easing,[],!0)}create(_,w,F={}){const K=[],te=this._animations.get(_);let fe;const ve=new Map;if(te?(fe=di(this._driver,w,te,St,Yr,new Map,new Map,F,jo,K),fe.forEach(kt=>{const xt=Pn(ve,kt.element,new Map);kt.postStyleProps.forEach(Fn=>xt.set(Fn,null))})):(K.push(function He(){return new Z.vHH(3300,!1)}()),fe=[]),K.length)throw function he(z){return new Z.vHH(3504,!1)}();ve.forEach((kt,xt)=>{kt.forEach((Fn,Nn)=>{kt.set(Nn,this._driver.computeStyle(xt,Nn,pe.l3))})});const Je=Dr(fe.map(kt=>{const xt=ve.get(kt.element);return this._buildPlayer(kt,new Map,xt)}));return this._playersById.set(_,Je),Je.onDestroy(()=>this.destroy(_)),this.players.push(Je),Je}destroy(_){const w=this._getPlayer(_);w.destroy(),this._playersById.delete(_);const F=this.players.indexOf(w);F>=0&&this.players.splice(F,1)}_getPlayer(_){const w=this._playersById.get(_);if(!w)throw function Ne(z){return new Z.vHH(3301,!1)}();return w}listen(_,w,F,K){const te=yi(w,"","","");return Pt(this._getPlayer(_),F,te,K),()=>{}}command(_,w,F,K){if("register"==F)return void this.register(_,K[0]);if("create"==F)return void this.create(_,w,K[0]||{});const te=this._getPlayer(_);switch(F){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(K[0]));break;case"destroy":this.destroy(_)}}}const Gs="ng-animate-queued",Ho="ng-animate-disabled",Li=[],ls={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed";class Zi{get params(){return this.options.params}constructor(_,w=""){this.namespaceId=w;const F=_&&_.hasOwnProperty("value");if(this.value=function cs(z){return z??null}(F?_.value:_),F){const te=me(_);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const w=_.params;if(w){const F=this.options.params;Object.keys(w).forEach(K=>{null==F[K]&&(F[K]=w[K])})}}}const Ei="void",br=new Zi(Ei);class Os{constructor(_,w,F){this.id=_,this.hostElement=w,this._engine=F,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Qr(w,this._hostClassName)}listen(_,w,F,K){if(!this._triggers.has(w))throw function yt(z,_){return new Z.vHH(3302,!1)}();if(null==F||0==F.length)throw function Ut(z){return new Z.vHH(3303,!1)}();if(!function wa(z){return"start"==z||"done"==z}(F))throw function Kn(z,_){return new Z.vHH(3400,!1)}();const te=Pn(this._elementListeners,_,[]),fe={name:w,phase:F,callback:K};te.push(fe);const ve=Pn(this._engine.statesByElement,_,new Map);return ve.has(w)||(Qr(_,Jt),Qr(_,Jt+"-"+w),ve.set(w,br)),()=>{this._engine.afterFlush(()=>{const $e=te.indexOf(fe);$e>=0&&te.splice($e,1),this._triggers.has(w)||ve.delete(w)})}}register(_,w){return!this._triggers.has(_)&&(this._triggers.set(_,w),!0)}_getTrigger(_){const w=this._triggers.get(_);if(!w)throw function jn(z){return new Z.vHH(3401,!1)}();return w}trigger(_,w,F,K=!0){const te=this._getTrigger(w),fe=new Gn(this.id,w,_);let ve=this._engine.statesByElement.get(_);ve||(Qr(_,Jt),Qr(_,Jt+"-"+w),this._engine.statesByElement.set(_,ve=new Map));let $e=ve.get(w);const Je=new Zi(F,this.id);if(!(F&&F.hasOwnProperty("value"))&&$e&&Je.absorbOptions($e.options),ve.set(w,Je),$e||($e=br),Je.value!==Ei&&$e.value===Je.value){if(!function Hi(z,_){const w=Object.keys(z),F=Object.keys(_);if(w.length!=F.length)return!1;for(let K=0;K<w.length;K++){const te=w[K];if(!_.hasOwnProperty(te)||z[te]!==_[te])return!1}return!0}($e.params,Je.params)){const kn=[],Sr=te.matchStyles($e.value,$e.params,kn),jr=te.matchStyles(Je.value,Je.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{sr(_,Sr),Sn(_,jr)})}return}const Fn=Pn(this._engine.playersByElement,_,[]);Fn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==w&&kn.queued&&kn.destroy()});let Nn=te.matchTransition($e.value,Je.value,_,Je.params),En=!1;if(!Nn){if(!K)return;Nn=te.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:w,transition:Nn,fromState:$e,toState:Je,player:fe,isFallbackTransition:En}),En||(Qr(_,Gs),fe.onStart(()=>{ji(_,Gs)})),fe.onDone(()=>{let kn=this.players.indexOf(fe);kn>=0&&this.players.splice(kn,1);const Sr=this._engine.playersByElement.get(_);if(Sr){let jr=Sr.indexOf(fe);jr>=0&&Sr.splice(jr,1)}}),this.players.push(fe),Fn.push(fe),fe}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(w=>w.delete(_)),this._elementListeners.forEach((w,F)=>{this._elementListeners.set(F,w.filter(K=>K.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const w=this._engine.playersByElement.get(_);w&&(w.forEach(F=>F.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,w){const F=this._engine.driver.query(_,fr,!0);F.forEach(K=>{if(K[hi])return;const te=this._engine.fetchNamespacesByElement(K);te.size?te.forEach(fe=>fe.triggerLeaveAnimation(K,w,!1,!0)):this.clearElementCache(K)}),this._engine.afterFlushAnimationsDone(()=>F.forEach(K=>this.clearElementCache(K)))}triggerLeaveAnimation(_,w,F,K){const te=this._engine.statesByElement.get(_),fe=new Map;if(te){const ve=[];if(te.forEach(($e,Je)=>{if(fe.set(Je,$e.value),this._triggers.has(Je)){const kt=this.trigger(_,Je,Ei,K);kt&&ve.push(kt)}}),ve.length)return this._engine.markElementAsRemoved(this.id,_,!0,w,fe),F&&Dr(ve).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const w=this._elementListeners.get(_),F=this._engine.statesByElement.get(_);if(w&&F){const K=new Set;w.forEach(te=>{const fe=te.name;if(K.has(fe))return;K.add(fe);const $e=this._triggers.get(fe).fallbackTransition,Je=F.get(fe)||br,kt=new Zi(Ei),xt=new Gn(this.id,fe,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:fe,transition:$e,fromState:Je,toState:kt,player:xt,isFallbackTransition:!0})})}}removeNode(_,w){const F=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,w),this.triggerLeaveAnimation(_,w,!0))return;let K=!1;if(F.totalAnimations){const te=F.players.length?F.playersByQueriedElement.get(_):[];if(te&&te.length)K=!0;else{let fe=_;for(;fe=fe.parentNode;)if(F.statesByElement.get(fe)){K=!0;break}}}if(this.prepareLeaveAnimationListeners(_),K)F.markElementAsRemoved(this.id,_,!1,w);else{const te=_[hi];(!te||te===ls)&&(F.afterFlush(()=>this.clearElementCache(_)),F.destroyInnerAnimations(_),F._onRemovalComplete(_,w))}}insertNode(_,w){Qr(_,this._hostClassName)}drainQueuedTransitions(_){const w=[];return this._queue.forEach(F=>{const K=F.player;if(K.destroyed)return;const te=F.element,fe=this._elementListeners.get(te);fe&&fe.forEach(ve=>{if(ve.name==F.triggerName){const $e=yi(te,F.triggerName,F.fromState.value,F.toState.value);$e._data=_,Pt(F.player,ve.phase,$e,ve.callback)}}),K.markedForDestroy?this._engine.afterFlush(()=>{K.destroy()}):w.push(F)}),this._queue=[],w.sort((F,K)=>{const te=F.transition.ast.depCount,fe=K.transition.ast.depCount;return 0==te||0==fe?te-fe:this._engine.driver.containsElement(F.element,K.element)?1:-1})}destroy(_){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let w=!1;return this._elementListeners.has(_)&&(w=!0),w=!!this._queue.find(F=>F.element===_)||w,w}}class io{_onRemovalComplete(_,w){this.onRemovalComplete(_,w)}constructor(_,w,F){this.bodyNode=_,this.driver=w,this._normalizer=F,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(K,te)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(w=>{w.players.forEach(F=>{F.queued&&_.push(F)})}),_}createNamespace(_,w){const F=new Os(_,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(F,w):(this.newHostElements.set(w,F),this.collectEnterElement(w)),this._namespaceLookup[_]=F}_balanceNamespaceList(_,w){const F=this._namespaceList,K=this.namespacesByHostElement;if(F.length-1>=0){let fe=!1,ve=this.driver.getParentElement(w);for(;ve;){const $e=K.get(ve);if($e){const Je=F.indexOf($e);F.splice(Je+1,0,_),fe=!0;break}ve=this.driver.getParentElement(ve)}fe||F.unshift(_)}else F.push(_);return K.set(w,_),_}register(_,w){let F=this._namespaceLookup[_];return F||(F=this.createNamespace(_,w)),F}registerTrigger(_,w,F){let K=this._namespaceLookup[_];K&&K.register(w,F)&&this.totalAnimations++}destroy(_,w){if(!_)return;const F=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(F.hostElement),delete this._namespaceLookup[_];const K=this._namespaceList.indexOf(F);K>=0&&this._namespaceList.splice(K,1)}),this.afterFlushAnimationsDone(()=>F.destroy(w))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const w=new Set,F=this.statesByElement.get(_);if(F)for(let K of F.values())if(K.namespaceId){const te=this._fetchNamespace(K.namespaceId);te&&w.add(te)}return w}trigger(_,w,F,K){if(Wr(w)){const te=this._fetchNamespace(_);if(te)return te.trigger(w,F,K),!0}return!1}insertNode(_,w,F,K){if(!Wr(w))return;const te=w[hi];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(w);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(_){const fe=this._fetchNamespace(_);fe&&fe.insertNode(w,F)}K&&this.collectEnterElement(w)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,w){w?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Qr(_,Ho)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),ji(_,Ho))}removeNode(_,w,F,K){if(Wr(w)){const te=_?this._fetchNamespace(_):null;if(te?te.removeNode(w,K):this.markElementAsRemoved(_,w,!1,K),F){const fe=this.namespacesByHostElement.get(w);fe&&fe.id!==_&&fe.removeNode(w,K)}}else this._onRemovalComplete(w,K)}markElementAsRemoved(_,w,F,K,te){this.collectedLeaveElements.push(w),w[hi]={namespaceId:_,setForRemoval:K,hasAnimation:F,removedBeforeQueried:!1,previousTriggersValues:te}}listen(_,w,F,K,te){return Wr(w)?this._fetchNamespace(_).listen(w,F,K,te):()=>{}}_buildInstruction(_,w,F,K,te){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,F,K,_.fromState.options,_.toState.options,w,te)}destroyInnerAnimations(_){let w=this.driver.query(_,fr,!0);w.forEach(F=>this.destroyActiveAnimationsForElement(F)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(_,se,!0),w.forEach(F=>this.finishActiveQueriedAnimationOnElement(F)))}destroyActiveAnimationsForElement(_){const w=this.playersByElement.get(_);w&&w.forEach(F=>{F.queued?F.markedForDestroy=!0:F.destroy()})}finishActiveQueriedAnimationOnElement(_){const w=this.playersByQueriedElement.get(_);w&&w.forEach(F=>F.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return Dr(this.players).onDone(()=>_());_()})}processLeaveNode(_){const w=_[hi];if(w&&w.setForRemoval){if(_[hi]=ls,w.namespaceId){this.destroyInnerAnimations(_);const F=this._fetchNamespace(w.namespaceId);F&&F.clearElementCache(_)}this._onRemovalComplete(_,w.setForRemoval)}_.classList?.contains(Ho)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(F=>{this.markElementAsDisabled(F,!1)})}flush(_=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((F,K)=>this._balanceNamespaceList(F,K)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let F=0;F<this.collectedEnterElements.length;F++)Qr(this.collectedEnterElements[F],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const F=[];try{w=this._flushAnimations(F,_)}finally{for(let K=0;K<F.length;K++)F[K]()}}else for(let F=0;F<this.collectedLeaveElements.length;F++)this.processLeaveNode(this.collectedLeaveElements[F]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(F=>F()),this._flushFns=[],this._whenQuietFns.length){const F=this._whenQuietFns;this._whenQuietFns=[],w.length?Dr(w).onDone(()=>{F.forEach(K=>K())}):F.forEach(K=>K())}}reportError(_){throw function Er(z){return new Z.vHH(3402,!1)}()}_flushAnimations(_,w){const F=new _s,K=[],te=new Map,fe=[],ve=new Map,$e=new Map,Je=new Map,kt=new Set;this.disabledNodes.forEach(At=>{kt.add(At);const Yt=this.driver.query(At,".ng-animate-queued",!0);for(let Gt=0;Gt<Yt.length;Gt++)kt.add(Yt[Gt])});const xt=this.bodyNode,Fn=Array.from(this.statesByElement.keys()),Nn=oi(Fn,this.collectedEnterElements),En=new Map;let kn=0;Nn.forEach((At,Yt)=>{const Gt=St+kn++;En.set(Yt,Gt),At.forEach(wn=>Qr(wn,Gt))});const Sr=[],jr=new Set,pi=new Set;for(let At=0;At<this.collectedLeaveElements.length;At++){const Yt=this.collectedLeaveElements[At],Gt=Yt[hi];Gt&&Gt.setForRemoval&&(Sr.push(Yt),jr.add(Yt),Gt.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(wn=>jr.add(wn)):pi.add(Yt))}const gi=new Map,ai=oi(Fn,Array.from(jr));ai.forEach((At,Yt)=>{const Gt=Yr+kn++;gi.set(Yt,Gt),At.forEach(wn=>Qr(wn,Gt))}),_.push(()=>{Nn.forEach((At,Yt)=>{const Gt=En.get(Yt);At.forEach(wn=>ji(wn,Gt))}),ai.forEach((At,Yt)=>{const Gt=gi.get(Yt);At.forEach(wn=>ji(wn,Gt))}),Sr.forEach(At=>{this.processLeaveNode(At)})});const M=[],B=[];for(let At=this._namespaceList.length-1;At>=0;At--)this._namespaceList[At].drainQueuedTransitions(w).forEach(Gt=>{const wn=Gt.player,Rr=Gt.element;if(M.push(wn),this.collectedEnterElements.length){const Xr=Rr[hi];if(Xr&&Xr.setForMove){if(Xr.previousTriggersValues&&Xr.previousTriggersValues.has(Gt.triggerName)){const ps=Xr.previousTriggersValues.get(Gt.triggerName),Ls=this.statesByElement.get(Gt.element);if(Ls&&Ls.has(Gt.triggerName)){const To=Ls.get(Gt.triggerName);To.value=ps,Ls.set(Gt.triggerName,To)}}return void wn.destroy()}}const Ar=!xt||!this.driver.containsElement(xt,Rr),ui=gi.get(Rr),Kr=En.get(Rr),nr=this._buildInstruction(Gt,F,Kr,ui,Ar);if(nr.errors&&nr.errors.length)return void B.push(nr);if(Ar)return wn.onStart(()=>sr(Rr,nr.fromStyles)),wn.onDestroy(()=>Sn(Rr,nr.toStyles)),void K.push(wn);if(Gt.isFallbackTransition)return wn.onStart(()=>sr(Rr,nr.fromStyles)),wn.onDestroy(()=>Sn(Rr,nr.toStyles)),void K.push(wn);const Ni=[];nr.timelines.forEach(Xr=>{Xr.stretchStartingKeyframe=!0,this.disabledNodes.has(Xr.element)||Ni.push(Xr)}),nr.timelines=Ni,F.append(Rr,nr.timelines),fe.push({instruction:nr,player:wn,element:Rr}),nr.queriedElements.forEach(Xr=>Pn(ve,Xr,[]).push(wn)),nr.preStyleProps.forEach((Xr,ps)=>{if(Xr.size){let Ls=$e.get(ps);Ls||$e.set(ps,Ls=new Set),Xr.forEach((To,zo)=>Ls.add(zo))}}),nr.postStyleProps.forEach((Xr,ps)=>{let Ls=Je.get(ps);Ls||Je.set(ps,Ls=new Set),Xr.forEach((To,zo)=>Ls.add(zo))})});if(B.length){const At=[];B.forEach(Yt=>{At.push(function Ir(z,_){return new Z.vHH(3505,!1)}())}),M.forEach(Yt=>Yt.destroy()),this.reportError(At)}const P=new Map,q=new Map;fe.forEach(At=>{const Yt=At.element;F.has(Yt)&&(q.set(Yt,Yt),this._beforeAnimationBuild(At.player.namespaceId,At.instruction,P))}),K.forEach(At=>{const Yt=At.element;this._getPreviousPlayers(Yt,!1,At.namespaceId,At.triggerName,null).forEach(wn=>{Pn(P,Yt,[]).push(wn),wn.destroy()})});const ie=Sr.filter(At=>Tn(At,$e,Je)),Ke=new Map;si(Ke,this.driver,pi,Je,pe.l3).forEach(At=>{Tn(At,$e,Je)&&ie.push(At)});const on=new Map;Nn.forEach((At,Yt)=>{si(on,this.driver,new Set(At),$e,pe.k1)}),ie.forEach(At=>{const Yt=Ke.get(At),Gt=on.get(At);Ke.set(At,new Map([...Array.from(Yt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const rr=[],er=[],pr={};fe.forEach(At=>{const{element:Yt,player:Gt,instruction:wn}=At;if(F.has(Yt)){if(kt.has(Yt))return Gt.onDestroy(()=>Sn(Yt,wn.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(wn.totalTime),void K.push(Gt);let Rr=pr;if(q.size>1){let ui=Yt;const Kr=[];for(;ui=ui.parentNode;){const nr=q.get(ui);if(nr){Rr=nr;break}Kr.push(ui)}Kr.forEach(nr=>q.set(nr,Rr))}const Ar=this._buildAnimation(Gt.namespaceId,wn,P,te,on,Ke);if(Gt.setRealPlayer(Ar),Rr===pr)rr.push(Gt);else{const ui=this.playersByElement.get(Rr);ui&&ui.length&&(Gt.parentPlayer=Dr(ui)),K.push(Gt)}}else sr(Yt,wn.fromStyles),Gt.onDestroy(()=>Sn(Yt,wn.toStyles)),er.push(Gt),kt.has(Yt)&&K.push(Gt)}),er.forEach(At=>{const Yt=te.get(At.element);if(Yt&&Yt.length){const Gt=Dr(Yt);At.setRealPlayer(Gt)}}),K.forEach(At=>{At.parentPlayer?At.syncPlayerEvents(At.parentPlayer):At.destroy()});for(let At=0;At<Sr.length;At++){const Yt=Sr[At],Gt=Yt[hi];if(ji(Yt,Yr),Gt&&Gt.hasAnimation)continue;let wn=[];if(ve.size){let Ar=ve.get(Yt);Ar&&Ar.length&&wn.push(...Ar);let ui=this.driver.query(Yt,se,!0);for(let Kr=0;Kr<ui.length;Kr++){let nr=ve.get(ui[Kr]);nr&&nr.length&&wn.push(...nr)}}const Rr=wn.filter(Ar=>!Ar.destroyed);Rr.length?xo(this,Yt,Rr):this.processLeaveNode(Yt)}return Sr.length=0,rr.forEach(At=>{this.players.push(At),At.onDone(()=>{At.destroy();const Yt=this.players.indexOf(At);this.players.splice(Yt,1)}),At.play()}),rr}elementContainsData(_,w){let F=!1;const K=w[hi];return K&&K.setForRemoval&&(F=!0),this.playersByElement.has(w)&&(F=!0),this.playersByQueriedElement.has(w)&&(F=!0),this.statesByElement.has(w)&&(F=!0),this._fetchNamespace(_).elementContainsData(w)||F}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,w,F,K,te){let fe=[];if(w){const ve=this.playersByQueriedElement.get(_);ve&&(fe=ve)}else{const ve=this.playersByElement.get(_);if(ve){const $e=!te||te==Ei;ve.forEach(Je=>{Je.queued||!$e&&Je.triggerName!=K||fe.push(Je)})}}return(F||K)&&(fe=fe.filter(ve=>!(F&&F!=ve.namespaceId||K&&K!=ve.triggerName))),fe}_beforeAnimationBuild(_,w,F){const te=w.element,fe=w.isRemovalTransition?void 0:_,ve=w.isRemovalTransition?void 0:w.triggerName;for(const $e of w.timelines){const Je=$e.element,kt=Je!==te,xt=Pn(F,Je,[]);this._getPreviousPlayers(Je,kt,fe,ve,w.toState).forEach(Nn=>{const En=Nn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),Nn.destroy(),xt.push(Nn)})}sr(te,w.fromStyles)}_buildAnimation(_,w,F,K,te,fe){const ve=w.triggerName,$e=w.element,Je=[],kt=new Set,xt=new Set,Fn=w.timelines.map(En=>{const kn=En.element;kt.add(kn);const Sr=kn[hi];if(Sr&&Sr.removedBeforeQueried)return new pe.ZN(En.duration,En.delay);const jr=kn!==$e,pi=function Jr(z){const _=[];return ds(z,_),_}((F.get(kn)||Li).map(P=>P.getRealPlayer())).filter(P=>!!P.element&&P.element===kn),gi=te.get(kn),ai=fe.get(kn),M=xn(0,this._normalizer,0,En.keyframes,gi,ai),B=this._buildPlayer(En,M,pi);if(En.subTimeline&&K&&xt.add(kn),jr){const P=new Gn(_,ve,kn);P.setRealPlayer(B),Je.push(P)}return B});Je.forEach(En=>{Pn(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function ks(z,_,w){let F=z.get(_);if(F){if(F.length){const K=F.indexOf(w);F.splice(K,1)}0==F.length&&z.delete(_)}return F}(this.playersByQueriedElement,En.element,En))}),kt.forEach(En=>Qr(En,ue));const Nn=Dr(Fn);return Nn.onDestroy(()=>{kt.forEach(En=>ji(En,ue)),Sn($e,w.toStyles)}),xt.forEach(En=>{Pn(K,En,[]).push(Nn)}),Nn}_buildPlayer(_,w,F){return w.length>0?this.driver.animate(_.element,w,_.duration,_.delay,_.easing,F):new pe.ZN(_.duration,_.delay)}}class Gn{constructor(_,w,F){this.namespaceId=_,this.triggerName=w,this.element=F,this._player=new pe.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((w,F)=>{w.forEach(K=>Pt(_,F,void 0,K))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const w=this._player;w.triggerCallback&&_.onStart(()=>w.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,w){Pn(this._queuedCallbacks,_,[]).push(w)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const w=this._player;w.triggerCallback&&w.triggerCallback(_)}}function Wr(z){return z&&1===z.nodeType}function wo(z,_){const w=z.style.display;return z.style.display=_??"none",w}function si(z,_,w,F,K){const te=[];w.forEach($e=>te.push(wo($e)));const fe=[];F.forEach(($e,Je)=>{const kt=new Map;$e.forEach(xt=>{const Fn=_.computeStyle(Je,xt,K);kt.set(xt,Fn),(!Fn||0==Fn.length)&&(Je[hi]=Mo,fe.push(Je))}),z.set(Je,kt)});let ve=0;return w.forEach($e=>wo($e,te[ve++])),fe}function oi(z,_){const w=new Map;if(z.forEach(ve=>w.set(ve,[])),0==_.length)return w;const F=1,K=new Set(_),te=new Map;function fe(ve){if(!ve)return F;let $e=te.get(ve);if($e)return $e;const Je=ve.parentNode;return $e=w.has(Je)?Je:K.has(Je)?F:fe(Je),te.set(ve,$e),$e}return _.forEach(ve=>{const $e=fe(ve);$e!==F&&w.get($e).push(ve)}),w}function Qr(z,_){z.classList?.add(_)}function ji(z,_){z.classList?.remove(_)}function xo(z,_,w){Dr(w).onDone(()=>z.processLeaveNode(_))}function ds(z,_){for(let w=0;w<z.length;w++){const F=z[w];F instanceof pe.ZE?ds(F.players,_):_.push(F)}}function Tn(z,_,w){const F=w.get(z);if(!F)return!1;let K=_.get(z);return K?F.forEach(te=>K.add(te)):_.set(z,F),w.delete(z),!0}class Io{constructor(_,w,F){this.bodyNode=_,this._driver=w,this._normalizer=F,this._triggerCache={},this.onRemovalComplete=(K,te)=>{},this._transitionEngine=new io(_,w,F),this._timelineEngine=new qi(_,w,F),this._transitionEngine.onRemovalComplete=(K,te)=>this.onRemovalComplete(K,te)}registerTrigger(_,w,F,K,te){const fe=_+"-"+K;let ve=this._triggerCache[fe];if(!ve){const $e=[],Je=[],kt=hn(this._driver,te,$e,Je);if($e.length)throw function st(z,_){return new Z.vHH(3404,!1)}();ve=function rs(z,_,w){return new Ao(z,_,w)}(K,kt,this._normalizer),this._triggerCache[fe]=ve}this._transitionEngine.registerTrigger(w,K,ve)}register(_,w){this._transitionEngine.register(_,w)}destroy(_,w){this._transitionEngine.destroy(_,w)}onInsert(_,w,F,K){this._transitionEngine.insertNode(_,w,F,K)}onRemove(_,w,F,K){this._transitionEngine.removeNode(_,w,K||!1,F)}disableAnimations(_,w){this._transitionEngine.markElementAsDisabled(_,w)}process(_,w,F,K){if("@"==F.charAt(0)){const[te,fe]=vi(F);this._timelineEngine.command(te,w,fe,K)}else this._transitionEngine.trigger(_,w,F,K)}listen(_,w,F,K,te){if("@"==F.charAt(0)){const[fe,ve]=vi(F);return this._timelineEngine.listen(fe,w,ve,te)}return this._transitionEngine.listen(_,w,F,K,te)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ws=(()=>{class z{constructor(w,F,K){this._element=w,this._startStyles=F,this._endStyles=K,this._state=0;let te=z.initialStylesByElement.get(w);te||z.initialStylesByElement.set(w,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&Sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sn(this._element,this._initialStyles),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(z.initialStylesByElement.delete(this._element),this._startStyles&&(sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sr(this._element,this._endStyles),this._endStyles=null),Sn(this._element,this._initialStyles),this._state=3)}}return z.initialStylesByElement=new WeakMap,z})();function Do(z){let _=null;return z.forEach((w,F)=>{(function aa(z){return"display"===z||"position"===z})(F)&&(_=_||new Map,_.set(F,w))}),_}class Ks{constructor(_,w,F,K){this.element=_,this.keyframes=w,this.options=F,this._specialStyles=K,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=F.duration,this._delay=F.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const w=[];return _.forEach(F=>{w.push(Object.fromEntries(F))}),w}_triggerWebAnimation(_,w,F){return _.animate(this._convertKeyframesToObject(w),F)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((F,K)=>{"offset"!==K&&_.set(K,this._finished?F:xs(this.element,K))}),this.currentSnapshot=_}triggerCallback(_){const w="start"===_?this._onStartFns:this._onDoneFns;w.forEach(F=>F()),w.length=0}}class so{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,w){return!1}containsElement(_,w){return ir(_,w)}getParentElement(_){return Ot(_)}query(_,w,F){return Wi(_,w,F)}computeStyle(_,w,F){return window.getComputedStyle(_)[w]}animate(_,w,F,K,te,fe=[]){const $e={duration:F,delay:K,fill:0==K?"both":"forwards"};te&&($e.easing=te);const Je=new Map,kt=fe.filter(Nn=>Nn instanceof Ks);(function Qn(z,_){return 0===z||0===_})(F,K)&&kt.forEach(Nn=>{Nn.currentSnapshot.forEach((En,kn)=>Je.set(kn,En))});let xt=function re(z){return z.length?z[0]instanceof Map?z:z.map(_=>ae(_)):[]}(w).map(Nn=>qe(Nn));xt=function Pr(z,_,w){if(w.size&&_.length){let F=_[0],K=[];if(w.forEach((te,fe)=>{F.has(fe)||K.push(fe),F.set(fe,te)}),K.length)for(let te=1;te<_.length;te++){let fe=_[te];K.forEach(ve=>fe.set(ve,xs(z,ve)))}}return _}(_,xt,Je);const Fn=function oa(z,_){let w=null,F=null;return Array.isArray(_)&&_.length?(w=Do(_[0]),_.length>1&&(F=Do(_[_.length-1]))):_ instanceof Map&&(w=Do(_)),w||F?new Ws(z,w,F):null}(_,xt);return new Ks(_,xt,$e,Fn)}}var Na=G(6895);let R=(()=>{class z extends pe._j{constructor(w,F){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(F.body,{id:"0",encapsulation:Z.ifc.None,styles:[],data:{animation:[]}})}build(w){const F=this._nextAnimationId.toString();this._nextAnimationId++;const K=Array.isArray(w)?(0,pe.vP)(w):w;return X(this._renderer,null,F,"register",[K]),new O(F,this._renderer)}}return z.\u0275fac=function(w){return new(w||z)(Z.LFG(Z.FYo),Z.LFG(Na.K0))},z.\u0275prov=Z.Yz7({token:z,factory:z.\u0275fac}),z})();class O extends pe.LC{constructor(_,w){super(),this._id=_,this._renderer=w}create(_,w){return new k(this._id,_,w||{},this._renderer)}}class k{constructor(_,w,F,K){this.id=_,this.element=w,this._renderer=K,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",F)}_listen(_,w){return this._renderer.listen(this.element,`@@${this.id}:${_}`,w)}_command(_,...w){return X(this._renderer,this.element,this.id,_,w)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function X(z,_,w,F,K){return z.setProperty(_,`@@${w}:${F}`,K)}const dn="@.disabled";let yr=(()=>{class z{constructor(w,F,K){this.delegate=w,this.engine=F,this._zone=K,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),F.onRemovalComplete=(te,fe)=>{const ve=fe?.parentNode(te);ve&&fe.removeChild(ve,te)}}createRenderer(w,F){const te=this.delegate.createRenderer(w,F);if(!(w&&F&&F.data&&F.data.animation)){let kt=this._rendererCache.get(te);return kt||(kt=new Lr("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,kt)),kt}const fe=F.id,ve=F.id+"-"+this._currentId;this._currentId++,this.engine.register(ve,w);const $e=kt=>{Array.isArray(kt)?kt.forEach($e):this.engine.registerTrigger(fe,ve,w,kt.name,kt)};return F.data.animation.forEach($e),new hs(this,ve,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,F,K){w>=0&&w<this._microtaskId?this._zone.run(()=>F(K)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[fe,ve]=te;fe(ve)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([F,K]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return z.\u0275fac=function(w){return new(w||z)(Z.LFG(Z.FYo),Z.LFG(Io),Z.LFG(Z.R0b))},z.\u0275prov=Z.Yz7({token:z,factory:z.\u0275fac}),z})();class Lr{constructor(_,w,F,K){this.namespaceId=_,this.delegate=w,this.engine=F,this._onDestroy=K,this.destroyNode=this.delegate.destroyNode?te=>w.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,w){return this.delegate.createElement(_,w)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,w){this.delegate.appendChild(_,w),this.engine.onInsert(this.namespaceId,w,_,!1)}insertBefore(_,w,F,K=!0){this.delegate.insertBefore(_,w,F),this.engine.onInsert(this.namespaceId,w,_,K)}removeChild(_,w,F){this.engine.onRemove(this.namespaceId,w,this.delegate,F)}selectRootElement(_,w){return this.delegate.selectRootElement(_,w)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,w,F,K){this.delegate.setAttribute(_,w,F,K)}removeAttribute(_,w,F){this.delegate.removeAttribute(_,w,F)}addClass(_,w){this.delegate.addClass(_,w)}removeClass(_,w){this.delegate.removeClass(_,w)}setStyle(_,w,F,K){this.delegate.setStyle(_,w,F,K)}removeStyle(_,w,F){this.delegate.removeStyle(_,w,F)}setProperty(_,w,F){"@"==w.charAt(0)&&w==dn?this.disableAnimations(_,!!F):this.delegate.setProperty(_,w,F)}setValue(_,w){this.delegate.setValue(_,w)}listen(_,w,F){return this.delegate.listen(_,w,F)}disableAnimations(_,w){this.engine.disableAnimations(_,w)}}class hs extends Lr{constructor(_,w,F,K,te){super(w,F,K,te),this.factory=_,this.namespaceId=w}setProperty(_,w,F){"@"==w.charAt(0)?"."==w.charAt(1)&&w==dn?this.disableAnimations(_,F=void 0===F||!!F):this.engine.process(this.namespaceId,_,w.slice(1),F):this.delegate.setProperty(_,w,F)}listen(_,w,F){if("@"==w.charAt(0)){const K=function oo(z){switch(z){case"body":return document.body;case"document":return document;case"window":return window;default:return z}}(_);let te=w.slice(1),fe="";return"@"!=te.charAt(0)&&([te,fe]=function Ro(z){const _=z.indexOf(".");return[z.substring(0,_),z.slice(_+1)]}(te)),this.engine.listen(this.namespaceId,K,te,fe,ve=>{this.factory.scheduleListenerCallback(ve._data||-1,F,ve)})}return this.delegate.listen(_,w,F)}}const Ri=[{provide:pe._j,useClass:R},{provide:Ki,useFactory:function bi(){return new ns}},{provide:Io,useClass:(()=>{class z extends Io{constructor(w,F,K,te){super(w.body,F,K)}ngOnDestroy(){this.flush()}}return z.\u0275fac=function(w){return new(w||z)(Z.LFG(Na.K0),Z.LFG(Rn),Z.LFG(Ki),Z.LFG(Z.z2F))},z.\u0275prov=Z.Yz7({token:z,factory:z.\u0275fac}),z})()},{provide:Z.FYo,useFactory:function $r(z,_,w){return new yr(z,_,w)},deps:[p.se,Io,Z.R0b]}],Fs=[{provide:Rn,useFactory:()=>new so},{provide:Z.QbO,useValue:"BrowserAnimations"},...Ri],ur=[{provide:Rn,useClass:Ci},{provide:Z.QbO,useValue:"NoopAnimations"},...Ri];let fs=(()=>{class z{static withConfig(w){return{ngModule:z,providers:w.disableAnimations?ur:Fs}}}return z.\u0275fac=function(w){return new(w||z)},z.\u0275mod=Z.oAB({type:z}),z.\u0275inj=Z.cJS({providers:Fs,imports:[p.b2]}),z})();var ou=G(7185),fi=G(2011),la=G(1205),No=G(9313),ca=G(3692);let ao=(()=>{class z{}return z.\u0275fac=function(w){return new(w||z)},z.\u0275mod=Z.oAB({type:z,bootstrap:[rt]}),z.\u0275inj=Z.cJS({imports:[p.b2,be,(0,ca.hX)(()=>(0,ca.ZF)(de_firebase)),(0,No.Cm)(()=>(0,No.ad)()),la.ww,fi.hO.initializeApp(de_firebase),No.Um,le.u5,le.UX,fs,ou.Rh.forRoot()]}),z})();p.q6().bootstrapModule(ao).catch(z=>console.error(z))},9751:(nn,it,G)=>{G.d(it,{y:()=>Be});var p=G(2961),W=G(727),Z=G(8822),De=G(9635),be=G(2416),Se=G(576),ze=G(2806);let Be=(()=>{class pe{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const It=new pe;return It.source=this,It.operator=ut,It}subscribe(ut,It,$t){const Qe=function le(pe){return pe&&pe instanceof p.Lv||function de(pe){return pe&&(0,Se.m)(pe.next)&&(0,Se.m)(pe.error)&&(0,Se.m)(pe.complete)}(pe)&&(0,W.Nn)(pe)}(ut)?ut:new p.Hp(ut,It,$t);return(0,ze.x)(()=>{const{operator:ft,source:Et}=this;Qe.add(ft?ft.call(Qe,Et):Et?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(ut){try{return this._subscribe(ut)}catch(It){ut.error(It)}}forEach(ut,It){return new(It=rt(It))(($t,Qe)=>{const ft=new p.Hp({next:Et=>{try{ut(Et)}catch(wt){Qe(wt),ft.unsubscribe()}},error:Qe,complete:$t});this.subscribe(ft)})}_subscribe(ut){var It;return null===(It=this.source)||void 0===It?void 0:It.subscribe(ut)}[Z.L](){return this}pipe(...ut){return(0,De.U)(ut)(this)}toPromise(ut){return new(ut=rt(ut))((It,$t)=>{let Qe;this.subscribe(ft=>Qe=ft,ft=>$t(ft),()=>It(Qe))})}}return pe.create=dt=>new pe(dt),pe})();function rt(pe){var dt;return null!==(dt=pe??be.v.Promise)&&void 0!==dt?dt:Promise}},7579:(nn,it,G)=>{G.d(it,{x:()=>ze});var p=G(9751),W=G(727);const De=(0,G(3888).d)(rt=>function(){rt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=G(8737),Se=G(2806);let ze=(()=>{class rt extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const pe=new Be(this,this);return pe.operator=le,pe}_throwIfClosed(){if(this.closed)throw new De}next(le){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(le)}})}error(le){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:pe}=this;for(;pe.length;)pe.shift().error(le)}})}complete(){(0,Se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:pe,isStopped:dt,observers:ut}=this;return pe||dt?W.Lc:(this.currentObservers=null,ut.push(le),new W.w0(()=>{this.currentObservers=null,(0,be.P)(ut,le)}))}_checkFinalizedStatuses(le){const{hasError:pe,thrownError:dt,isStopped:ut}=this;pe?le.error(dt):ut&&le.complete()}asObservable(){const le=new p.y;return le.source=this,le}}return rt.create=(de,le)=>new Be(de,le),rt})();class Be extends ze{constructor(de,le){super(),this.destination=de,this.source=le}next(de){var le,pe;null===(pe=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===pe||pe.call(le,de)}error(de){var le,pe;null===(pe=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===pe||pe.call(le,de)}complete(){var de,le;null===(le=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===le||le.call(de)}_subscribe(de){var le,pe;return null!==(pe=null===(le=this.source)||void 0===le?void 0:le.subscribe(de))&&void 0!==pe?pe:W.Lc}}},2961:(nn,it,G)=>{G.d(it,{Hp:()=>$t,Lv:()=>pe});var p=G(576),W=G(727),Z=G(2416),De=G(7849);function be(){}const Se=rt("C",void 0,void 0);function rt(Fe,we,Ze){return{kind:Fe,value:we,error:Ze}}var de=G(3410),le=G(2806);class pe extends W.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,W.Nn)(we)&&we.add(this)):this.destination=wt}static create(we,Ze,vt){return new $t(we,Ze,vt)}next(we){this.isStopped?Et(function Be(Fe){return rt("N",Fe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Et(function ze(Fe){return rt("E",void 0,Fe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Et(Se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function ut(Fe,we){return dt.call(Fe,we)}class It{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(we)}catch(vt){Qe(vt)}}error(we){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(we)}catch(vt){Qe(vt)}else Qe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Ze){Qe(Ze)}}}class $t extends pe{constructor(we,Ze,vt){let et;if(super(),(0,p.m)(we)||!we)et={next:we??void 0,error:Ze??void 0,complete:vt??void 0};else{let Pe;this&&Z.v.useDeprecatedNextContext?(Pe=Object.create(we),Pe.unsubscribe=()=>this.unsubscribe(),et={next:we.next&&ut(we.next,Pe),error:we.error&&ut(we.error,Pe),complete:we.complete&&ut(we.complete,Pe)}):et=we}this.destination=new It(et)}}function Qe(Fe){Z.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(Fe):(0,De.h)(Fe)}function Et(Fe,we){const{onStoppedNotification:Ze}=Z.v;Ze&&de.z.setTimeout(()=>Ze(Fe,we))}const wt={closed:!0,next:be,error:function ft(Fe){throw Fe},complete:be}},727:(nn,it,G)=>{G.d(it,{Lc:()=>Se,w0:()=>be,Nn:()=>ze});var p=G(576);const Z=(0,G(3888).d)(rt=>function(le){rt(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((pe,dt)=>`${dt+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var De=G(8737);class be{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const ut of le)ut.remove(this);else le.remove(this);const{initialTeardown:pe}=this;if((0,p.m)(pe))try{pe()}catch(ut){de=ut instanceof Z?ut.errors:[ut]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const ut of dt)try{Be(ut)}catch(It){de=de??[],It instanceof Z?de=[...de,...It.errors]:de.push(It)}}if(de)throw new Z(de)}}add(de){var le;if(de&&de!==this)if(this.closed)Be(de);else{if(de instanceof be){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(de)}}_hasParent(de){const{_parentage:le}=this;return le===de||Array.isArray(le)&&le.includes(de)}_addParent(de){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(de),le):le?[le,de]:de}_removeParent(de){const{_parentage:le}=this;le===de?this._parentage=null:Array.isArray(le)&&(0,De.P)(le,de)}remove(de){const{_finalizers:le}=this;le&&(0,De.P)(le,de),de instanceof be&&de._removeParent(this)}}be.EMPTY=(()=>{const rt=new be;return rt.closed=!0,rt})();const Se=be.EMPTY;function ze(rt){return rt instanceof be||rt&&"closed"in rt&&(0,p.m)(rt.remove)&&(0,p.m)(rt.add)&&(0,p.m)(rt.unsubscribe)}function Be(rt){(0,p.m)(rt)?rt():rt.unsubscribe()}},2416:(nn,it,G)=>{G.d(it,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nn,it,G)=>{G.d(it,{E:()=>W});const W=new(G(9751).y)(be=>be.complete())},8996:(nn,it,G)=>{G.d(it,{D:()=>we});var p=G(8421),W=G(5363),Z=G(9468),Se=G(9751),Be=G(2202),rt=G(576),de=G(9672);function pe(Ze,vt){if(!Ze)throw new Error("Iterable cannot be null");return new Se.y(et=>{(0,de.f)(et,vt,()=>{const Pe=Ze[Symbol.asyncIterator]();(0,de.f)(et,vt,()=>{Pe.next().then(Ft=>{Ft.done?et.complete():et.next(Ft.value)})},0,!0)})})}var dt=G(3670),ut=G(8239),It=G(1144),$t=G(6495),Qe=G(2206),ft=G(4532),Et=G(3260);function we(Ze,vt){return vt?function Fe(Ze,vt){if(null!=Ze){if((0,dt.c)(Ze))return function De(Ze,vt){return(0,p.Xf)(Ze).pipe((0,Z.R)(vt),(0,W.Q)(vt))}(Ze,vt);if((0,It.z)(Ze))return function ze(Ze,vt){return new Se.y(et=>{let Pe=0;return vt.schedule(function(){Pe===Ze.length?et.complete():(et.next(Ze[Pe++]),et.closed||this.schedule())})})}(Ze,vt);if((0,ut.t)(Ze))return function be(Ze,vt){return(0,p.Xf)(Ze).pipe((0,Z.R)(vt),(0,W.Q)(vt))}(Ze,vt);if((0,Qe.D)(Ze))return pe(Ze,vt);if((0,$t.T)(Ze))return function le(Ze,vt){return new Se.y(et=>{let Pe;return(0,de.f)(et,vt,()=>{Pe=Ze[Be.h](),(0,de.f)(et,vt,()=>{let Ft,rn;try{({value:Ft,done:rn}=Pe.next())}catch(zt){return void et.error(zt)}rn?et.complete():et.next(Ft)},0,!0)}),()=>(0,rt.m)(Pe?.return)&&Pe.return()})}(Ze,vt);if((0,Et.L)(Ze))return function wt(Ze,vt){return pe((0,Et.Q)(Ze),vt)}(Ze,vt)}throw(0,ft.z)(Ze)}(Ze,vt):(0,p.Xf)(Ze)}},8421:(nn,it,G)=>{G.d(it,{Xf:()=>dt});var p=G(655),W=G(1144),Z=G(8239),De=G(9751),be=G(3670),Se=G(2206),ze=G(4532),Be=G(6495),rt=G(3260),de=G(576),le=G(7849),pe=G(8822);function dt(Fe){if(Fe instanceof De.y)return Fe;if(null!=Fe){if((0,be.c)(Fe))return function ut(Fe){return new De.y(we=>{const Ze=Fe[pe.L]();if((0,de.m)(Ze.subscribe))return Ze.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,W.z)(Fe))return function It(Fe){return new De.y(we=>{for(let Ze=0;Ze<Fe.length&&!we.closed;Ze++)we.next(Fe[Ze]);we.complete()})}(Fe);if((0,Z.t)(Fe))return function $t(Fe){return new De.y(we=>{Fe.then(Ze=>{we.closed||(we.next(Ze),we.complete())},Ze=>we.error(Ze)).then(null,le.h)})}(Fe);if((0,Se.D)(Fe))return ft(Fe);if((0,Be.T)(Fe))return function Qe(Fe){return new De.y(we=>{for(const Ze of Fe)if(we.next(Ze),we.closed)return;we.complete()})}(Fe);if((0,rt.L)(Fe))return function Et(Fe){return ft((0,rt.Q)(Fe))}(Fe)}throw(0,ze.z)(Fe)}function ft(Fe){return new De.y(we=>{(function wt(Fe,we){var Ze,vt,et,Pe;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,p.KL)(Fe);!(vt=yield Ze.next()).done;)if(we.next(vt.value),we.closed)return}catch(Ft){et={error:Ft}}finally{try{vt&&!vt.done&&(Pe=Ze.return)&&(yield Pe.call(Ze))}finally{if(et)throw et.error}}we.complete()})})(Fe,we).catch(Ze=>we.error(Ze))})}},6451:(nn,it,G)=>{G.d(it,{T:()=>Se});var p=G(8189),W=G(8421),Z=G(515),De=G(7669),be=G(8996);function Se(...ze){const Be=(0,De.yG)(ze),rt=(0,De._6)(ze,1/0),de=ze;return de.length?1===de.length?(0,W.Xf)(de[0]):(0,p.J)(rt)((0,be.D)(de,Be)):Z.E}},9646:(nn,it,G)=>{G.d(it,{of:()=>Z});var p=G(7669),W=G(8996);function Z(...De){const be=(0,p.yG)(De);return(0,W.D)(De,be)}},5403:(nn,it,G)=>{G.d(it,{x:()=>W});var p=G(2961);function W(De,be,Se,ze,Be){return new Z(De,be,Se,ze,Be)}class Z extends p.Lv{constructor(be,Se,ze,Be,rt,de){super(be),this.onFinalize=rt,this.shouldUnsubscribe=de,this._next=Se?function(le){try{Se(le)}catch(pe){be.error(pe)}}:super._next,this._error=Be?function(le){try{Be(le)}catch(pe){be.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=ze?function(){try{ze()}catch(le){be.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Se}=this;super.unsubscribe(),!Se&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},6590:(nn,it,G)=>{G.d(it,{d:()=>Z});var p=G(4482),W=G(5403);function Z(De){return(0,p.e)((be,Se)=>{let ze=!1;be.subscribe((0,W.x)(Se,Be=>{ze=!0,Se.next(Be)},()=>{ze||Se.next(De),Se.complete()}))})}},9300:(nn,it,G)=>{G.d(it,{h:()=>Z});var p=G(4482),W=G(5403);function Z(De,be){return(0,p.e)((Se,ze)=>{let Be=0;Se.subscribe((0,W.x)(ze,rt=>De.call(be,rt,Be++)&&ze.next(rt)))})}},590:(nn,it,G)=>{G.d(it,{P:()=>ze});var p=G(6805),W=G(9300),Z=G(5698),De=G(6590),be=G(8068),Se=G(4671);function ze(Be,rt){const de=arguments.length>=2;return le=>le.pipe(Be?(0,W.h)((pe,dt)=>Be(pe,dt,le)):Se.y,(0,Z.q)(1),de?(0,De.d)(rt):(0,be.T)(()=>new p.K))}},4004:(nn,it,G)=>{G.d(it,{U:()=>Z});var p=G(4482),W=G(5403);function Z(De,be){return(0,p.e)((Se,ze)=>{let Be=0;Se.subscribe((0,W.x)(ze,rt=>{ze.next(De.call(be,rt,Be++))}))})}},8189:(nn,it,G)=>{G.d(it,{J:()=>Z});var p=G(5577),W=G(4671);function Z(De=1/0){return(0,p.z)(W.y,De)}},5577:(nn,it,G)=>{G.d(it,{z:()=>Be});var p=G(4004),W=G(8421),Z=G(4482),De=G(9672),be=G(5403),ze=G(576);function Be(rt,de,le=1/0){return(0,ze.m)(de)?Be((pe,dt)=>(0,p.U)((ut,It)=>de(pe,ut,dt,It))((0,W.Xf)(rt(pe,dt))),le):("number"==typeof de&&(le=de),(0,Z.e)((pe,dt)=>function Se(rt,de,le,pe,dt,ut,It,$t){const Qe=[];let ft=0,Et=0,wt=!1;const Fe=()=>{wt&&!Qe.length&&!ft&&de.complete()},we=vt=>ft<pe?Ze(vt):Qe.push(vt),Ze=vt=>{ut&&de.next(vt),ft++;let et=!1;(0,W.Xf)(le(vt,Et++)).subscribe((0,be.x)(de,Pe=>{dt?.(Pe),ut?we(Pe):de.next(Pe)},()=>{et=!0},void 0,()=>{if(et)try{for(ft--;Qe.length&&ft<pe;){const Pe=Qe.shift();It?(0,De.f)(de,It,()=>Ze(Pe)):Ze(Pe)}Fe()}catch(Pe){de.error(Pe)}}))};return rt.subscribe((0,be.x)(de,we,()=>{wt=!0,Fe()})),()=>{$t?.()}}(pe,dt,rt,le)))}},5363:(nn,it,G)=>{G.d(it,{Q:()=>De});var p=G(9672),W=G(4482),Z=G(5403);function De(be,Se=0){return(0,W.e)((ze,Be)=>{ze.subscribe((0,Z.x)(Be,rt=>(0,p.f)(Be,be,()=>Be.next(rt),Se),()=>(0,p.f)(Be,be,()=>Be.complete(),Se),rt=>(0,p.f)(Be,be,()=>Be.error(rt),Se)))})}},3099:(nn,it,G)=>{G.d(it,{B:()=>be});var p=G(8421),W=G(7579),Z=G(2961),De=G(4482);function be(ze={}){const{connector:Be=(()=>new W.x),resetOnError:rt=!0,resetOnComplete:de=!0,resetOnRefCountZero:le=!0}=ze;return pe=>{let dt,ut,It,$t=0,Qe=!1,ft=!1;const Et=()=>{ut?.unsubscribe(),ut=void 0},wt=()=>{Et(),dt=It=void 0,Qe=ft=!1},Fe=()=>{const we=dt;wt(),we?.unsubscribe()};return(0,De.e)((we,Ze)=>{$t++,!ft&&!Qe&&Et();const vt=It=It??Be();Ze.add(()=>{$t--,0===$t&&!ft&&!Qe&&(ut=Se(Fe,le))}),vt.subscribe(Ze),!dt&&$t>0&&(dt=new Z.Hp({next:et=>vt.next(et),error:et=>{ft=!0,Et(),ut=Se(wt,rt,et),vt.error(et)},complete:()=>{Qe=!0,Et(),ut=Se(wt,de),vt.complete()}}),(0,p.Xf)(we).subscribe(dt))})(pe)}}function Se(ze,Be,...rt){if(!0===Be)return void ze();if(!1===Be)return;const de=new Z.Hp({next:()=>{de.unsubscribe(),ze()}});return(0,p.Xf)(Be(...rt)).subscribe(de)}},9468:(nn,it,G)=>{G.d(it,{R:()=>W});var p=G(4482);function W(Z,De=0){return(0,p.e)((be,Se)=>{Se.add(Z.schedule(()=>be.subscribe(Se),De))})}},3900:(nn,it,G)=>{G.d(it,{w:()=>De});var p=G(8421),W=G(4482),Z=G(5403);function De(be,Se){return(0,W.e)((ze,Be)=>{let rt=null,de=0,le=!1;const pe=()=>le&&!rt&&Be.complete();ze.subscribe((0,Z.x)(Be,dt=>{rt?.unsubscribe();let ut=0;const It=de++;(0,p.Xf)(be(dt,It)).subscribe(rt=(0,Z.x)(Be,$t=>Be.next(Se?Se(dt,$t,It,ut++):$t),()=>{rt=null,pe()}))},()=>{le=!0,pe()}))})}},5698:(nn,it,G)=>{G.d(it,{q:()=>De});var p=G(515),W=G(4482),Z=G(5403);function De(be){return be<=0?()=>p.E:(0,W.e)((Se,ze)=>{let Be=0;Se.subscribe((0,Z.x)(ze,rt=>{++Be<=be&&(ze.next(rt),be<=Be&&ze.complete())}))})}},8505:(nn,it,G)=>{G.d(it,{b:()=>be});var p=G(576),W=G(4482),Z=G(5403),De=G(4671);function be(Se,ze,Be){const rt=(0,p.m)(Se)||ze||Be?{next:Se,error:ze,complete:Be}:Se;return rt?(0,W.e)((de,le)=>{var pe;null===(pe=rt.subscribe)||void 0===pe||pe.call(rt);let dt=!0;de.subscribe((0,Z.x)(le,ut=>{var It;null===(It=rt.next)||void 0===It||It.call(rt,ut),le.next(ut)},()=>{var ut;dt=!1,null===(ut=rt.complete)||void 0===ut||ut.call(rt),le.complete()},ut=>{var It;dt=!1,null===(It=rt.error)||void 0===It||It.call(rt,ut),le.error(ut)},()=>{var ut,It;dt&&(null===(ut=rt.unsubscribe)||void 0===ut||ut.call(rt)),null===(It=rt.finalize)||void 0===It||It.call(rt)}))}):De.y}},8068:(nn,it,G)=>{G.d(it,{T:()=>De});var p=G(6805),W=G(4482),Z=G(5403);function De(Se=be){return(0,W.e)((ze,Be)=>{let rt=!1;ze.subscribe((0,Z.x)(Be,de=>{rt=!0,Be.next(de)},()=>rt?Be.complete():Be.error(Se())))})}function be(){return new p.K}},6063:(nn,it,G)=>{G.d(it,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(nn,it,G)=>{G.d(it,{z:()=>p});const p={setTimeout(W,Z,...De){const{delegate:be}=p;return be?.setTimeout?be.setTimeout(W,Z,...De):setTimeout(W,Z,...De)},clearTimeout(W){const{delegate:Z}=p;return(Z?.clearTimeout||clearTimeout)(W)},delegate:void 0}},2202:(nn,it,G)=>{G.d(it,{h:()=>W});const W=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nn,it,G)=>{G.d(it,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(nn,it,G)=>{G.d(it,{K:()=>W});const W=(0,G(3888).d)(Z=>function(){Z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(nn,it,G)=>{G.d(it,{_6:()=>Se,jO:()=>De,yG:()=>be});var p=G(576);function Z(ze){return ze[ze.length-1]}function De(ze){return(0,p.m)(Z(ze))?ze.pop():void 0}function be(ze){return function W(ze){return ze&&(0,p.m)(ze.schedule)}(Z(ze))?ze.pop():void 0}function Se(ze,Be){return"number"==typeof Z(ze)?ze.pop():Be}},4742:(nn,it,G)=>{G.d(it,{D:()=>be});const{isArray:p}=Array,{getPrototypeOf:W,prototype:Z,keys:De}=Object;function be(ze){if(1===ze.length){const Be=ze[0];if(p(Be))return{args:Be,keys:null};if(function Se(ze){return ze&&"object"==typeof ze&&W(ze)===Z}(Be)){const rt=De(Be);return{args:rt.map(de=>Be[de]),keys:rt}}}return{args:ze,keys:null}}},8737:(nn,it,G)=>{function p(W,Z){if(W){const De=W.indexOf(Z);0<=De&&W.splice(De,1)}}G.d(it,{P:()=>p})},3888:(nn,it,G)=>{function p(W){const De=W(be=>{Error.call(be),be.stack=(new Error).stack});return De.prototype=Object.create(Error.prototype),De.prototype.constructor=De,De}G.d(it,{d:()=>p})},1810:(nn,it,G)=>{function p(W,Z){return W.reduce((De,be,Se)=>(De[be]=Z[Se],De),{})}G.d(it,{n:()=>p})},2806:(nn,it,G)=>{G.d(it,{O:()=>De,x:()=>Z});var p=G(2416);let W=null;function Z(be){if(p.v.useDeprecatedSynchronousErrorHandling){const Se=!W;if(Se&&(W={errorThrown:!1,error:null}),be(),Se){const{errorThrown:ze,error:Be}=W;if(W=null,ze)throw Be}}else be()}function De(be){p.v.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=be)}},9672:(nn,it,G)=>{function p(W,Z,De,be=0,Se=!1){const ze=Z.schedule(function(){De(),Se?W.add(this.schedule(null,be)):this.unsubscribe()},be);if(W.add(ze),!Se)return ze}G.d(it,{f:()=>p})},4671:(nn,it,G)=>{function p(W){return W}G.d(it,{y:()=>p})},1144:(nn,it,G)=>{G.d(it,{z:()=>p});const p=W=>W&&"number"==typeof W.length&&"function"!=typeof W},2206:(nn,it,G)=>{G.d(it,{D:()=>W});var p=G(576);function W(Z){return Symbol.asyncIterator&&(0,p.m)(Z?.[Symbol.asyncIterator])}},576:(nn,it,G)=>{function p(W){return"function"==typeof W}G.d(it,{m:()=>p})},3670:(nn,it,G)=>{G.d(it,{c:()=>Z});var p=G(8822),W=G(576);function Z(De){return(0,W.m)(De[p.L])}},6495:(nn,it,G)=>{G.d(it,{T:()=>Z});var p=G(2202),W=G(576);function Z(De){return(0,W.m)(De?.[p.h])}},8239:(nn,it,G)=>{G.d(it,{t:()=>W});var p=G(576);function W(Z){return(0,p.m)(Z?.then)}},3260:(nn,it,G)=>{G.d(it,{L:()=>De,Q:()=>Z});var p=G(655),W=G(576);function Z(be){return(0,p.FC)(this,arguments,function*(){const ze=be.getReader();try{for(;;){const{value:Be,done:rt}=yield(0,p.qq)(ze.read());if(rt)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Be)}}finally{ze.releaseLock()}})}function De(be){return(0,W.m)(be?.getReader)}},4482:(nn,it,G)=>{G.d(it,{A:()=>W,e:()=>Z});var p=G(576);function W(De){return(0,p.m)(De?.lift)}function Z(De){return be=>{if(W(be))return be.lift(function(Se){try{return De(Se,this)}catch(ze){this.error(ze)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(nn,it,G)=>{G.d(it,{Z:()=>De});var p=G(4004);const{isArray:W}=Array;function De(be){return(0,p.U)(Se=>function Z(be,Se){return W(Se)?be(...Se):be(Se)}(be,Se))}},9635:(nn,it,G)=>{G.d(it,{U:()=>Z,z:()=>W});var p=G(4671);function W(...De){return Z(De)}function Z(De){return 0===De.length?p.y:1===De.length?De[0]:function(Se){return De.reduce((ze,Be)=>Be(ze),Se)}}},7849:(nn,it,G)=>{G.d(it,{h:()=>Z});var p=G(2416),W=G(3410);function Z(De){W.z.setTimeout(()=>{const{onUnhandledError:be}=p.v;if(!be)throw De;be(De)})}},4532:(nn,it,G)=>{function p(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(it,{z:()=>p})},655:(nn,it,G)=>{function De(ke,Ye){var je={};for(var ot in ke)Object.prototype.hasOwnProperty.call(ke,ot)&&Ye.indexOf(ot)<0&&(je[ot]=ke[ot]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var mt=0;for(ot=Object.getOwnPropertySymbols(ke);mt<ot.length;mt++)Ye.indexOf(ot[mt])<0&&Object.prototype.propertyIsEnumerable.call(ke,ot[mt])&&(je[ot[mt]]=ke[ot[mt]])}return je}function pe(ke,Ye,je,ot){return new(je||(je=Promise))(function(st,Nt){function Ie(Ne){try{he(ot.next(Ne))}catch(yt){Nt(yt)}}function He(Ne){try{he(ot.throw(Ne))}catch(yt){Nt(yt)}}function he(Ne){Ne.done?st(Ne.value):function mt(st){return st instanceof je?st:new je(function(Nt){Nt(st)})}(Ne.value).then(Ie,He)}he((ot=ot.apply(ke,Ye||[])).next())})}function Fe(ke){return this instanceof Fe?(this.v=ke,this):new Fe(ke)}function we(ke,Ye,je){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,ot=je.apply(ke,Ye||[]),st=[];return mt={},Nt("next"),Nt("throw"),Nt("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function Nt(Ut){ot[Ut]&&(mt[Ut]=function(Kn){return new Promise(function(jn,Er){st.push([Ut,Kn,jn,Er])>1||Ie(Ut,Kn)})})}function Ie(Ut,Kn){try{!function He(Ut){Ut.value instanceof Fe?Promise.resolve(Ut.value.v).then(he,Ne):yt(st[0][2],Ut)}(ot[Ut](Kn))}catch(jn){yt(st[0][3],jn)}}function he(Ut){Ie("next",Ut)}function Ne(Ut){Ie("throw",Ut)}function yt(Ut,Kn){Ut(Kn),st.shift(),st.length&&Ie(st[0][0],st[0][1])}}function vt(ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Ye=ke[Symbol.asyncIterator];return Ye?Ye.call(ke):(ke=function $t(ke){var Ye="function"==typeof Symbol&&Symbol.iterator,je=Ye&&ke[Ye],ot=0;if(je)return je.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&ot>=ke.length&&(ke=void 0),{value:ke&&ke[ot++],done:!ke}}};throw new TypeError(Ye?"Object is not iterable.":"Symbol.iterator is not defined.")}(ke),je={},ot("next"),ot("throw"),ot("return"),je[Symbol.asyncIterator]=function(){return this},je);function ot(st){je[st]=ke[st]&&function(Nt){return new Promise(function(Ie,He){!function mt(st,Nt,Ie,He){Promise.resolve(He).then(function(he){st({value:he,done:Ie})},Nt)}(Ie,He,(Nt=ke[st](Nt)).done,Nt.value)})}}}G.d(it,{FC:()=>we,KL:()=>vt,_T:()=>De,mG:()=>pe,qq:()=>Fe})},7340:(nn,it,G)=>{G.d(it,{LC:()=>W,SB:()=>rt,X$:()=>De,ZE:()=>Et,ZN:()=>ft,_j:()=>p,eR:()=>le,jt:()=>be,k1:()=>wt,l3:()=>Z,oB:()=>Be,vP:()=>ze});class p{}class W{}const Z="*";function De(Fe,we){return{type:7,name:Fe,definitions:we,options:{}}}function be(Fe,we=null){return{type:4,styles:we,timings:Fe}}function ze(Fe,we=null){return{type:2,steps:Fe,options:we}}function Be(Fe){return{type:6,styles:Fe,offset:null}}function rt(Fe,we,Ze){return{type:0,name:Fe,styles:we,options:Ze}}function le(Fe,we,Ze=null){return{type:1,expr:Fe,animation:we,options:Ze}}function Qe(Fe){Promise.resolve().then(Fe)}class ft{constructor(we=0,Ze=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=we+Ze}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}onStart(we){this._originalOnStartFns.push(we),this._onStartFns.push(we)}onDone(we){this._originalOnDoneFns.push(we),this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Qe(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(we=>we()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(we){this._position=this.totalTime?we*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(we){const Ze="start"==we?this._onStartFns:this._onDoneFns;Ze.forEach(vt=>vt()),Ze.length=0}}class Et{constructor(we){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=we;let Ze=0,vt=0,et=0;const Pe=this.players.length;0==Pe?Qe(()=>this._onFinish()):this.players.forEach(Ft=>{Ft.onDone(()=>{++Ze==Pe&&this._onFinish()}),Ft.onDestroy(()=>{++vt==Pe&&this._onDestroy()}),Ft.onStart(()=>{++et==Pe&&this._onStart()})}),this.totalTime=this.players.reduce((Ft,rn)=>Math.max(Ft,rn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(we=>we()),this._onDoneFns=[])}init(){this.players.forEach(we=>we.init())}onStart(we){this._onStartFns.push(we)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(we=>we()),this._onStartFns=[])}onDone(we){this._onDoneFns.push(we)}onDestroy(we){this._onDestroyFns.push(we)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(we=>we.play())}pause(){this.players.forEach(we=>we.pause())}restart(){this.players.forEach(we=>we.restart())}finish(){this._onFinish(),this.players.forEach(we=>we.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(we=>we.destroy()),this._onDestroyFns.forEach(we=>we()),this._onDestroyFns=[])}reset(){this.players.forEach(we=>we.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(we){const Ze=we*this.totalTime;this.players.forEach(vt=>{const et=vt.totalTime?Math.min(1,Ze/vt.totalTime):1;vt.setPosition(et)})}getPosition(){const we=this.players.reduce((Ze,vt)=>null===Ze||vt.totalTime>Ze.totalTime?vt:Ze,null);return null!=we?we.getPosition():0}beforeDestroy(){this.players.forEach(we=>{we.beforeDestroy&&we.beforeDestroy()})}triggerCallback(we){const Ze="start"==we?this._onStartFns:this._onDoneFns;Ze.forEach(vt=>vt()),Ze.length=0}}const wt="!"},6895:(nn,it,G)=>{G.d(it,{Do:()=>Et,EM:()=>Eo,HT:()=>De,JF:()=>hi,K0:()=>Se,Mx:()=>Mi,O5:()=>Ee,PM:()=>Gs,S$:()=>$t,V_:()=>rt,Ye:()=>wt,b0:()=>ft,bD:()=>Ao,ez:()=>rs,q:()=>Z,w_:()=>be});var p=G(4650);let W=null;function Z(){return W}function De(M){W||(W=M)}class be{}const Se=new p.OlP("DocumentToken");let ze=(()=>{class M{historyGo(P){throw new Error("Not implemented")}}return M.\u0275fac=function(P){return new(P||M)},M.\u0275prov=p.Yz7({token:M,factory:function(){return function Be(){return(0,p.LFG)(de)}()},providedIn:"platform"}),M})();const rt=new p.OlP("Location Initialized");let de=(()=>{class M extends ze{constructor(P){super(),this._doc=P,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(P){const q=Z().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",P,!1),()=>q.removeEventListener("popstate",P)}onHashChange(P){const q=Z().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",P,!1),()=>q.removeEventListener("hashchange",P)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(P){this._location.pathname=P}pushState(P,q,ie){le()?this._history.pushState(P,q,ie):this._location.hash=ie}replaceState(P,q,ie){le()?this._history.replaceState(P,q,ie):this._location.hash=ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return M.\u0275fac=function(P){return new(P||M)(p.LFG(Se))},M.\u0275prov=p.Yz7({token:M,factory:function(){return function pe(){return new de((0,p.LFG)(Se))}()},providedIn:"platform"}),M})();function le(){return!!window.history.pushState}function dt(M,B){if(0==M.length)return B;if(0==B.length)return M;let P=0;return M.endsWith("/")&&P++,B.startsWith("/")&&P++,2==P?M+B.substring(1):1==P?M+B:M+"/"+B}function ut(M){const B=M.match(/#|\?|$/),P=B&&B.index||M.length;return M.slice(0,P-("/"===M[P-1]?1:0))+M.slice(P)}function It(M){return M&&"?"!==M[0]?"?"+M:M}let $t=(()=>{class M{historyGo(P){throw new Error("Not implemented")}}return M.\u0275fac=function(P){return new(P||M)},M.\u0275prov=p.Yz7({token:M,factory:function(){return(0,p.f3M)(ft)},providedIn:"root"}),M})();const Qe=new p.OlP("appBaseHref");let ft=(()=>{class M extends $t{constructor(P,q){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,p.f3M)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return dt(this._baseHref,P)}path(P=!1){const q=this._platformLocation.pathname+It(this._platformLocation.search),ie=this._platformLocation.hash;return ie&&P?`${q}${ie}`:q}pushState(P,q,ie,Ke){const tt=this.prepareExternalUrl(ie+It(Ke));this._platformLocation.pushState(P,q,tt)}replaceState(P,q,ie,Ke){const tt=this.prepareExternalUrl(ie+It(Ke));this._platformLocation.replaceState(P,q,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return M.\u0275fac=function(P){return new(P||M)(p.LFG(ze),p.LFG(Qe,8))},M.\u0275prov=p.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),Et=(()=>{class M extends $t{constructor(P,q){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(P){const q=dt(this._baseHref,P);return q.length>0?"#"+q:q}pushState(P,q,ie,Ke){let tt=this.prepareExternalUrl(ie+It(Ke));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.pushState(P,q,tt)}replaceState(P,q,ie,Ke){let tt=this.prepareExternalUrl(ie+It(Ke));0==tt.length&&(tt=this._platformLocation.pathname),this._platformLocation.replaceState(P,q,tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return M.\u0275fac=function(P){return new(P||M)(p.LFG(ze),p.LFG(Qe,8))},M.\u0275prov=p.Yz7({token:M,factory:M.\u0275fac}),M})(),wt=(()=>{class M{constructor(P){this._subject=new p.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const q=this._locationStrategy.getBaseHref();this._basePath=function vt(M){if(new RegExp("^(https?:)?//").test(M)){const[,P]=M.split(/\/\/[^\/]+/);return P}return M}(ut(Ze(q))),this._locationStrategy.onPopState(ie=>{this._subject.emit({url:this.path(!0),pop:!0,state:ie.state,type:ie.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,q=""){return this.path()==this.normalize(P+It(q))}normalize(P){return M.stripTrailingSlash(function we(M,B){if(!M||!B.startsWith(M))return B;const P=B.substring(M.length);return""===P||["/",";","?","#"].includes(P[0])?P:B}(this._basePath,Ze(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,q="",ie=null){this._locationStrategy.pushState(ie,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+It(q)),ie)}replaceState(P,q="",ie=null){this._locationStrategy.replaceState(ie,"",P,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+It(q)),ie)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",q){this._urlChangeListeners.forEach(ie=>ie(P,q))}subscribe(P,q,ie){return this._subject.subscribe({next:P,error:q,complete:ie})}}return M.normalizeQueryParams=It,M.joinWithSlash=dt,M.stripTrailingSlash=ut,M.\u0275fac=function(P){return new(P||M)(p.LFG($t))},M.\u0275prov=p.Yz7({token:M,factory:function(){return function Fe(){return new wt((0,p.LFG)($t))}()},providedIn:"root"}),M})();function Ze(M){return M.replace(/\/index.html$/,"")}function Mi(M,B){B=encodeURIComponent(B);for(const P of M.split(";")){const q=P.indexOf("="),[ie,Ke]=-1==q?[P,""]:[P.slice(0,q),P.slice(q+1)];if(ie.trim()===B)return decodeURIComponent(Ke)}return null}let Ee=(()=>{class M{constructor(P,q){this._viewContainer=P,this._context=new Te,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){lt("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){lt("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,q){return!0}}return M.\u0275fac=function(P){return new(P||M)(p.Y36(p.s_b),p.Y36(p.Rgc))},M.\u0275dir=p.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Te{constructor(){this.$implicit=null,this.ngIf=null}}function lt(M,B){if(B&&!B.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,p.AaK)(B)}'.`)}let rs=(()=>{class M{}return M.\u0275fac=function(P){return new(P||M)},M.\u0275mod=p.oAB({type:M}),M.\u0275inj=p.cJS({}),M})();const Ao="browser",Ts="server";function Gs(M){return M===Ts}let Eo=(()=>{class M{}return M.\u0275prov=(0,p.Yz7)({token:M,providedIn:"root",factory:()=>new sa((0,p.LFG)(Se),window)}),M})();class sa{constructor(B,P){this.document=B,this.window=P,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const P=function ls(M,B){const P=M.getElementById(B)||M.getElementsByName(B)[0];if(P)return P;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ie=q.currentNode;for(;ie;){const Ke=ie.shadowRoot;if(Ke){const tt=Ke.getElementById(B)||Ke.querySelector(`[name="${B}"]`);if(tt)return tt}ie=q.nextNode()}}return null}(this.document,B);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=B)}}scrollToElement(B){const P=B.getBoundingClientRect(),q=P.left+this.window.pageXOffset,ie=P.top+this.window.pageYOffset,Ke=this.offset();this.window.scrollTo(q-Ke[0],ie-Ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Li(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class hi{}},4650:(nn,it,G)=>{G.d(it,{$8M:()=>Ta,$WT:()=>Pr,$Z:()=>Qd,AFp:()=>Ew,AaK:()=>Be,BQk:()=>Ed,CHM:()=>k,CRH:()=>V0,CZH:()=>kv,CqO:()=>Mc,D6c:()=>GI,EJc:()=>aI,EiD:()=>rp,EpF:()=>pl,F4k:()=>Ac,FYo:()=>rd,FiY:()=>Wt,GfV:()=>mp,Gpc:()=>le,JOm:()=>Ba,JVY:()=>Jf,JZr:()=>$t,KtG:()=>X,L6k:()=>gc,LAX:()=>Oh,LFG:()=>Rn,Lbi:()=>rI,Lck:()=>UE,MMx:()=>im,MR2:()=>Tm,NdJ:()=>mf,OlP:()=>Wn,Oqu:()=>tc,P3R:()=>Ud,PXZ:()=>II,Q6J:()=>ah,QGY:()=>uh,QbO:()=>iI,Qsj:()=>$h,R0b:()=>zu,RDi:()=>qf,Rgc:()=>Ch,SBq:()=>al,Sil:()=>lI,Suo:()=>Sv,TTD:()=>ro,TgZ:()=>pf,Tol:()=>Cf,Udp:()=>Ag,X6Q:()=>SI,XFs:()=>Pt,Xpm:()=>Sn,Xts:()=>Ll,Y36:()=>ku,YKP:()=>y0,YNc:()=>ly,Yjl:()=>yn,Yz7:()=>yt,Z0I:()=>Er,ZZ4:()=>lE,_Bn:()=>m0,_UZ:()=>gf,_Vd:()=>nd,_c5:()=>HI,_uU:()=>Fg,aQg:()=>cE,c2e:()=>sI,cJS:()=>Kn,cg1:()=>ms,d8E:()=>Id,dDg:()=>vI,dqk:()=>Xn,eBb:()=>Fd,eFA:()=>Pw,eJc:()=>xv,ekj:()=>dh,eoX:()=>Mw,f3M:()=>Tr,g9A:()=>Iw,h0i:()=>bd,hGG:()=>zI,hij:()=>fh,iGM:()=>L0,ifc:()=>at,ip1:()=>_w,jDz:()=>Sd,kL8:()=>Du,lG2:()=>un,lqb:()=>Bl,lri:()=>Sw,mCW:()=>Ld,n5z:()=>Zs,oAB:()=>Le,oJD:()=>_m,oxw:()=>_f,pB0:()=>kh,q3G:()=>ts,q4F:()=>Mm,qLn:()=>Wd,qOj:()=>af,qZA:()=>vd,qzn:()=>Yc,rWj:()=>Aw,sBO:()=>AI,s_b:()=>Md,soG:()=>Fv,tb:()=>Rw,tp0:()=>Si,uIk:()=>sh,vHH:()=>Qe,vpe:()=>Hu,wAp:()=>Vn,xp6:()=>bp,ynx:()=>_d,z2F:()=>Lv,z3N:()=>il,zSh:()=>cp,zs3:()=>Wl});var p=G(7579),W=G(727),Z=G(9751),De=G(6451),be=G(3099);function Se(n){for(let i in n)if(n[i]===Se)return i;throw Error("Could not find renamed property on target object.")}function ze(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function rt(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const de=Se({__forward_ref__:Se});function le(n){return n.__forward_ref__=le,n.toString=function(){return Be(this())},n}function pe(n){return dt(n)?n():n}function dt(n){return"function"==typeof n&&n.hasOwnProperty(de)&&n.__forward_ref__===le}function ut(n){return n&&!!n.\u0275providers}const $t="https://g.co/ng/security#xss";class Qe extends Error{constructor(i,o){super(ft(i,o)),this.code=i}}function ft(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function Et(n){return"string"==typeof n?n:null==n?"":String(n)}function vt(n,i){throw new Qe(-201,!1)}function Nt(n,i){null==n&&function Ie(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kn(n){return{providers:n.providers||[],imports:n.imports||[]}}function jn(n){return wr(n,zr)||wr(n,Dr)}function Er(n){return null!==jn(n)}function wr(n,i){return n.hasOwnProperty(i)?n[i]:null}function hr(n){return n&&(n.hasOwnProperty(sn)||n.hasOwnProperty(xn))?n[sn]:null}const zr=Se({\u0275prov:Se}),sn=Se({\u0275inj:Se}),Dr=Se({ngInjectableDef:Se}),xn=Se({ngInjectorDef:Se});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let Hn;function Pn(n){const i=Hn;return Hn=n,i}function vi(n,i,o){const u=jn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Pt.Optional?null:void 0!==i?i:void vt(Be(n))}const Xn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ni={},Mr="__NG_DI_FLAG__",mr="ngTempTokenPath",Ti="ngTokenPath",ri=/\n/gm,_i="\u0275",ir="__source";let Wi;function Yn(n){const i=Wi;return Wi=n,i}function Ci(n,i=Pt.Default){if(void 0===Wi)throw new Qe(-203,!1);return null===Wi?vi(n,void 0,i):Wi.get(n,i&Pt.Optional?null:void 0,i)}function Rn(n,i=Pt.Default){return(function yi(){return Hn}()||Ci)(pe(n),i)}function Tr(n,i=Pt.Default){return Rn(n,Cr(i))}function Cr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function St(n){const i=[];for(let o=0;o<n.length;o++){const u=pe(n[o]);if(Array.isArray(u)){if(0===u.length)throw new Qe(900,!1);let l,h=Pt.Default;for(let v=0;v<u.length;v++){const S=u[v],N=Jt(S);"number"==typeof N?-1===N?l=S.token:h|=N:l=S}i.push(Rn(l,h))}else i.push(Rn(u))}return i}function Yr(n,i){return n[Mr]=i,n.prototype[Mr]=i,n}function Jt(n){return n[Mr]}function se(n){return{toString:n}.toString()}var ge=(()=>((ge=ge||{})[ge.OnPush=0]="OnPush",ge[ge.Default=1]="Default",ge))(),at=(()=>{return(n=at||(at={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",at;var n})();const Oe={},Mt=[],me=Se({\u0275cmp:Se}),ae=Se({\u0275dir:Se}),re=Se({\u0275pipe:Se}),ye=Se({\u0275mod:Se}),qe=Se({\u0275fac:Se}),bt=Se({__NG_ELEMENT_ID__:Se});let pn=0;function Sn(n){return se(()=>{const i=xs(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ge.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||at.Emulated,id:"c"+pn++,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null};os(o);const u=n.dependencies;return o.directiveDefs=Mi(u,!1),o.pipeDefs=Mi(u,!0),o})}function zn(n){return Zt(n)||Un(n)}function Xe(n){return null!==n}function Le(n){return se(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qt(n,i){if(null==n)return Oe;const o={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=u,i&&(i[l]=h)}return o}function un(n){return se(()=>{const i=xs(n);return os(i),i})}function yn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zt(n){return n[me]||null}function Un(n){return n[ae]||null}function Qn(n){return n[re]||null}function Pr(n){const i=Zt(n)||Un(n)||Qn(n);return null!==i&&i.standalone}function tr(n,i){const o=n[ye]||null;if(!o&&!0===i)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return o}function xs(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qt(n.inputs,i),outputs:qt(n.outputs)}}function os(n){n.features?.forEach(i=>i(n))}function Mi(n,i){if(!n)return null;const o=i?Qn:zn;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(Xe)}const kr=0,jt=1,bn=2,xr=3,qn=4,Bi=5,li=6,vs=7,Or=8,xe=9,Ee=10,Te=11,lt=12,Ct=13,hn=14,An=15,fn=16,On=17,xi=18,Br=19,Gr=20,ii=21,Jn=22,to=1,_s=2,no=7,Rs=8,Ns=9,ci=10;function di(n){return Array.isArray(n)&&"object"==typeof n[to]}function as(n){return Array.isArray(n)&&!0===n[to]}function us(n){return 0!=(4&n.flags)}function Es(n){return n.componentOffset>-1}function ws(n){return 1==(1&n.flags)}function or(n){return!!n.template}function Fr(n){return 0!=(256&n[bn])}function $i(n,i){return n.hasOwnProperty(qe)?n[qe]:null}class Ho{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function ro(){return Eo}function Eo(n){return n.type.prototype.ngOnChanges&&(n.setInput=Li),sa}function sa(){const n=Mo(this),i=n?.current;if(i){const o=n.previous;if(o===Oe)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Li(n,i,o,u){const l=this.declaredInputs[o],h=Mo(n)||function hi(n,i){return n[ls]=i}(n,{previous:Oe,current:null}),v=h.current||(h.current={}),S=h.previous,N=S[l];v[l]=new Ho(N&&N.currentValue,i,S===Oe),n[u]=i}ro.ngInherit=!0;const ls="__ngSimpleChanges__";function Mo(n){return n[ls]||null}const br=function(n,i,o){};function Gn(n){for(;Array.isArray(n);)n=n[kr];return n}function cs(n,i){return Gn(i[n])}function Wr(n,i){return Gn(i[n.index])}function wo(n,i){return n.data[i]}function oi(n,i){const o=i[n];return di(o)?o:o[kr]}function ji(n){return 64==(64&n[bn])}function Jr(n,i){return null==i?null:n[i]}function ds(n){n[xi]=0}function Hi(n,i){n[Bi]+=i;let o=n,u=n[xr];for(;null!==u&&(1===i&&1===o[Bi]||-1===i&&0===o[Bi]);)u[Bi]+=i,o=u,u=u[xr]}const Tn={lFrame:F(null),bindingsEnabled:!0};function Ks(){return Tn.bindingsEnabled}function R(){return Tn.lFrame.lView}function O(){return Tn.lFrame.tView}function k(n){return Tn.lFrame.contextLView=n,n[Or]}function X(n){return Tn.lFrame.contextLView=null,n}function Ve(){let n=dn();for(;null!==n&&64===n.type;)n=n.parent;return n}function dn(){return Tn.lFrame.currentTNode}function Lr(n,i){const o=Tn.lFrame;o.currentTNode=n,o.isParent=i}function hs(){return Tn.lFrame.isParent}function oo(){Tn.lFrame.isParent=!1}function ur(){return Tn.lFrame.bindingIndex++}function fs(n){const i=Tn.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function su(n,i){const o=Tn.lFrame;o.bindingIndex=o.bindingRootIndex=n,fi(i)}function fi(n){Tn.lFrame.currentDirectiveIndex=n}function la(n){const i=Tn.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function No(){return Tn.lFrame.currentQueryIndex}function ca(n){Tn.lFrame.currentQueryIndex=n}function ao(n){const i=n[jt];return 2===i.type?i.declTNode:1===i.type?n[li]:null}function z(n,i,o){if(o&Pt.SkipSelf){let l=i,h=n;for(;!(l=l.parent,null!==l||o&Pt.Host||(l=ao(h),null===l||(h=h[An],10&l.type))););if(null===l)return!1;i=l,n=h}const u=Tn.lFrame=w();return u.currentTNode=i,u.lView=n,!0}function _(n){const i=w(),o=n[jt];Tn.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function w(){const n=Tn.lFrame,i=null===n?null:n.child;return null===i?F(n):i}function F(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function K(){const n=Tn.lFrame;return Tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const te=K;function fe(){const n=K();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Je(){return Tn.lFrame.selectedIndex}function kt(n){Tn.lFrame.selectedIndex=n}function xt(){const n=Tn.lFrame;return wo(n.tView,n.selectedIndex)}function pi(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:N,ngAfterViewChecked:$,ngOnDestroy:J}=h;v&&(n.contentHooks??(n.contentHooks=[])).push(-o,v),S&&((n.contentHooks??(n.contentHooks=[])).push(o,S),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,S)),N&&(n.viewHooks??(n.viewHooks=[])).push(-o,N),$&&((n.viewHooks??(n.viewHooks=[])).push(o,$),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,$)),null!=J&&(n.destroyHooks??(n.destroyHooks=[])).push(o,J)}}function gi(n,i,o){B(n,i,3,o)}function ai(n,i,o,u){(3&n[bn])===o&&B(n,i,o,u)}function M(n,i){let o=n[bn];(3&o)===i&&(o&=2047,o+=1,n[bn]=o)}function B(n,i,o,u){const h=u??-1,v=i.length-1;let S=0;for(let N=void 0!==u?65535&n[xi]:0;N<v;N++)if("number"==typeof i[N+1]){if(S=i[N],null!=u&&S>=u)break}else i[N]<0&&(n[xi]+=65536),(S<h||-1==h)&&(P(n,o,i,N),n[xi]=(4294901760&n[xi])+N+2),N++}function P(n,i,o,u){const l=o[u]<0,h=o[u+1],S=n[l?-o[u]:o[u]];if(l){if(n[bn]>>11<n[xi]>>16&&(3&n[bn])===i){n[bn]+=2048,br(4,S,h);try{h.call(S)}finally{br(5,S,h)}}}else{br(4,S,h);try{h.call(S)}finally{br(5,S,h)}}}const q=-1;class ie{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Gt(n,i,o){let u=0;for(;u<o.length;){const l=o[u];if("number"==typeof l){if(0!==l)break;u++;const h=o[u++],v=o[u++],S=o[u++];n.setAttribute(i,v,S,h)}else{const h=l,v=o[++u];Rr(h)?n.setProperty(i,h,v):n.setAttribute(i,h,v),u++}}return u}function wn(n){return 3===n||4===n||6===n}function Rr(n){return 64===n.charCodeAt(0)}function Ar(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const l=i[u];"number"==typeof l?o=l:0===o||ui(n,o,l,null,-1===o||2===o?i[++u]:null)}}return n}function ui(n,i,o,u,l){let h=0,v=n.length;if(-1===i)v=-1;else for(;h<n.length;){const S=n[h++];if("number"==typeof S){if(S===i){v=-1;break}if(S>i){v=h-1;break}}}for(;h<n.length;){const S=n[h];if("number"==typeof S)break;if(S===o){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==v&&(n.splice(v,0,i),h=v+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Kr(n){return n!==q}function nr(n){return 32767&n}function Cs(n,i){let o=function Ni(n){return n>>16}(n),u=i;for(;o>0;)u=u[An],o--;return u}let Xr=!0;function ps(n){const i=Xr;return Xr=n,i}const To=255,zo=5;let Ka=0;const gs={};function Cu(n,i){const o=Gu(n,i);if(-1!==o)return o;const u=i[jt];u.firstCreatePass&&(n.injectorIndex=i.length,Po(u.data,n),Po(i,null),Po(u.blueprint,null));const l=Pi(n,i),h=n.injectorIndex;if(Kr(l)){const v=nr(l),S=Cs(l,i),N=S[jt].data;for(let $=0;$<8;$++)i[h+$]=S[v+$]|N[v+$]}return i[h+8]=l,h}function Po(n,i){n.push(0,0,0,0,0,0,0,0,i)}function Gu(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Pi(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,l=i;for(;null!==l;){if(u=qa(l),null===u)return q;if(o++,l=l[An],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return q}function da(n,i,o){!function yl(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(bt)&&(u=o[bt]),null==u&&(u=o[bt]=Ka++);const l=u&To;i.data[n+(l>>zo)]|=1<<l}(n,i,o)}function Wu(n,i,o){if(o&Pt.Optional||void 0!==n)return n;vt()}function Go(n,i,o,u){if(o&Pt.Optional&&void 0===u&&(u=null),!(o&(Pt.Self|Pt.Host))){const l=n[xe],h=Pn(void 0);try{return l?l.get(i,u,o&Pt.Optional):vi(i,u,o&Pt.Optional)}finally{Pn(h)}}return Wu(u,0,o)}function au(n,i,o,u=Pt.Default,l){if(null!==n){if(1024&i[bn]){const v=function qr(n,i,o,u,l){let h=n,v=i;for(;null!==h&&null!==v&&1024&v[bn]&&!(256&v[bn]);){const S=uu(h,v,o,u|Pt.Self,gs);if(S!==gs)return S;let N=h.parent;if(!N){const $=v[ii];if($){const J=$.get(o,gs,u);if(J!==gs)return J}N=qa(v),v=v[An]}h=N}return l}(n,i,o,u,gs);if(v!==gs)return v}const h=uu(n,i,o,u,gs);if(h!==gs)return h}return Go(i,o,u,l)}function uu(n,i,o,u,l){const h=function ti(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(bt)?n[bt]:void 0;return"number"==typeof i?i>=0?i&To:Ku:i}(o);if("function"==typeof h){if(!z(i,n,u))return u&Pt.Host?Wu(l,0,u):Go(i,o,u,l);try{const v=h(u);if(null!=v||u&Pt.Optional)return v;vt()}finally{te()}}else if("number"==typeof h){let v=null,S=Gu(n,i),N=q,$=u&Pt.Host?i[fn][li]:null;for((-1===S||u&Pt.SkipSelf)&&(N=-1===S?Pi(n,i):i[S+8],N!==q&&ha(u,!1)?(v=i[jt],S=nr(N),i=Cs(N,i)):S=-1);-1!==S;){const J=i[jt];if(Ia(h,S,J.data)){const oe=zi(S,i,o,v,u,$);if(oe!==gs)return oe}N=i[S+8],N!==q&&ha(u,i[jt].data[S+8]===$)&&Ia(h,S,i)?(v=J,S=nr(N),i=Cs(N,i)):S=-1}}return l}function zi(n,i,o,u,l,h){const v=i[jt],S=v.data[n+8],J=lu(S,v,o,null==u?Es(S)&&Xr:u!=v&&0!=(3&S.type),l&Pt.Host&&h===S);return null!==J?ei(i,v,J,S):gs}function lu(n,i,o,u,l){const h=n.providerIndexes,v=i.data,S=1048575&h,N=n.directiveStart,J=h>>20,Ae=l?S+J:n.directiveEnd;for(let Ge=u?S:S+J;Ge<Ae;Ge++){const _t=v[Ge];if(Ge<N&&o===_t||Ge>=N&&_t.type===o)return Ge}if(l){const Ge=v[N];if(Ge&&or(Ge)&&Ge.type===o)return N}return null}function ei(n,i,o,u){let l=n[o];const h=i.data;if(function Ke(n){return n instanceof ie}(l)){const v=l;v.resolving&&function Fe(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${n}${o}`)}(function wt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Et(n)}(h[o]));const S=ps(v.canSeeViewProviders);v.resolving=!0;const N=v.injectImpl?Pn(v.injectImpl):null;z(n,u,Pt.Default);try{l=n[o]=v.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function jr(n,i,o){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=i.type.prototype;if(u){const v=Eo(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,v),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,v)}l&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,l),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==N&&Pn(N),ps(S),v.resolving=!1,te()}}return l}function Ia(n,i,o){return!!(o[i+(n>>zo)]&1<<n)}function ha(n,i){return!(n&Pt.Self||n&Pt.Host&&i)}class Oo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return au(this._tNode,this._lView,i,Cr(u),o)}}function Ku(){return new Oo(Ve(),R())}function Zs(n){return se(()=>{const i=n.prototype.constructor,o=i[qe]||Da(i),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[qe]||Da(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function Da(n){return dt(n)?()=>{const i=Da(pe(n));return i&&i()}:$i(n)}function qa(n){const i=n[jt],o=i.type;return 2===o?i.declTNode:1===o?n[li]:null}function Ta(n){return function Pa(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let l=0;for(;l<u;){const h=o[l];if(wn(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof o[l];)l++;else{if(h===i)return o[l+1];l+=2}}}return null}(Ve(),n)}const Yi="__parameters__";function fa(n,i,o){return se(()=>{const u=function bu(n){return function(...o){if(n){const u=n(...o);for(const l in u)this[l]=u[l]}}}(i);function l(...h){if(this instanceof l)return u.apply(this,h),this;const v=new l(...h);return S.annotation=v,S;function S(N,$,J){const oe=N.hasOwnProperty(Yi)?N[Yi]:Object.defineProperty(N,Yi,{value:[]})[Yi];for(;oe.length<=J;)oe.push(null);return(oe[J]=oe[J]||[]).push(v),N}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Wn{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=yt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ko(n,i){n.forEach(o=>Array.isArray(o)?Ko(o,i):i(o))}function pa(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Fa(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function Dt(n,i,o){let u=Ss(n,i);return u>=0?n[1|u]=o:(u=~u,function La(n,i,o,u){let l=n.length;if(l==i)n.push(o,u);else if(1===l)n.push(u,n[0]),n[0]=o;else{for(l--,n.push(n[l-1],n[l]);l>i;)n[l]=n[l-2],l--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function Zr(n,i){const o=Ss(n,i);if(o>=0)return n[1|o]}function Ss(n,i){return function y(n,i,o){let u=0,l=n.length>>o;for(;l!==u;){const h=u+(l-u>>1),v=n[h<<o];if(i===v)return h<<o;v>i?l=h:u=h+1}return~(l<<o)}(n,i,1)}const Wt=Yr(fa("Optional"),8),Si=Yr(fa("SkipSelf"),4);var Ba=(()=>((Ba=Ba||{})[Ba.Important=1]="Important",Ba[Ba.DashCase=2]="DashCase",Ba))();const Vi=new Map;let Wc=0;const lc="__ngContext__";function Us(n,i){di(i)?(n[lc]=i[Gr],function Sa(n){Vi.set(n[Gr],n)}(i)):n[lc]=i}let Bn;function Ln(n,i){return Bn(n,i)}function is(n){const i=n[xr];return as(i)?i[xr]:i}function ma(n){return ya(n[Ct])}function es(n){return ya(n[qn])}function ya(n){for(;null!==n&&!as(n);)n=n[qn];return n}function Vr(n,i,o,u,l){if(null!=u){let h,v=!1;as(u)?h=u:di(u)&&(v=!0,u=u[kr]);const S=Gn(u);0===n&&null!==o?null==l?Js(i,o,S):$n(i,o,S,l||null,!0):1===n&&null!==o?$n(i,o,S,l||null,!0):2===n?function fc(n,i,o){const u=_a(n,i);u&&function va(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,S,v):3===n&&i.destroyNode(S),null!=h&&function cm(n,i,o,u,l){const h=o[no];h!==Gn(o)&&Vr(i,n,u,h,l);for(let S=ci;S<o.length;S++){const N=o[S];Nd(N[jt],N,n,i,u,h)}}(i,n,h,o,l)}}function Zc(n,i,o){return n.createElement(i,o)}function C(n,i){const o=n[Ns],u=o.indexOf(i),l=i[xr];512&i[bn]&&(i[bn]&=-513,Hi(l,-1)),o.splice(u,1)}function j(n,i){if(n.length<=ci)return;const o=ci+i,u=n[o];if(u){const l=u[On];null!==l&&l!==n&&C(l,u),i>0&&(n[o-1][qn]=u[qn]);const h=Fa(n,ci+i);!function nl(n,i){Nd(n,i,i[Te],2,null,null),i[kr]=null,i[li]=null}(u[jt],u);const v=h[Br];null!==v&&v.detachView(h[jt]),u[xr]=null,u[qn]=null,u[bn]&=-65}return u}function ee(n,i){if(!(128&i[bn])){const o=i[Te];o.destroyNode&&Nd(n,i,o,3,null,null),function I(n){let i=n[Ct];if(!i)return Me(n[jt],n);for(;i;){let o=null;if(di(i))o=i[Ct];else{const u=i[ci];u&&(o=u)}if(!o){for(;i&&!i[qn]&&i!==n;)di(i)&&Me(i[jt],i),i=i[xr];null===i&&(i=n),di(i)&&Me(i[jt],i),o=i&&i[qn]}i=o}}(i)}}function Me(n,i){if(!(128&i[bn])){i[bn]&=-65,i[bn]|=128,function Vt(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const l=i[o[u]];if(!(l instanceof ie)){const h=o[u+1];if(Array.isArray(h))for(let v=0;v<h.length;v+=2){const S=l[h[v]],N=h[v+1];br(4,S,N);try{N.call(S)}finally{br(5,S,N)}}else{br(4,l,h);try{h.call(l)}finally{br(5,l,h)}}}}}(n,i),function nt(n,i){const o=n.cleanup,u=i[vs];let l=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const v=o[h+3];v>=0?u[l=v]():u[l=-v].unsubscribe(),h+=2}else{const v=u[l=o[h+1]];o[h].call(v)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();i[vs]=null}}(n,i),1===i[jt].type&&i[Te].destroy();const o=i[On];if(null!==o&&as(i[xr])){o!==i[xr]&&C(o,i);const u=i[Br];null!==u&&u.detachView(n)}!function Ru(n){Vi.delete(n[Gr])}(i)}}function an(n,i,o){return function mn(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[kr];{const{componentOffset:l}=u;if(l>-1){const{encapsulation:h}=n.data[u.directiveStart+l];if(h===at.None||h===at.Emulated)return null}return Wr(u,o)}}(n,i.parent,o)}function $n(n,i,o,u,l){n.insertBefore(i,o,u,l)}function Js(n,i,o){n.appendChild(i,o)}function Co(n,i,o,u,l){null!==u?$n(n,i,o,u,l):Js(n,i,o)}function _a(n,i){return n.parentNode(i)}let eu,Pd,Pl,Od,xl=function Ml(n,i,o){return 40&n.type?Wr(n,o):null};function mu(n,i,o,u){const l=an(n,u,i),h=i[Te],S=function Nu(n,i,o){return xl(n,i,o)}(u.parent||i[li],u,i);if(null!=l)if(Array.isArray(o))for(let N=0;N<o.length;N++)Co(h,l,o[N],S,!1);else Co(h,l,o,S,!1);void 0!==eu&&eu(h,u,i,o,l)}function dc(n,i){if(null!==i){const o=i.type;if(3&o)return Wr(i,n);if(4&o)return Nl(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return dc(n,u);{const l=n[i.index];return as(l)?Nl(-1,l):Gn(l)}}if(32&o)return Ln(i,n)()||Gn(n[i.index]);{const u=hc(n,i);return null!==u?Array.isArray(u)?u[0]:dc(is(n[fn]),u):dc(n,i.next)}}return null}function hc(n,i){return null!==i?n[fn][li].projection[i.projection]:null}function Nl(n,i){const o=ci+n+1;if(o<i.length){const u=i[o],l=u[jt].firstChild;if(null!==l)return dc(u,l)}return i[no]}function Rh(n,i,o,u,l,h,v){for(;null!=o;){const S=u[o.index],N=o.type;if(v&&0===i&&(S&&Us(Gn(S),u),o.flags|=2),32!=(32&o.flags))if(8&N)Rh(n,i,o.child,u,l,h,!1),Vr(i,n,l,S,h);else if(32&N){const $=Ln(o,u);let J;for(;J=$();)Vr(i,n,l,J,h);Vr(i,n,l,S,h)}else 16&N?Kf(n,i,u,o,l,h):Vr(i,n,l,S,h);o=v?o.projectionNext:o.next}}function Nd(n,i,o,u,l,h){Rh(o,u,n.firstChild,i,l,h,!1)}function Kf(n,i,o,u,l,h){const v=o[fn],N=v[li].projection[u.projection];if(Array.isArray(N))for(let $=0;$<N.length;$++)Vr(i,n,l,N[$],h);else Rh(n,i,N,v[xr],l,h,!0)}function Gi(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function rl(n,i,o){const{mergedAttrs:u,classes:l,styles:h}=o;null!==u&&Gt(n,i,u),null!==l&&Gi(n,i,l),null!==h&&function dm(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function yu(n){return function Nh(){if(void 0===Pd&&(Pd=null,Xn.trustedTypes))try{Pd=Xn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pd}()?.createHTML(n)||n}function qf(n){Pl=n}function kd(){if(void 0===Od&&(Od=null,Xn.trustedTypes))try{Od=Xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Od}function Zf(n){return kd()?.createHTML(n)||n}function Qf(n){return kd()?.createScriptURL(n)||n}class pc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$t})`}}class Hv extends pc{getTypeName(){return"HTML"}}class zv extends pc{getTypeName(){return"Style"}}class fm extends pc{getTypeName(){return"Script"}}class Gv extends pc{getTypeName(){return"URL"}}class pm extends pc{getTypeName(){return"ResourceURL"}}function il(n){return n instanceof pc?n.changingThisBreaksApplicationSecurity:n}function Yc(n,i){const o=function Wv(n){return n instanceof pc&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${$t})`)}return o===i}function Jf(n){return new Hv(n)}function gc(n){return new zv(n)}function Fd(n){return new fm(n)}function Oh(n){return new Gv(n)}function kh(n){return new pm(n)}class gm{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(yu(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class sl{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=yu(i),o}}const Qc=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Ld(n){return(n=String(n)).match(Qc)?n:"unsafe:"+n}function vu(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Ol(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Fh=vu("area,br,col,hr,img,wbr"),kl=vu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qo=vu("rp,rt"),Vh=Ol(Fh,Ol(kl,vu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ol(Qo,vu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ol(Qo,kl)),Vd=vu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tp=Ol(Vd,vu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qv=vu("script,style,template");class ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Vh.hasOwnProperty(o))return this.sanitizedSomething=!0,!qv.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let l=0;l<u.length;l++){const h=u.item(l),v=h.name,S=v.toLowerCase();if(!tp.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let N=h.value;Vd[S]&&(N=Ld(N)),this.buf.push(" ",v,'="',np(N),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Vh.hasOwnProperty(o)&&!Fh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(np(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Zv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Aa=/([^\#-~ |!])/g;function np(n){return n.replace(/&/g,"&amp;").replace(Zv,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Aa,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fl;function rp(n,i){let o=null;try{Fl=Fl||function Xf(n){const i=new sl(n);return function mm(){try{return!!(new window.DOMParser).parseFromString(yu(""),"text/html")}catch{return!1}}()?new gm(i):i}(n);let u=i?String(i):"";o=Fl.getInertBodyElement(u);let l=5,h=u;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,u=h,h=o.innerHTML,o=Fl.getInertBodyElement(u)}while(u!==h);return yu((new ol).sanitizeChildren(tu(o)||o))}finally{if(o){const u=tu(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function tu(n){return"content"in n&&function vm(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ts=(()=>((ts=ts||{})[ts.NONE=0]="NONE",ts[ts.HTML=1]="HTML",ts[ts.STYLE=2]="STYLE",ts[ts.SCRIPT=3]="SCRIPT",ts[ts.URL=4]="URL",ts[ts.RESOURCE_URL=5]="RESOURCE_URL",ts))();function _m(n){const i=Jc();return i?Zf(i.sanitize(ts.HTML,n)||""):Yc(n,"HTML")?Zf(il(n)):rp(function Ph(){return void 0!==Pl?Pl:typeof document<"u"?document:void 0}(),Et(n))}function cr(n){const i=Jc();return i?i.sanitize(ts.URL,n)||"":Yc(n,"URL")?il(n):Ld(Et(n))}function Em(n){const i=Jc();if(i)return Qf(i.sanitize(ts.RESOURCE_URL,n)||"");if(Yc(n,"ResourceURL"))return Qf(il(n));throw new Qe(904,!1)}function Ud(n,i,o){return function Dm(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?Em:cr}(i,o)(n)}function Jc(){const n=R();return n&&n[lt]}const Ll=new Wn("ENVIRONMENT_INITIALIZER"),Vl=new Wn("INJECTOR",-1),sp=new Wn("INJECTOR_DEF_TYPES");class Ul{get(i,o=ni){if(o===ni){const u=new Error(`NullInjectorError: No provider for ${Be(i)}!`);throw u.name="NullInjectorError",u}return o}}function Tm(n){return{\u0275providers:n}}function Xc(...n){return{\u0275providers:op(0,n),\u0275fromNgModule:!0}}function op(n,...i){const o=[],u=new Set;let l;return Ko(i,h=>{const v=h;mc(v,o,[],u)&&(l||(l=[]),l.push(v))}),void 0!==l&&ap(l,o),o}function ap(n,i){for(let o=0;o<n.length;o++){const{providers:l}=n[o];up(l,h=>{i.push(h)})}}function mc(n,i,o,u){if(!(n=pe(n)))return!1;let l=null,h=hr(n);const v=!h&&Zt(n);if(h||v){if(v&&!v.standalone)return!1;l=n}else{const N=n.ngModule;if(h=hr(N),!h)return!1;l=N}const S=u.has(l);if(v){if(S)return!1;if(u.add(l),v.dependencies){const N="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const $ of N)mc($,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!S){let $;u.add(l);try{Ko(h.imports,J=>{mc(J,i,o,u)&&($||($=[]),$.push(J))})}finally{}void 0!==$&&ap($,i)}if(!S){const $=$i(l)||(()=>new l);i.push({provide:l,useFactory:$,deps:Mt},{provide:sp,useValue:l,multi:!0},{provide:Ll,useValue:()=>Rn(l),multi:!0})}const N=h.providers;null==N||S||up(N,J=>{i.push(J)})}}return l!==n&&void 0!==n.providers}function up(n,i){for(let o of n)ut(o)&&(o=o.\u0275providers),Array.isArray(o)?up(o,i):i(o)}const ss=Se({provide:String,useValue:Se});function ed(n){return null!==n&&"object"==typeof n&&ss in n}function yc(n){return"function"==typeof n}const cp=new Wn("Set Injector scope."),jd={},td={};let _u;function Hd(){return void 0===_u&&(_u=new Ul),_u}class Bl{}class dp extends Bl{get destroyed(){return this._destroyed}constructor(i,o,u,l){super(),this.parent=o,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ur(i,v=>this.processProvider(v)),this.records.set(Vl,jl(void 0,this)),l.has("environment")&&this.records.set(Bl,jl(void 0,this));const h=this.records.get(cp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(sp.multi,Mt,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=Yn(this),u=Pn(void 0);try{return i()}finally{Yn(o),Pn(u)}}get(i,o=ni,u=Pt.Default){this.assertNotDestroyed(),u=Cr(u);const l=Yn(this),h=Pn(void 0);try{if(!(u&Pt.SkipSelf)){let S=this.records.get(i);if(void 0===S){const N=function Xs(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wn}(i)&&jn(i);S=N&&this.injectableDefInScope(N)?jl($l(i),jd):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(u&Pt.Self?Hd():this.parent).get(i,o=u&Pt.Optional&&o===ni?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[mr]=v[mr]||[]).unshift(Be(i)),l)throw v;return function fr(n,i,o,u){const l=n[mr];throw i[ir]&&l.unshift(i[ir]),n.message=function ue(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==_i?n.slice(2):n;let l=Be(i);if(Array.isArray(i))l=i.map(Be).join(" -> ");else if("object"==typeof i){let h=[];for(let v in i)if(i.hasOwnProperty(v)){let S=i[v];h.push(v+":"+("string"==typeof S?JSON.stringify(S):Be(S)))}l=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${l}]: ${n.replace(ri,"\n  ")}`}("\n"+n.message,l,o,u),n[Ti]=l,n[mr]=null,n}(v,i,"R3InjectorError",this.source)}throw v}finally{Pn(h),Yn(l)}}resolveInjectorInitializers(){const i=Yn(this),o=Pn(void 0);try{const u=this.get(Ll.multi,Mt,Pt.Self);for(const l of u)l()}finally{Yn(i),Pn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Be(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(i){let o=yc(i=pe(i))?i:pe(i&&i.provide);const u=function fp(n){return ed(n)?jl(void 0,n.useValue):jl(Bh(n),jd)}(i);if(yc(i)||!0!==i.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=jl(void 0,jd,!0),l.factory=()=>St(l.multi),this.records.set(o,l)),o=i,l.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===jd&&(o.value=td,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Jv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=pe(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function $l(n){const i=jn(n),o=null!==i?i.factory:$i(n);if(null!==o)return o;if(n instanceof Wn)throw new Qe(204,!1);if(n instanceof Function)return function hp(n){const i=n.length;if(i>0)throw function Ii(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}(i,"?"),new Qe(204,!1);const o=function Ir(n){return n&&(n[zr]||n[Dr])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new Qe(204,!1)}function Bh(n,i,o){let u;if(yc(n)){const l=pe(n);return $i(l)||$l(l)}if(ed(n))u=()=>pe(n.useValue);else if(function lp(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...St(n.deps||[]));else if(function Bd(n){return!(!n||!n.useExisting)}(n))u=()=>Rn(pe(n.useExisting));else{const l=pe(n&&(n.useClass||n.provide));if(!function Qv(n){return!!n.deps}(n))return $i(l)||$l(l);u=()=>new l(...St(n.deps))}return u}function jl(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function Ur(n,i){for(const o of n)Array.isArray(o)?Ur(o,i):o&&ut(o)?Ur(o.\u0275providers,i):i(o)}class Cm{}class pp{}class e_{resolveComponentFactory(i){throw function gp(n){const i=Error(`No component factory found for ${Be(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let nd=(()=>{class n{}return n.NULL=new e_,n})();function bm(){return Hl(Ve(),R())}function Hl(n,i){return new al(Wr(n,i))}let al=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=bm,n})();function Gd(n){return n instanceof al?n.nativeElement:n}class rd{}let $h=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Sm(){const n=R(),o=oi(Ve().index,n);return(di(o)?o:n)[Te]}(),n})(),Am=(()=>{class n{}return n.\u0275prov=yt({token:n,providedIn:"root",factory:()=>null}),n})();class mp{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Mm=new mp("15.2.9"),jh={},Hh="ngOriginalError";function yp(n){return n[Hh]}class Wd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&yp(i);for(;o&&yp(o);)o=yp(o);return o||null}}function ja(n){return n instanceof Function?n():n}function Ip(n,i,o){let u=n.length;for(;;){const l=n.indexOf(i,o);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=i.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}o=l+1}}const Rm="ng-template";function o_(n,i,o){let u=0,l=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&l){const v=n[u++];if(o&&"class"===h&&-1!==Ip(v.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function sd(n){return 4===n.type&&n.value!==Rm}function Dp(n,i,o){return i===(4!==n.type||o?n.value:Rm)}function a_(n,i,o){let u=4;const l=n.attrs||[],h=function Nm(n){for(let i=0;i<n.length;i++)if(wn(n[i]))return i;return n.length}(l);let v=!1;for(let S=0;S<i.length;S++){const N=i[S];if("number"!=typeof N){if(!v)if(4&u){if(u=2|1&u,""!==N&&!Dp(n,N,o)||""===N&&1===i.length){if(nu(u))return!1;v=!0}}else{const $=8&u?N:i[++S];if(8&u&&null!==n.attrs){if(!o_(n.attrs,$,o)){if(nu(u))return!1;v=!0}continue}const oe=Tp(8&u?"class":N,l,sd(n),o);if(-1===oe){if(nu(u))return!1;v=!0;continue}if(""!==$){let Ae;Ae=oe>h?"":l[oe+1].toLowerCase();const Ge=8&u?Ae:null;if(Ge&&-1!==Ip(Ge,$,0)||2&u&&$!==Ae){if(nu(u))return!1;v=!0}}}}else{if(!v&&!nu(u)&&!nu(N))return!1;if(v&&nu(N))continue;v=!1,u=N|1&u}}return nu(u)||v}function nu(n){return 0==(1&n)}function Tp(n,i,o,u){if(null===i)return-1;let l=0;if(u||!o){let h=!1;for(;l<i.length;){const v=i[l];if(v===n)return l;if(3===v||6===v)h=!0;else{if(1===v||2===v){let S=i[++l];for(;"string"==typeof S;)S=i[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=h?1:2}return-1}return function l_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function Cp(n,i,o=!1){for(let u=0;u<i.length;u++)if(a_(n,i[u],o))return!0;return!1}function Pm(n,i){return n?":not("+i.trim()+")":i}function zl(n){let i=n[0],o=1,u=2,l="",h=!1;for(;o<n.length;){let v=n[o];if("string"==typeof v)if(2&u){const S=n[++o];l+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?l+="."+v:4&u&&(l+=" "+v);else""!==l&&!nu(v)&&(i+=Pm(h,l),l=""),u=v,h=h||!nu(u);o++}return""!==l&&(i+=Pm(h,l)),i}const ar={};function bp(n){Ou(O(),R(),Je()+n,!1)}function Ou(n,i,o,u){if(!u)if(3==(3&i[bn])){const h=n.preOrderCheckHooks;null!==h&&gi(i,h,o)}else{const h=n.preOrderHooks;null!==h&&ai(i,h,0,o)}kt(o)}function Gh(n,i=null,o=null,u){const l=Wh(n,i,o,u);return l.resolveInjectorInitializers(),l}function Wh(n,i=null,o=null,u,l=new Set){const h=[o||Mt,Xc(n)];return u=u||("object"==typeof n?void 0:Be(n)),new dp(h,i||Hd(),u||null,l)}let Wl=(()=>{class n{static create(o,u){if(Array.isArray(o))return Gh({name:""},u,o,"");{const l=o.name??"";return Gh({name:l},o.parent,o.providers,l)}}}return n.THROW_IF_NOT_FOUND=ni,n.NULL=new Ul,n.\u0275prov=yt({token:n,providedIn:"any",factory:()=>Rn(Vl)}),n.__NG_ELEMENT_ID__=-1,n})();function ku(n,i=Pt.Default){const o=R();return null===o?Rn(n,i):au(Ve(),o,pe(n),i)}function Qd(){throw new Error("invalid")}function Fp(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const v=n.data[h];ca(o[u]),v.contentQueries(2,i[h],h)}}}function Xd(n,i,o,u,l,h,v,S,N,$,J){const oe=i.blueprint.slice();return oe[kr]=l,oe[bn]=76|u,(null!==J||n&&1024&n[bn])&&(oe[bn]|=1024),ds(oe),oe[xr]=oe[An]=n,oe[Or]=o,oe[Ee]=v||n&&n[Ee],oe[Te]=S||n&&n[Te],oe[lt]=N||n&&n[lt]||null,oe[xe]=$||n&&n[xe]||null,oe[li]=h,oe[Gr]=function Kc(){return Wc++}(),oe[ii]=J,oe[fn]=2==i.type?n[fn]:oe,oe}function ul(n,i,o,u,l){let h=n.data[i];if(null===h)h=function cd(n,i,o,u,l){const h=dn(),v=hs(),N=n.data[i]=function __(n,i,o,u,l,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?h:h&&h.parent,o,i,u,l);return null===n.firstChild&&(n.firstChild=N),null!==h&&(v?null==h.child&&null!==N.parent&&(h.child=N):null===h.next&&(h.next=N,N.prev=h)),N}(n,i,o,u,l),function ua(){return Tn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=l;const v=function yr(){const n=Tn.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===v?-1:v.injectorIndex}return Lr(h,!0),h}function dd(n,i,o,u){if(0===o)return-1;const l=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return l}function Fu(n,i,o){_(i);try{const u=n.viewQuery;null!==u&&tf(1,u,o);const l=n.template;null!==l&&Lp(n,i,l,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Fp(n,i),n.staticViewQueries&&tf(2,n.viewQuery,o);const h=n.components;null!==h&&function Jo(n,i){for(let o=0;o<i.length;o++)Xh(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[bn]&=-5,fe()}}function ll(n,i,o,u){const l=i[bn];if(128!=(128&l)){_(i);try{ds(i),function Fs(n){return Tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Lp(n,i,o,2,u);const v=3==(3&l);if(v){const $=n.preOrderCheckHooks;null!==$&&gi(i,$,null)}else{const $=n.preOrderHooks;null!==$&&ai(i,$,0,null),M(i,0)}if(function zp(n){for(let i=ma(n);null!==i;i=es(i)){if(!i[_s])continue;const o=i[Ns];for(let u=0;u<o.length;u++){const l=o[u];512&l[bn]||Hi(l[xr],1),l[bn]|=512}}}(i),function Ym(n){for(let i=ma(n);null!==i;i=es(i))for(let o=ci;o<i.length;o++){const u=i[o],l=u[jt];ji(u)&&ll(l,u,l.template,u[Or])}}(i),null!==n.contentQueries&&Fp(n,i),v){const $=n.contentCheckHooks;null!==$&&gi(i,$)}else{const $=n.contentHooks;null!==$&&ai(i,$,1),M(i,1)}!function Jd(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const l=o[u];if(l<0)kt(~l);else{const h=l,v=o[++u],S=o[++u];su(v,h),S(2,i[h])}}}finally{kt(-1)}}(n,i);const S=n.components;null!==S&&function Hm(n,i){for(let o=0;o<i.length;o++)Gp(n,i[o])}(i,S);const N=n.viewQuery;if(null!==N&&tf(2,N,u),v){const $=n.viewCheckHooks;null!==$&&gi(i,$)}else{const $=n.viewHooks;null!==$&&ai(i,$,2),M(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[bn]&=-41,512&i[bn]&&(i[bn]&=-513,Hi(i[xr],-1))}finally{fe()}}}function Lp(n,i,o,u,l){const h=Je(),v=2&u;try{kt(-1),v&&i.length>Jn&&Ou(n,i,Jn,!1),br(v?2:0,l),o(u,l)}finally{kt(h),br(v?3:1,l)}}function cl(n,i,o){if(us(i)){const l=i.directiveEnd;for(let h=i.directiveStart;h<l;h++){const v=n.data[h];v.contentQueries&&v.contentQueries(1,o[h],h)}}}function Vp(n,i,o){Ks()&&(function D_(n,i,o,u){const l=o.directiveStart,h=o.directiveEnd;Es(o)&&function M_(n,i,o){const u=Wr(i,n),l=Up(o),h=n[Ee],v=fd(n,Xd(n,l,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=v}(i,o,n.data[l+o.componentOffset]),n.firstCreatePass||Cu(o,i),Us(u,i);const v=o.initialInputs;for(let S=l;S<h;S++){const N=n.data[S],$=ei(i,n,S,o);Us($,i),null!==v&&Qh(0,S-l,$,N,0,v),or(N)&&(oi(o.index,i)[Or]=ei(i,n,S,o))}}(n,i,o,Wr(o,i)),64==(64&o.flags)&&jp(n,i,o))}function ql(n,i,o=Wr){const u=i.localNames;if(null!==u){let l=i.index+1;for(let h=0;h<u.length;h+=2){const v=u[h+1],S=-1===v?o(i,n):n[v];n[l++]=S}}}function Up(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Lu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Lu(n,i,o,u,l,h,v,S,N,$){const J=Jn+u,oe=J+l,Ae=function zm(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:ar);return o}(J,oe),Ge="function"==typeof $?$():$;return Ae[jt]={type:n,blueprint:Ae,template:o,queries:null,viewQuery:S,declTNode:i,data:Ae.slice().fill(null,J),bindingStartIndex:J,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:N,consts:Ge,incompleteFirstPass:!1}}function Bp(n,i,o,u){const l=Jm(i);null===o?l.push(u):(l.push(o),n.firstCreatePass&&Kp(n).push(u,l.length-1))}function $p(n,i,o,u){for(let l in n)if(n.hasOwnProperty(l)){o=null===o?{}:o;const h=n[l];null===u?Gm(o,i,l,h):u.hasOwnProperty(l)&&Gm(o,i,u[l],h)}return o}function Gm(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function Ha(n,i,o,u,l,h,v,S){const N=Wr(i,o);let J,$=i.inputs;!S&&null!=$&&(J=$[u])?(Zp(n,o,J,u,l),Es(i)&&function Wm(n,i){const o=oi(i,n);16&o[bn]||(o[bn]|=32)}(o,i.index)):3&i.type&&(u=function E_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=v?v(l,i.value||"",u):l,h.setProperty(N,u,l))}function dl(n,i,o,u){if(Ks()){const l=null===u?null:{"":-1},h=function C_(n,i){const o=n.directiveRegistry;let u=null,l=null;if(o)for(let h=0;h<o.length;h++){const v=o[h];if(Cp(i,v.selectors,!1))if(u||(u=[]),or(v))if(null!==v.findHostDirectiveDefs){const S=[];l=l||new Map,v.findHostDirectiveDefs(v,S,l),u.unshift(...S,v),eh(n,i,S.length)}else u.unshift(v),eh(n,i,0);else l=l||new Map,v.findHostDirectiveDefs?.(v,u,l),u.push(v)}return null===u?null:[u,l]}(n,o);let v,S;null===h?v=S=null:[v,S]=h,null!==v&&hd(n,i,o,v,l,S),l&&function bo(n,i,o){if(i){const u=n.localNames=[];for(let l=0;l<i.length;l+=2){const h=o[i[l+1]];if(null==h)throw new Qe(-301,!1);u.push(i[l],h)}}}(o,u,l)}o.mergedAttrs=Ar(o.mergedAttrs,o.attrs)}function hd(n,i,o,u,l,h){for(let $=0;$<u.length;$++)da(Cu(o,i),n,u[$].type);!function S_(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let $=0;$<u.length;$++){const J=u[$];J.providersResolver&&J.providersResolver(J)}let v=!1,S=!1,N=dd(n,i,u.length,null);for(let $=0;$<u.length;$++){const J=u[$];o.mergedAttrs=Ar(o.mergedAttrs,J.hostAttrs),A_(n,o,i,N,J),b_(N,J,l),null!==J.contentQueries&&(o.flags|=4),(null!==J.hostBindings||null!==J.hostAttrs||0!==J.hostVars)&&(o.flags|=64);const oe=J.type.prototype;!v&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),v=!0),!S&&(oe.ngOnChanges||oe.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),S=!0),N++}!function Yh(n,i,o){const l=i.directiveEnd,h=n.data,v=i.attrs,S=[];let N=null,$=null;for(let J=i.directiveStart;J<l;J++){const oe=h[J],Ae=o?o.get(oe):null,_t=Ae?Ae.outputs:null;N=$p(oe.inputs,J,N,Ae?Ae.inputs:null),$=$p(oe.outputs,J,$,_t);const Ht=null===N||null===v||sd(i)?null:Jh(N,J,v);S.push(Ht)}null!==N&&(N.hasOwnProperty("class")&&(i.flags|=8),N.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=S,i.inputs=N,i.outputs=$}(n,o,h)}function jp(n,i,o){const u=o.directiveStart,l=o.directiveEnd,h=o.index,v=function ou(){return Tn.lFrame.currentDirectiveIndex}();try{kt(h);for(let S=u;S<l;S++){const N=n.data[S],$=i[S];fi(S),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&T_(N,$)}}finally{kt(-1),fi(v)}}function T_(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function eh(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function b_(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;or(i)&&(o[""]=n)}}function A_(n,i,o,u,l){n.data[u]=l;const h=l.factory||(l.factory=$i(l.type)),v=new ie(h,or(l),ku);n.blueprint[u]=v,o[u]=v,function Km(n,i,o,u,l){const h=l.hostBindings;if(h){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const S=~i.index;(function qm(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(v)!=S&&v.push(S),v.push(o,u,h)}}(n,i,u,dd(n,o,l.hostVars,ar),l)}function ru(n,i,o,u,l,h){const v=Wr(n,i);!function Hp(n,i,o,u,l,h,v){if(null==h)n.removeAttribute(i,l,o);else{const S=null==v?Et(h):v(h,u||"",l);n.setAttribute(i,l,S,o)}}(i[Te],v,h,n.value,o,u,l)}function Qh(n,i,o,u,l,h){const v=h[i];if(null!==v){const S=u.setInput;for(let N=0;N<v.length;){const $=v[N++],J=v[N++],oe=v[N++];null!==S?u.setInput(o,oe,$,J):o[J]=oe}}}function Jh(n,i,o){let u=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const v=n[h];for(let S=0;S<v.length;S+=2)if(v[S]===i){u.push(h,v[S+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return u}function Zm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function Gp(n,i){const o=oi(i,n);if(ji(o)){const u=o[jt];48&o[bn]?ll(u,o,u.template,o[Or]):o[Bi]>0&&wc(o)}}function wc(n){for(let u=ma(n);null!==u;u=es(u))for(let l=ci;l<u.length;l++){const h=u[l];if(ji(h))if(512&h[bn]){const v=h[jt];ll(v,h,v.template,h[Or])}else h[Bi]>0&&wc(h)}const o=n[jt].components;if(null!==o)for(let u=0;u<o.length;u++){const l=oi(o[u],n);ji(l)&&l[Bi]>0&&wc(l)}}function Xh(n,i){const o=oi(i,n),u=o[jt];(function Wp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Fu(u,o,o[Or])}function fd(n,i){return n[Ct]?n[hn][qn]=i:n[Ct]=i,n[hn]=i,i}function th(n){for(;n;){n[bn]|=32;const i=is(n);if(Fr(n)&&!i)return n;n=i}return null}function ef(n,i,o,u=!0){const l=i[Ee];l.begin&&l.begin();try{ll(n,i,n.template,o)}catch(v){throw u&&qp(i,v),v}finally{l.end&&l.end()}}function tf(n,i,o){ca(0),i(n,o)}function Jm(n){return n[vs]||(n[vs]=[])}function Kp(n){return n.cleanup||(n.cleanup=[])}function qp(n,i){const o=n[xe],u=o?o.get(Wd,null):null;u&&u.handleError(i)}function Zp(n,i,o,u,l){for(let h=0;h<o.length;){const v=o[h++],S=o[h++],N=i[v],$=n.data[v];null!==$.setInput?$.setInput(N,l,u,S):N[S]=l}}function hl(n,i,o){let u=o?n.styles:null,l=o?n.classes:null,h=0;if(null!==i)for(let v=0;v<i.length;v++){const S=i[v];"number"==typeof S?h=S:1==h?l=rt(l,S):2==h&&(u=rt(u,S+": "+i[++v]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=l:n.classesWithoutHost=l}function pd(n,i,o,u,l=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Gn(h)),as(h))for(let S=ci;S<h.length;S++){const N=h[S],$=N[jt].firstChild;null!==$&&pd(N[jt],N,$,u)}const v=o.type;if(8&v)pd(n,i,o.child,u);else if(32&v){const S=Ln(o,i);let N;for(;N=S();)u.push(N)}else if(16&v){const S=hc(i,o);if(Array.isArray(S))u.push(...S);else{const N=is(i[fn]);pd(N[jt],N,S,u,!0)}}o=l?o.projectionNext:o.next}return u}class Zl{get rootNodes(){const i=this._lView,o=i[jt];return pd(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Or]}set context(i){this._lView[Or]=i}get destroyed(){return 128==(128&this._lView[bn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[xr];if(as(i)){const o=i[Rs],u=o?o.indexOf(this):-1;u>-1&&(j(i,u),Fa(o,u))}this._attachedToViewContainer=!1}ee(this._lView[jt],this._lView)}onDestroy(i){Bp(this._lView[jt],this._lView,null,i)}markForCheck(){th(this._cdRefInjectingView||this._lView)}detach(){this._lView[bn]&=-65}reattach(){this._lView[bn]|=64}detectChanges(){ef(this._lView[jt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wf(n,i){Nd(n,i,i[Te],2,null,null)}(this._lView[jt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=i}}class ey extends Zl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;ef(i[jt],i,i[Or],!1)}checkNoChanges(){}get context(){return null}}class Yp extends nd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Zt(i);return new nh(o,this.ngModule)}}function Qp(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Jp{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=Cr(u);const l=this.injector.get(i,jh,u);return l!==jh||o===jh?l:this.parentInjector.get(i,o,u)}}class nh extends pp{get inputs(){return Qp(this.componentDef.inputs)}get outputs(){return Qp(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function od(n){return n.map(zl).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,l){let h=(l=l||this.ngModule)instanceof Bl?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const v=h?new Jp(i,h):i,S=v.get(rd,null);if(null===S)throw new Qe(407,!1);const N=v.get(Am,null),$=S.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",oe=u?function v_(n,i,o){return n.selectRootElement(i,o===at.ShadowDom)}($,u,this.componentDef.encapsulation):Zc($,J,function R_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(J)),Ae=this.componentDef.onPush?288:272,Ge=Lu(0,null,null,1,0,null,null,null,null,null),_t=Xd(null,Ge,null,Ae,null,null,S,$,N,v,null);let Ht,cn;_(_t);try{const Dn=this.componentDef;let Zn,Rt=null;Dn.findHostDirectiveDefs?(Zn=[],Rt=new Map,Dn.findHostDirectiveDefs(Dn,Zn,Rt),Zn.push(Dn)):Zn=[Dn];const dr=function ty(n,i){const o=n[jt],u=Jn;return n[u]=i,ul(o,u,2,"#host",null)}(_t,oe),Ms=function eg(n,i,o,u,l,h,v,S){const N=l[jt];!function nf(n,i,o,u){for(const l of n)i.mergedAttrs=Ar(i.mergedAttrs,l.hostAttrs);null!==i.mergedAttrs&&(hl(i,i.mergedAttrs,!0),null!==o&&rl(u,o,i))}(u,n,i,v);const $=h.createRenderer(i,o),J=Xd(l,Up(o),null,o.onPush?32:16,l[n.index],n,h,$,S||null,null,null);return N.firstCreatePass&&eh(N,n,u.length-1),fd(l,J),l[n.index]=J}(dr,oe,Dn,Zn,_t,S,$);cn=wo(Ge,Jn),oe&&function rf(n,i,o,u){if(u)Gt(n,o,["ng-version",Mm.full]);else{const{attrs:l,classes:h}=function Om(n){const i=[],o=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&i.push(h,n[++u]):8===l&&o.push(h);else{if(!nu(l))break;l=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);l&&Gt(n,o,l),h&&h.length>0&&Gi(n,o,h.join(" "))}}($,Dn,oe,u),void 0!==o&&function tg(n,i,o){const u=n.projection=[];for(let l=0;l<i.length;l++){const h=o[l];u.push(null!=h?Array.from(h):null)}}(cn,this.ngContentSelectors,o),Ht=function rh(n,i,o,u,l,h){const v=Ve(),S=l[jt],N=Wr(v,l);hd(S,l,v,o,null,u);for(let J=0;J<o.length;J++)Us(ei(l,S,v.directiveStart+J,v),l);jp(S,l,v),N&&Us(N,l);const $=ei(l,S,v.directiveStart+v.componentOffset,v);if(n[Or]=l[Or]=$,null!==h)for(const J of h)J($,i);return cl(S,v,n),$}(Ms,Dn,Zn,Rt,_t,[ng]),Fu(Ge,_t,null)}finally{fe()}return new Xp(this.componentType,Ht,Hl(cn,_t),_t,cn)}}class Xp extends Cm{constructor(i,o,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new ey(l),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[i])){const h=this._rootLView;Zp(h[jt],h,l,i,o),th(oi(this._tNode.index,h))}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ng(){const n=Ve();pi(R()[jt],n)}function af(n){let i=function sf(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let l;if(or(n))l=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Qe(903,!1);l=i.\u0275dir}if(l){if(o){u.push(l);const v=n;v.inputs=uf(n.inputs),v.declaredInputs=uf(n.declaredInputs),v.outputs=uf(n.outputs);const S=l.hostBindings;S&&O_(n,S);const N=l.viewQuery,$=l.contentQueries;if(N&&lf(n,N),$&&rg(n,$),ze(n.inputs,l.inputs),ze(n.declaredInputs,l.declaredInputs),ze(n.outputs,l.outputs),or(l)&&l.data.animation){const J=n.data;J.animation=(J.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let v=0;v<h.length;v++){const S=h[v];S&&S.ngInherit&&S(n),S===af&&(o=!1)}}i=Object.getPrototypeOf(i)}!function P_(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=i+=l.hostVars,l.hostAttrs=Ar(l.hostAttrs,o=Ar(o,l.hostAttrs))}}(u)}function uf(n){return n===Oe?{}:n===Mt?[]:n}function lf(n,i){const o=n.viewQuery;n.viewQuery=o?(u,l)=>{i(u,l),o(u,l)}:i}function rg(n,i){const o=n.contentQueries;n.contentQueries=o?(u,l,h)=>{i(u,l,h),o(u,l,h)}:i}function O_(n,i){const o=n.hostBindings;n.hostBindings=o?(u,l)=>{i(u,l),o(u,l)}:i}function cf(n){return!!og(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function og(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function $s(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function sh(n,i,o,u){const l=R();return $s(l,ur(),i)&&(O(),ru(xt(),l,n,i,o,u)),sh}function ly(n,i,o,u,l,h,v,S){const N=R(),$=O(),J=n+Jn,oe=$.firstCreatePass?function uy(n,i,o,u,l,h,v,S,N){const $=i.consts,J=ul(i,n,4,v||null,Jr($,S));dl(i,o,J,Jr($,N)),pi(i,J);const oe=J.tView=Lu(2,J,u,l,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,$);return null!==i.queries&&(i.queries.template(i,J),oe.queries=i.queries.embeddedTView(J)),J}(J,$,N,i,o,u,l,h,v):$.data[J];Lr(oe,!1);const Ae=N[Te].createComment("");mu($,N,Ae,oe),Us(Ae,N),fd(N,N[J]=Zm(Ae,N,Ae,oe)),ws(oe)&&Vp($,N,oe),null!=v&&ql(N,oe,S)}function ah(n,i,o){const u=R();return $s(u,ur(),i)&&Ha(O(),xt(),u,n,i,u[Te],o,!1),ah}function lg(n,i,o,u,l){const v=l?"class":"style";Zp(n,o,i.inputs[v],v,u)}function pf(n,i,o,u){const l=R(),h=O(),v=Jn+n,S=l[Te],N=h.firstCreatePass?function cg(n,i,o,u,l,h){const v=i.consts,N=ul(i,n,2,u,Jr(v,l));return dl(i,o,N,Jr(v,h)),null!==N.attrs&&hl(N,N.attrs,!1),null!==N.mergedAttrs&&hl(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(v,h,l,i,o,u):h.data[v],$=l[v]=Zc(S,i,function Sr(){return Tn.lFrame.currentNamespace}()),J=ws(N);return Lr(N,!0),rl(S,$,N),32!=(32&N.flags)&&mu(h,l,$,N),0===function Ws(){return Tn.lFrame.elementDepthCount}()&&Us($,l),function Do(){Tn.lFrame.elementDepthCount++}(),J&&(Vp(h,l,N),cl(h,N,l)),null!==u&&ql(l,N),pf}function vd(){let n=Ve();hs()?oo():(n=n.parent,Lr(n,!1));const i=n;!function aa(){Tn.lFrame.elementDepthCount--}();const o=O();return o.firstCreatePass&&(pi(o,n),us(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function er(n){return 0!=(8&n.flags)}(i)&&lg(o,i,R(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function pr(n){return 0!=(16&n.flags)}(i)&&lg(o,i,R(),i.stylesWithoutHost,!1),vd}function gf(n,i,o,u){return pf(n,i,o,u),vd(),gf}function _d(n,i,o){const u=R(),l=O(),h=n+Jn,v=l.firstCreatePass?function dg(n,i,o,u,l){const h=i.consts,v=Jr(h,u),S=ul(i,n,8,"ng-container",v);return null!==v&&hl(S,v,!0),dl(i,o,S,Jr(h,l)),null!==i.queries&&i.queries.elementStart(i,S),S}(h,l,u,i,o):l.data[h];Lr(v,!0);const S=u[h]=u[Te].createComment("");return mu(l,u,S,v),Us(S,u),ws(v)&&(Vp(l,u,v),cl(l,v,u)),null!=o&&ql(u,v),_d}function Ed(){let n=Ve();const i=O();return hs()?oo():(n=n.parent,Lr(n,!1)),i.firstCreatePass&&(pi(i,n),us(n)&&i.queries.elementEnd(n)),Ed}function pl(){return R()}function uh(n){return!!n&&"function"==typeof n.then}function Ac(n){return!!n&&"function"==typeof n.subscribe}const Mc=Ac;function mf(n,i,o,u){const l=R(),h=O(),v=Ve();return function cy(n,i,o,u,l,h,v){const S=ws(u),$=n.firstCreatePass&&Kp(n),J=i[Or],oe=Jm(i);let Ae=!0;if(3&u.type||v){const Ht=Wr(u,i),cn=v?v(Ht):Ht,Dn=oe.length,Zn=v?dr=>v(Gn(dr[u.index])):u.index;let Rt=null;if(!v&&S&&(Rt=function $_(n,i,o,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const v=l[h];if(v===o&&l[h+1]===u){const S=i[vs],N=l[h+2];return S.length>N?S[N]:null}"string"==typeof v&&(h+=2)}return null}(n,i,l,u.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=h,Rt.__ngLastListenerFn__=h,Ae=!1;else{h=vf(u,i,J,h,!1);const dr=o.listen(cn,l,h);oe.push(h,dr),$&&$.push(l,Zn,Dn,Dn+1)}}else h=vf(u,i,J,h,!1);const Ge=u.outputs;let _t;if(Ae&&null!==Ge&&(_t=Ge[l])){const Ht=_t.length;if(Ht)for(let cn=0;cn<Ht;cn+=2){const Ms=i[_t[cn]][_t[cn+1]].subscribe(h),mo=oe.length;oe.push(h,Ms),$&&$.push(l,u.index,mo,-(mo+1))}}}(h,l,l[Te],v,n,i,u),mf}function yf(n,i,o,u){try{return br(6,i,o),!1!==o(u)}catch(l){return qp(n,l),!1}finally{br(7,i,o)}}function vf(n,i,o,u,l){return function h(v){if(v===Function)return u;th(n.componentOffset>-1?oi(n.index,i):i);let N=yf(i,o,u,v),$=h.__ngNextListenerFn__;for(;$;)N=yf(i,o,$,v)&&N,$=$.__ngNextListenerFn__;return l&&!1===N&&(v.preventDefault(),v.returnValue=!1),N}}function _f(n=1){return function ve(n){return(Tn.lFrame.contextLView=function $e(n,i){for(;n>0;)i=i[An],n--;return i}(n,Tn.lFrame.contextLView))[Or]}(n)}function wf(n,i){return n<<17|i<<2}function ec(n){return n>>17&32767}function ch(n){return 2|n}function gl(n){return(131068&n)>>2}function _g(n,i){return-131069&n|i<<2}function wg(n){return 1|n}function my(n,i,o,u,l){const h=n[o+1],v=null===i;let S=u?ec(h):gl(h),N=!1;for(;0!==S&&(!1===N||v);){const J=n[S+1];Dg(n[S],i)&&(N=!0,n[S+1]=u?wg(J):ch(J)),S=u?ec(J):gl(J)}N&&(n[o+1]=u?ch(h):wg(h))}function Dg(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Ss(n,i)>=0}const go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function If(n){return n.substring(go.key,go.keyEnd)}function yy(n,i){const o=go.textEnd;return o===i?-1:(i=go.keyEnd=function vy(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,go.key=i,o),wu(n,i,o))}function wu(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function Ag(n,i,o){return Ga(n,i,o,!1),Ag}function dh(n,i){return Ga(n,i,null,!0),dh}function Cf(n){!function Iu(n,i,o,u){const l=O(),h=fs(2);l.firstUpdatePass&&wy(l,null,h,u);const v=R();if(o!==ar&&$s(v,h,o)){const S=l.data[Je()];if(kg(S,u)&&!bf(l,h)){let N=u?S.classesWithoutHost:S.stylesWithoutHost;null!==N&&(o=rt(N,o||"")),lg(l,S,v,o,u)}else!function Og(n,i,o,u,l,h,v,S){l===ar&&(l=Mt);let N=0,$=0,J=0<l.length?l[0]:null,oe=0<h.length?h[0]:null;for(;null!==J||null!==oe;){const Ae=N<l.length?l[N+1]:void 0,Ge=$<h.length?h[$+1]:void 0;let Ht,_t=null;J===oe?(N+=2,$+=2,Ae!==Ge&&(_t=oe,Ht=Ge)):null===oe||null!==J&&J<oe?(N+=2,_t=J):($+=2,_t=oe,Ht=Ge),null!==_t&&Sf(n,i,o,u,_t,Ht,v,S),J=N<l.length?l[N]:null,oe=$<h.length?h[$]:null}}(l,S,v,v[Te],v[h+1],v[h+1]=function Ng(n,i,o){if(null==o||""===o)return Mt;const u=[],l=il(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)n(u,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&n(u,h,l[h]);else"string"==typeof l&&i(u,l);return u}(n,i,o),u,h)}}(Pg,Bu,n,!0)}function Bu(n,i){for(let o=function Tg(n){return function Tf(n){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=n.length}(n),yy(n,wu(n,0,go.textEnd))}(i);o>=0;o=yy(i,o))Dt(n,If(i),!0)}function Ga(n,i,o,u){const l=R(),h=O(),v=fs(2);h.firstUpdatePass&&wy(h,n,v,u),i!==ar&&$s(l,v,i)&&Sf(h,h.data[Je()],l,l[Te],n,l[v+1]=function q_(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Be(il(n)))),n}(i,o),u,v)}function bf(n,i){return i>=n.expandoStartIndex}function wy(n,i,o,u){const l=n.data;if(null===l[o+1]){const h=l[Je()],v=bf(n,o);kg(h,u)&&null===i&&!v&&(i=!1),i=function Mg(n,i,o,u){const l=la(n);let h=u?i.residualClasses:i.residualStyles;if(null===l)0===(u?i.classBindings:i.styleBindings)&&(o=hh(o=Rg(null,n,i,o,u),i.attrs,u),h=null);else{const v=i.directiveStylingLast;if(-1===v||n[v]!==l)if(o=Rg(l,n,i,o,u),null===h){let N=function Iy(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==gl(u))return n[ec(u)]}(n,i,u);void 0!==N&&Array.isArray(N)&&(N=Rg(null,n,i,N[1],u),N=hh(N,i.attrs,u),function xg(n,i,o,u){n[ec(o?i.classBindings:i.styleBindings)]=u}(n,i,u,N))}else h=function Dy(n,i,o){let u;const l=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<l;h++)u=hh(u,n[h].hostAttrs,o);return hh(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(l,h,i,u),function Ig(n,i,o,u,l,h){let v=h?i.classBindings:i.styleBindings,S=ec(v),N=gl(v);n[u]=o;let J,$=!1;if(Array.isArray(o)?(J=o[1],(null===J||Ss(o,J)>0)&&($=!0)):J=o,l)if(0!==N){const Ae=ec(n[S+1]);n[u+1]=wf(Ae,S),0!==Ae&&(n[Ae+1]=_g(n[Ae+1],u)),n[S+1]=function vg(n,i){return 131071&n|i<<17}(n[S+1],u)}else n[u+1]=wf(S,0),0!==S&&(n[S+1]=_g(n[S+1],u)),S=u;else n[u+1]=wf(N,0),0===S?S=u:n[N+1]=_g(n[N+1],u),N=u;$&&(n[u+1]=ch(n[u+1])),my(n,J,u,!0),my(n,J,u,!1),function gy(n,i,o,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&Ss(h,i)>=0&&(o[u+1]=wg(o[u+1]))}(i,J,n,u,h),v=wf(S,N),h?i.classBindings=v:i.styleBindings=v}(l,h,i,o,v,u)}}function Rg(n,i,o,u,l){let h=null;const v=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<v&&(h=i[S],u=hh(u,h.hostAttrs,l),h!==n);)S++;return null!==n&&(o.directiveStylingLast=S),u}function hh(n,i,o){const u=o?1:2;let l=-1;if(null!==i)for(let h=0;h<i.length;h++){const v=i[h];"number"==typeof v?l=v:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Dt(n,v,!!o||i[++h]))}return void 0===n?null:n}function Pg(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&Dt(n,u,o)}function Sf(n,i,o,u,l,h,v,S){if(!(3&i.type))return;const N=n.data,$=N[S+1],J=function Eg(n){return 1==(1&n)}($)?Cy(N,i,o,l,gl($),v):void 0;Rc(J)||(Rc(h)||function z_(n){return 2==(2&n)}($)&&(h=Cy(N,null,o,l,S,v)),function Bo(n,i,o,u,l){if(i)l?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:Ba.DashCase;null==l?n.removeStyle(o,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Ba.Important),n.setStyle(o,u,l,h))}}(u,v,cs(Je(),o),l,h))}function Cy(n,i,o,u,l,h){const v=null===i;let S;for(;l>0;){const N=n[l],$=Array.isArray(N),J=$?N[1]:N,oe=null===J;let Ae=o[l+1];Ae===ar&&(Ae=oe?Mt:void 0);let Ge=oe?Zr(Ae,u):J===u?Ae:void 0;if($&&!Rc(Ge)&&(Ge=Zr(N,u)),Rc(Ge)&&(S=Ge,v))return S;const _t=n[l+1];l=v?ec(_t):gl(_t)}if(null!==i){let N=h?i.residualClasses:i.residualStyles;null!=N&&(S=Zr(N,u))}return S}function Rc(n){return void 0!==n}function kg(n,i){return 0!=(n.flags&(i?8:16))}function Fg(n,i=""){const o=R(),u=O(),l=n+Jn,h=u.firstCreatePass?ul(u,l,1,i,null):u.data[l],v=o[l]=function Al(n,i){return n.createText(i)}(o[Te],i);mu(u,o,v,h),Lr(h,!1)}function tc(n){return fh("",n,""),tc}function fh(n,i,o){const u=R(),l=function Yl(n,i,o,u){return $s(n,ur(),o)?i+Et(o)+u:ar}(u,n,i,o);return l!==ar&&function Ma(n,i,o){const u=cs(i,n);!function Qs(n,i,o){n.setValue(i,o)}(n[Te],u,o)}(u,Je(),l),fh}function Id(n,i,o){const u=R();if($s(u,ur(),i)){const h=O(),v=xt();Ha(h,v,u,n,i,function Xm(n,i,o){return(null===n||or(n))&&(o=function ks(n){for(;Array.isArray(n);){if("object"==typeof n[to])return n;n=n[kr]}return null}(o[i.index])),o[Te]}(la(h.data),v,u),o,!0)}return Id}const vr=void 0;var $y=["en",[["a","p"],["AM","PM"],vr],[["AM","PM"],vr,vr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vr,"{1} 'at' {0}",vr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function By(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let $u={};function ms(n){const i=function yE(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=jy(i);if(o)return o;const u=i.split("-")[0];if(o=jy(u),o)return o;if("en"===u)return $y;throw new Qe(701,!1)}function Du(n){return ms(n)[Vn.PluralCase]}function jy(n){return n in $u||($u[n]=Xn.ng&&Xn.ng.common&&Xn.ng.common.locales&&Xn.ng.common.locales[n]),$u[n]}var Vn=(()=>((Vn=Vn||{})[Vn.LocaleId=0]="LocaleId",Vn[Vn.DayPeriodsFormat=1]="DayPeriodsFormat",Vn[Vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Vn[Vn.DaysFormat=3]="DaysFormat",Vn[Vn.DaysStandalone=4]="DaysStandalone",Vn[Vn.MonthsFormat=5]="MonthsFormat",Vn[Vn.MonthsStandalone=6]="MonthsStandalone",Vn[Vn.Eras=7]="Eras",Vn[Vn.FirstDayOfWeek=8]="FirstDayOfWeek",Vn[Vn.WeekendRange=9]="WeekendRange",Vn[Vn.DateFormat=10]="DateFormat",Vn[Vn.TimeFormat=11]="TimeFormat",Vn[Vn.DateTimeFormat=12]="DateTimeFormat",Vn[Vn.NumberSymbols=13]="NumberSymbols",Vn[Vn.NumberFormats=14]="NumberFormats",Vn[Vn.CurrencyCode=15]="CurrencyCode",Vn[Vn.CurrencySymbol=16]="CurrencySymbol",Vn[Vn.CurrencyName=17]="CurrencyName",Vn[Vn.Currencies=18]="Currencies",Vn[Vn.Directionality=19]="Directionality",Vn[Vn.PluralCase=20]="PluralCase",Vn[Vn.ExtraData=21]="ExtraData",Vn))();const nc="en-US";let Hs=nc;function ic(n,i,o,u,l){if(n=pe(n),Array.isArray(n))for(let h=0;h<n.length;h++)ic(n[h],i,o,u,l);else{const h=O(),v=R();let S=yc(n)?n:pe(n.provide),N=Bh(n);const $=Ve(),J=1048575&$.providerIndexes,oe=$.directiveStart,Ae=$.providerIndexes>>20;if(yc(n)||!n.multi){const Ge=new ie(N,l,ku),_t=nm(S,i,l?J:J+Ae,oe);-1===_t?(da(Cu($,v),h,S),Cd(h,n,i.length),i.push(S),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(Ge),v.push(Ge)):(o[_t]=Ge,v[_t]=Ge)}else{const Ge=nm(S,i,J+Ae,oe),_t=nm(S,i,J,J+Ae),cn=_t>=0&&o[_t];if(l&&!cn||!l&&!(Ge>=0&&o[Ge])){da(Cu($,v),h,S);const Dn=function VE(n,i,o,u,l){const h=new ie(n,o,ku);return h.multi=[],h.index=i,h.componentProviders=0,Uc(h,l,u&&!o),h}(l?LE:FE,o.length,l,u,N);!l&&cn&&(o[_t].providerFactory=Dn),Cd(h,n,i.length,0),i.push(S),$.directiveStart++,$.directiveEnd++,l&&($.providerIndexes+=1048576),o.push(Dn),v.push(Dn)}else Cd(h,n,Ge>-1?Ge:_t,Uc(o[l?_t:Ge],N,!l&&u));!l&&u&&cn&&o[_t].componentProviders++}}}function Cd(n,i,o,u){const l=yc(i),h=function $d(n){return!!n.useClass}(i);if(l||h){const N=(h?pe(i.useClass):i).prototype.ngOnDestroy;if(N){const $=n.destroyHooks||(n.destroyHooks=[]);if(!l&&i.multi){const J=$.indexOf(o);-1===J?$.push(o,[u,N]):$[J+1].push(u,N)}else $.push(o,N)}}}function Uc(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function nm(n,i,o,u){for(let l=o;l<u;l++)if(i[l]===n)return l;return-1}function FE(n,i,o,u){return ju(this.multi,[])}function LE(n,i,o,u){const l=this.multi;let h;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=ei(o,o[jt],this.providerFactory.index,u);h=S.slice(0,v),ju(l,h);for(let N=v;N<S.length;N++)h.push(S[N])}else h=[],ju(l,h);return h}function ju(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function m0(n,i=[]){return o=>{o.providersResolver=(u,l)=>function Vc(n,i,o){const u=O();if(u.firstCreatePass){const l=or(n);ic(o,u.data,u.blueprint,l,!0),ic(i,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,i)}}class bd{}class y0{}function UE(n,i){return new uv(n,i??null)}class uv extends bd{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yp(this);const u=tr(i);this._bootstrapComponents=ja(u.bootstrap),this._r3Injector=Wh(i,o,[{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],Be(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class rm extends y0{constructor(i){super(),this.moduleType=i}create(i){return new uv(this.moduleType,i)}}class $E extends bd{constructor(i,o,u){super(),this.componentFactoryResolver=new Yp(this),this.instance=null;const l=new dp([...i,{provide:bd,useValue:this},{provide:nd,useValue:this.componentFactoryResolver}],o||Hd(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function im(n,i,o=null){return new $E(n,i,o).injector}let jE=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=op(0,o.type),l=u.length>0?im([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,l)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=yt({token:n,providedIn:"environment",factory:()=>new n(Rn(Bl))}),n})();function Sd(n){n.getStandaloneInjector=i=>i.get(jE).getOrCreateStandaloneInjector(n)}function Hf(n){return i=>{setTimeout(n,void 0,i)}}const Hu=class R0 extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let l=i,h=o||(()=>null),v=u;if(i&&"object"==typeof i){const N=i;l=N.next?.bind(N),h=N.error?.bind(N),v=N.complete?.bind(N)}this.__isAsync&&(h=Hf(h),l&&(l=Hf(l)),v&&(v=Hf(v)));const S=super.subscribe({next:l,error:h,complete:v});return i instanceof W.w0&&i.add(S),S}};function ew(){return this._results[Symbol.iterator]()}class vv{get changes(){return this._changes||(this._changes=new Hu)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=vv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ew)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const l=function lo(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Wo(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=i[u];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(u._results,l,o))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ch=(()=>{class n{}return n.__NG_ELEMENT_ID__=N0,n})();const zf=Ch,_v=class extends zf{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,l=Xd(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);l[On]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Br];return null!==v&&(l[Br]=v.createEmbeddedView(u)),Fu(u,l,i),new Zl(l)}};function N0(){return am(Ve(),R())}function am(n,i){return 4&n.type?new _v(i,n,Hl(n,i)):null}let Md=(()=>{class n{}return n.__NG_ELEMENT_ID__=P0,n})();function P0(){return Iv(Ve(),R())}const O0=Md,Ev=class extends O0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Pi(this._hostTNode,this._hostLView);if(Kr(i)){const o=Cs(i,this._hostLView),u=nr(i);return new Oo(o[jt].data[u+8],o)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=wv(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-ci}createEmbeddedView(i,o,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const v=i.createEmbeddedView(o||{},h);return this.insert(v,l),v}createComponent(i,o,u,l,h){const v=i&&!function Au(n){return"function"==typeof n}(i);let S;if(v)S=o;else{const oe=o||{};S=oe.index,u=oe.injector,l=oe.projectableNodes,h=oe.environmentInjector||oe.ngModuleRef}const N=v?i:new nh(Zt(i)),$=u||this.parentInjector;if(!h&&null==N.ngModule){const Ae=(v?$:this.parentInjector).get(Bl,null);Ae&&(h=Ae)}const J=N.create($,l,void 0,h);return this.insert(J.hostView,S),J}insert(i,o){const u=i._lView,l=u[jt];if(function xo(n){return as(n[xr])}(u)){const J=this.indexOf(i);if(-1!==J)this.detach(J);else{const oe=u[xr],Ae=new Ev(oe,oe[li],oe[xr]);Ae.detach(Ae.indexOf(i))}}const h=this._adjustIndex(o),v=this._lContainer;!function d(n,i,o,u){const l=ci+u,h=o.length;u>0&&(o[l-1][qn]=i),u<h-ci?(i[qn]=o[l],pa(o,ci+u,i)):(o.push(i),i[qn]=null),i[xr]=o;const v=i[On];null!==v&&o!==v&&function g(n,i){const o=n[Ns];i[fn]!==i[xr][xr][fn]&&(n[_s]=!0),null===o?n[Ns]=[i]:o.push(i)}(v,i);const S=i[Br];null!==S&&S.insertView(n),i[bn]|=64}(l,u,v,h);const S=Nl(h,v),N=u[Te],$=_a(N,v[no]);return null!==$&&function Yo(n,i,o,u,l,h){u[kr]=l,u[li]=i,Nd(n,u,o,1,l,h)}(l,v[li],N,u,$,S),i.attachToViewContainerRef(),pa(Gf(v),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=wv(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=j(this._lContainer,o);u&&(Fa(Gf(this._lContainer),o),ee(u[jt],u))}detach(i){const o=this._adjustIndex(i,-1),u=j(this._lContainer,o);return u&&null!=Fa(Gf(this._lContainer),o)?new Zl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function wv(n){return n[Rs]}function Gf(n){return n[Rs]||(n[Rs]=[])}function Iv(n,i){let o;const u=i[n.index];if(as(u))o=u;else{let l;if(8&n.type)l=Gn(u);else{const h=i[Te];l=h.createComment("");const v=Wr(n,i);$n(h,_a(h,v),l,function Rd(n,i){return n.nextSibling(i)}(h,v),!1)}i[n.index]=o=Zm(u,i,l,n),fd(i,o)}return new Ev(o,n,i)}class Dv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Dv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Tv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,l=[];for(let h=0;h<u;h++){const v=o.getByIndex(h);l.push(this.queries[v.indexInDeclarationView].clone())}return new Tv(l)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Mv(i,o).matches&&this.queries[o].setDirty()}}class k0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Cv{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const l=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,l);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Cv(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class um{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new um(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(i,o,tw(o,h)),this.matchTNodeWithReadOption(i,o,lu(o,i,h,!1,!1))}else u===Ch?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,lu(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===al||l===Md||l===Ch&&4&o.type)this.addMatch(o.index,-2);else{const h=lu(o,i,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function tw(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function rw(n,i,o,u){return-1===o?function nw(n,i){return 11&n.type?Hl(n,i):4&n.type?am(n,i):null}(i,n):-2===o?function iw(n,i,o){return o===al?Hl(i,n):o===Ch?am(i,n):o===Md?Iv(i,n):void 0}(n,i,u):ei(n,n[jt],o,i)}function F0(n,i,o,u){const l=i[Br].queries[u];if(null===l.matches){const h=n.data,v=o.matches,S=[];for(let N=0;N<v.length;N+=2){const $=v[N];S.push($<0?null:rw(i,h[$],v[N+1],o.metadata.read))}l.matches=S}return l.matches}function bv(n,i,o,u){const l=n.queries.getByIndex(o),h=l.matches;if(null!==h){const v=F0(n,i,l,o);for(let S=0;S<h.length;S+=2){const N=h[S];if(N>0)u.push(v[S/2]);else{const $=h[S+1],J=i[-N];for(let oe=ci;oe<J.length;oe++){const Ae=J[oe];Ae[On]===Ae[xr]&&bv(Ae[jt],Ae,$,u)}if(null!==J[Ns]){const oe=J[Ns];for(let Ae=0;Ae<oe.length;Ae++){const Ge=oe[Ae];bv(Ge[jt],Ge,$,u)}}}}}return u}function L0(n){const i=R(),o=O(),u=No();ca(u+1);const l=Mv(o,u);if(n.dirty&&function Qr(n){return 4==(4&n[bn])}(i)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?bv(o,i,u,[]):F0(o,i,l,u);n.reset(h,Gd),n.notifyOnChanges()}return!0}return!1}function Sv(n,i,o,u){const l=O();if(l.firstCreatePass){const h=Ve();(function U0(n,i,o){null===n.queries&&(n.queries=new Cv),n.queries.track(new um(i,o))})(l,new k0(i,o,u),h.index),function aw(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(l,n),2==(2&o)&&(l.staticContentQueries=!0)}!function Av(n,i,o){const u=new vv(4==(4&o));Bp(n,i,u,u.destroy),null===i[Br]&&(i[Br]=new Tv),i[Br].queries.push(new Dv(u))}(l,R(),o)}function V0(){return function ow(n,i){return n[Br].queries[i].queryList}(R(),No())}function Mv(n,i){return n.queries.getByIndex(i)}function xv(n){return!!tr(n)}function Tu(...n){}const _w=new Wn("Application Initializer");let kv=(()=>{class n{constructor(o){this.appInits=o,this.resolve=Tu,this.reject=Tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(uh(h))o.push(h);else if(Mc(h)){const v=new Promise((S,N)=>{h.subscribe({complete:S,error:N})});o.push(v)}}Promise.all(o).then(()=>{u()}).catch(l=>{this.reject(l)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(Rn(_w,8))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=new Wn("AppId",{providedIn:"root",factory:function ww(){return`${J0()}${J0()}${J0()}`}});function J0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iw=new Wn("Platform Initializer"),rI=new Wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iI=new Wn("AnimationModuleType");let sI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Fv=new Wn("LocaleId",{providedIn:"root",factory:()=>Tr(Fv,Pt.Optional|Pt.SkipSelf)||function oI(){return typeof $localize<"u"&&$localize.locale||nc}()}),aI=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class uI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let lI=(()=>{class n{compileModuleSync(o){return new rm(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=ja(tr(o).declarations).reduce((v,S)=>{const N=Zt(S);return N&&v.push(new nh(N)),v},[]);return new uI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=(()=>Promise.resolve(0))();function X0(n){typeof Zone>"u"?hI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class zu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hu(!1),this.onMicrotaskEmpty=new Hu(!1),this.onStable=new Hu(!1),this.onError=new Hu(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&o,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function fI(){let n=Xn.requestAnimationFrame,i=Xn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function mI(n){const i=()=>{!function gI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Xn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,tE(n),n.isCheckStableRunning=!0,eE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),tE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,l,h,v,S)=>{try{return Cw(n),o.invokeTask(l,h,v,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),bw(n)}},onInvoke:(o,u,l,h,v,S,N)=>{try{return Cw(n),o.invoke(l,h,v,S,N)}finally{n.shouldCoalesceRunChangeDetection&&i(),bw(n)}},onHasTask:(o,u,l,h)=>{o.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,tE(n),eE(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,l,h)=>(o.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zu.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(zu.isInAngularZone())throw new Qe(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,l){const h=this._inner,v=h.scheduleEventTask("NgZoneEvent: "+l,i,pI,Tu,Tu);try{return h.runTask(v,o,u)}finally{h.cancelTask(v)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const pI={};function eE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function tE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Cw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bw(n){n._nesting--,eE(n)}class yI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hu,this.onMicrotaskEmpty=new Hu,this.onStable=new Hu,this.onError=new Hu}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,l){return i.apply(o,u)}}const Sw=new Wn(""),Aw=new Wn("");let nE,vI=(()=>{class n{constructor(o,u,l){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,nE||(function _I(n){nE=n}(l),l.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zu.assertNotInAngularZone(),X0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())X0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,l){return[]}}return n.\u0275fac=function(o){return new(o||n)(Rn(zu),Rn(Mw),Rn(Aw))},n.\u0275prov=yt({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return nE?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const $c=!1;let xd=null;const xw=new Wn("AllowMultipleToken"),rE=new Wn("PlatformDestroyListeners"),Rw=new Wn("appBootstrapListener");class II{constructor(i,o){this.name=i,this.token=o}}function Pw(n,i,o=[]){const u=`Platform: ${i}`,l=new Wn(u);return(h=[])=>{let v=iE();if(!v||v.injector.get(xw,!1)){const S=[...o,...h,{provide:l,useValue:!0}];n?n(S):function DI(n){if(xd&&!xd.get(xw,!1))throw new Qe(400,!1);xd=n;const i=n.get(kw);(function Nw(n){const i=n.get(Iw,null);i&&i.forEach(o=>o())})(n)}(function Ow(n=[],i){return Wl.create({name:i,providers:[{provide:cp,useValue:"platform"},{provide:rE,useValue:new Set([()=>xd=null])},...n]})}(S,u))}return function CI(n){const i=iE();if(!i)throw new Qe(401,!1);return i}()}}function iE(){return xd?.get(kw)??null}let kw=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const l=function Lw(n,i){let o;return o="noop"===n?new yI:("zone.js"===n?void 0:n)||new zu(i),o}(u?.ngZone,function Fw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:zu,useValue:l}];return l.run(()=>{const v=Wl.create({providers:h,parent:this.injector,name:o.moduleType.name}),S=o.create(v),N=S.injector.get(Wd,null);if(!N)throw new Qe(402,!1);return l.runOutsideAngular(()=>{const $=l.onError.subscribe({next:J=>{N.handleError(J)}});S.onDestroy(()=>{Vv(this._modules,S),$.unsubscribe()})}),function Vw(n,i,o){try{const u=o();return uh(u)?u.catch(l=>{throw i.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(N,l,()=>{const $=S.injector.get(kv);return $.runInitializers(),$.donePromise.then(()=>(function qg(n){Nt(n,"Expected localeId to be defined"),"string"==typeof n&&(Hs=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Fv,nc)||nc),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const l=Uw({},u);return function EI(n,i,o){const u=new rm(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const u=o.injector.get(Lv);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new Qe(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(rE,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(Rn(Wl))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Uw(n,i){return Array.isArray(i)?i.reduce(Uw,n):{...n,...i}}let Lv=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,l){this._zone=o,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new Z.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new Z.y(S=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{zu.assertNotInAngularZone(),X0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{zu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{N.unsubscribe(),$.unsubscribe()}});this.isStable=(0,De.T)(h,v.pipe((0,be.B)()))}bootstrap(o,u){const l=o instanceof pp;if(!this._injector.get(kv).done){!l&&Pr(o);throw new Qe(405,$c)}let v;v=l?o:this._injector.get(nd).resolveComponentFactory(o),this.componentTypes.push(v.componentType);const S=function wI(n){return n.isBoundToModule}(v)?void 0:this._injector.get(bd),$=v.create(Wl.NULL,[],u||v.selector,S),J=$.location.nativeElement,oe=$.injector.get(Sw,null);return oe?.registerApplication(J),$.onDestroy(()=>{this.detachView($.hostView),Vv(this.components,$),oe?.unregisterApplication(J)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Vv(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(Rw,[]);u.push(...this._bootstrapListeners),u.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Vv(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Qe(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(Rn(zu),Rn(Bl),Rn(Wd))},n.\u0275prov=yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vv(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}function SI(){return!1}let AI=(()=>{class n{}return n.__NG_ELEMENT_ID__=MI,n})();function MI(n){return function xI(n,i,o){if(Es(n)&&!o){const u=oi(n.index,i);return new Zl(u,u)}return 47&n.type?new Zl(i[fn],i):null}(Ve(),R(),16==(16&n))}class zw{constructor(){}supports(i){return cf(i)}create(i){return new FI(i)}}const kI=(n,i)=>i;class FI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||kI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,l=0,h=null;for(;o||u;){const v=!u||o&&o.currentIndex<Ww(u,l,h)?o:u,S=Ww(v,l,h),N=v.currentIndex;if(v===u)l--,u=u._nextRemoved;else if(o=o._next,null==v.previousIndex)l++;else{h||(h=[]);const $=S-l,J=N-l;if($!=J){for(let Ae=0;Ae<$;Ae++){const Ge=Ae<h.length?h[Ae]:h[Ae]=0,_t=Ge+Ae;J<=_t&&_t<$&&(h[Ae]=Ge+1)}h[v.previousIndex]=J-$}}S!==N&&i(v,S,N)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!cf(i))throw new Qe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let l,h,v,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)h=i[S],v=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,h,v,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,v,S),u=!0),o=o._next}else l=0,function sg(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,S=>{v=this._trackByFn(l,S),null!==o&&Object.is(o.trackById,v)?(u&&(o=this._verifyReinsertion(o,S,v,l)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,v,l),u=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,l){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,l)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,l)):i=this._addAfter(new LI(o,u),h,l),i}_verifyReinsertion(i,o,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,l):i.currentIndex!=l&&(i.currentIndex=l,this._addToMoves(i,l)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const l=i._prevRemoved,h=i._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const l=null===o?this._itHead:o._next;return i._next=l,i._prev=o,null===l?this._itTail=i:l._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Gw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class LI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class VI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Gw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new VI,this.map.set(o,u)),u.add(i)}get(i,o){const l=this.map.get(i);return l?l.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ww(n,i,o){const u=n.previousIndex;if(null===u)return u;let l=0;return o&&u<o.length&&(l=o[u]),u+i+l}class Kw{constructor(){}supports(i){return i instanceof Map||og(i)}create(){return new UI}}class UI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||og(i)))throw new Qe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const l=this._records.get(i);this._maybeAddToChanges(l,o);const h=l._prev,v=l._next;return h&&(h._next=v),v&&(v._prev=h),l._next=null,l._prev=null,l}const u=new BI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class BI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qw(){return new lE([new zw])}let lE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||qw()),deps:[[n,new Si,new Wt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(null!=u)return u;throw new Qe(901,!1)}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:qw}),n})();function Zw(){return new cE([new Kw])}let cE=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const l=u.factories.slice();o=o.concat(l)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||Zw()),deps:[[n,new Si,new Wt]]}}find(o){const u=this.factories.find(l=>l.supports(o));if(u)return u;throw new Qe(901,!1)}}return n.\u0275prov=yt({token:n,providedIn:"root",factory:Zw}),n})();const HI=Pw(null,"core",[]);let zI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(Rn(Lv))},n.\u0275mod=Le({type:n}),n.\u0275inj=Kn({}),n})();function GI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(nn,it,G)=>{G.d(it,{Fj:()=>Fe,NI:()=>fn,u:()=>Ds,cw:()=>qe,sg:()=>ns,u5:()=>so,JJ:()=>Xn,JL:()=>Cn,UX:()=>Na,kI:()=>rn,_Y:()=>ci});var p=G(4650),W=G(6895),Z=G(8996),De=G(9751),be=G(4742),Se=G(8421),ze=G(7669),Be=G(5403),rt=G(3268),de=G(1810),pe=G(4004);let dt=(()=>{class R{constructor(k,X){this._renderer=k,this._elementRef=X,this.onChange=Ve=>{},this.onTouched=()=>{}}setProperty(k,X){this._renderer.setProperty(this._elementRef.nativeElement,k,X)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq))},R.\u0275dir=p.lG2({type:R}),R})(),ut=(()=>{class R extends dt{}return R.\u0275fac=function(){let O;return function(X){return(O||(O=p.n5z(R)))(X||R)}}(),R.\u0275dir=p.lG2({type:R,features:[p.qOj]}),R})();const It=new p.OlP("NgValueAccessor"),ft={provide:It,useExisting:(0,p.Gpc)(()=>Fe),multi:!0},wt=new p.OlP("CompositionEventMode");let Fe=(()=>{class R extends dt{constructor(k,X,Ve){super(k,X),this._compositionMode=Ve,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Et(){const R=(0,W.q)()?(0,W.q)().getUserAgent():"";return/android (\d+)/.test(R.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(wt,8))},R.\u0275dir=p.lG2({type:R,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,X){1&k&&p.NdJ("input",function(dn){return X._handleInput(dn.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(dn){return X._compositionEnd(dn.target.value)})},features:[p._Bn([ft]),p.qOj]}),R})();const we=!1;function Ze(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}function vt(R){return null!=R&&"number"==typeof R.length}const et=new p.OlP("NgValidators"),Pe=new p.OlP("NgAsyncValidators"),Ft=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rn{static min(O){return function zt(R){return O=>{if(Ze(O.value)||Ze(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k<R?{min:{min:R,actual:O.value}}:null}}(O)}static max(O){return function _n(R){return O=>{if(Ze(O.value)||Ze(R))return null;const k=parseFloat(O.value);return!isNaN(k)&&k>R?{max:{max:R,actual:O.value}}:null}}(O)}static required(O){return function Lt(R){return Ze(R.value)?{required:!0}:null}(O)}static requiredTrue(O){return function ke(R){return!0===R.value?null:{required:!0}}(O)}static email(O){return function Ye(R){return Ze(R.value)||Ft.test(R.value)?null:{email:!0}}(O)}static minLength(O){return function je(R){return O=>Ze(O.value)||!vt(O.value)?null:O.value.length<R?{minlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function ot(R){return O=>vt(O.value)&&O.value.length>R?{maxlength:{requiredLength:R,actualLength:O.value.length}}:null}(O)}static pattern(O){return function mt(R){if(!R)return st;let O,k;return"string"==typeof R?(k="","^"!==R.charAt(0)&&(k+="^"),k+=R,"$"!==R.charAt(R.length-1)&&(k+="$"),O=new RegExp(k)):(k=R.toString(),O=R),X=>{if(Ze(X.value))return null;const Ve=X.value;return O.test(Ve)?null:{pattern:{requiredPattern:k,actualValue:Ve}}}}(O)}static nullValidator(O){return null}static compose(O){return Ut(O)}static composeAsync(O){return jn(O)}}function st(R){return null}function Nt(R){return null!=R}function Ie(R){const O=(0,p.QGY)(R)?(0,Z.D)(R):R;if(we&&!(0,p.CqO)(O)){let k="Expected async validator to return Promise or Observable.";throw"object"==typeof R&&(k+=" Are you using a synchronous validator where an async validator is expected?"),new p.vHH(-1101,k)}return O}function He(R){let O={};return R.forEach(k=>{O=null!=k?{...O,...k}:O}),0===Object.keys(O).length?null:O}function he(R,O){return O.map(k=>k(R))}function yt(R){return R.map(O=>function Ne(R){return!R.validate}(O)?O:k=>O.validate(k))}function Ut(R){if(!R)return null;const O=R.filter(Nt);return 0==O.length?null:function(k){return He(he(k,O))}}function Kn(R){return null!=R?Ut(yt(R)):null}function jn(R){if(!R)return null;const O=R.filter(Nt);return 0==O.length?null:function(k){return function le(...R){const O=(0,ze.jO)(R),{args:k,keys:X}=(0,be.D)(R),Ve=new De.y(dn=>{const{length:yr}=k;if(!yr)return void dn.complete();const Lr=new Array(yr);let hs=yr,oo=yr;for(let Ro=0;Ro<yr;Ro++){let wi=!1;(0,Se.Xf)(k[Ro]).subscribe((0,Be.x)(dn,bi=>{wi||(wi=!0,oo--),Lr[Ro]=bi},()=>hs--,void 0,()=>{(!hs||!wi)&&(oo||dn.next(X?(0,de.n)(X,Lr):Lr),dn.complete())}))}});return O?Ve.pipe((0,rt.Z)(O)):Ve}(he(k,O).map(Ie)).pipe((0,pe.U)(He))}}function Er(R){return null!=R?jn(yt(R)):null}function wr(R,O){return null===R?[O]:Array.isArray(R)?[...R,O]:[R,O]}function Ir(R){return R._rawValidators}function hr(R){return R._rawAsyncValidators}function zr(R){return R?Array.isArray(R)?R:[R]:[]}function sn(R,O){return Array.isArray(R)?R.includes(O):R===O}function Dr(R,O){const k=zr(O);return zr(R).forEach(Ve=>{sn(k,Ve)||k.push(Ve)}),k}function xn(R,O){return zr(O).filter(k=>!sn(R,k))}class Pt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Kn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=Er(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,k){return!!this.control&&this.control.hasError(O,k)}getError(O,k){return this.control?this.control.getError(O,k):null}}class Hn extends Pt{get formDirective(){return null}get path(){return null}}class yi extends Pt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Pn{constructor(O){this._cd=O}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xn=(()=>{class R extends Pn{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(yi,2))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},features:[p.qOj]}),R})(),Cn=(()=>{class R extends Pn{constructor(k){super(k)}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(Hn,10))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,X){2&k&&p.ekj("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},features:[p.qOj]}),R})();function gt(R,O){return R?`with name: '${O}'`:`at index: ${O}`}const Yr=!1,Jt="VALID",fr="INVALID",ue="PENDING",se="DISABLED";function ge(R){return(me(R)?R.validators:R)||null}function Oe(R,O){return(me(O)?O.asyncValidators:R)||null}function me(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class ye{constructor(O,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(O),this._assignAsyncValidators(k)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===Jt}get invalid(){return this.status===fr}get pending(){return this.status==ue}get disabled(){return this.status===se}get enabled(){return this.status!==se}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._assignValidators(O)}setAsyncValidators(O){this._assignAsyncValidators(O)}addValidators(O){this.setValidators(Dr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(Dr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(xn(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(xn(O,this._rawAsyncValidators))}hasValidator(O){return sn(this._rawValidators,O)}hasAsyncValidator(O){return sn(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=ue,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=se,this.errors=null,this._forEachChild(X=>{X.disable({...O,onlySelf:!0})}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!0))}enable(O={}){const k=this._parentMarkedDirty(O.onlySelf);this.status=Jt,this._forEachChild(X=>{X.enable({...O,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors({...O,skipPristineCheck:k}),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}getRawValue(){return this.value}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jt||this.status===ue)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?se:Jt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=ue,this._hasOwnPendingAsyncValidator=!0;const k=Ie(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,k={}){this.errors=O,this._updateControlsErrors(!1!==k.emitEvent)}get(O){let k=O;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((X,Ve)=>X&&X._find(Ve),this)}getError(O,k){const X=k?this.get(k):this;return X&&X.errors?X.errors[O]:null}hasError(O,k){return!!this.getError(O,k)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?se:this.errors?fr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ue)?ue:this._anyControlsHaveStatus(fr)?fr:Jt}_anyControlsHaveStatus(O){return this._anyControls(k=>k.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){me(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(O){return null}_assignValidators(O){this._rawValidators=Array.isArray(O)?O.slice():O,this._composedValidatorFn=function at(R){return Array.isArray(R)?Kn(R):R||null}(this._rawValidators)}_assignAsyncValidators(O){this._rawAsyncValidators=Array.isArray(O)?O.slice():O,this._composedAsyncValidatorFn=function Mt(R){return Array.isArray(R)?Er(R):R||null}(this._rawAsyncValidators)}}class qe extends ye{constructor(O,k,X){super(ge(k),Oe(X,k)),this.controls=O,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,k){return this.controls[O]?this.controls[O]:(this.controls[O]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(O,k,X={}){this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(O,k={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(O,k,X={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],k&&this.registerControl(O,k),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,k={}){(function re(R,O,k){R._forEachChild((X,Ve)=>{if(void 0===k[Ve])throw new p.vHH(1002,Yr?function St(R,O){return`Must supply a value for form control ${gt(R,O)}`}(O,Ve):"")})})(this,!0,O),Object.keys(O).forEach(X=>{(function ae(R,O,k){const X=R.controls;if(!(O?Object.keys(X):X).length)throw new p.vHH(1e3,Yr?function Tr(R){return`\n    There are no form controls registered with this ${R?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(O):"");if(!X[k])throw new p.vHH(1001,Yr?function Cr(R,O){return`Cannot find form control ${gt(R,O)}`}(O,k):"")})(this,!0,X),this.controls[X].setValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(O,k={}){null!=O&&(Object.keys(O).forEach(X=>{const Ve=this.controls[X];Ve&&Ve.patchValue(O[X],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(O={},k={}){this._forEachChild((X,Ve)=>{X.reset(O[Ve],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(O,k,X)=>(O[X]=k.getRawValue(),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(k,X)=>!!X._syncPendingControls()||k);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(k=>{const X=this.controls[k];X&&O(X,k)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const[k,X]of Object.entries(this.controls))if(this.contains(k)&&O(X))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,X,Ve)=>((X.enabled||this.disabled)&&(k[Ve]=X.value),k))}_reduceChildren(O,k){let X=O;return this._forEachChild((Ve,dn)=>{X=k(X,Ve,dn)}),X}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(O){return this.controls.hasOwnProperty(O)?this.controls[O]:null}}const zn=new p.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Xe}),Xe="always";function Tt(R,O,k=Xe){Zt(R,O),O.valueAccessor.writeValue(R.value),(R.disabled||"always"===k)&&O.valueAccessor.setDisabledState?.(R.disabled),function Qn(R,O){O.valueAccessor.registerOnChange(k=>{R._pendingValue=k,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&tr(R,O)})}(R,O),function xs(R,O){const k=(X,Ve)=>{O.valueAccessor.writeValue(X),Ve&&O.viewToModelUpdate(X)};R.registerOnChange(k),O._registerOnDestroy(()=>{R._unregisterOnChange(k)})}(R,O),function Pr(R,O){O.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&tr(R,O),"submit"!==R.updateOn&&R.markAsTouched()})}(R,O),function yn(R,O){if(O.valueAccessor.setDisabledState){const k=X=>{O.valueAccessor.setDisabledState(X)};R.registerOnDisabledChange(k),O._registerOnDestroy(()=>{R._unregisterOnDisabledChange(k)})}}(R,O)}function qt(R,O,k=!0){const X=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(X),O.valueAccessor.registerOnTouched(X)),Un(R,O),R&&(O._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function un(R,O){R.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(O)})}function Zt(R,O){const k=Ir(R);null!==O.validator?R.setValidators(wr(k,O.validator)):"function"==typeof k&&R.setValidators([k]);const X=hr(R);null!==O.asyncValidator?R.setAsyncValidators(wr(X,O.asyncValidator)):"function"==typeof X&&R.setAsyncValidators([X]);const Ve=()=>R.updateValueAndValidity();un(O._rawValidators,Ve),un(O._rawAsyncValidators,Ve)}function Un(R,O){let k=!1;if(null!==R){if(null!==O.validator){const Ve=Ir(R);if(Array.isArray(Ve)&&Ve.length>0){const dn=Ve.filter(yr=>yr!==O.validator);dn.length!==Ve.length&&(k=!0,R.setValidators(dn))}}if(null!==O.asyncValidator){const Ve=hr(R);if(Array.isArray(Ve)&&Ve.length>0){const dn=Ve.filter(yr=>yr!==O.asyncValidator);dn.length!==Ve.length&&(k=!0,R.setAsyncValidators(dn))}}}const X=()=>{};return un(O._rawValidators,X),un(O._rawAsyncValidators,X),k}function tr(R,O){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function hn(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}function An(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const fn=class extends ye{constructor(O=null,k,X){super(ge(k),Oe(X,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),me(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=An(O)?O.value:O)}setValue(O,k={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(O,k={}){this.setValue(O,k)}reset(O=this.defaultValue,k={}){this._applyFormState(O),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){hn(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){hn(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){An(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}};let ci=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275dir=p.lG2({type:R,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),R})(),Es=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({}),R})();const na=new p.OlP("NgModelWithFormControlWarning"),So={provide:Hn,useExisting:(0,p.Gpc)(()=>ns)};let ns=(()=>{class R extends Hn{constructor(k,X,Ve){super(),this.callSetDisabledState=Ve,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(k),this._setAsyncValidators(X)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Un(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const X=this.form.get(k.path);return Tt(X,k,this.callSetDisabledState),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),X}getControl(k){return this.form.get(k.path)}removeControl(k){qt(k.control||null,k,!1),function xe(R,O){const k=R.indexOf(O);k>-1&&R.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,X){this.form.get(k.path).setValue(X)}onSubmit(k){return this.submitted=!0,function vs(R,O){R._syncPendingControls(),O.forEach(k=>{const X=k.control;"submit"===X.updateOn&&X._pendingChange&&(k.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const X=k.control,Ve=this.form.get(k.path);X!==Ve&&(qt(X||null,k),(R=>R instanceof fn)(Ve)&&(Tt(Ve,k,this.callSetDisabledState),k.control=Ve))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const X=this.form.get(k.path);(function os(R,O){Zt(R,O)})(X,k),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const X=this.form.get(k.path);X&&function Mi(R,O){return Un(R,O)}(X,k)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zt(this.form,this),this._oldForm&&Un(this._oldForm,this)}_checkFormPresent(){}}return R.\u0275fac=function(k){return new(k||R)(p.Y36(et,10),p.Y36(Pe,10),p.Y36(zn,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formGroup",""]],hostBindings:function(k,X){1&k&&p.NdJ("submit",function(dn){return X.onSubmit(dn)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([So]),p.qOj,p.TTD]}),R})();const ia={provide:yi,useExisting:(0,p.Gpc)(()=>Ds)};let Ds=(()=>{class R extends yi{set isDisabled(k){}constructor(k,X,Ve,dn,yr){super(),this._ngModelWarningConfig=yr,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(X),this._setAsyncValidators(Ve),this.valueAccessor=function Or(R,O){if(!O)return null;let k,X,Ve;return Array.isArray(O),O.forEach(dn=>{dn.constructor===Fe?k=dn:function li(R){return Object.getPrototypeOf(R.constructor)===ut}(dn)?X=dn:Ve=dn}),Ve||X||k||null}(0,dn)}ngOnChanges(k){this._added||this._setUpControl(),function Bi(R,O){if(!R.hasOwnProperty("model"))return!1;const k=R.model;return!!k.isFirstChange()||!Object.is(O,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function Le(R,O){return[...O.path,R]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return R._ngModelWarningSentOnce=!1,R.\u0275fac=function(k){return new(k||R)(p.Y36(Hn,13),p.Y36(et,10),p.Y36(Pe,10),p.Y36(It,10),p.Y36(na,8))},R.\u0275dir=p.lG2({type:R,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([ia]),p.qOj,p.TTD]}),R})(),ds=(()=>{class R{}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[Es]}),R})(),so=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:zn,useValue:k.callSetDisabledState??Xe}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ds]}),R})(),Na=(()=>{class R{static withConfig(k){return{ngModule:R,providers:[{provide:na,useValue:k.warnOnNgModelWithFormControl??"always"},{provide:zn,useValue:k.callSetDisabledState??Xe}]}}}return R.\u0275fac=function(k){return new(k||R)},R.\u0275mod=p.oAB({type:R}),R.\u0275inj=p.cJS({imports:[ds]}),R})()},1481:(nn,it,G)=>{G.d(it,{Dx:()=>Cn,H7:()=>ge,b2:()=>yi,q6:()=>Dr,se:()=>Lt});var p=G(6895),W=G(4650);class Z extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class De extends Z{static makeCurrent(){(0,p.HT)(new De)}onAndCancel(ae,re,ye){return ae.addEventListener(re,ye,!1),()=>{ae.removeEventListener(re,ye,!1)}}dispatchEvent(ae,re){ae.dispatchEvent(re)}remove(ae){ae.parentNode&&ae.parentNode.removeChild(ae)}createElement(ae,re){return(re=re||this.getDefaultDocument()).createElement(ae)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ae){return ae.nodeType===Node.ELEMENT_NODE}isShadowRoot(ae){return ae instanceof DocumentFragment}getGlobalEventTarget(ae,re){return"window"===re?window:"document"===re?ae:"body"===re?ae.body:null}getBaseHref(ae){const re=function Se(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==re?null:function Be(me){ze=ze||document.createElement("a"),ze.setAttribute("href",me);const ae=ze.pathname;return"/"===ae.charAt(0)?ae:`/${ae}`}(re)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(ae){return(0,p.Mx)(document.cookie,ae)}}let ze,be=null;const rt=new W.OlP("TRANSITION_ID"),le=[{provide:W.ip1,useFactory:function de(me,ae,re){return()=>{re.get(W.CZH).donePromise.then(()=>{const ye=(0,p.q)(),qe=ae.querySelectorAll(`style[ng-transition="${me}"]`);for(let bt=0;bt<qe.length;bt++)ye.remove(qe[bt])})}},deps:[rt,p.K0,W.zs3],multi:!0}];let dt=(()=>{class me{build(){return new XMLHttpRequest}}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();const ut=new W.OlP("EventManagerPlugins");let It=(()=>{class me{constructor(re,ye){this._zone=ye,this._eventNameToPlugin=new Map,re.forEach(qe=>{qe.manager=this}),this._plugins=re.slice().reverse()}addEventListener(re,ye,qe){return this._findPluginFor(ye).addEventListener(re,ye,qe)}addGlobalEventListener(re,ye,qe){return this._findPluginFor(ye).addGlobalEventListener(re,ye,qe)}getZone(){return this._zone}_findPluginFor(re){const ye=this._eventNameToPlugin.get(re);if(ye)return ye;const qe=this._plugins;for(let bt=0;bt<qe.length;bt++){const pn=qe[bt];if(pn.supports(re))return this._eventNameToPlugin.set(re,pn),pn}throw new Error(`No event manager plugin found for event ${re}`)}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(ut),W.LFG(W.R0b))},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();class $t{constructor(ae){this._doc=ae}addGlobalEventListener(ae,re,ye){const qe=(0,p.q)().getGlobalEventTarget(this._doc,ae);if(!qe)throw new Error(`Unsupported event target ${qe} for event ${re}`);return this.addEventListener(qe,re,ye)}}let Qe=(()=>{class me{constructor(){this.usageCount=new Map}addStyles(re){for(const ye of re)1===this.changeUsageCount(ye,1)&&this.onStyleAdded(ye)}removeStyles(re){for(const ye of re)0===this.changeUsageCount(ye,-1)&&this.onStyleRemoved(ye)}onStyleRemoved(re){}onStyleAdded(re){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(re,ye){const qe=this.usageCount;let bt=qe.get(re)??0;return bt+=ye,bt>0?qe.set(re,bt):qe.delete(re),bt}ngOnDestroy(){for(const re of this.getAllStyles())this.onStyleRemoved(re);this.usageCount.clear()}}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})(),ft=(()=>{class me extends Qe{constructor(re){super(),this.doc=re,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(re){for(const ye of this.hostNodes)this.addStyleToHost(ye,re)}onStyleRemoved(re){const ye=this.styleRef;ye.get(re)?.forEach(bt=>bt.remove()),ye.delete(re)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(re){this.hostNodes.add(re);for(const ye of this.getAllStyles())this.addStyleToHost(re,ye)}removeHost(re){this.hostNodes.delete(re)}addStyleToHost(re,ye){const qe=this.doc.createElement("style");qe.textContent=ye,re.appendChild(qe);const bt=this.styleRef.get(ye);bt?bt.push(qe):this.styleRef.set(ye,[qe])}resetHostNodes(){const re=this.hostNodes;re.clear(),re.add(this.doc.head)}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(p.K0))},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wt=/%COMP%/g,Pe=new W.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function zt(me,ae){return ae.flat(100).map(re=>re.replace(wt,me))}function _n(me){return ae=>{if("__ngUnwrap__"===ae)return me;!1===me(ae)&&(ae.preventDefault(),ae.returnValue=!1)}}let Lt=(()=>{class me{constructor(re,ye,qe,bt){this.eventManager=re,this.sharedStylesHost=ye,this.appId=qe,this.removeStylesOnCompDestory=bt,this.rendererByCompId=new Map,this.defaultRenderer=new ke(re)}createRenderer(re,ye){if(!re||!ye)return this.defaultRenderer;const qe=this.getOrCreateRenderer(re,ye);return qe instanceof Nt?qe.applyToHost(re):qe instanceof st&&qe.applyStyles(),qe}getOrCreateRenderer(re,ye){const qe=this.rendererByCompId;let bt=qe.get(ye.id);if(!bt){const pn=this.eventManager,Sn=this.sharedStylesHost,sr=this.removeStylesOnCompDestory;switch(ye.encapsulation){case W.ifc.Emulated:bt=new Nt(pn,Sn,ye,this.appId,sr);break;case W.ifc.ShadowDom:return new mt(pn,Sn,re,ye);default:bt=new st(pn,Sn,ye,sr)}bt.onDestroy=()=>qe.delete(ye.id),qe.set(ye.id,bt)}return bt}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(It),W.LFG(ft),W.LFG(W.AFp),W.LFG(Pe))},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();class ke{constructor(ae){this.eventManager=ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ae,re){return re?document.createElementNS(Et[re]||re,ae):document.createElement(ae)}createComment(ae){return document.createComment(ae)}createText(ae){return document.createTextNode(ae)}appendChild(ae,re){(ot(ae)?ae.content:ae).appendChild(re)}insertBefore(ae,re,ye){ae&&(ot(ae)?ae.content:ae).insertBefore(re,ye)}removeChild(ae,re){ae&&ae.removeChild(re)}selectRootElement(ae,re){let ye="string"==typeof ae?document.querySelector(ae):ae;if(!ye)throw new Error(`The selector "${ae}" did not match any elements`);return re||(ye.textContent=""),ye}parentNode(ae){return ae.parentNode}nextSibling(ae){return ae.nextSibling}setAttribute(ae,re,ye,qe){if(qe){re=qe+":"+re;const bt=Et[qe];bt?ae.setAttributeNS(bt,re,ye):ae.setAttribute(re,ye)}else ae.setAttribute(re,ye)}removeAttribute(ae,re,ye){if(ye){const qe=Et[ye];qe?ae.removeAttributeNS(qe,re):ae.removeAttribute(`${ye}:${re}`)}else ae.removeAttribute(re)}addClass(ae,re){ae.classList.add(re)}removeClass(ae,re){ae.classList.remove(re)}setStyle(ae,re,ye,qe){qe&(W.JOm.DashCase|W.JOm.Important)?ae.style.setProperty(re,ye,qe&W.JOm.Important?"important":""):ae.style[re]=ye}removeStyle(ae,re,ye){ye&W.JOm.DashCase?ae.style.removeProperty(re):ae.style[re]=""}setProperty(ae,re,ye){ae[re]=ye}setValue(ae,re){ae.nodeValue=re}listen(ae,re,ye){return"string"==typeof ae?this.eventManager.addGlobalEventListener(ae,re,_n(ye)):this.eventManager.addEventListener(ae,re,_n(ye))}}function ot(me){return"TEMPLATE"===me.tagName&&void 0!==me.content}class mt extends ke{constructor(ae,re,ye,qe){super(ae),this.sharedStylesHost=re,this.hostEl=ye,this.shadowRoot=ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const bt=zt(qe.id,qe.styles);for(const pn of bt){const Sn=document.createElement("style");Sn.textContent=pn,this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(ae){return ae===this.hostEl?this.shadowRoot:ae}appendChild(ae,re){return super.appendChild(this.nodeOrShadowRoot(ae),re)}insertBefore(ae,re,ye){return super.insertBefore(this.nodeOrShadowRoot(ae),re,ye)}removeChild(ae,re){return super.removeChild(this.nodeOrShadowRoot(ae),re)}parentNode(ae){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ae)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class st extends ke{constructor(ae,re,ye,qe,bt=ye.id){super(ae),this.sharedStylesHost=re,this.removeStylesOnCompDestory=qe,this.rendererUsageCount=0,this.styles=zt(bt,ye.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Nt extends st{constructor(ae,re,ye,qe,bt){const pn=qe+"-"+ye.id;super(ae,re,ye,bt,pn),this.contentAttr=function Ft(me){return"_ngcontent-%COMP%".replace(wt,me)}(pn),this.hostAttr=function rn(me){return"_nghost-%COMP%".replace(wt,me)}(pn)}applyToHost(ae){this.applyStyles(),this.setAttribute(ae,this.hostAttr,"")}createElement(ae,re){const ye=super.createElement(ae,re);return super.setAttribute(ye,this.contentAttr,""),ye}}let Ie=(()=>{class me extends $t{constructor(re){super(re)}supports(re){return!0}addEventListener(re,ye,qe){return re.addEventListener(ye,qe,!1),()=>this.removeEventListener(re,ye,qe)}removeEventListener(re,ye,qe){return re.removeEventListener(ye,qe)}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(p.K0))},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();const He=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:me=>me.altKey,control:me=>me.ctrlKey,meta:me=>me.metaKey,shift:me=>me.shiftKey};let yt=(()=>{class me extends $t{constructor(re){super(re)}supports(re){return null!=me.parseEventName(re)}addEventListener(re,ye,qe){const bt=me.parseEventName(ye),pn=me.eventCallback(bt.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(re,bt.domEventName,pn))}static parseEventName(re){const ye=re.toLowerCase().split("."),qe=ye.shift();if(0===ye.length||"keydown"!==qe&&"keyup"!==qe)return null;const bt=me._normalizeKey(ye.pop());let pn="",Sn=ye.indexOf("code");if(Sn>-1&&(ye.splice(Sn,1),pn="code."),He.forEach(zn=>{const Xe=ye.indexOf(zn);Xe>-1&&(ye.splice(Xe,1),pn+=zn+".")}),pn+=bt,0!=ye.length||0===bt.length)return null;const sr={};return sr.domEventName=qe,sr.fullKey=pn,sr}static matchEventFullKeyCode(re,ye){let qe=he[re.key]||re.key,bt="";return ye.indexOf("code.")>-1&&(qe=re.code,bt="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),He.forEach(pn=>{pn!==qe&&(0,Ne[pn])(re)&&(bt+=pn+".")}),bt+=qe,bt===ye)}static eventCallback(re,ye,qe){return bt=>{me.matchEventFullKeyCode(bt,re)&&qe.runGuarded(()=>ye(bt))}}static _normalizeKey(re){return"esc"===re?"escape":re}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(p.K0))},me.\u0275prov=W.Yz7({token:me,factory:me.\u0275fac}),me})();const Dr=(0,W.eFA)(W._c5,"browser",[{provide:W.Lbi,useValue:p.bD},{provide:W.g9A,useValue:function Ir(){De.makeCurrent()},multi:!0},{provide:p.K0,useFactory:function zr(){return(0,W.RDi)(document),document},deps:[]}]),xn=new W.OlP(""),Pt=[{provide:W.rWj,useClass:class pe{addToWindow(ae){W.dqk.getAngularTestability=(ye,qe=!0)=>{const bt=ae.findTestabilityInTree(ye,qe);if(null==bt)throw new Error("Could not find testability for element.");return bt},W.dqk.getAllAngularTestabilities=()=>ae.getAllTestabilities(),W.dqk.getAllAngularRootElements=()=>ae.getAllRootElements(),W.dqk.frameworkStabilizers||(W.dqk.frameworkStabilizers=[]),W.dqk.frameworkStabilizers.push(ye=>{const qe=W.dqk.getAllAngularTestabilities();let bt=qe.length,pn=!1;const Sn=function(sr){pn=pn||sr,bt--,0==bt&&ye(pn)};qe.forEach(function(sr){sr.whenStable(Sn)})})}findTestabilityInTree(ae,re,ye){return null==re?null:ae.getTestability(re)??(ye?(0,p.q)().isShadowRoot(re)?this.findTestabilityInTree(ae,re.host,!0):this.findTestabilityInTree(ae,re.parentElement,!0):null)}},deps:[]},{provide:W.lri,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]},{provide:W.dDg,useClass:W.dDg,deps:[W.R0b,W.eoX,W.rWj]}],Hn=[{provide:W.zSh,useValue:"root"},{provide:W.qLn,useFactory:function hr(){return new W.qLn},deps:[]},{provide:ut,useClass:Ie,multi:!0,deps:[p.K0,W.R0b,W.Lbi]},{provide:ut,useClass:yt,multi:!0,deps:[p.K0]},{provide:Lt,useClass:Lt,deps:[It,ft,W.AFp,Pe]},{provide:W.FYo,useExisting:Lt},{provide:Qe,useExisting:ft},{provide:ft,useClass:ft,deps:[p.K0]},{provide:It,useClass:It,deps:[ut,W.R0b]},{provide:p.JF,useClass:dt,deps:[]},[]];let yi=(()=>{class me{constructor(re){}static withServerTransition(re){return{ngModule:me,providers:[{provide:W.AFp,useValue:re.appId},{provide:rt,useExisting:W.AFp},le]}}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(xn,12))},me.\u0275mod=W.oAB({type:me}),me.\u0275inj=W.cJS({providers:[...Hn,...Pt],imports:[p.ez,W.hGG]}),me})(),Cn=(()=>{class me{constructor(re){this._doc=re}getTitle(){return this._doc.title}setTitle(re){this._doc.title=re||""}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(p.K0))},me.\u0275prov=W.Yz7({token:me,factory:function(re){let ye=null;return ye=re?new re:function Xn(){return new Cn((0,W.LFG)(p.K0))}(),ye},providedIn:"root"}),me})();typeof window<"u"&&window;let ge=(()=>{class me{}return me.\u0275fac=function(re){return new(re||me)},me.\u0275prov=W.Yz7({token:me,factory:function(re){let ye=null;return ye=re?new(re||me):W.LFG(Oe),ye},providedIn:"root"}),me})(),Oe=(()=>{class me extends ge{constructor(re){super(),this._doc=re}sanitize(re,ye){if(null==ye)return null;switch(re){case W.q3G.NONE:return ye;case W.q3G.HTML:return(0,W.qzn)(ye,"HTML")?(0,W.z3N)(ye):(0,W.EiD)(this._doc,String(ye)).toString();case W.q3G.STYLE:return(0,W.qzn)(ye,"Style")?(0,W.z3N)(ye):ye;case W.q3G.SCRIPT:if((0,W.qzn)(ye,"Script"))return(0,W.z3N)(ye);throw new Error("unsafe value used in a script context");case W.q3G.URL:return(0,W.qzn)(ye,"URL")?(0,W.z3N)(ye):(0,W.mCW)(String(ye));case W.q3G.RESOURCE_URL:if((0,W.qzn)(ye,"ResourceURL"))return(0,W.z3N)(ye);throw new Error(`unsafe value used in a resource URL context (see ${W.JZr})`);default:throw new Error(`Unexpected SecurityContext ${re} (see ${W.JZr})`)}}bypassSecurityTrustHtml(re){return(0,W.JVY)(re)}bypassSecurityTrustStyle(re){return(0,W.L6k)(re)}bypassSecurityTrustScript(re){return(0,W.eBb)(re)}bypassSecurityTrustUrl(re){return(0,W.LAX)(re)}bypassSecurityTrustResourceUrl(re){return(0,W.pB0)(re)}}return me.\u0275fac=function(re){return new(re||me)(W.LFG(p.K0))},me.\u0275prov=W.Yz7({token:me,factory:function(re){let ye=null;return ye=re?new re:function at(me){return new Oe(me.get(p.K0))}(W.LFG(W.zs3)),ye},providedIn:"root"}),me})()},9036:(nn,it,G)=>{G.d(it,{F0:()=>ti,rH:()=>ha,Bz:()=>Ii,lC:()=>br});var p=G(4650),W=G(8996),Z=G(9646),De=G(7579);class be extends De.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:T}=this;if(E)throw m;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}var Se=G(6805),ze=G(9751),Be=G(4742),rt=G(4671),de=G(3268),le=G(7669),pe=G(1810),dt=G(5403),ut=G(9672);function It(...y){const E=(0,le.yG)(y),m=(0,le.jO)(y),{args:T,keys:A}=(0,Be.D)(y);if(0===T.length)return(0,W.D)([],E);const V=new ze.y(function $t(y,E,m=rt.y){return T=>{Qe(E,()=>{const{length:A}=y,V=new Array(A);let Y=A,Ce=A;for(let ht=0;ht<A;ht++)Qe(E,()=>{const Xt=(0,W.D)(y[ht],E);let Wt=!1;Xt.subscribe((0,dt.x)(T,lr=>{V[ht]=lr,Wt||(Wt=!0,Ce--),Ce||T.next(m(V.slice()))},()=>{--Y||T.complete()}))},T)},T)}}(T,E,A?Y=>(0,pe.n)(A,Y):rt.y));return m?V.pipe((0,de.Z)(m)):V}function Qe(y,E,m){y?(0,ut.f)(m,y,E):E()}var ft=G(8189);function wt(...y){return function Et(){return(0,ft.J)(1)}()((0,W.D)(y,(0,le.yG)(y)))}var Fe=G(8421);function we(y){return new ze.y(E=>{(0,Fe.Xf)(y()).subscribe(E)})}var Ze=G(9635),vt=G(576);function et(y,E){const m=(0,vt.m)(y)?y:()=>y,T=A=>A.error(m());return new ze.y(E?A=>E.schedule(T,0,A):T)}var Pe=G(515),Ft=G(727),rn=G(4482);function zt(){return(0,rn.e)((y,E)=>{let m=null;y._refCount++;const T=(0,dt.x)(E,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(m=null);const A=y._connection,V=m;m=null,A&&(!V||A===V)&&A.unsubscribe(),E.unsubscribe()});y.subscribe(T),T.closed||(m=y.connect())})}class _n extends ze.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,rn.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ft.w0;const m=this.getSubject();E.add(this.source.subscribe((0,dt.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ft.w0.EMPTY)}return E}refCount(){return zt()(this)}}var Lt=G(6895),ke=G(4004),Ye=G(3900),je=G(5698),mt=G(9300),st=G(5577),Nt=G(590);function Ie(y,E){return(0,vt.m)(E)?(0,st.z)(y,E,1):(0,st.z)(y,1)}var He=G(8505);function he(y){return(0,rn.e)((E,m)=>{let V,T=null,A=!1;T=E.subscribe((0,dt.x)(m,void 0,void 0,Y=>{V=(0,Fe.Xf)(y(Y,he(y)(E))),T?(T.unsubscribe(),T=null,V.subscribe(m)):A=!0})),A&&(T.unsubscribe(),T=null,V.subscribe(m))})}function yt(y,E){return(0,rn.e)(function Ne(y,E,m,T,A){return(V,Y)=>{let Ce=m,ht=E,Xt=0;V.subscribe((0,dt.x)(Y,Wt=>{const lr=Xt++;ht=Ce?y(ht,Wt,lr):(Ce=!0,Wt),T&&Y.next(ht)},A&&(()=>{Ce&&Y.next(ht),Y.complete()})))}}(y,E,arguments.length>=2,!0))}function Ut(y){return y<=0?()=>Pe.E:(0,rn.e)((E,m)=>{let T=[];E.subscribe((0,dt.x)(m,A=>{T.push(A),y<T.length&&T.shift()},()=>{for(const A of T)m.next(A);m.complete()},void 0,()=>{T=null}))})}var Kn=G(8068),jn=G(6590);function Er(y,E){const m=arguments.length>=2;return T=>T.pipe(y?(0,mt.h)((A,V)=>y(A,V,T)):rt.y,Ut(1),m?(0,jn.d)(E):(0,Kn.T)(()=>new Se.K))}function hr(y){return(0,rn.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(y)}})}var zr=G(1481);const sn="primary",Dr=Symbol("RouteTitle");class xn{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Pt(y){return new xn(y)}function Hn(y,E,m){const T=m.path.split("/");if(T.length>y.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<y.length))return null;const A={};for(let V=0;V<T.length;V++){const Y=T[V],Ce=y[V];if(Y.startsWith(":"))A[Y.substring(1)]=Ce;else if(Y!==Ce.path)return null}return{consumed:y.slice(0,T.length),posParams:A}}function Pn(y,E){const m=y?Object.keys(y):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let A;for(let V=0;V<m.length;V++)if(A=m[V],!vi(y[A],E[A]))return!1;return!0}function vi(y,E){if(Array.isArray(y)&&Array.isArray(E)){if(y.length!==E.length)return!1;const m=[...y].sort(),T=[...E].sort();return m.every((A,V)=>T[V]===A)}return y===E}function ki(y){return Array.prototype.concat.apply([],y)}function Xn(y){return y.length>0?y[y.length-1]:null}function Ot(y,E){for(const m in y)y.hasOwnProperty(m)&&E(y[m],m)}function ln(y){return(0,p.CqO)(y)?y:(0,p.QGY)(y)?(0,W.D)(Promise.resolve(y)):(0,Z.of)(y)}const ni=!1,Mr={exact:function _i(y,E,m){if(!St(y.segments,E.segments)||!Ci(y.segments,E.segments,m)||y.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!y.children[T]||!_i(y.children[T],E.children[T],m))return!1;return!0},subset:Wi},mr={exact:function ri(y,E){return Pn(y,E)},subset:function ir(y,E){return Object.keys(E).length<=Object.keys(y).length&&Object.keys(E).every(m=>vi(y[m],E[m]))},ignored:()=>!0};function Ti(y,E,m){return Mr[m.paths](y.root,E.root,m.matrixParams)&&mr[m.queryParams](y.queryParams,E.queryParams)&&!("exact"===m.fragment&&y.fragment!==E.fragment)}function Wi(y,E,m){return Yn(y,E,E.segments,m)}function Yn(y,E,m,T){if(y.segments.length>m.length){const A=y.segments.slice(0,m.length);return!(!St(A,m)||E.hasChildren()||!Ci(A,m,T))}if(y.segments.length===m.length){if(!St(y.segments,m)||!Ci(y.segments,m,T))return!1;for(const A in E.children)if(!y.children[A]||!Wi(y.children[A],E.children[A],T))return!1;return!0}{const A=m.slice(0,y.segments.length),V=m.slice(y.segments.length);return!!(St(y.segments,A)&&Ci(y.segments,A,T)&&y.children[sn])&&Yn(y.children[sn],E,V,T)}}function Ci(y,E,m){return E.every((T,A)=>mr[m](y[A].parameters,T.parameters))}class Rn{constructor(E=new gt([],{}),m={},T=null){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){return ue.serialize(this)}}class gt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,Ot(m,(T,A)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return se(this)}}class Tr{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Pt(this.parameters)),this._parameterMap}toString(){return ye(this)}}function St(y,E){return y.length===E.length&&y.every((m,T)=>m.path===E[T].path)}let Jt=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return new fr},providedIn:"root"}),y})();class fr{parse(E){const m=new Tt(E);return new Rn(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${ge(E.root,!0)}`,T=function bt(y){const E=Object.keys(y).map(m=>{const T=y[m];return Array.isArray(T)?T.map(A=>`${Oe(m)}=${Oe(A)}`).join("&"):`${Oe(m)}=${Oe(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function Mt(y){return encodeURI(y)}(E.fragment)}`:""}`}}const ue=new fr;function se(y){return y.segments.map(E=>ye(E)).join("/")}function ge(y,E){if(!y.hasChildren())return se(y);if(E){const m=y.children[sn]?ge(y.children[sn],!1):"",T=[];return Ot(y.children,(A,V)=>{V!==sn&&T.push(`${V}:${ge(A,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function Yr(y,E){let m=[];return Ot(y.children,(T,A)=>{A===sn&&(m=m.concat(E(T,A)))}),Ot(y.children,(T,A)=>{A!==sn&&(m=m.concat(E(T,A)))}),m}(y,(T,A)=>A===sn?[ge(y.children[sn],!1)]:[`${A}:${ge(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[sn]?`${se(y)}/${m[0]}`:`${se(y)}/(${m.join("//")})`}}function at(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oe(y){return at(y).replace(/%3B/gi,";")}function me(y){return at(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ae(y){return decodeURIComponent(y)}function re(y){return ae(y.replace(/\+/g,"%20"))}function ye(y){return`${me(y.path)}${function qe(y){return Object.keys(y).map(E=>`;${me(E)}=${me(y[E])}`).join("")}(y.parameters)}`}const pn=/^[^\/()?;=#]+/;function Sn(y){const E=y.match(pn);return E?E[0]:""}const sr=/^[^=?&#]+/,Xe=/^[^&#]+/;class Tt{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[sn]=new gt(E,m)),T}parseSegment(){const E=Sn(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new p.vHH(4009,ni);return this.capture(E),new Tr(ae(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=Sn(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const A=Sn(this.remaining);A&&(T=A,this.capture(T))}E[ae(m)]=ae(T)}parseQueryParam(E){const m=function zn(y){const E=y.match(sr);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const Y=function Le(y){const E=y.match(Xe);return E?E[0]:""}(this.remaining);Y&&(T=Y,this.capture(T))}const A=re(m),V=re(T);if(E.hasOwnProperty(A)){let Y=E[A];Array.isArray(Y)||(Y=[Y],E[A]=Y),Y.push(V)}else E[A]=V}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=Sn(this.remaining),A=this.remaining[T.length];if("/"!==A&&")"!==A&&";"!==A)throw new p.vHH(4010,ni);let V;T.indexOf(":")>-1?(V=T.slice(0,T.indexOf(":")),this.capture(V),this.capture(":")):E&&(V=sn);const Y=this.parseChildren();m[V]=1===Object.keys(Y).length?Y[sn]:new gt([],Y),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new p.vHH(4011,ni)}}function qt(y){return y.segments.length>0?new gt([],{[sn]:y}):y}function un(y){const E={};for(const T of Object.keys(y.children)){const V=un(y.children[T]);(V.segments.length>0||V.hasChildren())&&(E[T]=V)}return function yn(y){if(1===y.numberOfChildren&&y.children[sn]){const E=y.children[sn];return new gt(y.segments.concat(E.segments),E.children)}return y}(new gt(y.segments,E))}function Zt(y){return y instanceof Rn}const Un=!1;function xs(y,E,m,T,A){if(0===m.length)return kr(E.root,E.root,E.root,T,A);const V=function xr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new bn(!0,0,y);let E=0,m=!1;const T=y.reduce((A,V,Y)=>{if("object"==typeof V&&null!=V){if(V.outlets){const Ce={};return Ot(V.outlets,(ht,Xt)=>{Ce[Xt]="string"==typeof ht?ht.split("/"):ht}),[...A,{outlets:Ce}]}if(V.segmentPath)return[...A,V.segmentPath]}return"string"!=typeof V?[...A,V]:0===Y?(V.split("/").forEach((Ce,ht)=>{0==ht&&"."===Ce||(0==ht&&""===Ce?m=!0:".."===Ce?E++:""!=Ce&&A.push(Ce))}),A):[...A,V]},[]);return new bn(m,E,T)}(m);return V.toRoot()?kr(E.root,E.root,new gt([],{}),T,A):function Y(ht){const Xt=function li(y,E,m,T){if(y.isAbsolute)return new qn(E.root,!0,0);if(-1===T)return new qn(m,m===E.root,0);return function vs(y,E,m){let T=y,A=E,V=m;for(;V>A;){if(V-=A,T=T.parent,!T)throw new p.vHH(4005,Un&&"Invalid number of '../'");A=T.segments.length}return new qn(T,!1,A-V)}(m,T+(os(y.commands[0])?0:1),y.numberOfDoubleDots)}(V,E,y.snapshot?._urlSegment,ht),Wt=Xt.processChildren?Ee(Xt.segmentGroup,Xt.index,V.commands):xe(Xt.segmentGroup,Xt.index,V.commands);return kr(E.root,Xt.segmentGroup,Wt,T,A)}(y.snapshot?._lastPathIndex)}function os(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function Mi(y){return"object"==typeof y&&null!=y&&y.outlets}function kr(y,E,m,T,A){let Y,V={};T&&Ot(T,(ht,Xt)=>{V[Xt]=Array.isArray(ht)?ht.map(Wt=>`${Wt}`):`${ht}`}),Y=y===E?m:jt(y,E,m);const Ce=qt(un(Y));return new Rn(Ce,V,A)}function jt(y,E,m){const T={};return Ot(y.children,(A,V)=>{T[V]=A===E?m:jt(A,E,m)}),new gt(y.segments,T)}class bn{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&os(T[0]))throw new p.vHH(4003,Un&&"Root segment cannot have matrix parameters");const A=T.find(Mi);if(A&&A!==Xn(T))throw new p.vHH(4004,Un&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function xe(y,E,m){if(y||(y=new gt([],{})),0===y.segments.length&&y.hasChildren())return Ee(y,E,m);const T=function Te(y,E,m){let T=0,A=E;const V={match:!1,pathIndex:0,commandIndex:0};for(;A<y.segments.length;){if(T>=m.length)return V;const Y=y.segments[A],Ce=m[T];if(Mi(Ce))break;const ht=`${Ce}`,Xt=T<m.length-1?m[T+1]:null;if(A>0&&void 0===ht)break;if(ht&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!An(ht,Xt,Y))return V;T+=2}else{if(!An(ht,{},Y))return V;T++}A++}return{match:!0,pathIndex:A,commandIndex:T}}(y,E,m),A=m.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const V=new gt(y.segments.slice(0,T.pathIndex),{});return V.children[sn]=new gt(y.segments.slice(T.pathIndex),y.children),Ee(V,0,A)}return T.match&&0===A.length?new gt(y.segments,{}):T.match&&!y.hasChildren()?lt(y,E,m):T.match?Ee(y,0,A):lt(y,E,m)}function Ee(y,E,m){if(0===m.length)return new gt(y.segments,{});{const T=function Or(y){return Mi(y[0])?y[0].outlets:{[sn]:y}}(m),A={};if(!T[sn]&&y.children[sn]&&1===y.numberOfChildren&&0===y.children[sn].segments.length){const V=Ee(y.children[sn],E,m);return new gt(y.segments,V.children)}return Ot(T,(V,Y)=>{"string"==typeof V&&(V=[V]),null!==V&&(A[Y]=xe(y.children[Y],E,V))}),Ot(y.children,(V,Y)=>{void 0===T[Y]&&(A[Y]=V)}),new gt(y.segments,A)}}function lt(y,E,m){const T=y.segments.slice(0,E);let A=0;for(;A<m.length;){const V=m[A];if(Mi(V)){const ht=Ct(V.outlets);return new gt(T,ht)}if(0===A&&os(m[0])){T.push(new Tr(y.segments[E].path,hn(m[0]))),A++;continue}const Y=Mi(V)?V.outlets[sn]:`${V}`,Ce=A<m.length-1?m[A+1]:null;Y&&Ce&&os(Ce)?(T.push(new Tr(Y,hn(Ce))),A+=2):(T.push(new Tr(Y,{})),A++)}return new gt(T,{})}function Ct(y){const E={};return Ot(y,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[T]=lt(new gt([],{}),0,m))}),E}function hn(y){const E={};return Ot(y,(m,T)=>E[T]=`${m}`),E}function An(y,E,m){return y==m.path&&Pn(E,m.parameters)}const fn="imperative";class On{constructor(E,m){this.id=E,this.url=m}}class xi extends On{constructor(E,m,T="imperative",A=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=A}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends On{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gr extends On{constructor(E,m,T,A){super(E,m),this.reason=T,this.code=A,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends On{constructor(E,m,T,A){super(E,m),this.reason=T,this.code=A,this.type=16}}class Jn extends On{constructor(E,m,T,A){super(E,m),this.error=T,this.target=A,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fi extends On{constructor(E,m,T,A){super(E,m),this.urlAfterRedirects=T,this.state=A,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to extends On{constructor(E,m,T,A){super(E,m),this.urlAfterRedirects=T,this.state=A,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _s extends On{constructor(E,m,T,A,V){super(E,m),this.urlAfterRedirects=T,this.state=A,this.shouldActivate=V,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class no extends On{constructor(E,m,T,A){super(E,m),this.urlAfterRedirects=T,this.state=A,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rs extends On{constructor(E,m,T,A){super(E,m),this.urlAfterRedirects=T,this.state=A,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ci{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $o{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class as{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class us{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Es{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Fr=(()=>{class y{createUrlTree(m,T,A,V,Y,Ce){return xs(m||T.root,A,V,Y,Ce)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})(),na=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(E){return Fr.\u0275fac(E)},providedIn:"root"}),y})();class Ki{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=Ea(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=Ea(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=So(E,this._root);return m.length<2?[]:m[m.length-2].children.map(A=>A.value).filter(A=>A!==E)}pathFromRoot(E){return So(E,this._root).map(m=>m.value)}}function Ea(y,E){if(y===E.value)return E;for(const m of E.children){const T=Ea(y,m);if(T)return T}return null}function So(y,E){if(y===E.value)return[E];for(const m of E.children){const T=So(y,m);if(T.length)return T.unshift(E),T}return[]}class ns{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function zs(y){const E={};return y&&y.children.forEach(m=>E[m.value.outlet]=m),E}class yo extends Ki{constructor(E,m){super(E),this.snapshot=m,Ts(this,E)}toString(){return this.snapshot.toString()}}function vo(y,E){const m=function ra(y,E){const Y=new rs([],{},{},"",{},sn,E,null,y.root,-1,{});return new Ao("",new ns(Y,[]))}(y,E),T=new be([new Tr("",{})]),A=new be({}),V=new be({}),Y=new be({}),Ce=new be(""),ht=new Is(T,A,Y,Ce,V,sn,E,m.root);return ht.snapshot=m.root,new yo(new ns(ht,[]),m)}class Is{constructor(E,m,T,A,V,Y,Ce,ht){this.url=E,this.params=m,this.queryParams=T,this.fragment=A,this.data=V,this.outlet=Y,this.component=Ce,this.title=this.data?.pipe((0,ke.U)(Xt=>Xt[Dr]))??(0,Z.of)(void 0),this._futureSnapshot=ht}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(E=>Pt(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(E=>Pt(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ia(y,E="emptyOnly"){const m=y.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const A=m[T],V=m[T-1];if(A.routeConfig&&""===A.routeConfig.path)T--;else{if(V.component)break;T--}}return function Ds(y){return y.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class rs{get title(){return this.data?.[Dr]}constructor(E,m,T,A,V,Y,Ce,ht,Xt,Wt,lr){this.url=E,this.params=m,this.queryParams=T,this.fragment=A,this.data=V,this.outlet=Y,this.component=Ce,this.routeConfig=ht,this._urlSegment=Xt,this._lastPathIndex=Wt,this._resolve=lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ao extends Ki{constructor(E,m){super(m),this.url=E,Ts(this,m)}toString(){return _o(this._root)}}function Ts(y,E){E.value._routerState=y,E.children.forEach(m=>Ts(y,m))}function _o(y){const E=y.children.length>0?` { ${y.children.map(_o).join(", ")} } `:"";return`${y.value}${E}`}function jo(y){if(y.snapshot){const E=y.snapshot,m=y._futureSnapshot;y.snapshot=m,Pn(E.queryParams,m.queryParams)||y.queryParams.next(m.queryParams),E.fragment!==m.fragment&&y.fragment.next(m.fragment),Pn(E.params,m.params)||y.params.next(m.params),function yi(y,E){if(y.length!==E.length)return!1;for(let m=0;m<y.length;++m)if(!Pn(y[m],E[m]))return!1;return!0}(E.url,m.url)||y.url.next(m.url),Pn(E.data,m.data)||y.data.next(m.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function qi(y,E){const m=Pn(y.params,E.params)&&function Cr(y,E){return St(y,E)&&y.every((m,T)=>Pn(m.parameters,E[T].parameters))}(y.url,E.url);return m&&!(!y.parent!=!E.parent)&&(!y.parent||qi(y.parent,E.parent))}function $i(y,E,m){if(m&&y.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const A=function Ho(y,E,m){return E.children.map(T=>{for(const A of m.children)if(y.shouldReuseRoute(T.value,A.value.snapshot))return $i(y,T,A);return $i(y,T)})}(y,E,m);return new ns(T,A)}{if(y.shouldAttach(E.value)){const V=y.retrieve(E.value);if(null!==V){const Y=V.route;return Y.value._futureSnapshot=E.value,Y.children=E.children.map(Ce=>$i(y,Ce)),Y}}const T=function ro(y){return new Is(new be(y.url),new be(y.params),new be(y.queryParams),new be(y.fragment),new be(y.data),y.outlet,y.component,y)}(E.value),A=E.children.map(V=>$i(y,V));return new ns(T,A)}}const Eo="ngNavigationCancelingError";function sa(y,E){const{redirectTo:m,navigationBehaviorOptions:T}=Zt(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,A=Li(!1,0,E);return A.url=m,A.navigationBehaviorOptions=T,A}function Li(y,E,m){const T=new Error("NavigationCancelingError: "+(y||""));return T[Eo]=!0,T.cancellationCode=E,m&&(T.url=m),T}function ls(y){return Mo(y)&&Zt(y.url)}function Mo(y){return y&&y[Eo]}class hi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const A=this.getOrCreateContext(m);A.outlet=T,this.contexts.set(m,A)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new hi,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ei=!1;let br=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=sn,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.parentContexts=(0,p.f3M)(Zi),this.location=(0,p.f3M)(p.s_b),this.changeDetector=(0,p.f3M)(p.sBO),this.environmentInjector=(0,p.f3M)(p.lqb)}ngOnChanges(m){if(m.name){const{firstChange:T,previousValue:A}=m.name;if(T)return;this.isTrackedInParentContexts(A)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(A)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(m){return this.parentContexts.getContext(m)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const m=this.parentContexts.getContext(this.name);m?.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new p.vHH(4012,Ei);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new p.vHH(4012,Ei);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new p.vHH(4012,Ei);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new p.vHH(4013,Ei);this._activatedRoute=m;const A=this.location,Y=m.snapshot.component,Ce=this.parentContexts.getOrCreateContext(this.name).children,ht=new Os(m,Ce,A.injector);if(T&&function io(y){return!!y.resolveComponentFactory}(T)){const Xt=T.resolveComponentFactory(Y);this.activated=A.createComponent(Xt,A.length,ht)}else this.activated=A.createComponent(Y,{index:A.length,injector:ht,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275dir=p.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[p.TTD]}),y})();class Os{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===Is?this.route:E===Zi?this.childContexts:this.parent.get(E,m)}}let Gn=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275cmp=p.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[p.jDz],decls:1,vars:0,template:function(m,T){1&m&&p._UZ(0,"router-outlet")},dependencies:[br],encapsulation:2}),y})();function ks(y,E){return y.providers&&!y._injector&&(y._injector=(0,p.MMx)(y.providers,E,`Route: ${y.path}`)),y._injector??E}function xo(y){const E=y.children&&y.children.map(xo),m=E?{...y,children:E}:{...y};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==sn&&(m.component=Gn),m}function Jr(y){return y.outlet||sn}function ds(y,E){const m=y.filter(T=>Jr(T)===E);return m.push(...y.filter(T=>Jr(T)!==E)),m}function Hi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let E=y.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class Io{constructor(E,m,T,A){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=A}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),jo(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const A=zs(m);E.children.forEach(V=>{const Y=V.value.outlet;this.deactivateRoutes(V,A[Y],T),delete A[Y]}),Ot(A,(V,Y)=>{this.deactivateRouteAndItsChildren(V,T)})}deactivateRoutes(E,m,T){const A=E.value,V=m?m.value:null;if(A===V)if(A.component){const Y=T.getContext(A.outlet);Y&&this.deactivateChildRoutes(E,m,Y.children)}else this.deactivateChildRoutes(E,m,T);else V&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),A=T&&E.value.component?T.children:m,V=zs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],A);if(T&&T.outlet){const Y=T.outlet.detach(),Ce=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:Y,route:E,contexts:Ce})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),A=T&&E.value.component?T.children:m,V=zs(E);for(const Y of Object.keys(V))this.deactivateRouteAndItsChildren(V[Y],A);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,m,T){const A=zs(m);E.children.forEach(V=>{this.activateRoutes(V,A[V.value.outlet],T),this.forwardEvent(new us(V.value.snapshot))}),E.children.length&&this.forwardEvent(new di(E.value.snapshot))}activateRoutes(E,m,T){const A=E.value,V=m?m.value:null;if(jo(A),A===V)if(A.component){const Y=T.getOrCreateContext(A.outlet);this.activateChildRoutes(E,m,Y.children)}else this.activateChildRoutes(E,m,T);else if(A.component){const Y=T.getOrCreateContext(A.outlet);if(this.routeReuseStrategy.shouldAttach(A.snapshot)){const Ce=this.routeReuseStrategy.retrieve(A.snapshot);this.routeReuseStrategy.store(A.snapshot,null),Y.children.onOutletReAttached(Ce.contexts),Y.attachRef=Ce.componentRef,Y.route=Ce.route.value,Y.outlet&&Y.outlet.attach(Ce.componentRef,Ce.route.value),jo(Ce.route.value),this.activateChildRoutes(E,null,Y.children)}else{const Ce=Hi(A.snapshot),ht=Ce?.get(p._Vd)??null;Y.attachRef=null,Y.route=A,Y.resolver=ht,Y.injector=Ce,Y.outlet&&Y.outlet.activateWith(A,Y.injector),this.activateChildRoutes(E,null,Y.children)}}else this.activateChildRoutes(E,null,T)}}class oa{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class Ws{constructor(E,m){this.component=E,this.route=m}}function Do(y,E,m){const T=y._root;return so(T,E?E._root:null,m,[T.value])}function Ks(y,E){const m=Symbol(),T=E.get(y,m);return T===m?"function"!=typeof y||(0,p.Z0I)(y)?E.get(y):y:T}function so(y,E,m,T,A={canDeactivateChecks:[],canActivateChecks:[]}){const V=zs(E);return y.children.forEach(Y=>{(function Na(y,E,m,T,A={canDeactivateChecks:[],canActivateChecks:[]}){const V=y.value,Y=E?E.value:null,Ce=m?m.getContext(y.value.outlet):null;if(Y&&V.routeConfig===Y.routeConfig){const ht=function R(y,E,m){if("function"==typeof m)return m(y,E);switch(m){case"pathParamsChange":return!St(y.url,E.url);case"pathParamsOrQueryParamsChange":return!St(y.url,E.url)||!Pn(y.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(y,E)||!Pn(y.queryParams,E.queryParams);default:return!qi(y,E)}}(Y,V,V.routeConfig.runGuardsAndResolvers);ht?A.canActivateChecks.push(new oa(T)):(V.data=Y.data,V._resolvedData=Y._resolvedData),so(y,E,V.component?Ce?Ce.children:null:m,T,A),ht&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&A.canDeactivateChecks.push(new Ws(Ce.outlet.component,Y))}else Y&&O(E,Ce,A),A.canActivateChecks.push(new oa(T)),so(y,null,V.component?Ce?Ce.children:null:m,T,A)})(Y,V[Y.value.outlet],m,T.concat([Y.value]),A),delete V[Y.value.outlet]}),Ot(V,(Y,Ce)=>O(Y,m.getContext(Ce),A)),A}function O(y,E,m){const T=zs(y),A=y.value;Ot(T,(V,Y)=>{O(V,A.component?E?E.children.getContext(Y):null:E,m)}),m.canDeactivateChecks.push(new Ws(A.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,A))}function k(y){return"function"==typeof y}function wi(y){return y instanceof Se.K||"EmptyError"===y?.name}const bi=Symbol("INITIAL_VALUE");function $r(){return(0,Ye.w)(y=>It(y.map(E=>E.pipe((0,je.q)(1),function ot(...y){const E=(0,le.yG)(y);return(0,rn.e)((m,T)=>{(E?wt(y,m,E):wt(y,m)).subscribe(T)})}(bi)))).pipe((0,ke.U)(E=>{for(const m of E)if(!0!==m){if(m===bi)return bi;if(!1===m||m instanceof Rn)return m}return!0}),(0,mt.h)(E=>E!==bi),(0,je.q)(1)))}function la(y){return(0,Ze.z)((0,He.b)(E=>{if(Zt(E))throw sa(0,E)}),(0,ke.U)(E=>!0===E))}const ca={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ao(y,E,m,T,A){const V=z(y,E,m);return V.matched?function No(y,E,m,T){const A=E.canMatch;if(!A||0===A.length)return(0,Z.of)(!0);const V=A.map(Y=>{const Ce=Ks(Y,y);return ln(function hs(y){return y&&k(y.canMatch)}(Ce)?Ce.canMatch(E,m):y.runInContext(()=>Ce(E,m)))});return(0,Z.of)(V).pipe($r(),la())}(T=ks(E,T),E,m).pipe((0,ke.U)(Y=>!0===Y?V:{...ca})):(0,Z.of)(V)}function z(y,E,m){if(""===E.path)return"full"===E.pathMatch&&(y.hasChildren()||m.length>0)?{...ca}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const A=(E.matcher||Hn)(m,y,E);if(!A)return{...ca};const V={};Ot(A.posParams,(Ce,ht)=>{V[ht]=Ce.path});const Y=A.consumed.length>0?{...V,...A.consumed[A.consumed.length-1].parameters}:V;return{matched:!0,consumedSegments:A.consumed,remainingSegments:m.slice(A.consumed.length),parameters:Y,positionalParamSegments:A.posParams??{}}}function _(y,E,m,T){if(m.length>0&&function K(y,E,m){return m.some(T=>fe(y,E,T)&&Jr(T)!==sn)}(y,m,T)){const V=new gt(E,function F(y,E,m,T){const A={};A[sn]=T,T._sourceSegment=y,T._segmentIndexShift=E.length;for(const V of m)if(""===V.path&&Jr(V)!==sn){const Y=new gt([],{});Y._sourceSegment=y,Y._segmentIndexShift=E.length,A[Jr(V)]=Y}return A}(y,E,T,new gt(m,y.children)));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:[]}}if(0===m.length&&function te(y,E,m){return m.some(T=>fe(y,E,T))}(y,m,T)){const V=new gt(y.segments,function w(y,E,m,T,A){const V={};for(const Y of T)if(fe(y,m,Y)&&!A[Jr(Y)]){const Ce=new gt([],{});Ce._sourceSegment=y,Ce._segmentIndexShift=E.length,V[Jr(Y)]=Ce}return{...A,...V}}(y,E,m,T,y.children));return V._sourceSegment=y,V._segmentIndexShift=E.length,{segmentGroup:V,slicedSegments:m}}const A=new gt(y.segments,y.children);return A._sourceSegment=y,A._segmentIndexShift=E.length,{segmentGroup:A,slicedSegments:m}}function fe(y,E,m){return(!(y.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function ve(y,E,m,T){return!!(Jr(y)===T||T!==sn&&fe(E,m,y))&&("**"===y.path||z(E,y,m).matched)}function $e(y,E,m){return 0===E.length&&!y.children[m]}const Je=!1;class kt{constructor(E){this.segmentGroup=E||null}}class xt{constructor(E){this.urlTree=E}}function Fn(y){return et(new kt(y))}function Nn(y){return et(new xt(y))}class jr{constructor(E,m,T,A,V){this.injector=E,this.configLoader=m,this.urlSerializer=T,this.urlTree=A,this.config=V,this.allowRedirects=!0}apply(){const E=_(this.urlTree.root,[],[],this.config).segmentGroup,m=new gt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,sn).pipe((0,ke.U)(V=>this.createUrlTree(un(V),this.urlTree.queryParams,this.urlTree.fragment))).pipe(he(V=>{if(V instanceof xt)return this.allowRedirects=!1,this.match(V.urlTree);throw V instanceof kt?this.noMatchError(V):V}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,sn).pipe((0,ke.U)(A=>this.createUrlTree(un(A),E.queryParams,E.fragment))).pipe(he(A=>{throw A instanceof kt?this.noMatchError(A):A}))}noMatchError(E){return new p.vHH(4002,Je)}createUrlTree(E,m,T){const A=qt(E);return new Rn(A,m,T)}expandSegmentGroup(E,m,T,A){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,m,T).pipe((0,ke.U)(V=>new gt([],V))):this.expandSegment(E,T,m,T.segments,A,!0)}expandChildren(E,m,T){const A=[];for(const V of Object.keys(T.children))"primary"===V?A.unshift(V):A.push(V);return(0,W.D)(A).pipe(Ie(V=>{const Y=T.children[V],Ce=ds(m,V);return this.expandSegmentGroup(E,Ce,Y,V).pipe((0,ke.U)(ht=>({segment:ht,outlet:V})))}),yt((V,Y)=>(V[Y.outlet]=Y.segment,V),{}),Er())}expandSegment(E,m,T,A,V,Y){return(0,W.D)(T).pipe(Ie(Ce=>this.expandSegmentAgainstRoute(E,m,T,Ce,A,V,Y).pipe(he(Xt=>{if(Xt instanceof kt)return(0,Z.of)(null);throw Xt}))),(0,Nt.P)(Ce=>!!Ce),he((Ce,ht)=>{if(wi(Ce))return $e(m,A,V)?(0,Z.of)(new gt([],{})):Fn(m);throw Ce}))}expandSegmentAgainstRoute(E,m,T,A,V,Y,Ce){return ve(A,m,V,Y)?void 0===A.redirectTo?this.matchSegmentAgainstRoute(E,m,A,V,Y):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,T,A,V,Y):Fn(m):Fn(m)}expandSegmentAgainstRouteUsingRedirect(E,m,T,A,V,Y){return"**"===A.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,A,Y):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,A,V,Y)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,A){const V=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Nn(V):this.lineralizeSegments(T,V).pipe((0,st.z)(Y=>{const Ce=new gt(Y,{});return this.expandSegment(E,Ce,m,Y,A,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,A,V,Y){const{matched:Ce,consumedSegments:ht,remainingSegments:Xt,positionalParamSegments:Wt}=z(m,A,V);if(!Ce)return Fn(m);const lr=this.applyRedirectCommands(ht,A.redirectTo,Wt);return A.redirectTo.startsWith("/")?Nn(lr):this.lineralizeSegments(A,lr).pipe((0,st.z)(Si=>this.expandSegment(E,m,T,Si.concat(Xt),Y,!1)))}matchSegmentAgainstRoute(E,m,T,A,V){return"**"===T.path?(E=ks(T,E),T.loadChildren?(T._loadedRoutes?(0,Z.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,ke.U)(Ce=>(T._loadedRoutes=Ce.routes,T._loadedInjector=Ce.injector,new gt(A,{})))):(0,Z.of)(new gt(A,{}))):ao(m,T,A,E).pipe((0,Ye.w)(({matched:Y,consumedSegments:Ce,remainingSegments:ht})=>Y?this.getChildConfig(E=T._injector??E,T,A).pipe((0,st.z)(Wt=>{const lr=Wt.injector??E,Si=Wt.routes,{segmentGroup:Fo,slicedSegments:qo}=_(m,Ce,ht,Si),As=new gt(Fo.segments,Fo.children);if(0===qo.length&&As.hasChildren())return this.expandChildren(lr,Si,As).pipe((0,ke.U)(Va=>new gt(Ce,Va)));if(0===Si.length&&0===qo.length)return(0,Z.of)(new gt(Ce,{}));const co=Jr(T)===V;return this.expandSegment(lr,As,Si,qo,co?sn:V,!0).pipe((0,ke.U)(Mn=>new gt(Ce.concat(Mn.segments),Mn.children)))})):Fn(m)))}getChildConfig(E,m,T){return m.children?(0,Z.of)({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?(0,Z.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):function fi(y,E,m,T){const A=E.canLoad;if(void 0===A||0===A.length)return(0,Z.of)(!0);const V=A.map(Y=>{const Ce=Ks(Y,y);return ln(function Ve(y){return y&&k(y.canLoad)}(Ce)?Ce.canLoad(E,m):y.runInContext(()=>Ce(E,m)))});return(0,Z.of)(V).pipe($r(),la())}(E,m,T).pipe((0,st.z)(A=>A?this.configLoader.loadChildren(E,m).pipe((0,He.b)(V=>{m._loadedRoutes=V.routes,m._loadedInjector=V.injector})):function kn(y){return et(Li(Je,3))}())):(0,Z.of)({routes:[],injector:E})}lineralizeSegments(E,m){let T=[],A=m.root;for(;;){if(T=T.concat(A.segments),0===A.numberOfChildren)return(0,Z.of)(T);if(A.numberOfChildren>1||!A.children[sn])return E.redirectTo,et(new p.vHH(4e3,Je));A=A.children[sn]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,A){const V=this.createSegmentGroup(E,m.root,T,A);return new Rn(V,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return Ot(E,(A,V)=>{if("string"==typeof A&&A.startsWith(":")){const Ce=A.substring(1);T[V]=m[Ce]}else T[V]=A}),T}createSegmentGroup(E,m,T,A){const V=this.createSegments(E,m.segments,T,A);let Y={};return Ot(m.children,(Ce,ht)=>{Y[ht]=this.createSegmentGroup(E,Ce,T,A)}),new gt(V,Y)}createSegments(E,m,T,A){return m.map(V=>V.path.startsWith(":")?this.findPosParam(E,V,A):this.findOrReturn(V,T))}findPosParam(E,m,T){const A=T[m.path.substring(1)];if(!A)throw new p.vHH(4001,Je);return A}findOrReturn(E,m){let T=0;for(const A of m){if(A.path===E.path)return m.splice(T),A;T++}return E}}class ai{}class P{constructor(E,m,T,A,V,Y,Ce){this.injector=E,this.rootComponentType=m,this.config=T,this.urlTree=A,this.url=V,this.paramsInheritanceStrategy=Y,this.urlSerializer=Ce}recognize(){const E=_(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,sn).pipe((0,ke.U)(m=>{if(null===m)return null;const T=new rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},sn,this.rootComponentType,null,this.urlTree.root,-1,{}),A=new ns(T,m),V=new Ao(this.url,A);return this.inheritParamsAndData(V._root),V}))}inheritParamsAndData(E){const m=E.value,T=ia(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(A=>this.inheritParamsAndData(A))}processSegmentGroup(E,m,T,A){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,A)}processChildren(E,m,T){return(0,W.D)(Object.keys(T.children)).pipe(Ie(A=>{const V=T.children[A],Y=ds(m,A);return this.processSegmentGroup(E,Y,V,A)}),yt((A,V)=>A&&V?(A.push(...V),A):null),function wr(y,E=!1){return(0,rn.e)((m,T)=>{let A=0;m.subscribe((0,dt.x)(T,V=>{const Y=y(V,A++);(Y||E)&&T.next(V),!Y&&T.complete()}))})}(A=>null!==A),(0,jn.d)(null),Er(),(0,ke.U)(A=>{if(null===A)return null;const V=tt(A);return function q(y){y.sort((E,m)=>E.value.outlet===sn?-1:m.value.outlet===sn?1:E.value.outlet.localeCompare(m.value.outlet))}(V),V}))}processSegment(E,m,T,A,V){return(0,W.D)(m).pipe(Ie(Y=>this.processSegmentAgainstRoute(Y._injector??E,Y,T,A,V)),(0,Nt.P)(Y=>!!Y),he(Y=>{if(wi(Y))return $e(T,A,V)?(0,Z.of)([]):(0,Z.of)(null);throw Y}))}processSegmentAgainstRoute(E,m,T,A,V){if(m.redirectTo||!ve(m,T,A,V))return(0,Z.of)(null);let Y;if("**"===m.path){const Ce=A.length>0?Xn(A).parameters:{},ht=er(T)+A.length,Xt=new rs(A,Ce,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(m),Jr(m),m.component??m._loadedComponent??null,m,rr(T),ht,Yt(m));Y=(0,Z.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else Y=ao(T,m,A,E).pipe((0,ke.U)(({matched:Ce,consumedSegments:ht,remainingSegments:Xt,parameters:Wt})=>{if(!Ce)return null;const lr=er(T)+ht.length;return{snapshot:new rs(ht,Wt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,At(m),Jr(m),m.component??m._loadedComponent??null,m,rr(T),lr,Yt(m)),consumedSegments:ht,remainingSegments:Xt}}));return Y.pipe((0,Ye.w)(Ce=>{if(null===Ce)return(0,Z.of)(null);const{snapshot:ht,consumedSegments:Xt,remainingSegments:Wt}=Ce;E=m._injector??E;const lr=m._loadedInjector??E,Si=function ie(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(m),{segmentGroup:Fo,slicedSegments:qo}=_(T,Xt,Wt,Si.filter(co=>void 0===co.redirectTo));if(0===qo.length&&Fo.hasChildren())return this.processChildren(lr,Si,Fo).pipe((0,ke.U)(co=>null===co?null:[new ns(ht,co)]));if(0===Si.length&&0===qo.length)return(0,Z.of)([new ns(ht,[])]);const As=Jr(m)===V;return this.processSegment(lr,Si,Fo,qo,As?sn:V).pipe((0,ke.U)(co=>null===co?null:[new ns(ht,co)]))}))}}function Ke(y){const E=y.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function tt(y){const E=[],m=new Set;for(const T of y){if(!Ke(T)){E.push(T);continue}const A=E.find(V=>T.value.routeConfig===V.value.routeConfig);void 0!==A?(A.children.push(...T.children),m.add(A)):E.push(T)}for(const T of m){const A=tt(T.children);E.push(new ns(T.value,A))}return E.filter(T=>!m.has(T))}function rr(y){let E=y;for(;E._sourceSegment;)E=E._sourceSegment;return E}function er(y){let E=y,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function At(y){return y.data||{}}function Yt(y){return y.resolve||{}}function nr(y){return"string"==typeof y.title||null===y.title}function Ni(y){return(0,Ye.w)(E=>{const m=y(E);return m?(0,W.D)(m).pipe((0,ke.U)(()=>E)):(0,Z.of)(E)})}const Xr=new p.OlP("ROUTES");let ps=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,p.f3M)(p.Sil)}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return(0,Z.of)(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=ln(m.loadComponent()).pipe((0,ke.U)(To),(0,He.b)(V=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=V}),hr(()=>{this.componentLoaders.delete(m)})),A=new _n(T,()=>new De.x).pipe(zt());return this.componentLoaders.set(m,A),A}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return(0,Z.of)({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const V=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,ke.U)(Ce=>{this.onLoadEndListener&&this.onLoadEndListener(T);let ht,Xt,Wt=!1;Array.isArray(Ce)?Xt=Ce:(ht=Ce.create(m).injector,Xt=ki(ht.get(Xr,[],p.XFs.Self|p.XFs.Optional)));return{routes:Xt.map(xo),injector:ht}}),hr(()=>{this.childrenLoaders.delete(T)})),Y=new _n(V,()=>new De.x).pipe(zt());return this.childrenLoaders.set(T,Y),Y}loadModuleFactoryOrRoutes(m){return ln(m()).pipe((0,ke.U)(To),(0,st.z)(T=>T instanceof p.YKP||Array.isArray(T)?(0,Z.of)(T):(0,W.D)(this.compiler.compileModuleAsync(T))))}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function To(y){return function Ls(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Ka=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new De.x,this.configLoader=(0,p.f3M)(ps),this.environmentInjector=(0,p.f3M)(p.lqb),this.urlSerializer=(0,p.f3M)(Jt),this.rootContexts=(0,p.f3M)(Zi),this.navigationId=0,this.afterPreactivation=()=>(0,Z.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=A=>this.events.next(new ci(A)),this.configLoader.onLoadStartListener=A=>this.events.next(new Ns(A))}complete(){this.transitions?.complete()}handleNavigationRequest(m){const T=++this.navigationId;this.transitions?.next({...this.transitions.value,...m,id:T})}setupNavigations(m){return this.transitions=new be({id:0,targetPageId:0,currentUrlTree:m.currentUrlTree,currentRawUrl:m.currentUrlTree,extractedUrl:m.urlHandlingStrategy.extract(m.currentUrlTree),urlAfterRedirects:m.urlHandlingStrategy.extract(m.currentUrlTree),rawUrl:m.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fn,restoredState:null,currentSnapshot:m.routerState.snapshot,targetSnapshot:null,currentRouterState:m.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,mt.h)(T=>0!==T.id),(0,ke.U)(T=>({...T,extractedUrl:m.urlHandlingStrategy.extract(T.rawUrl)})),(0,Ye.w)(T=>{let A=!1,V=!1;return(0,Z.of)(T).pipe((0,He.b)(Y=>{this.currentNavigation={id:Y.id,initialUrl:Y.rawUrl,extractedUrl:Y.extractedUrl,trigger:Y.source,extras:Y.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ye.w)(Y=>{const Ce=m.browserUrlTree.toString(),ht=!m.navigated||Y.extractedUrl.toString()!==Ce||Ce!==m.currentUrlTree.toString();if(!ht&&"reload"!==(Y.extras.onSameUrlNavigation??m.onSameUrlNavigation)){const Wt="";return this.events.next(new ii(Y.id,m.serializeUrl(T.rawUrl),Wt,0)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),Pe.E}if(m.urlHandlingStrategy.shouldProcessUrl(Y.rawUrl))return gs(Y.source)&&(m.browserUrlTree=Y.extractedUrl),(0,Z.of)(Y).pipe((0,Ye.w)(Wt=>{const lr=this.transitions?.getValue();return this.events.next(new xi(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),Wt.source,Wt.restoredState)),lr!==this.transitions?.getValue()?Pe.E:Promise.resolve(Wt)}),function pi(y,E,m,T){return(0,Ye.w)(A=>function Sr(y,E,m,T,A){return new jr(y,E,m,T,A).apply()}(y,E,m,A.extractedUrl,T).pipe((0,ke.U)(V=>({...A,urlAfterRedirects:V}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,m.config),(0,He.b)(Wt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Wt.urlAfterRedirects},T.urlAfterRedirects=Wt.urlAfterRedirects}),function Gt(y,E,m,T,A){return(0,st.z)(V=>function B(y,E,m,T,A,V,Y="emptyOnly"){return new P(y,E,m,T,A,Y,V).recognize().pipe((0,Ye.w)(Ce=>null===Ce?function M(y){return new ze.y(E=>E.error(y))}(new ai):(0,Z.of)(Ce)))}(y,E,m,V.urlAfterRedirects,T.serialize(V.urlAfterRedirects),T,A).pipe((0,ke.U)(Y=>({...V,targetSnapshot:Y}))))}(this.environmentInjector,this.rootComponentType,m.config,this.urlSerializer,m.paramsInheritanceStrategy),(0,He.b)(Wt=>{if(T.targetSnapshot=Wt.targetSnapshot,"eager"===m.urlUpdateStrategy){if(!Wt.extras.skipLocationChange){const Si=m.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl);m.setBrowserUrl(Si,Wt)}m.browserUrlTree=Wt.urlAfterRedirects}const lr=new Fi(Wt.id,this.urlSerializer.serialize(Wt.extractedUrl),this.urlSerializer.serialize(Wt.urlAfterRedirects),Wt.targetSnapshot);this.events.next(lr)}));if(ht&&m.urlHandlingStrategy.shouldProcessUrl(m.rawUrlTree)){const{id:Wt,extractedUrl:lr,source:Si,restoredState:Fo,extras:qo}=Y,As=new xi(Wt,this.urlSerializer.serialize(lr),Si,Fo);this.events.next(As);const co=vo(lr,this.rootComponentType).snapshot;return T={...Y,targetSnapshot:co,urlAfterRedirects:lr,extras:{...qo,skipLocationChange:!1,replaceUrl:!1}},(0,Z.of)(T)}{const Wt="";return this.events.next(new ii(Y.id,m.serializeUrl(T.extractedUrl),Wt,1)),m.rawUrlTree=Y.rawUrl,Y.resolve(null),Pe.E}}),(0,He.b)(Y=>{const Ce=new to(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot);this.events.next(Ce)}),(0,ke.U)(Y=>T={...Y,guards:Do(Y.targetSnapshot,Y.currentSnapshot,this.rootContexts)}),function Ri(y,E){return(0,st.z)(m=>{const{targetSnapshot:T,currentSnapshot:A,guards:{canActivateChecks:V,canDeactivateChecks:Y}}=m;return 0===Y.length&&0===V.length?(0,Z.of)({...m,guardsResult:!0}):function Fs(y,E,m,T){return(0,W.D)(y).pipe((0,st.z)(A=>function ou(y,E,m,T,A){const V=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!V||0===V.length)return(0,Z.of)(!0);const Y=V.map(Ce=>{const ht=Hi(E)??A,Xt=Ks(Ce,ht);return ln(function Lr(y){return y&&k(y.canDeactivate)}(Xt)?Xt.canDeactivate(y,E,m,T):ht.runInContext(()=>Xt(y,E,m,T))).pipe((0,Nt.P)())});return(0,Z.of)(Y).pipe($r())}(A.component,A.route,m,E,T)),(0,Nt.P)(A=>!0!==A,!0))}(Y,T,A,y).pipe((0,st.z)(Ce=>Ce&&function X(y){return"boolean"==typeof y}(Ce)?function ur(y,E,m,T){return(0,W.D)(E).pipe(Ie(A=>wt(function ua(y,E){return null!==y&&E&&E(new $o(y)),(0,Z.of)(!0)}(A.route.parent,T),function fs(y,E){return null!==y&&E&&E(new as(y)),(0,Z.of)(!0)}(A.route,T),function su(y,E,m){const T=E[E.length-1],V=E.slice(0,E.length-1).reverse().map(Y=>function aa(y){const E=y.routeConfig?y.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:y,guards:E}:null}(Y)).filter(Y=>null!==Y).map(Y=>we(()=>{const Ce=Y.guards.map(ht=>{const Xt=Hi(Y.node)??m,Wt=Ks(ht,Xt);return ln(function yr(y){return y&&k(y.canActivateChild)}(Wt)?Wt.canActivateChild(T,y):Xt.runInContext(()=>Wt(T,y))).pipe((0,Nt.P)())});return(0,Z.of)(Ce).pipe($r())}));return(0,Z.of)(V).pipe($r())}(y,A.path,m),function qs(y,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return(0,Z.of)(!0);const A=T.map(V=>we(()=>{const Y=Hi(E)??m,Ce=Ks(V,Y);return ln(function dn(y){return y&&k(y.canActivate)}(Ce)?Ce.canActivate(E,y):Y.runInContext(()=>Ce(E,y))).pipe((0,Nt.P)())}));return(0,Z.of)(A).pipe($r())}(y,A.route,m))),(0,Nt.P)(A=>!0!==A,!0))}(T,V,y,E):(0,Z.of)(Ce)),(0,ke.U)(Ce=>({...m,guardsResult:Ce})))})}(this.environmentInjector,Y=>this.events.next(Y)),(0,He.b)(Y=>{if(T.guardsResult=Y.guardsResult,Zt(Y.guardsResult))throw sa(0,Y.guardsResult);const Ce=new _s(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(Y.urlAfterRedirects),Y.targetSnapshot,!!Y.guardsResult);this.events.next(Ce)}),(0,mt.h)(Y=>!!Y.guardsResult||(m.restoreHistory(Y),this.cancelNavigationTransition(Y,"",3),!1)),Ni(Y=>{if(Y.guards.canActivateChecks.length)return(0,Z.of)(Y).pipe((0,He.b)(Ce=>{const ht=new no(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(ht)}),(0,Ye.w)(Ce=>{let ht=!1;return(0,Z.of)(Ce).pipe(function wn(y,E){return(0,st.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:A}}=m;if(!A.length)return(0,Z.of)(m);let V=0;return(0,W.D)(A).pipe(Ie(Y=>function Rr(y,E,m,T){const A=y.routeConfig,V=y._resolve;return void 0!==A?.title&&!nr(A)&&(V[Dr]=A.title),function Ar(y,E,m,T){const A=function ui(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===A.length)return(0,Z.of)({});const V={};return(0,W.D)(A).pipe((0,st.z)(Y=>function Kr(y,E,m,T){const A=Hi(E)??T,V=Ks(y,A);return ln(V.resolve?V.resolve(E,m):A.runInContext(()=>V(E,m)))}(y[Y],E,m,T).pipe((0,Nt.P)(),(0,He.b)(Ce=>{V[Y]=Ce}))),Ut(1),function Ir(y){return(0,ke.U)(()=>y)}(V),he(Y=>wi(Y)?Pe.E:et(Y)))}(V,y,E,T).pipe((0,ke.U)(Y=>(y._resolvedData=Y,y.data=ia(y,m).resolve,A&&nr(A)&&(y.data[Dr]=A.title),null)))}(Y.route,T,y,E)),(0,He.b)(()=>V++),Ut(1),(0,st.z)(Y=>V===A.length?(0,Z.of)(m):Pe.E))})}(m.paramsInheritanceStrategy,this.environmentInjector),(0,He.b)({next:()=>ht=!0,complete:()=>{ht||(m.restoreHistory(Ce),this.cancelNavigationTransition(Ce,"",2))}}))}),(0,He.b)(Ce=>{const ht=new Rs(Ce.id,this.urlSerializer.serialize(Ce.extractedUrl),this.urlSerializer.serialize(Ce.urlAfterRedirects),Ce.targetSnapshot);this.events.next(ht)}))}),Ni(Y=>{const Ce=ht=>{const Xt=[];ht.routeConfig?.loadComponent&&!ht.routeConfig._loadedComponent&&Xt.push(this.configLoader.loadComponent(ht.routeConfig).pipe((0,He.b)(Wt=>{ht.component=Wt}),(0,ke.U)(()=>{})));for(const Wt of ht.children)Xt.push(...Ce(Wt));return Xt};return It(Ce(Y.targetSnapshot.root)).pipe((0,jn.d)(),(0,je.q)(1))}),Ni(()=>this.afterPreactivation()),(0,ke.U)(Y=>{const Ce=function Gs(y,E,m){const T=$i(y,E._root,m?m._root:void 0);return new yo(T,E)}(m.routeReuseStrategy,Y.targetSnapshot,Y.currentRouterState);return T={...Y,targetRouterState:Ce}}),(0,He.b)(Y=>{m.currentUrlTree=Y.urlAfterRedirects,m.rawUrlTree=m.urlHandlingStrategy.merge(Y.urlAfterRedirects,Y.rawUrl),m.routerState=Y.targetRouterState,"deferred"===m.urlUpdateStrategy&&(Y.extras.skipLocationChange||m.setBrowserUrl(m.rawUrlTree,Y),m.browserUrlTree=Y.urlAfterRedirects)}),((y,E,m)=>(0,ke.U)(T=>(new Io(E,T.targetRouterState,T.currentRouterState,m).activate(y),T)))(this.rootContexts,m.routeReuseStrategy,Y=>this.events.next(Y)),(0,je.q)(1),(0,He.b)({next:Y=>{A=!0,this.lastSuccessfulNavigation=this.currentNavigation,m.navigated=!0,this.events.next(new Br(Y.id,this.urlSerializer.serialize(Y.extractedUrl),this.urlSerializer.serialize(m.currentUrlTree))),m.titleStrategy?.updateTitle(Y.targetRouterState.snapshot),Y.resolve(!0)},complete:()=>{A=!0}}),hr(()=>{A||V||this.cancelNavigationTransition(T,"",1),this.currentNavigation?.id===T.id&&(this.currentNavigation=null)}),he(Y=>{if(V=!0,Mo(Y)){ls(Y)||(m.navigated=!0,m.restoreHistory(T,!0));const Ce=new Gr(T.id,this.urlSerializer.serialize(T.extractedUrl),Y.message,Y.cancellationCode);if(this.events.next(Ce),ls(Y)){const ht=m.urlHandlingStrategy.merge(Y.url,m.rawUrlTree),Xt={skipLocationChange:T.extras.skipLocationChange,replaceUrl:"eager"===m.urlUpdateStrategy||gs(T.source)};m.scheduleNavigation(ht,fn,null,Xt,{resolve:T.resolve,reject:T.reject,promise:T.promise})}else T.resolve(!1)}else{m.restoreHistory(T,!0);const Ce=new Jn(T.id,this.urlSerializer.serialize(T.extractedUrl),Y,T.targetSnapshot??void 0);this.events.next(Ce);try{T.resolve(m.errorHandler(Y))}catch(ht){T.reject(ht)}}return Pe.E}))}))}cancelNavigationTransition(m,T,A){const V=new Gr(m.id,this.urlSerializer.serialize(m.extractedUrl),T,A);this.events.next(V),m.resolve(!1)}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function gs(y){return y!==fn}let yl=(()=>{class y{buildTitle(m){let T,A=m.root;for(;void 0!==A;)T=this.getResolvedTitleForRoute(A)??T,A=A.children.find(V=>V.outlet===sn);return T}getResolvedTitleForRoute(m){return m.data[Dr]}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Cu)},providedIn:"root"}),y})(),Cu=(()=>{class y extends yl{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(zr.Dx))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Po=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Pi)},providedIn:"root"}),y})();class Gu{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}let Pi=(()=>{class y extends Gu{}return y.\u0275fac=function(){let E;return function(T){return(E||(E=p.n5z(y)))(T||y)}}(),y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Pa=new p.OlP("",{providedIn:"root",factory:()=>({})});let Wu=(()=>{class y{}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:function(){return(0,p.f3M)(Go)},providedIn:"root"}),y})(),Go=(()=>{class y{shouldProcessUrl(m){return!0}extract(m){return m}merge(m,T){return m}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function uu(y){throw y}function zi(y,E,m){return E.parse("/")}const lu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ei={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ti=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,p.f3M)(p.c2e),this.isNgZoneEnabled=!1,this.options=(0,p.f3M)(Pa,{optional:!0})||{},this.errorHandler=this.options.errorHandler||uu,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,p.f3M)(Wu),this.routeReuseStrategy=(0,p.f3M)(Po),this.urlCreationStrategy=(0,p.f3M)(na),this.titleStrategy=(0,p.f3M)(yl),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ki((0,p.f3M)(Xr,{optional:!0})??[]),this.navigationTransitions=(0,p.f3M)(Ka),this.urlSerializer=(0,p.f3M)(Jt),this.location=(0,p.f3M)(Lt.Ye),this.isNgZoneEnabled=(0,p.f3M)(p.R0b)instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(m=>{this.lastSuccessfulId=m.id,this.currentPageId=this.browserPageId??0},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}resetRootComponentType(m){this.routerState.root.component=m,this.navigationTransitions.rootComponentType=m}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const m=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),fn,m)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{this.navigateToSyncWithBrowser(m.url,T,m.state)},0)}))}navigateToSyncWithBrowser(m,T,A){const V={replaceUrl:!0},Y=A?.navigationId?A:null;if(A){const ht={...A};delete ht.navigationId,delete ht.\u0275routerPageId,0!==Object.keys(ht).length&&(V.state=ht)}const Ce=this.parseUrl(m);this.scheduleNavigation(Ce,T,Y,V)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(m){this.config=m.map(xo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:A,queryParams:V,fragment:Y,queryParamsHandling:Ce,preserveFragment:ht}=T,Xt=ht?this.currentUrlTree.fragment:Y;let Wt=null;switch(Ce){case"merge":Wt={...this.currentUrlTree.queryParams,...V};break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=V||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),this.urlCreationStrategy.createUrlTree(A,this.routerState,this.currentUrlTree,m,Wt,Xt??null)}navigateByUrl(m,T={skipLocationChange:!1}){const A=Zt(m)?m:this.parseUrl(m),V=this.urlHandlingStrategy.merge(A,this.rawUrlTree);return this.scheduleNavigation(V,fn,null,T)}navigate(m,T={skipLocationChange:!1}){return function Ia(y){for(let E=0;E<y.length;E++){const m=y[E];if(null==m)throw new p.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(A){T=this.malformedUriErrorHandler(A,this.urlSerializer,m)}return T}isActive(m,T){let A;if(A=!0===T?{...lu}:!1===T?{...ei}:T,Zt(m))return Ti(this.currentUrlTree,m,A);const V=this.parseUrl(m);return Ti(this.currentUrlTree,V,A)}removeEmptyProps(m){return Object.keys(m).reduce((T,A)=>{const V=m[A];return null!=V&&(T[A]=V),T},{})}scheduleNavigation(m,T,A,V,Y){if(this.disposed)return Promise.resolve(!1);let Ce,ht,Xt,Wt;return Y?(Ce=Y.resolve,ht=Y.reject,Xt=Y.promise):Xt=new Promise((lr,Si)=>{Ce=lr,ht=Si}),Wt="computed"===this.canceledNavigationResolution?A&&A.\u0275routerPageId?A.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Wt,source:T,restoredState:A,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:m,extras:V,resolve:Ce,reject:ht,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(lr=>Promise.reject(lr))}setBrowserUrl(m,T){const A=this.urlSerializer.serialize(m);if(this.location.isCurrentPathEqualTo(A)||T.extras.replaceUrl){const Y={...T.extras.state,...this.generateNgRouterState(T.id,this.browserPageId)};this.location.replaceState(A,"",Y)}else{const V={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.go(A,"",V)}}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const V=this.currentPageId-(this.browserPageId??this.currentPageId);0!==V?this.location.historyGo(V):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===V&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return y.\u0275fac=function(m){return new(m||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ha=(()=>{class y{constructor(m,T,A,V,Y,Ce){this.router=m,this.route=T,this.tabIndexAttribute=A,this.renderer=V,this.el=Y,this.locationStrategy=Ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new De.x;const ht=Y.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ht||"area"===ht,this.isAnchorElement?this.subscription=m.events.subscribe(Xt=>{Xt instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(m){this._preserveFragment=(0,p.D6c)(m)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(m){this._skipLocationChange=(0,p.D6c)(m)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(m){this._replaceUrl=(0,p.D6c)(m)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(m){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",m)}ngOnChanges(m){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(m){null!=m?(this.commands=Array.isArray(m)?m:[m],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(m,T,A,V,Y){return!!(null===this.urlTree||this.isAnchorElement&&(0!==m||T||A||V||Y||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const m=null===this.href?null:(0,p.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",m)}applyAttributeValue(m,T){const A=this.renderer,V=this.el.nativeElement;null!==T?A.setAttribute(V,m,T):A.removeAttribute(V,m)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(m){return new(m||y)(p.Y36(ti),p.Y36(Is),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Lt.S$))},y.\u0275dir=p.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(m,T){1&m&&p.NdJ("click",function(V){return T.onClick(V.button,V.ctrlKey,V.shiftKey,V.altKey,V.metaKey)}),2&m&&p.uIk("target",T.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[p.TTD]}),y})();class Zs{}let qa=(()=>{class y{constructor(m,T,A,V,Y){this.router=m,this.injector=A,this.preloadingStrategy=V,this.loader=Y}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(m=>m instanceof Br),Ie(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const A=[];for(const V of T){V.providers&&!V._injector&&(V._injector=(0,p.MMx)(V.providers,m,`Route: ${V.path}`));const Y=V._injector??m,Ce=V._loadedInjector??Y;(V.loadChildren&&!V._loadedRoutes&&void 0===V.canLoad||V.loadComponent&&!V._loadedComponent)&&A.push(this.preloadConfig(Y,V)),(V.children||V._loadedRoutes)&&A.push(this.processRoutes(Ce,V.children??V._loadedRoutes))}return(0,W.D)(A).pipe((0,ft.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let A;A=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):(0,Z.of)(null);const V=A.pipe((0,st.z)(Y=>null===Y?(0,Z.of)(void 0):(T._loadedRoutes=Y.routes,T._loadedInjector=Y.injector,this.processRoutes(Y.injector??m,Y.routes))));if(T.loadComponent&&!T._loadedComponent){const Y=this.loader.loadComponent(T);return(0,W.D)([V,Y]).pipe((0,ft.J)())}return V})}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(ti),p.LFG(p.Sil),p.LFG(p.lqb),p.LFG(Zs),p.LFG(ps))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Ta=new p.OlP("");let bs=(()=>{class y{constructor(m,T,A,V,Y={}){this.urlSerializer=m,this.transitions=T,this.viewportScroller=A,this.zone=V,this.options=Y,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Y.scrollPositionRestoration=Y.scrollPositionRestoration||"disabled",Y.anchorScrolling=Y.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof xi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Br&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.urlSerializer.parse(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(m=>{m instanceof Es&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Es(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(m){p.$Z()},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac}),y})();var Yi=(()=>((Yi=Yi||{})[Yi.COMPLETE=0]="COMPLETE",Yi[Yi.FAILED=1]="FAILED",Yi[Yi.REDIRECTING=2]="REDIRECTING",Yi))();const uo=!1;function Vs(y,E){return{\u0275kind:y,\u0275providers:E}}const Ys=new p.OlP("",{providedIn:"root",factory:()=>!1});function Za(){const y=(0,p.f3M)(p.zs3);return E=>{const m=y.get(p.z2F);if(E!==m.components[0])return;const T=y.get(ti),A=y.get(Ya);1===y.get(du)&&T.initialNavigation(),y.get(qu,null,p.XFs.Optional)?.setUpPreloading(),y.get(Ta,null,p.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),A.closed||(A.next(),A.complete(),A.unsubscribe())}}const Ya=new p.OlP(uo?"bootstrap done indicator":"",{factory:()=>new De.x}),du=new p.OlP(uo?"initial navigation":"",{providedIn:"root",factory:()=>1});function ka(){let y=[];return y=uo?[{provide:p.Xts,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ti);return()=>E.events.subscribe(m=>{console.group?.(`Router Event: ${m.constructor.name}`),console.log(function ws(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(m)),console.log(m),console.groupEnd?.()})}}]:[],Vs(1,y)}const qu=new p.OlP(uo?"router preloader":"");function vl(y){return Vs(0,[{provide:qu,useExisting:qa},{provide:Zs,useExisting:y}])}const Wo=!1,Ko=new p.OlP(Wo?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),pa=[Lt.Ye,{provide:Jt,useClass:fr},ti,Zi,{provide:Is,useFactory:function fa(y){return y.routerState.root},deps:[ti]},ps,Wo?{provide:Ys,useValue:!0}:[]];function Fa(){return new p.PXZ("Router",ti)}let Ii=(()=>{class y{constructor(m){}static forRoot(m,T){return{ngModule:y,providers:[pa,Wo&&T?.enableTracing?ka().\u0275providers:[],{provide:Xr,multi:!0,useValue:m},{provide:Ko,useFactory:_l,deps:[[ti,new p.FiY,new p.tp0]]},{provide:Pa,useValue:T||{}},T?.useHash?{provide:Lt.S$,useClass:Lt.Do}:{provide:Lt.S$,useClass:Lt.b0},{provide:Ta,useFactory:()=>{const y=(0,p.f3M)(Lt.EM),E=(0,p.f3M)(p.R0b),m=(0,p.f3M)(Pa),T=(0,p.f3M)(Ka),A=(0,p.f3M)(Jt);return m.scrollOffset&&y.setOffset(m.scrollOffset),new bs(A,T,y,E,m)}},T?.preloadingStrategy?vl(T.preloadingStrategy).\u0275providers:[],{provide:p.PXZ,multi:!0,useFactory:Fa},T?.initialNavigation?Dt(T):[],[{provide:Zr,useFactory:Za},{provide:p.tb,multi:!0,useExisting:Zr}]]}}static forChild(m){return{ngModule:y,providers:[{provide:Xr,multi:!0,useValue:m}]}}}return y.\u0275fac=function(m){return new(m||y)(p.LFG(Ko,8))},y.\u0275mod=p.oAB({type:y}),y.\u0275inj=p.cJS({imports:[Gn]}),y})();function _l(y){if(Wo&&y)throw new p.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Dt(y){return["disabled"===y.initialNavigation?Vs(3,[{provide:p.ip1,multi:!0,useFactory:()=>{const E=(0,p.f3M)(ti);return()=>{E.setUpLocationChangeListener()}}},{provide:du,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Vs(2,[{provide:du,useValue:0},{provide:p.ip1,multi:!0,deps:[p.zs3],useFactory:E=>{const m=E.get(Lt.V_,Promise.resolve());return()=>m.then(()=>new Promise(T=>{const A=E.get(ti),V=E.get(Ya);(function Oa(y,E){y.events.pipe((0,mt.h)(m=>m instanceof Br||m instanceof Gr||m instanceof Jn||m instanceof ii),(0,ke.U)(m=>m instanceof Br||m instanceof ii?Yi.COMPLETE:m instanceof Gr&&(0===m.code||1===m.code)?Yi.REDIRECTING:Yi.FAILED),(0,mt.h)(m=>m!==Yi.REDIRECTING),(0,je.q)(1)).subscribe(()=>{E()})})(A,()=>{T(!0)}),E.get(Ka).afterPreactivation=()=>(T(!0),V.closed?(0,Z.of)(void 0):V),A.initialNavigation()}))}}]).\u0275providers:[]]}const Zr=new p.OlP(Wo?"Router Initializer":"")},3942:(nn,it,G)=>{G.d(it,{Z:()=>It});var p=G(2090),W=G(4859),Z=G(6881),De=G(1877);class be{constructor(Qe,ft){this._delegate=Qe,this.firebase=ft,(0,Z._addComponent)(Qe,new W.wA("app-compat",()=>this,"PUBLIC")),this.container=Qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this._delegate.automaticDataCollectionEnabled=Qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Qe=>{this._delegate.checkDestroyed(),Qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(Qe,ft=Z._DEFAULT_ENTRY_NAME){var Et;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(Qe);return!wt.isInitialized()&&"EXPLICIT"===(null===(Et=wt.getComponent())||void 0===Et?void 0:Et.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:ft})}_removeServiceInstance(Qe,ft=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Qe).clearInstance(ft)}_addComponent(Qe){(0,Z._addComponent)(this._delegate,Qe)}_addOrOverwriteComponent(Qe){(0,Z._addOrOverwriteComponent)(this._delegate,Qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function rt(){const $t=function Be($t){const Qe={},ft={__esModule:!0,initializeApp:function Fe(et,Pe={}){const Ft=Z.initializeApp(et,Pe);if((0,p.r3)(Qe,Ft.name))return Qe[Ft.name];const rn=new $t(Ft,ft);return Qe[Ft.name]=rn,rn},app:wt,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function Ze(et){const Pe=et.name,Ft=Pe.replace("-compat","");if(Z._registerComponent(et)&&"PUBLIC"===et.type){const rn=(zt=wt())=>{if("function"!=typeof zt[Ft])throw ze.create("invalid-app-argument",{appName:Pe});return zt[Ft]()};void 0!==et.serviceProps&&(0,p.ZB)(rn,et.serviceProps),ft[Ft]=rn,$t.prototype[Ft]=function(...zt){return this._getService.bind(this,Pe).apply(this,et.multipleInstances?zt:[])}}return"PUBLIC"===et.type?ft[Ft]:null},removeApp:function Et(et){delete Qe[et]},useAsService:function vt(et,Pe){return"serverAuth"===Pe?null:Pe},modularAPIs:Z}};function wt(et){if(!(0,p.r3)(Qe,et=et||Z._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:et});return Qe[et]}return ft.default=ft,Object.defineProperty(ft,"apps",{get:function we(){return Object.keys(Qe).map(et=>Qe[et])}}),wt.App=$t,ft}(be);return $t.INTERNAL=Object.assign(Object.assign({},$t.INTERNAL),{createFirebaseNamespace:rt,extendNamespace:function Qe(ft){(0,p.ZB)($t,ft)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),$t}(),le=new De.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $t=self.firebase.SDK_VERSION;$t&&$t.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const It=de;!function ut($t){(0,Z.registerVersion)("@firebase/app-compat","0.2.9",$t)}()},6881:(nn,it,G)=>{G.r(it),G.d(it,{FirebaseError:()=>De.ZR,SDK_VERSION:()=>Wi,_DEFAULT_ENTRY_NAME:()=>vi,_addComponent:()=>Ot,_addOrOverwriteComponent:()=>ln,_apps:()=>Xn,_clearComponents:()=>Ti,_components:()=>Cn,_getProvider:()=>Mr,_registerComponent:()=>ni,_removeServiceInstance:()=>mr,deleteApp:()=>gt,getApp:()=>Ci,getApps:()=>Rn,initializeApp:()=>Yn,onLog:()=>St,registerVersion:()=>Cr,setLogLevel:()=>Yr});var p=G(5861),W=G(4859),Z=G(1877),De=G(2090);const be=(Xe,Le)=>Le.some(Tt=>Xe instanceof Tt);let Se,ze;const de=new WeakMap,le=new WeakMap,pe=new WeakMap,dt=new WeakMap,ut=new WeakMap;let Qe={get(Xe,Le,Tt){if(Xe instanceof IDBTransaction){if("done"===Le)return le.get(Xe);if("objectStoreNames"===Le)return Xe.objectStoreNames||pe.get(Xe);if("store"===Le)return Tt.objectStoreNames[1]?void 0:Tt.objectStore(Tt.objectStoreNames[0])}return Fe(Xe[Le])},set:(Xe,Le,Tt)=>(Xe[Le]=Tt,!0),has:(Xe,Le)=>Xe instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in Xe};function wt(Xe){return"function"==typeof Xe?function Et(Xe){return Xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function rt(){return ze||(ze=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Xe)?function(...Le){return Xe.apply(we(this),Le),Fe(de.get(this))}:function(...Le){return Fe(Xe.apply(we(this),Le))}:function(Le,...Tt){const qt=Xe.call(we(this),Le,...Tt);return pe.set(qt,Le.sort?Le.sort():[Le]),Fe(qt)}}(Xe):(Xe instanceof IDBTransaction&&function $t(Xe){if(le.has(Xe))return;const Le=new Promise((Tt,qt)=>{const un=()=>{Xe.removeEventListener("complete",yn),Xe.removeEventListener("error",Zt),Xe.removeEventListener("abort",Zt)},yn=()=>{Tt(),un()},Zt=()=>{qt(Xe.error||new DOMException("AbortError","AbortError")),un()};Xe.addEventListener("complete",yn),Xe.addEventListener("error",Zt),Xe.addEventListener("abort",Zt)});le.set(Xe,Le)}(Xe),be(Xe,function Be(){return Se||(Se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Xe,Qe):Xe)}function Fe(Xe){if(Xe instanceof IDBRequest)return function It(Xe){const Le=new Promise((Tt,qt)=>{const un=()=>{Xe.removeEventListener("success",yn),Xe.removeEventListener("error",Zt)},yn=()=>{Tt(Fe(Xe.result)),un()},Zt=()=>{qt(Xe.error),un()};Xe.addEventListener("success",yn),Xe.addEventListener("error",Zt)});return Le.then(Tt=>{Tt instanceof IDBCursor&&de.set(Tt,Xe)}).catch(()=>{}),ut.set(Le,Xe),Le}(Xe);if(dt.has(Xe))return dt.get(Xe);const Le=wt(Xe);return Le!==Xe&&(dt.set(Xe,Le),ut.set(Le,Xe)),Le}const we=Xe=>ut.get(Xe),et=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],Ft=new Map;function rn(Xe,Le){if(!(Xe instanceof IDBDatabase)||Le in Xe||"string"!=typeof Le)return;if(Ft.get(Le))return Ft.get(Le);const Tt=Le.replace(/FromIndex$/,""),qt=Le!==Tt,un=Pe.includes(Tt);if(!(Tt in(qt?IDBIndex:IDBObjectStore).prototype)||!un&&!et.includes(Tt))return;const yn=function(){var Zt=(0,p.Z)(function*(Un,...Qn){const Pr=this.transaction(Un,un?"readwrite":"readonly");let tr=Pr.store;return qt&&(tr=tr.index(Qn.shift())),(yield Promise.all([tr[Tt](...Qn),un&&Pr.done]))[0]});return function(Qn){return Zt.apply(this,arguments)}}();return Ft.set(Le,yn),yn}!function ft(Xe){Qe=Xe(Qe)}(Xe=>({...Xe,get:(Le,Tt,qt)=>rn(Le,Tt)||Xe.get(Le,Tt,qt),has:(Le,Tt)=>!!rn(Le,Tt)||Xe.has(Le,Tt)}));class zt{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function _n(Xe){return"VERSION"===Xe.getComponent()?.type}(Tt)){const qt=Tt.getImmediate();return`${qt.library}/${qt.version}`}return null}).filter(Tt=>Tt).join(" ")}}const Lt="@firebase/app",Ye=new Z.Yd("@firebase/app"),vi="[DEFAULT]",ki={[Lt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xn=new Map,Cn=new Map;function Ot(Xe,Le){try{Xe.container.addComponent(Le)}catch(Tt){Ye.debug(`Component ${Le.name} failed to register with FirebaseApp ${Xe.name}`,Tt)}}function ln(Xe,Le){Xe.container.addOrOverwriteComponent(Le)}function ni(Xe){const Le=Xe.name;if(Cn.has(Le))return Ye.debug(`There were multiple attempts to register component ${Le}.`),!1;Cn.set(Le,Xe);for(const Tt of Xn.values())Ot(Tt,Xe);return!0}function Mr(Xe,Le){const Tt=Xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),Xe.container.getProvider(Le)}function mr(Xe,Le,Tt=vi){Mr(Xe,Le).clearInstance(Tt)}function Ti(){Cn.clear()}const _i=new De.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ir{constructor(Le,Tt,qt){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=qt,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const Wi="9.21.0";function Yn(Xe,Le={}){let Tt=Xe;"object"!=typeof Le&&(Le={name:Le});const qt=Object.assign({name:vi,automaticDataCollectionEnabled:!1},Le),un=qt.name;if("string"!=typeof un||!un)throw _i.create("bad-app-name",{appName:String(un)});if(Tt||(Tt=(0,De.aH)()),!Tt)throw _i.create("no-options");const yn=Xn.get(un);if(yn){if((0,De.vZ)(Tt,yn.options)&&(0,De.vZ)(qt,yn.config))return yn;throw _i.create("duplicate-app",{appName:un})}const Zt=new W.H0(un);for(const Qn of Cn.values())Zt.addComponent(Qn);const Un=new ir(Tt,qt,Zt);return Xn.set(un,Un),Un}function Ci(Xe=vi){const Le=Xn.get(Xe);if(!Le&&Xe===vi)return Yn();if(!Le)throw _i.create("no-app",{appName:Xe});return Le}function Rn(){return Array.from(Xn.values())}function gt(Xe){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,p.Z)(function*(Xe){const Le=Xe.name;Xn.has(Le)&&(Xn.delete(Le),yield Promise.all(Xe.container.getProviders().map(Tt=>Tt.delete())),Xe.isDeleted=!0)})).apply(this,arguments)}function Cr(Xe,Le,Tt){var qt;let un=null!==(qt=ki[Xe])&&void 0!==qt?qt:Xe;Tt&&(un+=`-${Tt}`);const yn=un.match(/\s|\//),Zt=Le.match(/\s|\//);if(yn||Zt){const Un=[`Unable to register library "${un}" with version "${Le}":`];return yn&&Un.push(`library name "${un}" contains illegal characters (whitespace or "/")`),yn&&Zt&&Un.push("and"),Zt&&Un.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void Ye.warn(Un.join(" "))}ni(new W.wA(`${un}-version`,()=>({library:un,version:Le}),"VERSION"))}function St(Xe,Le){if(null!==Xe&&"function"!=typeof Xe)throw _i.create("invalid-log-argument");(0,Z.Am)(Xe,Le)}function Yr(Xe){(0,Z.Ub)(Xe)}const Jt="firebase-heartbeat-database",fr=1,ue="firebase-heartbeat-store";let se=null;function ge(){return se||(se=function Ze(Xe,Le,{blocked:Tt,upgrade:qt,blocking:un,terminated:yn}={}){const Zt=indexedDB.open(Xe,Le),Un=Fe(Zt);return qt&&Zt.addEventListener("upgradeneeded",Qn=>{qt(Fe(Zt.result),Qn.oldVersion,Qn.newVersion,Fe(Zt.transaction),Qn)}),Tt&&Zt.addEventListener("blocked",Qn=>Tt(Qn.oldVersion,Qn.newVersion,Qn)),Un.then(Qn=>{yn&&Qn.addEventListener("close",()=>yn()),un&&Qn.addEventListener("versionchange",Pr=>un(Pr.oldVersion,Pr.newVersion,Pr))}).catch(()=>{}),Un}(Jt,fr,{upgrade:(Xe,Le)=>{0===Le&&Xe.createObjectStore(ue)}}).catch(Xe=>{throw _i.create("idb-open",{originalErrorMessage:Xe.message})})),se}function Oe(){return(Oe=(0,p.Z)(function*(Xe){try{return(yield ge()).transaction(ue).objectStore(ue).get(ae(Xe))}catch(Le){if(Le instanceof De.ZR)Ye.warn(Le.message);else{const Tt=_i.create("idb-get",{originalErrorMessage:Le?.message});Ye.warn(Tt.message)}}})).apply(this,arguments)}function Mt(Xe,Le){return me.apply(this,arguments)}function me(){return(me=(0,p.Z)(function*(Xe,Le){try{const qt=(yield ge()).transaction(ue,"readwrite");return yield qt.objectStore(ue).put(Le,ae(Xe)),qt.done}catch(Tt){if(Tt instanceof De.ZR)Ye.warn(Tt.message);else{const qt=_i.create("idb-set",{originalErrorMessage:Tt?.message});Ye.warn(qt.message)}}})).apply(this,arguments)}function ae(Xe){return`${Xe.name}!${Xe.options.appId}`}class qe{constructor(Le){this.container=Le,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Sn(Tt),this._heartbeatsCachePromise=this._storage.read().then(qt=>(this._heartbeatsCache=qt,qt))}triggerHeartbeat(){var Le=this;return(0,p.Z)(function*(){const qt=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),un=bt();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==un&&!Le._heartbeatsCache.heartbeats.some(yn=>yn.date===un))return Le._heartbeatsCache.heartbeats.push({date:un,agent:qt}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(yn=>{const Zt=new Date(yn.date).valueOf();return Date.now()-Zt<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,p.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const Tt=bt(),{heartbeatsToSend:qt,unsentEntries:un}=function pn(Xe,Le=1024){const Tt=[];let qt=Xe.slice();for(const un of Xe){const yn=Tt.find(Zt=>Zt.agent===un.agent);if(yn){if(yn.dates.push(un.date),sr(Tt)>Le){yn.dates.pop();break}}else if(Tt.push({agent:un.agent,dates:[un.date]}),sr(Tt)>Le){Tt.pop();break}qt=qt.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:qt}}(Le._heartbeatsCache.heartbeats),yn=(0,De.L)(JSON.stringify({version:2,heartbeats:qt}));return Le._heartbeatsCache.lastSentHeartbeatDate=Tt,un.length>0?(Le._heartbeatsCache.heartbeats=un,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),yn})()}}function bt(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,De.hl)()&&(0,De.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,p.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function at(Xe){return Oe.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var Tt=this;return(0,p.Z)(function*(){var qt;if(yield Tt._canUseIndexedDBPromise){const yn=yield Tt.read();return Mt(Tt.app,{lastSentHeartbeatDate:null!==(qt=Le.lastSentHeartbeatDate)&&void 0!==qt?qt:yn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var Tt=this;return(0,p.Z)(function*(){var qt;if(yield Tt._canUseIndexedDBPromise){const yn=yield Tt.read();return Mt(Tt.app,{lastSentHeartbeatDate:null!==(qt=Le.lastSentHeartbeatDate)&&void 0!==qt?qt:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...Le.heartbeats]})}})()}}function sr(Xe){return(0,De.L)(JSON.stringify({version:2,heartbeats:Xe})).length}!function zn(Xe){ni(new W.wA("platform-logger",Le=>new zt(Le),"PRIVATE")),ni(new W.wA("heartbeat",Le=>new qe(Le),"PRIVATE")),Cr(Lt,"0.9.9",Xe),Cr(Lt,"0.9.9","esm2017"),Cr("fire-js","")}("")},4859:(nn,it,G)=>{G.d(it,{H0:()=>Be,wA:()=>Z});var p=G(5861),W=G(2090);class Z{constructor(de,le,pe){this.name=de,this.instanceFactory=le,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(de){return this.instantiationMode=de,this}setMultipleInstances(de){return this.multipleInstances=de,this}setServiceProps(de){return this.serviceProps=de,this}setInstanceCreatedCallback(de){return this.onInstanceCreated=de,this}}const De="[DEFAULT]";class be{constructor(de,le){this.name=de,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(de){const le=this.normalizeInstanceIdentifier(de);if(!this.instancesDeferred.has(le)){const pe=new W.BH;if(this.instancesDeferred.set(le,pe),this.isInitialized(le)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:le});dt&&pe.resolve(dt)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(de){var le;const pe=this.normalizeInstanceIdentifier(de?.identifier),dt=null!==(le=de?.optional)&&void 0!==le&&le;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(ut){if(dt)return null;throw ut}}getComponent(){return this.component}setComponent(de){if(de.name!==this.name)throw Error(`Mismatching Component ${de.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=de,this.shouldAutoInitialize()){if(function ze(rt){return"EAGER"===rt.instantiationMode}(de))try{this.getOrInitializeService({instanceIdentifier:De})}catch{}for(const[le,pe]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(le);try{const ut=this.getOrInitializeService({instanceIdentifier:dt});pe.resolve(ut)}catch{}}}}clearInstance(de=De){this.instancesDeferred.delete(de),this.instancesOptions.delete(de),this.instances.delete(de)}delete(){var de=this;return(0,p.Z)(function*(){const le=Array.from(de.instances.values());yield Promise.all([...le.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...le.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(de=De){return this.instances.has(de)}getOptions(de=De){return this.instancesOptions.get(de)||{}}initialize(de={}){const{options:le={}}=de,pe=this.normalizeInstanceIdentifier(de.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:pe,options:le});for(const[ut,It]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(ut)&&It.resolve(dt);return dt}onInit(de,le){var pe;const dt=this.normalizeInstanceIdentifier(le),ut=null!==(pe=this.onInitCallbacks.get(dt))&&void 0!==pe?pe:new Set;ut.add(de),this.onInitCallbacks.set(dt,ut);const It=this.instances.get(dt);return It&&de(It,dt),()=>{ut.delete(de)}}invokeOnInitCallbacks(de,le){const pe=this.onInitCallbacks.get(le);if(pe)for(const dt of pe)try{dt(de,le)}catch{}}getOrInitializeService({instanceIdentifier:de,options:le={}}){let pe=this.instances.get(de);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(rt=de,rt===De?void 0:rt),options:le}),this.instances.set(de,pe),this.instancesOptions.set(de,le),this.invokeOnInitCallbacks(pe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,pe)}catch{}var rt;return pe||null}normalizeInstanceIdentifier(de=De){return this.component?this.component.multipleInstances?de:De:de}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(de){this.name=de,this.providers=new Map}addComponent(de){const le=this.getProvider(de.name);if(le.isComponentSet())throw new Error(`Component ${de.name} has already been registered with ${this.name}`);le.setComponent(de)}addOrOverwriteComponent(de){this.getProvider(de.name).isComponentSet()&&this.providers.delete(de.name),this.addComponent(de)}getProvider(de){if(this.providers.has(de))return this.providers.get(de);const le=new be(de,this);return this.providers.set(de,le),le}getProviders(){return Array.from(this.providers.values())}}},1877:(nn,it,G)=>{G.d(it,{Am:()=>rt,Ub:()=>Be,Yd:()=>ze,in:()=>W});const p=[];var W=(()=>{return(de=W||(W={}))[de.DEBUG=0]="DEBUG",de[de.VERBOSE=1]="VERBOSE",de[de.INFO=2]="INFO",de[de.WARN=3]="WARN",de[de.ERROR=4]="ERROR",de[de.SILENT=5]="SILENT",W;var de})();const Z={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},De=W.INFO,be={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},Se=(de,le,...pe)=>{if(le<de.logLevel)return;const dt=(new Date).toISOString(),ut=be[le];if(!ut)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[ut](`[${dt}]  ${de.name}:`,...pe)};class ze{constructor(le){this.name=le,this._logLevel=De,this._logHandler=Se,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in W))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?Z[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...le),this._logHandler(this,W.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...le),this._logHandler(this,W.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,W.INFO,...le),this._logHandler(this,W.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,W.WARN,...le),this._logHandler(this,W.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...le),this._logHandler(this,W.ERROR,...le)}}function Be(de){p.forEach(le=>{le.setLogLevel(de)})}function rt(de,le){for(const pe of p){let dt=null;le&&le.level&&(dt=Z[le.level]),pe.userLogHandler=null===de?null:(ut,It,...$t)=>{const Qe=$t.map(ft=>{if(null==ft)return null;if("string"==typeof ft)return ft;if("number"==typeof ft||"boolean"==typeof ft)return ft.toString();if(ft instanceof Error)return ft.message;try{return JSON.stringify(ft)}catch{return null}}).filter(ft=>ft).join(" ");It>=(dt??ut.logLevel)&&de({level:W[It].toLowerCase(),message:Qe,args:$t,type:ut.name})}}}},259:(nn,it,G)=>{G.d(it,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=G(6881);(0,p.registerVersion)("firebase","9.21.0","app")},9260:(nn,it,G)=>{G.d(it,{Z:()=>p.Z});var p=G(3942);p.Z.registerVersion("firebase","9.21.0","app-compat")},7185:(nn,it,G)=>{G.d(it,{Rh:()=>je,_W:()=>_n});var p=G(4650),W=G(7340),Z=G(6895),De=G(7579),be=G(1481);const Se=["toast-component",""];function ze(Ie,He){if(1&Ie){const he=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){p.CHM(he);const yt=p.oxw();return p.KtG(yt.remove())}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA()()}}function Be(Ie,He){if(1&Ie&&(p.ynx(0),p._uU(1),p.BQk()),2&Ie){const he=p.oxw(2);p.xp6(1),p.hij("[",he.duplicatesCount+1,"]")}}function rt(Ie,He){if(1&Ie&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,Be,2,1,"ng-container",4),p.qZA()),2&Ie){const he=p.oxw();p.Tol(he.options.titleClass),p.uIk("aria-label",he.title),p.xp6(1),p.hij(" ",he.title," "),p.xp6(1),p.Q6J("ngIf",he.duplicatesCount)}}function de(Ie,He){if(1&Ie&&p._UZ(0,"div",7),2&Ie){const he=p.oxw();p.Tol(he.options.messageClass),p.Q6J("innerHTML",he.message,p.oJD)}}function le(Ie,He){if(1&Ie&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&Ie){const he=p.oxw();p.Tol(he.options.messageClass),p.uIk("aria-label",he.message),p.xp6(1),p.hij(" ",he.message," ")}}function pe(Ie,He){if(1&Ie&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&Ie){const he=p.oxw();p.xp6(1),p.Udp("width",he.width+"%")}}class wt{constructor(He,he){this.component=He,this.injector=he}attach(He,he){return this._attachedHost=He,He.attach(this,he)}detach(){const He=this._attachedHost;if(He)return this._attachedHost=void 0,He.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(He){this._attachedHost=He}}class Fe{attach(He,he){return this._attachedPortal=He,this.attachComponentPortal(He,he)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(He){this._disposeFn=He}}class we{constructor(He){this._overlayRef=He,this.duplicatesCount=0,this._afterClosed=new De.x,this._activate=new De.x,this._manualClose=new De.x,this._resetTimeout=new De.x,this._countDuplicate=new De.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(He,he){He&&this._resetTimeout.next(),he&&this._countDuplicate.next(++this.duplicatesCount)}}class Ze{constructor(He,he,Ne,yt,Ut,Kn){this.toastId=He,this.config=he,this.message=Ne,this.title=yt,this.toastType=Ut,this.toastRef=Kn,this._onTap=new De.x,this._onAction=new De.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(He){this._onAction.next(He)}onAction(){return this._onAction.asObservable()}}const et=new p.OlP("ToastConfig");class Pe extends Fe{constructor(He,he,Ne){super(),this._hostDomElement=He,this._componentFactoryResolver=he,this._appRef=Ne}attachComponentPortal(He,he){const Ne=this._componentFactoryResolver.resolveComponentFactory(He.component);let yt;return yt=Ne.create(He.injector),this._appRef.attachView(yt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(yt.hostView),yt.destroy()}),he?this._hostDomElement.insertBefore(this._getComponentRootNode(yt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(yt)),yt}_getComponentRootNode(He){return He.hostView.rootNodes[0]}}let Ft=(()=>{class Ie{constructor(){this._document=(0,p.f3M)(Z.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const he=this._document.createElement("div");he.classList.add("overlay-container"),he.setAttribute("aria-live","polite"),this._document.body.appendChild(he),this._containerElement=he}}return Ie.\u0275fac=function(he){return new(he||Ie)},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})();class rn{constructor(He){this._portalHost=He}attach(He,he=!0){return this._portalHost.attach(He,he)}detach(){return this._portalHost.detach()}}let zt=(()=>{class Ie{constructor(){this._overlayContainer=(0,p.f3M)(Ft),this._componentFactoryResolver=(0,p.f3M)(p._Vd),this._appRef=(0,p.f3M)(p.z2F),this._document=(0,p.f3M)(Z.K0),this._paneElements=new Map}create(he,Ne){return this._createOverlayRef(this.getPaneElement(he,Ne))}getPaneElement(he="",Ne){return this._paneElements.get(Ne)||this._paneElements.set(Ne,{}),this._paneElements.get(Ne)[he]||(this._paneElements.get(Ne)[he]=this._createPaneElement(he,Ne)),this._paneElements.get(Ne)[he]}_createPaneElement(he,Ne){const yt=this._document.createElement("div");return yt.id="toast-container",yt.classList.add(he),yt.classList.add("toast-container"),Ne?Ne.getContainerElement().appendChild(yt):this._overlayContainer.getContainerElement().appendChild(yt),yt}_createPortalHost(he){return new Pe(he,this._componentFactoryResolver,this._appRef)}_createOverlayRef(he){return new rn(this._createPortalHost(he))}}return Ie.\u0275fac=function(he){return new(he||Ie)},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),_n=(()=>{class Ie{constructor(he,Ne,yt,Ut,Kn){this.overlay=Ne,this._injector=yt,this.sanitizer=Ut,this.ngZone=Kn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...he.default,...he.config},he.config.iconClasses&&(this.toastrConfig.iconClasses={...he.default.iconClasses,...he.config.iconClasses})}show(he,Ne,yt={},Ut=""){return this._preBuildNotification(Ut,he,Ne,this.applyConfig(yt))}success(he,Ne,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",he,Ne,this.applyConfig(yt))}error(he,Ne,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",he,Ne,this.applyConfig(yt))}info(he,Ne,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",he,Ne,this.applyConfig(yt))}warning(he,Ne,yt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",he,Ne,this.applyConfig(yt))}clear(he){for(const Ne of this.toasts)if(void 0!==he){if(Ne.toastId===he)return void Ne.toastRef.manualClose()}else Ne.toastRef.manualClose()}remove(he){const Ne=this._findToast(he);if(!Ne||(Ne.activeToast.toastRef.close(),this.toasts.splice(Ne.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const yt=this.toasts[this.currentlyActive].toastRef;yt.isInactive()||(this.currentlyActive=this.currentlyActive+1,yt.activate())}return!0}findDuplicate(he="",Ne="",yt,Ut){const{includeTitleDuplicates:Kn}=this.toastrConfig;for(const jn of this.toasts)if((!Kn||Kn&&jn.title===he)&&jn.message===Ne)return jn.toastRef.onDuplicate(yt,Ut),jn;return null}applyConfig(he={}){return{...this.toastrConfig,...he}}_findToast(he){for(let Ne=0;Ne<this.toasts.length;Ne++)if(this.toasts[Ne].toastId===he)return{index:Ne,activeToast:this.toasts[Ne]};return null}_preBuildNotification(he,Ne,yt,Ut){return Ut.onActivateTick?this.ngZone.run(()=>this._buildNotification(he,Ne,yt,Ut)):this._buildNotification(he,Ne,yt,Ut)}_buildNotification(he,Ne,yt,Ut){if(!Ut.toastComponent)throw new Error("toastComponent required");const Kn=this.findDuplicate(yt,Ne,this.toastrConfig.resetTimeoutOnDuplicate&&Ut.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&yt||Ne)&&this.toastrConfig.preventDuplicates&&null!==Kn)return Kn;this.previousToastMessage=Ne;let jn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(jn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Er=this.overlay.create(Ut.positionClass,this.overlayContainer);this.index=this.index+1;let wr=Ne;Ne&&Ut.enableHtml&&(wr=this.sanitizer.sanitize(p.q3G.HTML,Ne));const Ir=new we(Er),hr=new Ze(this.index,Ut,wr,yt,he,Ir),sn=p.zs3.create({providers:[{provide:Ze,useValue:hr}],parent:this._injector}),Dr=new wt(Ut.toastComponent,sn),xn=Er.attach(Dr,Ut.newestOnTop);Ir.componentInstance=xn.instance;const Pt={toastId:this.index,title:yt||"",message:Ne||"",toastRef:Ir,onShown:Ir.afterActivate(),onHidden:Ir.afterClosed(),onTap:hr.onTap(),onAction:hr.onAction(),portal:xn};return jn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Pt.toastRef.activate()})),this.toasts.push(Pt),Pt}}return Ie.\u0275fac=function(he){return new(he||Ie)(p.LFG(et),p.LFG(zt),p.LFG(p.zs3),p.LFG(be.H7),p.LFG(p.R0b))},Ie.\u0275prov=p.Yz7({token:Ie,factory:Ie.\u0275fac,providedIn:"root"}),Ie})(),Lt=(()=>{class Ie{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(he,Ne,yt){this.toastrService=he,this.toastPackage=Ne,this.ngZone=yt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ne.message,this.title=Ne.title,this.options=Ne.config,this.originalTimeout=Ne.config.timeOut,this.toastClasses=`${Ne.toastType} ${Ne.config.toastClass}`,this.sub=Ne.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ne.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ne.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ne.toastRef.countDuplicate().subscribe(Ut=>{this.duplicatesCount=Ut})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const he=(new Date).getTime();this.width=(this.hideTime-he)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(he,Ne){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(he),Ne)):this.timeout=setTimeout(()=>he(),Ne)}outsideInterval(he,Ne){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(he),Ne)):this.intervalId=setInterval(()=>he(),Ne)}runInsideAngular(he){this.ngZone?this.ngZone.run(()=>he()):he()}}return Ie.\u0275fac=function(he){return new(he||Ie)(p.Y36(_n),p.Y36(Ze),p.Y36(p.R0b))},Ie.\u0275cmp=p.Xpm({type:Ie,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(he,Ne){1&he&&p.NdJ("click",function(){return Ne.tapToast()})("mouseenter",function(){return Ne.stickAround()})("mouseleave",function(){return Ne.delayedHideToast()}),2&he&&(p.d8E("@flyInOut",Ne.state),p.Tol(Ne.toastClasses),p.Udp("display",Ne.displayStyle))},standalone:!0,features:[p.jDz],attrs:Se,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(he,Ne){1&he&&(p.YNc(0,ze,3,0,"button",0),p.YNc(1,rt,3,5,"div",1),p.YNc(2,de,1,3,"div",2),p.YNc(3,le,2,4,"div",3),p.YNc(4,pe,2,2,"div",4)),2&he&&(p.Q6J("ngIf",Ne.options.closeButton),p.xp6(1),p.Q6J("ngIf",Ne.title),p.xp6(1),p.Q6J("ngIf",Ne.message&&Ne.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ne.message&&!Ne.options.enableHtml),p.xp6(1),p.Q6J("ngIf",Ne.options.progressBar))},dependencies:[Z.O5],encapsulation:2,data:{animation:[(0,W.X$)("flyInOut",[(0,W.SB)("inactive",(0,W.oB)({opacity:0})),(0,W.SB)("active",(0,W.oB)({opacity:1})),(0,W.SB)("removed",(0,W.oB)({opacity:0})),(0,W.eR)("inactive => active",(0,W.jt)("{{ easeTime }}ms {{ easing }}")),(0,W.eR)("active => removed",(0,W.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Ie})();const ke={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:Lt},Ye=(Ie={})=>(0,p.MR2)([{provide:et,useValue:{default:ke,config:Ie}}]);let je=(()=>{class Ie{static forRoot(he={}){return{ngModule:Ie,providers:[Ye(he)]}}}return Ie.\u0275fac=function(he){return new(he||Ie)},Ie.\u0275mod=p.oAB({type:Ie}),Ie.\u0275inj=p.cJS({imports:[Lt]}),Ie})()},5861:(nn,it,G)=>{function p(Z,De,be,Se,ze,Be,rt){try{var de=Z[Be](rt),le=de.value}catch(pe){return void be(pe)}de.done?De(le):Promise.resolve(le).then(Se,ze)}function W(Z){return function(){var De=this,be=arguments;return new Promise(function(Se,ze){var Be=Z.apply(De,be);function rt(le){p(Be,Se,ze,rt,de,"next",le)}function de(le){p(Be,Se,ze,rt,de,"throw",le)}rt(void 0)})}}G.d(it,{Z:()=>W})}},nn=>{nn(nn.s=4191)}]);